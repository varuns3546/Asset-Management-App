{"version":3,"sources":["webpack://SimpleFeatures/webpack/universalModuleDefinition","webpack://SimpleFeatures/./node_modules/js_cols/dist/js_cols.min.js","webpack://SimpleFeatures/./node_modules/timsort/build/timsort.js","webpack://SimpleFeatures/./node_modules/timsort/index.js","webpack://SimpleFeatures/./index.ts","webpack://SimpleFeatures/./lib/CircularString.ts","webpack://SimpleFeatures/./lib/CompoundCurve.ts","webpack://SimpleFeatures/./lib/Curve.ts","webpack://SimpleFeatures/./lib/CurvePolygon.ts","webpack://SimpleFeatures/./lib/Geometry.ts","webpack://SimpleFeatures/./lib/GeometryCollection.ts","webpack://SimpleFeatures/./lib/GeometryEnvelope.ts","webpack://SimpleFeatures/./lib/GeometryType.ts","webpack://SimpleFeatures/./lib/Line.ts","webpack://SimpleFeatures/./lib/LineString.ts","webpack://SimpleFeatures/./lib/LinearRing.ts","webpack://SimpleFeatures/./lib/MultiCurve.ts","webpack://SimpleFeatures/./lib/MultiLineString.ts","webpack://SimpleFeatures/./lib/MultiPoint.ts","webpack://SimpleFeatures/./lib/MultiPolygon.ts","webpack://SimpleFeatures/./lib/MultiSurface.ts","webpack://SimpleFeatures/./lib/Point.ts","webpack://SimpleFeatures/./lib/Polygon.ts","webpack://SimpleFeatures/./lib/PolyhedralSurface.ts","webpack://SimpleFeatures/./lib/Surface.ts","webpack://SimpleFeatures/./lib/TIN.ts","webpack://SimpleFeatures/./lib/Triangle.ts","webpack://SimpleFeatures/./lib/extended/ExtendedGeometryCollection.ts","webpack://SimpleFeatures/./lib/internal.ts","webpack://SimpleFeatures/./lib/util/GeometryConstants.ts","webpack://SimpleFeatures/./lib/util/GeometryEnvelopeBuilder.ts","webpack://SimpleFeatures/./lib/util/GeometryPrinter.ts","webpack://SimpleFeatures/./lib/util/GeometryUtils.ts","webpack://SimpleFeatures/./lib/util/SFException.ts","webpack://SimpleFeatures/./lib/util/UnsupportedOperationException.ts","webpack://SimpleFeatures/./lib/util/centroid/CentroidCurve.ts","webpack://SimpleFeatures/./lib/util/centroid/CentroidPoint.ts","webpack://SimpleFeatures/./lib/util/centroid/CentroidSurface.ts","webpack://SimpleFeatures/./lib/util/centroid/DegreesCentroid.ts","webpack://SimpleFeatures/./lib/util/filter/FiniteFilterType.ts","webpack://SimpleFeatures/./lib/util/filter/PointFiniteFilter.ts","webpack://SimpleFeatures/./lib/util/serialize/GeometrySerializer.ts","webpack://SimpleFeatures/./lib/util/sweep/Event.ts","webpack://SimpleFeatures/./lib/util/sweep/EventQueue.ts","webpack://SimpleFeatures/./lib/util/sweep/EventType.ts","webpack://SimpleFeatures/./lib/util/sweep/Segment.ts","webpack://SimpleFeatures/./lib/util/sweep/ShamosHoey.ts","webpack://SimpleFeatures/./lib/util/sweep/SweepLine.ts","webpack://SimpleFeatures/webpack/bootstrap","webpack://SimpleFeatures/webpack/startup"],"names":["root","factory","exports","module","define","amd","self","js_cols","global","this","getUid","a","UID_PROPERTY_","uidCounter_","removeUid","removeAttribute","b","Math","floor","random","toString","getValues","typeOf","d","c","getKeys","length","push","every","call","forEach","getCount","contains","containsValue","Array","Object","prototype","splice","propertyIsEnumerable","inherits","superClass_","constructor","LinkedList","sentinel","next","previous","size","addFirst","data","addLast","removeLast","removeFirst","getFirst","getLast","removeObject","LinkedListIterator","hasNext","remove","removeIndex","add","iterator","toArray","clear","clone","isEmpty","map","filter","some","insert","insertAll","removeAll","containsAll","list","position","startpos","i","hasPrevious","set","HashMap","map_","arguments","Error","count_","version_","value","key","containsKey","getHash_","hasHash_","containsSwapped","defaultEquals","equals","e","get","removeSwapped","insertSwapped","intersection","isSubmapOf","transpose","substr","hasOwnProperty","HashMultiMap","getAllValuesForKey","thisVals","otherVals","removeAllValuesForKey","insertValuesForKey","HashBag","isSubsetOf","HashSet","IntervalHeap","heap","count","n","compare","default_compare","left","right","min","max","Handle","index","siftUpMin","siftUpMax","deleteMin","container","pop","siftDownMin","deleteMax","siftDownMax","changeKey","containedInThisQueue","swapSides","swapLeft","swapRight","LinkedHashMap","list_","augmentList","maxCount_","isCache_","insertAfter","insertBefore","removeFromList","findAndMoveToTop_","insert_","truncate_","peekValue","peek","peekLast","shift","popNode_","removeNode","setMaxCount","Queue","enqueue","dequeue","Stack","RBnode","tree","RedBlackMap","RED","BLACK","color","parent","leftRotate","rightRotate","get_","insertFixup","delete_","successor_","deleteFixup","predecessor_","successor","predecessor","getMin","getMax","traverse","range","traverseFromTo","traverseFrom","traverseTo","traverseBackwards","RedBlackSet","predeccessor_","RedBlackBag","RedBlackMultiMap","__esModule","sort","array","lo","hi","isArray","TypeError","alphabeticalCompare","remaining","runLength","binaryInsertionSort","makeAscendingRun","ts","TimSort","minRun","r","minRunLength","force","pushRun","mergeRuns","forceMergeRuns","POWERS_OF_TEN","log10","x","al","bl","t","aStr","String","bStr","runHi","reverseRun","start","pivot","mid","gallopLeft","hint","lastOffset","maxOffset","offset","tmp","m","gallopRight","instance","Constructor","_classCallCheck","minGallop","tmpStorageLength","stackLength","runStart","stackSize","mergeAt","start1","length1","start2","length2","k","mergeLow","mergeHigh","cursor1","cursor2","dest","count1","count2","exit","customCursor","customDest","args","GeometryType","CIRCULARSTRING","CircularString","hasZ","hasM","points","point","addPoint","copy","Geometry","LineString","COMPOUNDCURVE","_lineStrings","addLineString","CompoundCurve","lineStrings","lineString","updateZM","addLineStrings","numLineStrings","getLineString","startPoint","endPoint","isSimple","ShamosHoey","simplePolygonLineStrings","obj","equal","Curve","type","isClosed","CURVEPOLYGON","_rings","rings","addRing","CurvePolygon","ring","addRings","numRings","getRing","getExteriorRing","numInteriorRings","getInteriorRing","UnsupportedOperationException","Surface","geometryType","_geometryType","_hasZ","_hasM","geometry","geometries","isMeasured","getEnvelope","GeometryEnvelopeBuilder","buildEnvelope","expandEnvelope","envelope","buildEnvelopeWithEnvelope","getDimension","GeometryUtils","getCentroid","getDegreesCentroid","GEOMETRYCOLLECTION","_geometries","GeometryCollection","addGeometry","addGeometries","numGeometries","getGeometry","getCollectionType","MULTIPOINT","MULTILINESTRING","MULTIPOLYGON","MULTICURVE","MULTISURFACE","isMultiPoint","isMultiLineString","isMultiPolygon","isMultiCurve","isMultiSurface","SFException","MultiPoint","isCollectionOfType","Point","getAsMultiPoint","MultiLineString","getAsMultiLineString","MultiPolygon","Polygon","getAsMultiPolygon","getAsMultiCurve","multiCurve","getAsMultiSurface","multiSurface","getAsGeometryCollection","isType","GeometryEnvelope","minX","maxX","minY","maxY","minZ","maxZ","minM","maxM","is3D","_minX","_maxX","_minY","_maxY","_minZ","_maxZ","_minM","_maxM","isPoint","getTopLeft","getBottomLeft","getBottomRight","getTopRight","getLeft","Line","getBottom","getRight","getTop","getMidX","getMidY","xRange","yRange","intersects","allowEmpty","overlap","union","containsPoint","containsPointWithEpsilon","epsilon","containsCoordsWithEpsilon","y","containsCoords","containsWithEpsilon","buildGeometry","polygon","nameFromType","name","fromName","values","GEOMETRY","POINT","LINESTRING","POLYGON","CURVE","SURFACE","POLYHEDRALSURFACE","TIN","TRIANGLE","point1","point2","_points","addPoints","numPoints","getPoint","simplePolygonPoints","LinearRing","getCurves","setCurves","curves","addCurve","curve","addCurves","numCurves","getCurve","closed","MultiCurve","pA","findIndex","pB","addPolygon","polygons","getSurfaces","setSurfaces","addSurface","addPolygons","addSurfaces","numPolygons","numSurfaces","getPolygon","getSurface","MultiSurface","surfaces","surface","_x","_y","_z","z","_m","simplePolygon","_polygons","PolyhedralSurface","addPatch","patch","addPatches","patches","numPatches","getPatch","Triangle","updateGeometryType","ExtendedGeometryCollection","geometryCopy","_editableGeometryType","DEFAULT_LINE_EPSILON","DEFAULT_EQUAL_EPSILON","WEB_MERCATOR_MAX_LAT_RANGE","WEB_MERCATOR_MIN_LAT_RANGE","WEB_MERCATOR_HALF_WORLD_WIDTH","WGS84_HALF_WORLD_LON_WIDTH","WGS84_HALF_WORLD_LAT_HEIGHT","DEGREES_TO_METERS_MIN_LAT","BEARING_NORTH","BEARING_EAST","BEARING_SOUTH","BEARING_WEST","RADIANS_TO_DEGREES","PI","DEGREES_TO_RADIANS","GeometryConstants","Number","MAX_VALUE","addMultiPoint","addMultiLineString","addMultiPolygon","addCompoundCurve","addCurvePolygon","addPolyhedralSurface","updateHasZandM","subGeometry","multiPoint","multiLineString","multiPolygon","compoundCurve","curvePolygon","polyhedralSurface","getGeometryString","message","GeometryPrinter","addPointMessage","addLineStringMessage","addPolygonMessage","addMultiPointMessage","addMultiLineStringMessage","addMultiPolygonMessage","addCompoundCurveMessage","addCurvePolygonMessage","addPolyhedralSurfaceMessage","geomCollection","join","dimension","distance","diffX","diffY","sqrt","distanceFromLine","line","bearing","y1","degreesToRadians","y2","xDiff","sin","cos","radiansToDegrees","atan2","bearingLine","isNorthBearing","isEastBearing","isSouthBearing","isWestBearing","degrees","radians","centroid","CentroidPoint","CentroidCurve","CentroidSurface","DegreesCentroid","minimizeWGS84","minimize","minimizeWebMercator","minimizeGeometry","minimizeLineString","minimizePolygon","minimizeMultiLineString","minimizeMultiPolygon","minimizeCompoundCurve","minimizeCurvePolygon","minimizePolyhedralSurface","nextPoint","normalizeWGS84","normalize","normalizeWebMercator","normalizeGeometry","normalizePoint","normalizeLineString","normalizePolygon","normalizeMultiPoint","normalizeMultiLineString","normalizeMultiPolygon","normalizeCompoundCurve","normalizeCurvePolygon","normalizePolyhedralSurface","normalizeX","simplifyPoints","tolerance","_simplifyPoints","startIndex","endIndex","result","dmax","perpendicularDistance","recResults1","recResults2","slice","lineStart","lineEnd","x2","startX","startY","endX","endY","vX","vY","c1","c2","pow","pointInPolygon","pointInPolygonWithEpsilon","DEFAULT_EPSILON","pointInPolygonRingWithEpsilon","pointInPolygonRing","pointInPolygonRingPointsWithEpsilon","pointInPolygonRingPoints","j","closedPolygonPoints","abs","pointOnPolygonEdgePoints","pointOnPolygonEdge","pointOnPolygonEdgeWithEpsilon","pointOnPolygonEdgeRingWithEpsilon","pointOnPolygonEdgeRing","pointOnPolygonEdgePointsWithEpsilon","pointOnPathPointArray","closedPolygon","closedPolygonRing","first","last","pointOnLine","pointOnLineWithEpsilon","pointOnLinePointsWithEpsilon","pointOnLinePoints","pointOnPath","pointOnPathWithEpsilon","x21","y21","xP1","yP1","dp","lengthP1","length21","circular","onPath","intersectionLine","line1","line2","line1Point1","line1Point2","line2Point1","line2Point2","a1","b1","a2","b2","determinant","degreesToMeters","meters","degreesToMetersPoint","degreesToMetersLineString","degreesToMetersPolygon","degreesToMetersMultiPoint","degreesToMetersMultiLineString","degreesToMetersMultiPolygon","degreesToMetersCircularString","degreesToMetersCompundCurve","degreesToMetersCurvePolygon","degreesToMetersPolyhedralSurface","metersCollection","degreesToMetersCoord","xValue","yValue","log","tan","degreesToMetersLine","circularString","metersToDegrees","metersToDegreesPoint","metersToDegreesLineString","metersToDegreesPolygon","metersToDegreesMultiPoint","metersToDegreesMultiLineString","metersToDegreesMultiPolygon","metersToDegreesCircularString","metersToDegreesCompoundCurve","metersToDegreesCurvePolygon","metersToDegreesPolyhedralSurface","degreesCollection","metersToDegreesCoord","atan","exp","metersToDegreesLine","wgs84Envelope","wgs84TransformableEnvelope","webMercatorEnvelope","wgs84EnvelopeWithWebMercator","cropWebMercator","crop","containsGeometryEnvelope","cropPoint","cropLineString","cropPolygon","cropMultiPoint","cropMultiLineString","cropMultiPolygon","cropCircularString","cropCompoundCurve","cropCurvePolygon","cropPolyhedralSurface","cropCollection","cropPoints","bottom","top","previousPoint","previousContains","westBearing","eastBearing","southBearing","northBearing","vertLine","horizLine","vertIntersection","horizIntersection","intersection1","intersection2","isEqual","simplified","cropLine","cropLineStrings","cropRings","cropRing","cropPolygons","isEqualWithEpsilon","envelope1","envelope2","boundWGS84","bound","boundWGS84Transformable","boundWebMercator","boundWGS84WithWebMercator","boundPoint","boundLineString","boundPolygon","boundMultiPoint","boundMultiLineString","boundMultiPolygon","boundCompoundCurve","boundCurvePolygon","boundPolyhedralSurface","parentHierarchy","hierarchy","parentType","childHierarchy","childTypes","Map","childType","_sum","_totalLength","midX","midY","_count","_area","addHole","curveGeometryType","curveHole","curveHoleGeometryType","addOrSubtractLine","positive","firstPoint","_base","addTriangle","lastPoint","point3","sign","triangleCenter3","centroid3","area2","_geometry","calculate","centroidLongitude","centroidLatitude","calculatePoint","calculateLineString","calculatePolygon","calculateGeometryCollection","calculateCompoundCurve","calculateCurvePolygon","calculatePolyhedralSurface","latitude","longitude","cosLatitude","exteriorRing","geometryCollection","FiniteFilterType","filterZ","filterM","_type","FINITE","_filterZ","_filterM","setType","setFilterZ","setFilterM","getType","isFilterZ","isFilterM","containingType","filterPoint","filterValue","passes","isFinite","FINITE_AND_INFINITE","isNaN","FINITE_AND_NAN","PointFiniteFilter","serialize","JSON","stringify","fromJSON","GeometrySerializer","deserialize","json","parse","edge","_edge","_ring","_point","compareTo","other","SweepLine","xyOrder","Event","_events","ringIndex","type1","type2","EventType","LEFT","RIGHT","Symbol","EventQueue","leftPoint","rightPoint","_leftPoint","_rightPoint","_above","above","_below","below","Segment","simplePolygonLineString","simplePolygonRingPoints","pointRings","simple","ringCopies","ringCopy","ringCopyPoints","holePoints","eventQueue","sweepLine","segment","intersect","find","segment1","segment2","yValueAtX","_comparator","SegmentComparator","_segments","_tree","bind","event","createSegment","edgeMap","edgeNumber","ringNumber","ring1","consecutive","edge1","edge2","ringPoints","isLeft","removed","delete","isLeftPoints","point0","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__"],"mappings":"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","file":"sf.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SimpleFeatures\"] = factory();\n\telse\n\t\troot[\"SimpleFeatures\"] = factory();\n})(self, function() {\nreturn ","js_cols={global:this,getUid:function(a){return a[js_cols.UID_PROPERTY_]||(a[js_cols.UID_PROPERTY_]=++js_cols.uidCounter_)},removeUid:function(a){\"removeAttribute\"in a&&a.removeAttribute(js_cols.UID_PROPERTY_);try{delete a[js_cols.UID_PROPERTY_]}catch(b){}}};js_cols.UID_PROPERTY_=\"js_cols_uid_\"+Math.floor(2147483648*Math.random()).toString(36);js_cols.uidCounter_=0;\njs_cols.getValues=function(a){if(\"array\"==js_cols.typeOf(a))return a;if(a.getValues)b=a.getValues();else{var b=[],c=0,d;for(d in a)b[c++]=a[d]}return b};js_cols.getKeys=function(a){if(a.getKeys)return a.getKeys();if(\"array\"==js_cols.typeOf(a)){for(var b=[],c=0;c<a.length;c++)b.push(c);return b}if(\"object\"==js_cols.typeOf(a)){var b=[],c=0,d;for(d in a)b[c++]=d;return b}};\njs_cols.every=function(a,b,c){if(\"function\"==js_cols.typeOf(a.every))return a.every(b,c);if(\"function\"==js_cols.typeOf(a.getValues)){a=a.getValues();for(var d=0;d<a.length;d++)if(!b.call(c,a[d],d,a))return!1;return!0}if(\"array\"==js_cols.typeOf(a)){for(d=0;d<a.length;d++)if(!b.call(c,a[d],d,a))return!1;return!0}if(\"object\"==js_cols.typeOf(a)){for(d in a)if(!b.call(c,a[d],d,a))return!1;return!0}};\njs_cols.forEach=function(a,b,c){if(\"function\"==js_cols.typeOf(a.forEach))a.forEach(b,c);else if(\"function\"==js_cols.typeOf(a.getValues)){a=a.getValues();for(var d=0;d<a.length;d++)b.call(c,a[d],d,a)}else if(\"array\"==js_cols.typeOf(a))for(d=0;d<a.length;d++)b.call(c,a[d],d,a);else if(\"object\"==js_cols.typeOf(a))for(d in a)b.call(c,a[d],d,a)};\njs_cols.getCount=function(a){if(\"function\"==typeof a.getCount)return a.getCount();if(a.length&&\"number\"==typeof a.length)return a.length;var b=0,c;for(c in a)b++;return b};js_cols.contains=function(a,b){if(\"function\"==typeof a.contains)return a.contains(b);if(\"function\"==typeof a.containsValue)return a.containsValue(b);if(\"array\"==js_cols.typeOf(a)){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1}for(c in a)if(a[c]==b)return!0;return!1};\njs_cols.typeOf=function(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array||!(a instanceof Object)&&\"[object Array]\"==Object.prototype.toString.call(a)||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(!(a instanceof Object||\"[object Function]\"!=Object.prototype.toString.call(a)&&(\"undefined\"==typeof a.call||\"undefined\"==typeof a.propertyIsEnumerable||a.propertyIsEnumerable(\"call\"))))return\"function\"}else return\"null\";\nelse if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b};js_cols.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a};js_cols.LinkedList=function(){this.sentinel={};this.sentinel.next=this.sentinel;this.sentinel.previous=this.sentinel;this.size=0};js_cols.LinkedList.prototype.getCount=function(){return this.size};\njs_cols.LinkedList.prototype.addFirst=function(a){var b={};b.data=a;b.previous=this.sentinel;a=this.sentinel.next;b.next=a;a.previous=b;this.sentinel.next=b;this.size++};js_cols.LinkedList.prototype.addLast=function(a){var b={};b.data=a;b.next=this.sentinel;a=this.sentinel.previous;b.previous=a;a.next=b;this.sentinel.previous=b;this.size++};\njs_cols.LinkedList.prototype.removeLast=function(){if(this.sentinel.previous==this.sentinel)return null;var a=this.sentinel.previous;a.previous.next=this.sentinel;this.sentinel.previous=a.previous;this.size--;return a.data};js_cols.LinkedList.prototype.removeFirst=function(){if(this.sentinel.next==this.sentinel)return null;var a=this.sentinel.next;a.next.previous=this.sentinel;this.sentinel.next=a.next;this.size--;return a.data};\njs_cols.LinkedList.prototype.getFirst=function(){return this.sentinel.next==this.sentinel?null:this.sentinel.next.data};js_cols.LinkedList.prototype.getLast=function(){return this.sentinel.previous==this.sentinel?null:this.sentinel.previous.data};js_cols.LinkedList.prototype.removeObject=function(a){for(var b=new js_cols.LinkedList.LinkedListIterator(0,this);b.hasNext();)if(a==b.next())return b.remove(),!0;return!1};js_cols.LinkedList.prototype.remove=function(a){return this.removeObject(a)};\njs_cols.LinkedList.prototype.removeIndex=function(a){(new js_cols.LinkedList.LinkedListIterator(a,this)).remove()};js_cols.LinkedList.prototype.add=function(a,b){(new js_cols.LinkedList.LinkedListIterator(a-1,this)).add(b)};js_cols.LinkedList.prototype.contains=function(a){for(var b=new js_cols.LinkedList.LinkedListIterator(0,this),c=!1;b.hasNext()&&!c;)a==b.next()&&(c=!0);return c};js_cols.LinkedList.prototype.iterator=function(a){return new js_cols.LinkedList.LinkedListIterator(a,this)};\njs_cols.LinkedList.prototype.toArray=function(){for(var a=[],b=this.iterator(0);b.hasNext();)a.push(b.next());return a};js_cols.LinkedList.prototype.getValues=function(){return this.toArray()};js_cols.LinkedList.prototype.clear=function(){this.sentinel.next=this.sentinel;this.sentinel.previous=this.sentinel;this.size=0};js_cols.LinkedList.prototype.clone=function(){var a=new js_cols.LinkedList;this.forEach(a.addLast,a);return a};js_cols.LinkedList.prototype.isEmpty=function(){return 0==this.size};\njs_cols.LinkedList.prototype.forEach=function(a,b){for(var c=this.sentinel.next;c!=this.sentinel;c=c.next)a.call(b,c.data,c.data,this)};js_cols.LinkedList.prototype.map=function(a,b){for(var c=[],d=this.sentinel.next;d!=this.sentinel;d=d.next)c.push(a.call(b,d.data,d.data,this));return c};js_cols.LinkedList.prototype.filter=function(a,b){for(var c=[],d=this.sentinel.next;d!=this.sentinel;d=d.next)a.call(b,d.data,d.data,this)&&c.push(d.data);return c};\njs_cols.LinkedList.prototype.some=function(a,b){for(var c=this.sentinel.next;c!=this.sentinel;c=c.next)if(a.call(b,c.data,c.data,this))return!0;return!1};js_cols.LinkedList.prototype.every=function(a,b){for(var c=this.sentinel.next;c!=this.sentinel;c=c.next)if(!a.call(b,c.data,c.data,this))return!1;return!0};js_cols.LinkedList.prototype.insert=function(a){this.addFirst(a)};\njs_cols.LinkedList.prototype.insertAll=function(a){if(\"array\"==js_cols.typeOf(a))for(var b=0;b<a.length;b++)this.addLast(a[b]);else if(\"function\"==js_cols.typeOf(a.forEach))a.forEach(this.addLast,this);else if(\"function\"==js_cols.typeOf(a.getValues))for(a=a.getValues(),b=0;b<a.length;b++)this.addLast(a[b]);else if(\"object\"==js_cols.typeOf(a))for(b in a)this.addLast(a[b])};\njs_cols.LinkedList.prototype.removeAll=function(a){if(\"array\"==js_cols.typeOf(a))for(var b=0;b<a.length;b++)this.removeObject(a[b]);else if(\"function\"==js_cols.typeOf(a.forEach))a.forEach(this.removeObject,this);else if(\"function\"==js_cols.typeOf(a.getValues))for(a=a.getValues(),b=0;b<a.length;b++)this.removeObject(a[b]);else if(\"object\"==js_cols.typeOf(a))for(b in a)this.removeObject(a[b])};\njs_cols.LinkedList.prototype.containsAll=function(a){if(\"array\"==js_cols.typeOf(a)){for(var b=0;b<a.length;b++)if(!this.contains(a[b]))return!1;return!0}if(\"function\"==js_cols.typeOf(a.forEach))return a.every(this.contains,this);if(\"function\"==js_cols.typeOf(a.getValues)){a=a.getValues();for(b=0;b<a.length;b++)if(!this.contains(a[b]))return!1;return!0}if(\"object\"==js_cols.typeOf(a)){for(b in a)if(!this.contains(a[b]))return!1;return!0}};\njs_cols.LinkedList.LinkedListIterator=function(a,b){this.list=b;this.position=this.list.sentinel;if(a>this.list.size||0>a)startpos=0;else if(this.list.size-a>this.list.size/2)for(i=1;i<=a;i++)this.next();else if(0!=a)for(i=this.list.size+1;i>a;i--)this.previous()};js_cols.LinkedList.LinkedListIterator.prototype.hasNext=function(){return this.position.next!=this.list.sentinel};js_cols.LinkedList.LinkedListIterator.prototype.hasPrevious=function(){return this.position.previous!=this.list.sentinel};\njs_cols.LinkedList.LinkedListIterator.prototype.next=function(){if(!this.hasNext())return null;this.position=this.position.next;return this.position.data};js_cols.LinkedList.LinkedListIterator.prototype.previous=function(){if(!this.hasPrevious())return null;this.position=this.position.previous;return this.position.data};\njs_cols.LinkedList.LinkedListIterator.prototype.add=function(a){var b={};b.data=a;b.next=this.position.next;this.position.next.previous=b;b.previous=this.position;this.position=this.position.next=b;this.list.size++};js_cols.LinkedList.LinkedListIterator.prototype.remove=function(){if(this.position==this.list.sentinel)return null;var a=this.position;this.position.previous.next=this.position.next;this.position=this.position.next.previous=this.position.previous;this.list.size--;return a.data};\njs_cols.LinkedList.LinkedListIterator.prototype.set=function(a){if(this.position==this.list.sentinel)return!1;this.position.data=a;return!0};js_cols.HashMap=function(a,b){this.map_={};var c=arguments.length;if(1<c){if(c%2)throw Error(\"Uneven number of arguments\");for(var d=0;d<c;d+=2)this.insert(arguments[d],arguments[d+1])}else a&&this.insertAll(a)};js_cols.HashMap.prototype.count_=0;js_cols.HashMap.prototype.version_=0;js_cols.HashMap.prototype.getCount=function(){return this.count_};\njs_cols.HashMap.prototype.getValues=function(){var a=[],b;for(b in this.map_)a.push(this.map_[b].value);return a};js_cols.HashMap.prototype.getKeys=function(){var a=[],b;for(b in this.map_)a.push(this.map_[b].key);return a};js_cols.HashMap.prototype.containsKey=function(a){a=this.getHash_(a);return js_cols.HashMap.hasHash_(this.map_,a)};js_cols.HashMap.prototype.contains=function(a){return this.containsKey(a)};js_cols.HashMap.prototype.containsSwapped=function(a,b){return this.containsKey(b)};\njs_cols.HashMap.prototype.containsValue=function(a){for(var b in this.map_)if(this.map_[b].value==a)return!0;return!1};js_cols.HashMap.prototype.defaultEquals=function(a,b){return a===b};js_cols.HashMap.prototype.equals=function(a,b){if(!(a instanceof js_cols.HashMap))return!1;if(this===a)return!0;if(this.count_!=a.getCount())return!1;var c=\"function\"==js_cols.typeOf(b)?b:this.defaultEquals,d;for(d in this.map_){var e=this.map_[d].key;if(!c(this.get(e),a.get(e)))return!1}return!0};\njs_cols.HashMap.prototype.isEmpty=function(){return 0==this.count_};js_cols.HashMap.prototype.clear=function(){this.map_={};this.version_=this.count_=this.count_=0};js_cols.HashMap.prototype.remove=function(a){a=this.getHash_(a);return js_cols.HashMap.hasHash_(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,!0):!1};js_cols.HashMap.prototype.removeSwapped=function(a,b){this.remove(b)};\njs_cols.HashMap.prototype.get=function(a,b){var c=this.getHash_(a);return js_cols.HashMap.hasHash_(this.map_,c)?this.map_[c].value:b};js_cols.HashMap.prototype.insert=function(a,b){var c=this.getHash_(a);js_cols.HashMap.hasHash_(this.map_,c)||(this.count_++,this.version_++);var d={};d.value=b;d.key=a;this.map_[c]=d};js_cols.HashMap.prototype.insertSwapped=function(a,b){this.insert(b,a)};\njs_cols.HashMap.prototype.insertAll=function(a){if(\"array\"==js_cols.typeOf(a))for(var b=0;b<a.length;b++)this.insert(a[b],a[b]);else if(\"function\"==js_cols.typeOf(a.forEach))a.forEach(this.insertSwapped,this);else if(\"function\"==js_cols.typeOf(a.getValues)&&\"function\"==js_cols.typeOf(a.getKeys)){var c=a.getValues();a=a.getKeys();for(b=0;b<a.length;b++)this.insert(a[b],c[b])}else if(\"object\"==js_cols.typeOf(a))for(b in a)this.insert(b,a[b])};\njs_cols.HashMap.prototype.removeAll=function(a){if(\"array\"==js_cols.typeOf(a))for(var b=0;b<a.length;b++)this.remove(a[b]);else if(\"function\"==js_cols.typeOf(a.forEach))a.forEach(this.removeSwapped,this);else if(\"function\"==js_cols.typeOf(a.getValues))for(a=a.getValues(),b=0;b<a.length;b++)this.remove(a[b]);else if(\"object\"==js_cols.typeOf(a))for(b in a)this.remove(a[b])};\njs_cols.HashMap.prototype.containsAll=function(a){if(\"array\"==js_cols.typeOf(a)){for(var b=0;b<a.length;b++)if(!this.containsKey(a[b]))return!1;return!0}if(\"function\"==js_cols.typeOf(a.forEach))return a.every(this.containsSwapped,this);if(\"function\"==js_cols.typeOf(a.getValues)){a=a.getValues();for(b=0;b<a.length;b++)if(!this.containsKey(a[b]))return!1;return!0}if(\"object\"==js_cols.typeOf(a)){for(b in a)if(!this.containsKey(b))return!1;return!0}};js_cols.HashMap.prototype.clone=function(){return new js_cols.HashMap(this)};\njs_cols.HashMap.prototype.forEach=function(a,b){for(var c in this.map_)a.call(b,this.map_[c].value,this.map_[c].key,this)};js_cols.HashMap.prototype.some=function(a,b){for(var c in this.map_)if(a.call(b,this.map_[c].value,this.map_[c].key,this))return!0;return!1};js_cols.HashMap.prototype.every=function(a,b){for(var c in this.map_)if(!a.call(b,this.map_[c].value,this.map_[c].key,this))return!1;return!0};\njs_cols.HashMap.prototype.map=function(a,b){var c=[],d;for(d in this.map_)c.push(a.call(b,this.map_[d].value,this.map_[d].key,this));return c};js_cols.HashMap.prototype.filter=function(a,b){var c=new js_cols.HashMap,d;for(d in this.map_)a.call(b,this.map_[d].value,this.map_[d].key,this)&&c.insert(this.map_[d].key,this.map_[d].value);return c};\njs_cols.HashMap.prototype.intersection=function(a){var b=js_cols.getCount(a);!(a instanceof js_cols.HashMap)&&5<b&&(b=new js_cols.HashMap,b.insertAll(a),a=b);b=new js_cols.HashMap;if(\"function\"==js_cols.typeOf(a.get))for(var c in this.map_)a.get.call(a,this.map_[c].key)==this.map_[c].value&&b.insert(this.map_[c].key,this.map_[c].value);else for(c in this.map_)js_cols.contains.call(a,a,this.map_[c].key)&&b.insert(this.map_[c].key,this.map_[c].value);return b};\njs_cols.HashMap.prototype.isSubmapOf=function(a){var b=js_cols.getCount(a);if(this.getCount()>b)return!1;!(a instanceof js_cols.HashMap)&&5<b&&(b=new js_cols.HashMap,b.insertAll(a),a=b);b=0;if(\"function\"==js_cols.typeOf(a.get))for(var c in this.map_)a.get.call(a,this.map_[c].key)==this.map_[c].value&&b++;else for(c in this.map_)js_cols.contains.call(a,a,this.map_[c].key)&&b++;return b==this.getCount()};\njs_cols.HashMap.prototype.transpose=function(){var a=new js_cols.HashMap,b;for(b in this.map_)a.insert(this.map_[b].value,this.map_[b].key);return a};js_cols.HashMap.prototype.getHash_=function(a){var b=typeof a;return\"object\"==b&&a||\"function\"==b?\"o\"+js_cols.getUid(a):b.substr(0,1)+a};js_cols.HashMap.hasHash_=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};\njs_cols.HashMultiMap=function(a,b){this.map_={};var c=arguments.length;if(1<c){if(c%2)throw Error(\"Uneven number of arguments\");for(var d=0;d<c;d+=2)this.insert(arguments[d],arguments[d+1])}else a&&this.insertAll(a)};js_cols.HashMultiMap.prototype.count_=0;js_cols.HashMultiMap.prototype.getCount=function(){return this.count_};js_cols.HashMultiMap.prototype.getValues=function(){var a=[],b;for(b in this.map_)for(var c=this.map_[b];c;)a.push(c.value),c=c.next;return a};\njs_cols.HashMultiMap.prototype.getKeys=function(){var a=[],b;for(b in this.map_)for(var c=this.map_[b];c;)a.push(c.key),c=c.next;return a};js_cols.HashMultiMap.prototype.containsKey=function(a){var b=this.getHash_(a);return js_cols.HashMultiMap.hasHash_(this.map_,b)?this.getAllValuesForKey(a).length:0};js_cols.HashMultiMap.prototype.contains=function(a){return this.containsKey(a)};js_cols.HashMultiMap.prototype.containsSwapped=function(a,b){return this.containsKey(b)};\njs_cols.HashMultiMap.prototype.containsValue=function(a){for(var b in this.map_)if(this.map_[b].value==a)return!0;return!1};\njs_cols.HashMultiMap.prototype.equals=function(a,b){if(!(a instanceof js_cols.HashMultiMap))return!1;if(this===a)return!0;if(this.count_!=a.getCount())return!1;var c=\"function\"==js_cols.typeOf(b)?b:this.defaultEquals,d;for(d in this.map_){var e=this.map_[d].key;thisVals=this.getAllValuesForKey(e);otherVals=a.getAllValuesForKey(e);if(thisVals.length!=otherVals.length)return!1;for(e=0;e<thisVals.length;e++)if(!c(thisVals[e],otherVals[e]))return!1}return!0};\njs_cols.HashMultiMap.prototype.defaultEquals=function(a,b){return a===b};js_cols.HashMultiMap.prototype.isEmpty=function(){return 0==this.count_};js_cols.HashMultiMap.prototype.clear=function(){this.map_={};this.count_=this.count_=0};js_cols.HashMultiMap.prototype.remove=function(a){a=this.getHash_(a);if(js_cols.HashMultiMap.hasHash_(this.map_,a)){var b=this.map_[a];b.next?this.map_[a]=b.next:delete this.map_[a];this.count_--;return!0}return!1};\njs_cols.HashMultiMap.prototype.removeAllValuesForKey=function(a){for(var b=this.remove(a),c=b;b;)b=this.remove(a);return c};js_cols.HashMultiMap.prototype.get=function(a,b){var c=this.getHash_(a);return js_cols.HashMultiMap.hasHash_(this.map_,c)?this.map_[c].value:b};js_cols.HashMultiMap.prototype.getAllValuesForKey=function(a,b){var c=this.getHash_(a),d=[];if(js_cols.HashMultiMap.hasHash_(this.map_,c)){for(c=this.map_[c];c;)d.push(c.value),c=c.next;return d}return b};\njs_cols.HashMultiMap.prototype.insert=function(a,b){var c=this.getHash_(a);js_cols.HashMultiMap.hasHash_(this.map_,c)?this.map_[c]={key:a,value:b,next:this.map_[c]}:this.map_[c]={key:a,value:b};this.count_++};js_cols.HashMultiMap.prototype.insertSwapped=function(a,b){this.insert(b,a)};js_cols.HashMultiMap.prototype.insertValuesForKey=function(a,b){for(var c=0;c<b.length;c++)this.insert(a,b[c])};\njs_cols.HashMultiMap.prototype.insertAll=function(a){if(\"array\"==js_cols.typeOf(a))for(var b=0;b<a.length;b++)this.insert(a[b],a[b]);else if(\"function\"==js_cols.typeOf(a.forEach))a.forEach(this.insertSwapped,this);else if(\"function\"==js_cols.typeOf(a.getValues)&&\"function\"==js_cols.typeOf(a.getKeys)){var c=a.getValues();a=a.getKeys();for(b=0;b<a.length;b++)this.insert(a[b],c[b])}else if(\"object\"==js_cols.typeOf(a))for(b in a)this.insert(b,a[b])};\njs_cols.HashMultiMap.prototype.removeAll=function(a){if(\"array\"==js_cols.typeOf(a))for(var b=0;b<a.length;b++)this.removeAllValuesForKey(a[b]);else if(\"function\"==js_cols.typeOf(a.forEach))a.forEach(this.removeAllValuesForKey,this);else if(\"function\"==js_cols.typeOf(a.getValues))for(a=a.getValues(),b=0;b<a.length;b++)this.removeAllValuesForKey(a[b]);else if(\"object\"==js_cols.typeOf(a))for(b in a)this.removeAllValuesForKey(a[b])};\njs_cols.HashMultiMap.prototype.containsAll=function(a){if(\"array\"==js_cols.typeOf(a)){for(var b=0;b<a.length;b++)if(!this.containsKey(a[b]))return!1;return!0}if(\"function\"==js_cols.typeOf(a.forEach))return a.every(this.containsSwapped,this);if(\"function\"==js_cols.typeOf(a.getValues)){a=a.getValues();for(b=0;b<a.length;b++)if(!this.containsKey(a[b]))return!1;return!0}if(\"object\"==js_cols.typeOf(a)){for(b in a)if(!this.contains(b))return!1;return!0}};\njs_cols.HashMultiMap.prototype.forEach=function(a,b){for(var c in this.map_)for(var d=this.map_[c];d;)a.call(b,d.value,d.key,this),d=d.next};js_cols.HashMultiMap.prototype.some=function(a,b){for(var c in this.map_)for(var d=this.map_[c];d;){if(a.call(b,d.value,d.key,this))return!0;d=d.next}return!1};js_cols.HashMultiMap.prototype.every=function(a,b){for(var c in this.map_)for(var d=this.map_[c];d;){if(!a.call(b,d.value,d.key,this))return!1;d=d.next}return!0};\njs_cols.HashMultiMap.prototype.map=function(a,b){var c=[],d;for(d in this.map_)for(var e=this.map_[d];e;)c.push(a.call(b,e.value,e.key,this)),e=e.next;return c};js_cols.HashMultiMap.prototype.filter=function(a,b){var c=new js_cols.HashMultiMap,d;for(d in this.map_)for(var e=this.map_[d];e;)a.call(b,e.value,e.key,this)&&c.insert(e.key,e.value),e=e.next;return c};js_cols.HashMultiMap.prototype.clone=function(){return new js_cols.HashMultiMap(this)};\njs_cols.HashMultiMap.prototype.getHash_=function(a){var b=typeof a;return\"object\"==b&&a||\"function\"==b?\"o\"+js_cols.getUid(a):b.substr(0,1)+a};js_cols.HashMultiMap.hasHash_=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};js_cols.HashBag=function(a,b){this.map_=new js_cols.HashMultiMap;var c=arguments.length;if(1<c){if(c%2)throw Error(\"Uneven number of arguments\");for(var d=0;d<c;d+=2)this.insert(arguments[d],arguments[d+1])}else a&&this.insertAll(a)};\njs_cols.HashBag.prototype.insert=function(a){this.map_.insert(a,a)};js_cols.HashBag.prototype.insertAll=function(a){this.map_.insertAll(a)};js_cols.HashBag.prototype.getCount=function(){return this.map_.getCount()};js_cols.HashBag.prototype.removeAll=function(a){this.map_.removeAll(a)};js_cols.HashBag.prototype.remove=function(a){return this.map_.remove(a)};js_cols.HashBag.prototype.clear=function(){this.map_.clear()};js_cols.HashBag.prototype.isEmpty=function(){return this.map_.isEmpty()};\njs_cols.HashBag.prototype.contains=function(a){return this.map_.containsKey(a)};js_cols.HashBag.prototype.containsAll=function(a){return this.map_.containsAll(a)};js_cols.HashBag.prototype.intersection=function(a){var b=js_cols.getCount(a);!(a instanceof js_cols.HashBag)&&5<b&&(b=new js_cols.HashBag,b.insertAll(a),a=b);var b=new js_cols.HashBag,c;for(c in this.map_.map_)js_cols.contains.call(a,a,this.map_.map_[c].key)&&b.insert(this.map_.map_[c].value);return b};\njs_cols.HashBag.prototype.isSubsetOf=function(a){var b=js_cols.getCount(a);if(this.getCount()>b)return!1;!(a instanceof js_cols.HashBag)&&5<b&&(a=new js_cols.HashBag(a));return this.every(function(b){return js_cols.contains.call(a,a,b)})};js_cols.HashBag.prototype.getValues=function(){return this.map_.getValues()};js_cols.HashBag.prototype.clone=function(){return new js_cols.HashBag(this)};js_cols.HashBag.prototype.forEach=function(a,b){this.map_.forEach(a,b)};\njs_cols.HashBag.prototype.some=function(a,b){return this.map_.some(a,b)};js_cols.HashBag.prototype.every=function(a,b){return this.map_.every(a,b)};js_cols.HashBag.prototype.filter=function(a,b){return(new this.map_.filter(a,b)).getValues()};js_cols.HashBag.prototype.map=function(a,b){return this.map_.map(a,b)};js_cols.HashBag.prototype.equals=function(a){return a instanceof js_cols.HashBag?this.map_.equals(a.map_):!1};js_cols.HashSet=function(a){this.map_=new js_cols.HashMap;a&&this.insertAll(a)};\njs_cols.HashSet.prototype.insert=function(a){this.map_.insert(a,a)};js_cols.HashSet.prototype.insertAll=function(a){this.map_.insertAll(a)};js_cols.HashSet.prototype.getCount=function(){return this.map_.getCount()};js_cols.HashSet.prototype.removeAll=function(a){this.map_.removeAll(a)};js_cols.HashSet.prototype.remove=function(a){return this.map_.remove(a)};js_cols.HashSet.prototype.clear=function(){this.map_.clear()};js_cols.HashSet.prototype.isEmpty=function(){return this.map_.isEmpty()};\njs_cols.HashSet.prototype.contains=function(a){return this.map_.containsKey(a)};js_cols.HashSet.prototype.containsAll=function(a){return this.map_.containsAll(a)};js_cols.HashSet.prototype.intersection=function(a){return this.map_.intersection(a)};js_cols.HashSet.prototype.getValues=function(){return this.map_.getValues()};js_cols.HashSet.prototype.clone=function(){return new js_cols.HashSet(this)};js_cols.HashSet.prototype.forEach=function(a,b){this.map_.forEach(a,b)};\njs_cols.HashSet.prototype.some=function(a,b){return this.map_.some(a,b)};js_cols.HashSet.prototype.every=function(a,b){return this.map_.every(a,b)};js_cols.HashSet.prototype.map=function(a,b){return this.map_.map(a,b)};js_cols.HashSet.prototype.filter=function(a,b){return(new this.map_.filter(a,b)).getValues()};js_cols.HashSet.prototype.equals=function(a){return this.getCount()==js_cols.getCount(a)&&this.isSubsetOf(a)};js_cols.HashSet.prototype.isSubsetOf=function(a){return this.map_.isSubmapOf(a)};\njs_cols.IntervalHeap=function(a){this.heap=[];this.count=this.n=0;this.compare=a||this.default_compare};js_cols.IntervalHeap.prototype.getCount=function(){return this.count};js_cols.IntervalHeap.prototype.clear=function(){this.heap=[];this.n=this.count=0};js_cols.IntervalHeap.prototype.isEmpty=function(){return 0==this.getCount()};\njs_cols.IntervalHeap.prototype.clone=function(){var a=new js_cols.IntervalHeap(this.compare);if(this.isEmpty())return a;for(var b=[],c=Math.floor(this.getCount()/2),d=1;d<=c;d++)this.heap[d]&&(b[d]={left:{},right:{}},b[d].left.key=this.heap[d].left.key,b[d].left.value=this.heap[d].left.value,b[d].right.key=this.heap[d].right.key,b[d].right.value=this.heap[d].right.value);c++;this.heap[c]&&(b[c]={left:{}},b[c].left.key=this.heap[c].left.key,b[c].left.value=this.heap[c].left.value);a.heap=b;a.n=this.n;\na.count=this.count;return a};js_cols.IntervalHeap.prototype.getKeys=function(){var a=[];if(this.isEmpty())return a;for(var b=Math.floor(this.getCount()/2),c=1;c<=b;c++)this.heap[c]&&(a.push(this.heap[c].left.key),a.push(this.heap[c].right.key));b++;this.heap[b]&&a.push(this.heap[b].left.key);return a};\njs_cols.IntervalHeap.prototype.getValues=function(){var a=[];if(this.isEmpty())return a;for(var b=Math.floor(this.getCount()/2),c=1;c<=b;c++)this.heap[c]&&(a.push(this.heap[c].left.value),a.push(this.heap[c].right.value));b++;this.heap[b]&&a.push(this.heap[b].left.value);return a};\njs_cols.IntervalHeap.prototype.insertAll=function(a){if(\"array\"==js_cols.typeOf(a))for(var b=0;b<a.length;b++)this.insert(a[b],a[b]);else if(\"function\"==js_cols.typeOf(a.forEach))a.forEach(this.insertSwapped,this);else if(\"function\"==js_cols.typeOf(a.getValues)&&\"function\"==js_cols.typeOf(a.getKeys)){var c=a.getValues();a=a.getKeys();for(b=0;b<a.length;b++)this.insert(a[b],c[b])}else if(\"object\"==js_cols.typeOf(a))for(b in a)this.insert(b,a[b])};\njs_cols.IntervalHeap.prototype.insertSwapped=function(a,b){this.insert(b,a)};js_cols.IntervalHeap.prototype.min=function(){return 0<this.n?this.heap[1].left.value:null};js_cols.IntervalHeap.prototype.max=function(){return 0<this.n&&this.heap[1].right?this.heap[1].right.value:1===this.n?this.heap[1].left.value:null};js_cols.IntervalHeap.prototype.default_compare=function(a,b){return a<b?-1:b<a?1:0};\njs_cols.IntervalHeap.prototype.insert=function(a,b){var c=new js_cols.IntervalHeap.Handle(a,b,this.n,this);if(0<this.n)if(null==this.heap[this.n].right){var d=this.heap[this.n].left;0>=this.compare(d.key,c.key)?this.heap[this.n].right=c:(this.heap[this.n].left=c,this.heap[this.n].right=d)}else this.n++,c.index=this.n,this.heap[this.n]={},this.heap[this.n].left=c;else this.n++,c.index=this.n,this.heap[this.n]={},this.heap[this.n].left=c;d=Math.floor(this.n/2);1<this.n&&(0<this.compare(this.heap[d].left.key,\nthis.heap[this.n].left.key)?this.siftUpMin(this.n):null!=this.heap[this.n].right&&0>this.compare(this.heap[d].right.key,this.heap[this.n].right.key)?this.siftUpMax(this.n):0>this.compare(this.heap[d].right.key,this.heap[this.n].left.key)&&this.siftUpMax(this.n));this.count++;return c};\njs_cols.IntervalHeap.prototype.deleteMin=function(){if(0>=this.n)return null;var a=this.heap[1].left.value;this.heap[1].left.container=void 0;this.heap[this.n].left.index=1;this.heap[1].left=this.heap[this.n].left;null==this.heap[this.n].right?(this.heap.pop(),this.n--):(this.heap[this.n].left=this.heap[this.n].right,this.heap[this.n].right=null);this.siftDownMin(1);this.count--;return a};\njs_cols.IntervalHeap.prototype.deleteMax=function(){if(0>=this.n)return null;if(null!=this.heap[1].right){var a=this.heap[1].right.value;this.heap[1].right.container=null;null!=this.heap[this.n].right?(this.heap[this.n].right.index=1,this.heap[1].right=this.heap[this.n].right,this.heap[this.n].right=null):(this.heap[this.n].left.index=1,this.heap[1].right=this.heap[this.n].left,this.heap.pop(),this.n--);this.siftDownMax(1);this.count--;return a}return this.deleteMin()};\njs_cols.IntervalHeap.prototype.changeKey=function(a,b){if(!this.containedInThisQueue(a))return!1;var c=a.index,d=Math.floor(c/2);this.heap[c].left===a?this.heap[c].left.key=b:this.heap[c].right.key=b;c<this.n||this.heap[c].right?(0<this.compare(this.heap[c].left.key,this.heap[c].right.key)&&this.swapSides(c),1<c&&0<this.compare(this.heap[d].left.key,this.heap[c].left.key)?this.siftUpMin(c):this.siftDownMin(c),1<c&&0>this.compare(this.heap[d].right.key,this.heap[c].right.key)?this.siftUpMax(c):this.siftDownMax(c)):\n1<c&&0<this.compare(this.heap[d].left.key,this.heap[c].left.key)?this.siftUpMin(c):1<c&&0>this.compare(this.heap[d].right.key,this.heap[c].left.key)&&this.siftUpMax(c);return!0};\njs_cols.IntervalHeap.prototype.remove=function(a){if(!this.containedInThisQueue(a))return!1;var b=a.index,c=!1;this.heap[b].left==a&&(c=!0);c?(this.heap[b].left.container=null,this.heap[b].left=this.heap[this.n].left,this.heap[b].left.index=b,this.heap[this.n].left=null,this.siftDownMin(b),null==this.heap[this.n].right?(this.heap.pop(),this.n--):this.swapSides(this.n)):(null!=this.heap[this.n].right?(this.heap[b].right.container=null,this.heap[b].right=this.heap[this.n].right,this.heap[b].right.index=\nb,this.heap[this.n].right=null):(this.heap[b].right.container=null,this.heap[b].right=this.heap[this.n].left,this.heap[b].right.index=b,this.heap[this.n]=null,this.n--),this.siftDownMax(b));this.count--;return!0};js_cols.IntervalHeap.prototype.siftUpMin=function(a){var b=Math.floor(a/2);1==a||0>=this.compare(this.heap[b].left.key,this.heap[a].left.key)||(this.swapLeft(b,a),this.siftUpMin(b))};\njs_cols.IntervalHeap.prototype.siftDownMin=function(a){if(2*a<=this.n){var b=2*a+1>this.n||!this.heap[2*a+1].left||0>=this.compare(this.heap[2*a].left.key,this.heap[2*a+1].left.key)?2*a:2*a+1;0<this.compare(this.heap[a].left.key,this.heap[b].left.key)&&(this.swapLeft(a,b),this.heap[b].right&&0<this.compare(this.heap[b].left.key,this.heap[b].right.key)&&this.swapSides(b),this.siftDownMin(b))}};\njs_cols.IntervalHeap.prototype.siftUpMax=function(a){var b=Math.floor(a/2);if(a<this.n||null!=this.heap[this.n].right)1==a||0<=this.compare(this.heap[b].right.key,this.heap[a].right.key)||(this.swapRight(b,a),this.siftUpMax(b));else if(!(1==a||0<=this.compare(this.heap[b].right.key,this.heap[a].left.key))){this.heap[b].right.index=a;this.heap[a].left.index=b;var c=this.heap[b].right;this.heap[b].right=this.heap[a].left;this.heap[a].left=c;this.siftUpMax(b)}};\njs_cols.IntervalHeap.prototype.siftDownMax=function(a){if(2*a<=this.n){var b=2*a+1>this.n||null==this.heap[2*a+1].right||0<this.compare(this.heap[2*a].right.key,this.heap[2*a+1].right.key)?2*a:2*a+1;null!=this.heap[b].right&&0>this.compare(this.heap[a].right.key,this.heap[b].right.key)&&(this.swapRight(a,b),0<this.compare(this.heap[b].left.key,this.heap[b].right.key)&&this.swapSides(b),this.siftDownMax(b))}};\njs_cols.IntervalHeap.prototype.swapLeft=function(a,b){this.heap[a].left.index=b;this.heap[b].left.index=a;var c=this.heap[a].left;this.heap[a].left=this.heap[b].left;this.heap[b].left=c};js_cols.IntervalHeap.prototype.swapRight=function(a,b){this.heap[a].right.index=b;this.heap[b].right.index=a;var c=this.heap[a].right;this.heap[a].right=this.heap[b].right;this.heap[b].right=c};\njs_cols.IntervalHeap.prototype.swapSides=function(a){var b=this.heap[a].left;this.heap[a].left=this.heap[a].right;this.heap[a].right=b};js_cols.IntervalHeap.prototype.containedInThisQueue=function(a){return a.container===this?!0:!1};js_cols.IntervalHeap.Handle=function(a,b,c,d){this.key=a;this.value=b;this.index=c;this.container=d};js_cols.LinkedHashMap=function(a,b){this.list_=new js_cols.LinkedList;this.augmentList();this.map_=new js_cols.HashMap;this.maxCount_=a;this.isCache_=b};\njs_cols.LinkedHashMap.prototype.augmentList=function(){this.list_.insertAfter=function(a,b){b.next=a.next;b.previous=a;a.next.previous=b;a.next=b;this.size++};this.list_.insertBefore=function(a,b){b.next=a;b.previous=a.previous;a.previous.next=b;a.previous=b;this.size++};this.list_.removeFromList=function(a){a.previous.next=a.next;a.next.previous=a.previous;this.size--}};\njs_cols.LinkedHashMap.prototype.findAndMoveToTop_=function(a){(a=this.map_.get(a))&&this.isCache_&&(this.list_.removeFromList(a),this.insert_(a));return a};js_cols.LinkedHashMap.prototype.insert=function(a,b){var c=this.findAndMoveToTop_(a);c?c.data=b:(c={key:a,data:b},this.map_.insert(a,c),this.insert_(c))};js_cols.LinkedHashMap.prototype.insertSwapped=function(a,b){this.insert(b,a)};\njs_cols.LinkedHashMap.prototype.insertAfter=function(a,b,c){return(a=this.map_.get(a))&&!this.isCache_?(c={key:b,data:c},this.list_.insertAfter(a,c),this.map_.insert(b,c),null!=this.maxCount_&&this.truncate_(this.maxCount_),!0):!1};js_cols.LinkedHashMap.prototype.insertBefore=function(a,b,c){return(a=this.map_.get(a))&&!this.isCache_?(c={key:b,data:c},this.list_.insertBefore(a,c),this.map_.insert(b,c),null!=this.maxCount_&&this.truncate_(this.maxCount_),!0):!1};\njs_cols.LinkedHashMap.prototype.insertAll=function(a){if(\"array\"==js_cols.typeOf(a))for(var b=0;b<a.length;b++)this.insert(a[b]);else if(\"function\"==js_cols.typeOf(a.forEach))a.forEach(this.insertSwapped,this);else if(\"function\"==js_cols.typeOf(a.getValues)&&\"function\"==js_cols.typeOf(a.getKeys)){var c=a.getValues();a=a.getKeys();for(b=0;b<a.length;b++)this.insert(a[b],c[b])}else if(\"object\"==js_cols.typeOf(a))for(b in a)this.insert(b,a[b])};\njs_cols.LinkedHashMap.prototype.removeAll=function(a){if(\"array\"==js_cols.typeOf(a))for(var b=0;b<a.length;b++)this.remove(a[b]);else if(\"function\"==js_cols.typeOf(a.forEach))a.forEach(this.removeSwapped,this);else if(\"function\"==js_cols.typeOf(a.getValues))for(a=a.getValues(),b=0;b<a.length;b++)this.remove(a[b]);else if(\"object\"==js_cols.typeOf(a))for(b in a)this.remove(a[b])};\njs_cols.LinkedHashMap.prototype.containsAll=function(a){if(\"array\"==js_cols.typeOf(a)){for(var b=0;b<a.length;b++)if(!this.containsKey(a[b]))return!1;return!0}if(\"function\"==js_cols.typeOf(a.forEach))return a.every(this.containsSwapped,this);if(\"function\"==js_cols.typeOf(a.getValues)){a=a.getValues();for(b=0;b<a.length;b++)if(!this.containsKey(a[b]))return!1;return!0}if(\"object\"==js_cols.typeOf(a)){for(b in a)if(!this.containsKey(b))return!1;return!0}};\njs_cols.LinkedHashMap.prototype.get=function(a,b){var c=this.findAndMoveToTop_(a);return c?c.data:b};js_cols.LinkedHashMap.prototype.peekValue=function(a,b){var c=this.map_.get(a);return c?c.data:b};js_cols.LinkedHashMap.prototype.peek=function(){return this.list_.getFirst()};js_cols.LinkedHashMap.prototype.peekLast=function(){return this.list_.getLast()};js_cols.LinkedHashMap.prototype.shift=function(){return this.popNode_(this.list_.sentinel.next)};js_cols.LinkedHashMap.prototype.pop=function(){return this.popNode_(this.list_.sentinel.previous)};\njs_cols.LinkedHashMap.prototype.remove=function(a){return(a=this.map_.get(a))?(this.removeNode(a),!0):!1};js_cols.LinkedHashMap.prototype.removeSwapped=function(a,b){this.remove(b)};js_cols.LinkedHashMap.prototype.removeNode=function(a){this.list_.removeFromList(a);this.map_.remove(a.key)};js_cols.LinkedHashMap.prototype.getCount=function(){return this.map_.getCount()};js_cols.LinkedHashMap.prototype.isEmpty=function(){return this.map_.isEmpty()};\njs_cols.LinkedHashMap.prototype.setMaxCount=function(a){this.maxCount_=a||null;null!=this.maxCount_&&this.truncate_(this.maxCount_)};js_cols.LinkedHashMap.prototype.getValues=function(){return this.list_.getValues()};js_cols.LinkedHashMap.prototype.getKeys=function(){return this.map(function(a,b){return b})};js_cols.LinkedHashMap.prototype.containsValue=function(a){return this.list_.contains(a)};js_cols.LinkedHashMap.prototype.containsKey=function(a){return this.map_.containsKey(a)};\njs_cols.LinkedHashMap.prototype.contains=function(a){return this.containsKey(a)};js_cols.LinkedHashMap.prototype.containsSwapped=function(a,b){return this.containsKey(b)};js_cols.LinkedHashMap.prototype.clear=function(){this.truncate_(0)};js_cols.LinkedHashMap.prototype.clone=function(){var a=new js_cols.LinkedHashMap(this.maxCount_,this.isCache_);a.insertAll(this);return a};\njs_cols.LinkedHashMap.prototype.forEach=function(a,b){for(var c=this.list_.sentinel.next;c!=this.list_.sentinel;c=c.next)a.call(b,c.data,c.key,this)};js_cols.LinkedHashMap.prototype.map=function(a,b){for(var c=[],d=this.list_.sentinel.next;d!=this.list_.sentinel;d=d.next)c.push(a.call(b,d.data,d.key,this));return c};\njs_cols.LinkedHashMap.prototype.filter=function(a,b){for(var c=new js_cols.LinkedHashMap(this.maxCount_,this.isCache_),d=this.list_.sentinel.next;d!=this.list_.sentinel;d=d.next)a.call(b,d.data,d.key,this)&&c.insert(d.key,d.data);return c};js_cols.LinkedHashMap.prototype.some=function(a,b){for(var c=this.list_.sentinel.next;c!=this.list_.sentinel;c=c.next)if(a.call(b,c.data,c.key,this))return!0;return!1};\njs_cols.LinkedHashMap.prototype.every=function(a,b){for(var c=this.list_.sentinel.next;c!=this.list_.sentinel;c=c.next)if(!a.call(b,c.data,c.key,this))return!1;return!0};\njs_cols.LinkedHashMap.prototype.intersection=function(a){var b=new js_cols.LinkedHashMap(this.maxCount_,this.isCache_);if(\"function\"==js_cols.typeOf(a.get))for(var c=this.list_.sentinel.next;c!=this.list_.sentinel;c=c.next)a.get.call(a,c.key)==c.data&&b.insert(c.key,c.data);else for(c=this.list_.sentinel.next;c!=this.list_.sentinel;c=c.next)js_cols.contains.call(a,a,c.key)&&b.insert(c.key,c.data);return b};\njs_cols.LinkedHashMap.prototype.isSubmapOf=function(a){var b=0;if(\"function\"==js_cols.typeOf(a.get))for(var c=this.list_.sentinel.next;c!=this.list_.sentinel;c=c.next)a.get.call(a,c.key)==c.data&&b++;else for(c=this.list_.sentinel.next;c!=this.list_.sentinel;c=c.next)js_cols.contains.call(a,a,c.key)&&b++;return b==this.getCount()};\njs_cols.LinkedHashMap.prototype.insert_=function(a){this.isCache_?this.list_.insertAfter(this.list_.sentinel,a):this.list_.insertBefore(this.list_.sentinel,a);null!=this.maxCount_&&this.truncate_(this.maxCount_)};js_cols.LinkedHashMap.prototype.truncate_=function(a){for(var b=this.map_.getCount();b>a;b--)this.removeNode(this.isCache_?this.list_.sentinel.previous:this.list_.sentinel.next)};js_cols.LinkedHashMap.prototype.popNode_=function(a){this.list_.sentinel!=a&&this.removeNode(a);return a.data};\njs_cols.LinkedHashMap.prototype.iterator=function(a){var b=this.list_.iterator(0);delete b.add;delete b.remove;delete b.set;if(a=this.map_.get(a,!1))b.position=a;return b};js_cols.Queue=function(){js_cols.LinkedList.call(this)};js_cols.inherits(js_cols.Queue,js_cols.LinkedList);js_cols.Queue.prototype.enqueue=function(a){this.addLast(a)};js_cols.Queue.prototype.dequeue=function(){return this.removeFirst()};js_cols.Queue.prototype.peek=function(){return this.getFirst()};\njs_cols.Queue.prototype.remove=function(a){return this.removeObject(a)};js_cols.Stack=function(){js_cols.LinkedList.call(this)};js_cols.inherits(js_cols.Stack,js_cols.LinkedList);js_cols.Stack.prototype.push=function(a){this.addFirst(a)};js_cols.Stack.prototype.pop=function(){return this.removeFirst()};js_cols.Stack.prototype.peek=function(){return this.getFirst()};js_cols.Stack.prototype.remove=function(a){return this.removeObject(a)};js_cols.RBnode=function(a){this.tree=a;this.left=this.right=this.tree.sentinel};\njs_cols.RedBlackMap=function(a){this.RED=!0;this.BLACK=!1;this.size=0;this.sentinel=new js_cols.RBnode(this);this.sentinel.color=this.BLACK;this.root=this.sentinel;this.root.parent=this.sentinel;js_cols.RedBlackMap.prototype.compare=a||this.default_compare};js_cols.RedBlackMap.prototype.default_compare=function(a,b){return a<b?-1:b<a?1:0};js_cols.RedBlackMap.prototype.clone=function(){var a=new js_cols.RedBlackMap(this.compare);a.insertAll(this);return a};\njs_cols.RedBlackMap.prototype.clear=function(){this.size=0;this.sentinel=new js_cols.RBnode(this);this.sentinel.color=this.BLACK;this.root=this.sentinel;this.root.parent=this.sentinel};js_cols.RedBlackMap.prototype.leftRotate=function(a){var b=a.right;a.right=b.left;b.left!=this.sentinel&&(b.left.parent=a);b.parent=a.parent;a.parent==this.sentinel?this.root=b:a==a.parent.left?a.parent.left=b:a.parent.right=b;b.left=a;a.parent=b};\njs_cols.RedBlackMap.prototype.rightRotate=function(a){var b=a.left;a.left=b.right;b.right!=this.sentinel&&(b.right.parent=a);b.parent=a.parent;a.parent==this.sentinel?this.root=b:a==a.parent.right?a.parent.right=b:a.parent.left=b;b.right=a;a.parent=b};\njs_cols.RedBlackMap.prototype.insert=function(a,b){if(this.contains(a))this.get_(a).value=b;else{var c=new js_cols.RBnode(this);c.key=a;c.value=b;for(var d=this.sentinel,e=this.root;e!=this.sentinel;)d=e,e=0>this.compare(c.key,e.key)?e.left:e.right;c.parent=d;d==this.sentinel?this.root=c:0>this.compare(c.key,d.key)?d.left=c:d.right=c;c.left=this.sentinel;c.right=this.sentinel;c.color=this.RED;this.insertFixup(c);this.size++}};\njs_cols.RedBlackMap.prototype.insertSwapped=function(a,b){this.insert(b,a)};\njs_cols.RedBlackMap.prototype.insertFixup=function(a){for(;a!=this.sentinel&&a!=this.root&&a.parent.color==this.RED;)if(a.parent==a.parent.parent.left){var b=a.parent.parent.right;b.color==this.RED?(a.parent.color=this.BLACK,b.color=this.BLACK,a.parent.parent.color=this.RED,a=a.parent.parent):(a==a.parent.right&&(a=a.parent,this.leftRotate(a)),a.parent.color=this.BLACK,a.parent.parent.color=this.RED,a.parent.parent!=this.sentinel&&this.rightRotate(a.parent.parent))}else b=a.parent.parent.left,b.color==\nthis.RED?(a.parent.color=this.BLACK,b.color=this.BLACK,a.parent.parent.color=this.RED,a=a.parent.parent):(a==a.parent.left&&(a=a.parent,this.rightRotate(a)),a.parent.color=this.BLACK,a.parent.parent.color=this.RED,a.parent.parent!=this.sentinel&&this.leftRotate(a.parent.parent));this.root.color=this.BLACK};\njs_cols.RedBlackMap.prototype.delete_=function(a){var b,c;b=a.left==this.sentinel||a.right==this.sentinel?a:this.successor_(a);c=b.left!=this.sentinel?b.left:b.right;c.parent=b.parent;b.parent==this.sentinel?this.root=c:b==b.parent.left?b.parent.left=c:b.parent.right=c;b!=a&&(a.key=b.key,a.value=b.value);b.color==this.BLACK&&this.deleteFixup(c);this.size--};\njs_cols.RedBlackMap.prototype.deleteFixup=function(a){for(;a!=this.root&&a.color==this.BLACK;)if(a==a.parent.left){var b=a.parent.right;b.color==this.RED&&(b.color=this.BLACK,a.parent.color=this.RED,this.leftRotate(a.parent),b=a.parent.right);b.left.color==this.BLACK&&b.right.color==this.BLACK?(b.color=this.RED,a=a.parent):(b.right.color==this.BLACK&&(b.left.color=this.BLACK,b.color=this.RED,this.rightRotate(b),b=a.parent.right),b.color=a.parent.color,a.parent.color=this.BLACK,b.right.color=this.BLACK,\nthis.leftRotate(a.parent),a=this.root)}else b=a.parent.left,b.color==this.RED&&(b.color=this.BLACK,a.parent.color=this.RED,this.rightRotate(a.parent),b=a.parent.left),b.right.color==this.BLACK&&b.left.color==this.BLACK?(b.color=this.RED,a=a.parent):(b.left.color==this.BLACK&&(b.right.color=this.BLACK,b.color=this.RED,this.leftRotate(b),b=a.parent.left),b.color=a.parent.color,a.parent.color=this.BLACK,b.left.color=this.BLACK,this.rightRotate(a.parent),a=this.root);a.color=this.BLACK};\njs_cols.RedBlackMap.prototype.remove=function(a){a=this.get_(a);if(a!=this.sentinel){var b=a.value;this.delete_(a);return b}return null};js_cols.RedBlackMap.prototype.removeSwapped=function(a,b){this.remove(b)};js_cols.RedBlackMap.prototype.min=function(a){for(;a.left!=this.sentinel;)a=a.left;return a};js_cols.RedBlackMap.prototype.max=function(a){for(;a.right!=this.sentinel;)a=a.right;return a};\njs_cols.RedBlackMap.prototype.successor_=function(a){if(a.right!=this.sentinel)return this.min(a.right);for(var b=a.parent;b!=this.sentinel&&a==b.right;)a=b,b=b.parent;return b};js_cols.RedBlackMap.prototype.predecessor_=function(a){if(a.left!=this.sentinel)return this.max(a.left);for(var b=a.parent;b!=this.sentinel&&a==b.left;)a=b,b=b.parent;return b};\njs_cols.RedBlackMap.prototype.successor=function(a){if(0<this.size){a=this.get_(a);if(a==this.sentinel)return null;if(a.right!=this.sentinel)return this.min(a.right).value;for(var b=a.parent;b!=this.sentinel&&a==b.right;)a=b,b=b.parent;return b!=this.sentinel?b.value:null}return null};\njs_cols.RedBlackMap.prototype.predecessor=function(a){if(0<this.size){a=this.get_(a);if(a==this.sentinel)return null;if(a.left!=this.sentinel)return this.max(a.left).value;for(var b=a.parent;b!=this.sentinel&&a==b.left;)a=b,b=b.parent;return b!=this.sentinel?b.value:null}return null};js_cols.RedBlackMap.prototype.getMin=function(){return this.min(this.root).value};js_cols.RedBlackMap.prototype.getMax=function(){return this.max(this.root).value};\njs_cols.RedBlackMap.prototype.get_=function(a){for(var b=this.root;b!=this.sentinel&&0!=this.compare(b.key,a);)b=0>this.compare(a,b.key)?b.left:b.right;return b};js_cols.RedBlackMap.prototype.get=function(a){for(var b=this.root;b!=this.sentinel&&0!=this.compare(b.key,a);)b=0>this.compare(a,b.key)?b.left:b.right;return b.value};js_cols.RedBlackMap.prototype.contains=function(a){return null!=this.get_(a).key};js_cols.RedBlackMap.prototype.containsSwapped=function(a,b){return this.contains(b)};\njs_cols.RedBlackMap.prototype.getValues=function(){var a=[];this.traverse(function(b){a.push(b)});return a};js_cols.RedBlackMap.prototype.getKeys=function(){var a=[];if(this.isEmpty())return a;for(var b=this.min(this.root);b!=this.sentinel;)a.push(b.key),b=b=this.successor_(b);return a};\njs_cols.RedBlackMap.prototype.insertAll=function(a){if(\"array\"==js_cols.typeOf(a))for(var b=0;b<a.length;b++)this.insert(a[b],a[b]);else if(\"function\"==js_cols.typeOf(a.forEach))a.forEach(this.insertSwapped,this);else if(\"function\"==js_cols.typeOf(a.getValues)&&\"function\"==js_cols.typeOf(a.getKeys)){var c=a.getValues();a=a.getKeys();for(b=0;b<a.length;b++)this.insert(a[b],c[b])}else if(\"object\"==js_cols.typeOf(a))for(b in a)this.insert(b,a[b])};\njs_cols.RedBlackMap.prototype.removeAll=function(a){if(\"array\"==js_cols.typeOf(a))for(var b=0;b<a.length;b++)this.remove(a[b]);else if(\"function\"==js_cols.typeOf(a.forEach))a.forEach(this.removeSwapped,this);else if(\"function\"==js_cols.typeOf(a.getValues))for(a=a.getValues(),b=0;b<a.length;b++)this.remove(a[b]);else if(\"object\"==js_cols.typeOf(a))for(b in a)this.remove(a[b])};\njs_cols.RedBlackMap.prototype.containsAll=function(a){if(\"array\"==js_cols.typeOf(a)){for(var b=0;b<a.length;b++)if(!this.contains(a[b]))return!1;return!0}if(\"function\"==js_cols.typeOf(a.every))return a.every(this.containsSwapped,this);if(\"function\"==js_cols.typeOf(a.getValues)){a=a.getValues();for(b=0;b<a.length;b++)if(!this.contains(a[b]))return!1;return!0}if(\"object\"==js_cols.typeOf(a)){for(b in a)if(!this.contains(b))return!1;return!0}};\njs_cols.RedBlackMap.prototype.forEach=function(a,b){if(!this.isEmpty())for(var c=this.min(this.root);c!=this.sentinel;c=this.successor_(c))a.call(b,c.value,c.key,this)};js_cols.RedBlackMap.prototype.some=function(a,b){if(this.isEmpty())return!1;for(var c=this.min(this.root);c!=this.sentinel;c=this.successor_(c))if(a.call(b,c.value,c.key,this))return!0;return!1};\njs_cols.RedBlackMap.prototype.every=function(a,b){if(this.isEmpty())return!1;for(var c=this.min(this.root);c!=this.sentinel;c=this.successor_(c))if(!a.call(b,c.value,c.key,this))return!1;return!0};js_cols.RedBlackMap.prototype.map=function(a,b){var c=[];if(this.isEmpty())return c;for(var d=this.min(this.root);d!=this.sentinel;d=this.successor_(d))c.push(a.call(b,d.value,d.key,this));return c};\njs_cols.RedBlackMap.prototype.filter=function(a,b){var c=new js_cols.RedBlackMap(this.compare);if(this.isEmpty())return c;for(var d=this.min(this.root);d!=this.sentinel;d=this.successor_(d))a.call(b,d.value,d.key,this)&&c.insert(d.key,d.value);return c};\njs_cols.RedBlackMap.prototype.intersection=function(a){var b=new js_cols.RedBlackMap(this.compare);if(this.isEmpty())return b;if(\"function\"==js_cols.typeOf(a.get))for(var c=this.min(this.root);c!=this.sentinel;c=this.successor_(c))a.get.call(a,c.key)==c.value&&b.insert(c.key,c.value);else for(c=this.min(this.root);c!=this.sentinel;c=this.successor_(c))js_cols.contains.call(a,a,c.key)&&b.insert(c.key,c.value);return b};\njs_cols.RedBlackMap.prototype.isSubmapOf=function(a){var b=js_cols.getCount(a);if(this.getCount()>b)return!1;b=0;if(this.isEmpty())return!0;if(\"function\"==js_cols.typeOf(a.get))for(var c=this.min(this.root);c!=this.sentinel;c=this.successor_(c))a.get.call(a,c.key)==c.value&&b++;else for(c=this.min(this.root);c!=this.sentinel;c=this.successor_(c))js_cols.contains.call(a,a,c.key)&&b++;return b==this.getCount()};\njs_cols.RedBlackMap.prototype.range=function(a,b){var c=[];this.traverseFromTo(function(a){c.push(a)},a,b);return c};js_cols.RedBlackMap.prototype.traverse=function(a){if(!this.isEmpty())for(var b=this.min(this.root);b!=this.sentinel&&!a(b.value);)b=this.successor_(b)};js_cols.RedBlackMap.prototype.traverseFrom=function(a,b){if(!this.isEmpty())for(var c=this.get_(b);c!=this.sentinel&&!a(c.value);)c=this.successor_(c)};\njs_cols.RedBlackMap.prototype.traverseTo=function(a,b){if(!this.isEmpty())for(var c=this.min(this.root),d=this.get_(b);c!=d&&!a(c.value);)c=this.successor_(c)};js_cols.RedBlackMap.prototype.traverseFromTo=function(a,b,c){if(!this.isEmpty())for(b=this.get_(b),c=this.get_(c);b!=c&&!a(b.value);)b=this.successor_(b)};js_cols.RedBlackMap.prototype.traverseBackwards=function(a){if(!this.isEmpty())for(var b=this.max(this.root);b!=this.sentinel&&!a(b.value);)b=this.predecessor_(b)};\njs_cols.RedBlackMap.prototype.getCount=function(){return this.size};js_cols.RedBlackMap.prototype.isEmpty=function(){return 0==this.size};js_cols.RedBlackSet=function(a){this.RED=!0;this.BLACK=!1;this.size=0;this.sentinel=new js_cols.RBnode(this);this.sentinel.color=this.BLACK;this.root=this.sentinel;this.root.parent=this.sentinel;this.compare=a||this.default_compare};js_cols.RedBlackSet.prototype.default_compare=function(a,b){return a<b?-1:b<a?1:0};\njs_cols.RedBlackSet.prototype.clone=function(){var a=new js_cols.RedBlackSet(this.compare);a.insertAll(this);return a};js_cols.RedBlackSet.prototype.clear=function(){this.size=0;this.sentinel=new js_cols.RBnode(this);this.sentinel.color=this.BLACK;this.root=this.sentinel;this.root.parent=this.sentinel};\njs_cols.RedBlackSet.prototype.leftRotate=function(a){var b=a.right;a.right=b.left;b.left!=this.sentinel&&(b.left.parent=a);b.parent=a.parent;a.parent==this.sentinel?this.root=b:a==a.parent.left?a.parent.left=b:a.parent.right=b;b.left=a;a.parent=b};js_cols.RedBlackSet.prototype.rightRotate=function(a){var b=a.left;a.left=b.right;b.right!=this.sentinel&&(b.right.parent=a);b.parent=a.parent;a.parent==this.sentinel?this.root=b:a==a.parent.right?a.parent.right=b:a.parent.left=b;b.right=a;a.parent=b};\njs_cols.RedBlackSet.prototype.insert=function(a){if(this.contains(a))this.get_(a).key=a;else{var b=new js_cols.RBnode(this);b.key=a;a=this.sentinel;for(var c=this.root;c!=this.sentinel;)a=c,c=0>this.compare(b.key,c.key)?c.left:c.right;b.parent=a;a==this.sentinel?this.root=b:0>this.compare(b.key,a.key)?a.left=b:a.right=b;b.left=this.sentinel;b.right=this.sentinel;b.color=this.RED;this.insertFixup(b);this.size++}};\njs_cols.RedBlackSet.prototype.insertFixup=function(a){for(;a!=this.sentinel&&a!=this.root&&a.parent.color==this.RED;)if(a.parent==a.parent.parent.left){var b=a.parent.parent.right;b.color==this.RED?(a.parent.color=this.BLACK,b.color=this.BLACK,a.parent.parent.color=this.RED,a=a.parent.parent):(a==a.parent.right&&(a=a.parent,this.leftRotate(a)),a.parent.color=this.BLACK,a.parent.parent.color=this.RED,a.parent.parent!=this.sentinel&&this.rightRotate(a.parent.parent))}else b=a.parent.parent.left,b.color==\nthis.RED?(a.parent.color=this.BLACK,b.color=this.BLACK,a.parent.parent.color=this.RED,a=a.parent.parent):(a==a.parent.left&&(a=a.parent,this.rightRotate(a)),a.parent.color=this.BLACK,a.parent.parent.color=this.RED,a.parent.parent!=this.sentinel&&this.leftRotate(a.parent.parent));this.root.color=this.BLACK};\njs_cols.RedBlackSet.prototype.delete_=function(a){var b,c;b=a.left==this.sentinel||a.right==this.sentinel?a:this.successor_(a);c=b.left!=this.sentinel?b.left:b.right;c.parent=b.parent;b.parent==this.sentinel?this.root=c:b==b.parent.left?b.parent.left=c:b.parent.right=c;b!=a&&(a.key=b.key);b.color==this.BLACK&&this.deleteFixup(c);this.size--};\njs_cols.RedBlackSet.prototype.deleteFixup=function(a){for(;a!=this.root&&a.color==this.BLACK;)if(a==a.parent.left){var b=a.parent.right;b.color==this.RED&&(b.color=this.BLACK,a.parent.color=this.RED,this.leftRotate(a.parent),b=a.parent.right);b.left.color==this.BLACK&&b.right.color==this.BLACK?(b.color=this.RED,a=a.parent):(b.right.color==this.BLACK&&(b.left.color=this.BLACK,b.color=this.RED,this.rightRotate(b),b=a.parent.right),b.color=a.parent.color,a.parent.color=this.BLACK,b.right.color=this.BLACK,\nthis.leftRotate(a.parent),a=this.root)}else b=a.parent.left,b.color==this.RED&&(b.color=this.BLACK,a.parent.color=this.RED,this.rightRotate(a.parent),b=a.parent.left),b.right.color==this.BLACK&&b.left.color==this.BLACK?(b.color=this.RED,a=a.parent):(b.left.color==this.BLACK&&(b.right.color=this.BLACK,b.color=this.RED,this.leftRotate(b),b=a.parent.left),b.color=a.parent.color,a.parent.color=this.BLACK,b.left.color=this.BLACK,this.rightRotate(a.parent),a=this.root);a.color=this.BLACK};\njs_cols.RedBlackSet.prototype.remove=function(a){a=this.get_(a);if(a!=this.sentinel){var b=a.key;this.delete_(a);return b}return null};js_cols.RedBlackSet.prototype.removeSwapped=function(a,b){this.remove(b)};js_cols.RedBlackSet.prototype.min=function(a){for(;a.left!=this.sentinel;)a=a.left;return a};js_cols.RedBlackSet.prototype.max=function(a){for(;a.right!=this.sentinel;)a=a.right;return a};\njs_cols.RedBlackSet.prototype.successor_=function(a){if(a.right!=this.sentinel)return this.min(a.right);for(var b=a.parent;b!=this.sentinel&&a==b.right;)a=b,b=b.parent;return b};js_cols.RedBlackSet.prototype.predeccessor_=function(a){if(a.left!=this.sentinel)return this.max(a.left);for(var b=a.parent;b!=this.sentinel&&a==b.left;)a=b,b=b.parent;return b};\njs_cols.RedBlackSet.prototype.successor=function(a){if(0<this.size){a=this.get_(a);if(a==this.sentinel)return null;if(a.right!=this.sentinel)return this.min(a.right).key;for(var b=a.parent;b!=this.sentinel&&a==b.right;)a=b,b=b.parent;return b!=this.sentinel?b.key:null}return null};\njs_cols.RedBlackSet.prototype.predecessor=function(a){if(0<this.size){a=this.get_(a);if(a==this.sentinel)return null;if(a.left!=this.sentinel)return this.max(a.left).key;for(var b=a.parent;b!=this.sentinel&&a==b.left;)a=b,b=b.parent;return b!=this.sentinel?b.key:null}return null};js_cols.RedBlackSet.prototype.getMin=function(){return this.min(this.root).key};js_cols.RedBlackSet.prototype.getMax=function(){return this.max(this.root).key};\njs_cols.RedBlackSet.prototype.get_=function(a){for(var b=this.root;b!=this.sentinel&&0!=this.compare(b.key,a);)b=0>this.compare(a,b.key)?b.left:b.right;return b};js_cols.RedBlackSet.prototype.contains=function(a){return null!=this.get_(a).key};js_cols.RedBlackSet.prototype.getValues=function(){var a=[];this.forEach(function(b){a.push(b)});return a};\njs_cols.RedBlackSet.prototype.insertAll=function(a){if(\"array\"==js_cols.typeOf(a))for(var b=0;b<a.length;b++)this.insert(a[b]);else if(\"function\"==js_cols.typeOf(a.forEach))a.forEach(this.insert,this);else if(\"function\"==js_cols.typeOf(a.getValues))for(a=a.getValues(),b=0;b<a.length;b++)this.insert(a[b]);else if(\"object\"==js_cols.typeOf(a))for(b in a)this.insert(a[b])};\njs_cols.RedBlackSet.prototype.removeAll=function(a){if(\"array\"==js_cols.typeOf(a))for(var b=0;b<a.length;b++)this.remove(a[b]);else if(\"function\"==js_cols.typeOf(a.forEach))a.forEach(this.removeSwapped,this);else if(\"function\"==js_cols.typeOf(a.getValues))for(a=a.getValues(),b=0;b<a.length;b++)this.remove(a[b]);else if(\"object\"==js_cols.typeOf(a))for(b in a)this.remove(a[b])};\njs_cols.RedBlackSet.prototype.containsAll=function(a){if(\"array\"==js_cols.typeOf(a)){for(var b=0;b<a.length;b++)if(!this.contains(a[b]))return!1;return!0}if(\"function\"==js_cols.typeOf(a.forEach))return a.every(this.contains,this);if(\"function\"==js_cols.typeOf(a.getValues)){a=a.getValues();for(b=0;b<a.length;b++)if(!this.contains(a[b]))return!1;return!0}if(\"object\"==js_cols.typeOf(a)){for(b in a)if(!this.contains(a[b]))return!1;return!0}};\njs_cols.RedBlackSet.prototype.range=function(a,b){var c=[];this.traverseFromTo(function(a){c.push(a)},a,b);return c};js_cols.RedBlackSet.prototype.traverse=function(a,b){if(!this.isEmpty())for(var c=this.min(this.root);c!=this.sentinel&&!a.call(b,c.key,this);)c=this.successor_(c)};js_cols.RedBlackSet.prototype.traverseFrom=function(a,b,c){if(!this.isEmpty())for(b=this.get_(b);b!=this.sentinel&&!a.call(c,b.key,this);)b=this.successor_(b)};\njs_cols.RedBlackSet.prototype.traverseTo=function(a,b,c){if(!this.isEmpty()){var d=this.min(this.root);for(b=this.get_(b);d!=b&&!a.call(c,d.key,this);)d=this.successor_(d)}};js_cols.RedBlackSet.prototype.traverseFromTo=function(a,b,c,d){if(!this.isEmpty())for(b=this.get_(b),c=this.get_(c);b!=c&&!a.call(d,b.key,this);)b=this.successor_(b)};js_cols.RedBlackSet.prototype.traverseBackwards=function(a,b){if(!this.isEmpty())for(var c=this.max(this.root);c!=this.sentinel&&!a.call(b,c.key,this);)c=this.predeccessor_(c)};\njs_cols.RedBlackSet.prototype.forEach=function(a,b){if(!this.isEmpty())for(var c=this.min(this.root);c!=this.sentinel;c=this.successor_(c))a.call(b,c.key,c.key,this)};js_cols.RedBlackSet.prototype.some=function(a,b){if(this.isEmpty())return!1;for(var c=this.min(this.root);c!=this.sentinel;c=this.successor_(c))if(a.call(b,c.key,c.key,this))return!0;return!1};\njs_cols.RedBlackSet.prototype.every=function(a,b){if(this.isEmpty())return!1;for(var c=this.min(this.root);c!=this.sentinel;c=this.successor_(c))if(!a.call(b,c.key,c.key,this))return!1;return!0};js_cols.RedBlackSet.prototype.map=function(a,b){var c=[];if(this.isEmpty())return c;for(var d=this.min(this.root);d!=this.sentinel;d=this.successor_(d))c.push(a.call(b,d.key,d.key,this));return c};\njs_cols.RedBlackSet.prototype.filter=function(a,b){var c=[];if(this.isEmpty())return c;for(var d=this.min(this.root);d!=this.sentinel;d=this.successor_(d))a.call(b,d.key,d.key,this)&&c.push(d.key);return c};js_cols.RedBlackSet.prototype.getCount=function(){return this.size};js_cols.RedBlackSet.prototype.isEmpty=function(){return 0==this.size};\njs_cols.RedBlackSet.prototype.isSubsetOf=function(a){var b=js_cols.getCount(a);if(this.getCount()>b)return!1;b=0;if(this.isEmpty())return!0;for(var c=this.min(this.root);c!=this.sentinel;c=this.successor_(c))js_cols.contains.call(a,a,c.key)&&b++;return b==this.getCount()};\njs_cols.RedBlackSet.prototype.intersection=function(a){var b=new js_cols.RedBlackSet(this.compare);if(this.isEmpty())return b;for(var c=this.min(this.root);c!=this.sentinel;c=this.successor_(c))a.contains.call(a,c.key,c.key,this)&&b.insert(c.key);return b};js_cols.RedBlackBag=function(a){js_cols.RedBlackSet.call(this,a)};js_cols.inherits(js_cols.RedBlackBag,js_cols.RedBlackSet);\njs_cols.RedBlackBag.prototype.insert=function(a){var b=new js_cols.RBnode(this);b.key=a;a=this.sentinel;for(var c=this.root;c!=this.sentinel;)a=c,c=0>this.compare(b.key,c.key)?c.left:c.right;b.parent=a;a==this.sentinel?this.root=b:0>this.compare(b.key,a.key)?a.left=b:a.right=b;b.left=this.sentinel;b.right=this.sentinel;b.color=this.RED;this.insertFixup(b);this.size++};\njs_cols.RedBlackBag.prototype.get_=function(a){for(var b=this.root;b!=this.sentinel&&0!=this.compare(b.key,a);)b=0>this.compare(a,b.key)?b.left:b.right;for(;b!=this.sentinel&&b.left!=this.sentinel&&0==this.compare(b.left.key,a);)b=b.left;return b};js_cols.RedBlackBag.prototype.clone=function(){var a=new js_cols.RedBlackBag(this.compare);a.insertAll(this);return a};js_cols.RedBlackMultiMap=function(a){js_cols.RedBlackMap.call(this,a)};js_cols.inherits(js_cols.RedBlackMultiMap,js_cols.RedBlackMap);\njs_cols.RedBlackMultiMap.prototype.insert=function(a,b){var c=new js_cols.RBnode(this);c.key=a;c.value=b;for(var d=this.sentinel,e=this.root;e!=this.sentinel;)d=e,e=0>this.compare(c.key,e.key)?e.left:e.right;c.parent=d;d==this.sentinel?this.root=c:0>this.compare(c.key,d.key)?d.left=c:d.right=c;c.left=this.sentinel;c.right=this.sentinel;c.color=this.RED;this.insertFixup(c);this.size++};\njs_cols.RedBlackMultiMap.prototype.get_=function(a){for(var b=this.root;b!=this.sentinel&&0!=this.compare(b.key,a);)b=0>this.compare(a,b.key)?b.left:b.right;for(;b!=this.sentinel&&b.left!=this.sentinel&&0==this.compare(b.left.key,a);)b=b.left;return b};js_cols.RedBlackMultiMap.prototype.clone=function(){var a=new js_cols.RedBlackMultiMap(this.compare);a.insertAll(this);return a};js_cols.RedBlackMultiMap.prototype.isSubmapOf=void 0;js_cols.RedBlackMultiMap.prototype.intersection=void 0;\n\"undefined\"!==typeof module&&module.exports&&(module.exports=js_cols);","/****\n * The MIT License\n *\n * Copyright (c) 2015 Marco Ziccardi\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n ****/\n(function (global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define('timsort', ['exports'], factory);\n  } else if (typeof exports !== 'undefined') {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports);\n    global.timsort = mod.exports;\n  }\n})(this, function (exports) {\n  'use strict';\n\n  exports.__esModule = true;\n  exports.sort = sort;\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError('Cannot call a class as a function');\n    }\n  }\n\n  var DEFAULT_MIN_MERGE = 32;\n\n  var DEFAULT_MIN_GALLOPING = 7;\n\n  var DEFAULT_TMP_STORAGE_LENGTH = 256;\n\n  var POWERS_OF_TEN = [1e0, 1e1, 1e2, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9];\n\n  function log10(x) {\n    if (x < 1e5) {\n      if (x < 1e2) {\n        return x < 1e1 ? 0 : 1;\n      }\n\n      if (x < 1e4) {\n        return x < 1e3 ? 2 : 3;\n      }\n\n      return 4;\n    }\n\n    if (x < 1e7) {\n      return x < 1e6 ? 5 : 6;\n    }\n\n    if (x < 1e9) {\n      return x < 1e8 ? 7 : 8;\n    }\n\n    return 9;\n  }\n\n  function alphabeticalCompare(a, b) {\n    if (a === b) {\n      return 0;\n    }\n\n    if (~ ~a === a && ~ ~b === b) {\n      if (a === 0 || b === 0) {\n        return a < b ? -1 : 1;\n      }\n\n      if (a < 0 || b < 0) {\n        if (b >= 0) {\n          return -1;\n        }\n\n        if (a >= 0) {\n          return 1;\n        }\n\n        a = -a;\n        b = -b;\n      }\n\n      var al = log10(a);\n      var bl = log10(b);\n\n      var t = 0;\n\n      if (al < bl) {\n        a *= POWERS_OF_TEN[bl - al - 1];\n        b /= 10;\n        t = -1;\n      } else if (al > bl) {\n        b *= POWERS_OF_TEN[al - bl - 1];\n        a /= 10;\n        t = 1;\n      }\n\n      if (a === b) {\n        return t;\n      }\n\n      return a < b ? -1 : 1;\n    }\n\n    var aStr = String(a);\n    var bStr = String(b);\n\n    if (aStr === bStr) {\n      return 0;\n    }\n\n    return aStr < bStr ? -1 : 1;\n  }\n\n  function minRunLength(n) {\n    var r = 0;\n\n    while (n >= DEFAULT_MIN_MERGE) {\n      r |= n & 1;\n      n >>= 1;\n    }\n\n    return n + r;\n  }\n\n  function makeAscendingRun(array, lo, hi, compare) {\n    var runHi = lo + 1;\n\n    if (runHi === hi) {\n      return 1;\n    }\n\n    if (compare(array[runHi++], array[lo]) < 0) {\n      while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\n        runHi++;\n      }\n\n      reverseRun(array, lo, runHi);\n    } else {\n      while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\n        runHi++;\n      }\n    }\n\n    return runHi - lo;\n  }\n\n  function reverseRun(array, lo, hi) {\n    hi--;\n\n    while (lo < hi) {\n      var t = array[lo];\n      array[lo++] = array[hi];\n      array[hi--] = t;\n    }\n  }\n\n  function binaryInsertionSort(array, lo, hi, start, compare) {\n    if (start === lo) {\n      start++;\n    }\n\n    for (; start < hi; start++) {\n      var pivot = array[start];\n\n      var left = lo;\n      var right = start;\n\n      while (left < right) {\n        var mid = left + right >>> 1;\n\n        if (compare(pivot, array[mid]) < 0) {\n          right = mid;\n        } else {\n          left = mid + 1;\n        }\n      }\n\n      var n = start - left;\n\n      switch (n) {\n        case 3:\n          array[left + 3] = array[left + 2];\n\n        case 2:\n          array[left + 2] = array[left + 1];\n\n        case 1:\n          array[left + 1] = array[left];\n          break;\n        default:\n          while (n > 0) {\n            array[left + n] = array[left + n - 1];\n            n--;\n          }\n      }\n\n      array[left] = pivot;\n    }\n  }\n\n  function gallopLeft(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n\n    if (compare(value, array[start + hint]) > 0) {\n      maxOffset = length - hint;\n\n      while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      lastOffset += hint;\n      offset += hint;\n    } else {\n      maxOffset = hint + 1;\n      while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      var tmp = lastOffset;\n      lastOffset = hint - offset;\n      offset = hint - tmp;\n    }\n\n    lastOffset++;\n    while (lastOffset < offset) {\n      var m = lastOffset + (offset - lastOffset >>> 1);\n\n      if (compare(value, array[start + m]) > 0) {\n        lastOffset = m + 1;\n      } else {\n        offset = m;\n      }\n    }\n    return offset;\n  }\n\n  function gallopRight(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n\n    if (compare(value, array[start + hint]) < 0) {\n      maxOffset = hint + 1;\n\n      while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      var tmp = lastOffset;\n      lastOffset = hint - offset;\n      offset = hint - tmp;\n    } else {\n      maxOffset = length - hint;\n\n      while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\n        lastOffset = offset;\n        offset = (offset << 1) + 1;\n\n        if (offset <= 0) {\n          offset = maxOffset;\n        }\n      }\n\n      if (offset > maxOffset) {\n        offset = maxOffset;\n      }\n\n      lastOffset += hint;\n      offset += hint;\n    }\n\n    lastOffset++;\n\n    while (lastOffset < offset) {\n      var m = lastOffset + (offset - lastOffset >>> 1);\n\n      if (compare(value, array[start + m]) < 0) {\n        offset = m;\n      } else {\n        lastOffset = m + 1;\n      }\n    }\n\n    return offset;\n  }\n\n  var TimSort = (function () {\n    function TimSort(array, compare) {\n      _classCallCheck(this, TimSort);\n\n      this.array = null;\n      this.compare = null;\n      this.minGallop = DEFAULT_MIN_GALLOPING;\n      this.length = 0;\n      this.tmpStorageLength = DEFAULT_TMP_STORAGE_LENGTH;\n      this.stackLength = 0;\n      this.runStart = null;\n      this.runLength = null;\n      this.stackSize = 0;\n\n      this.array = array;\n      this.compare = compare;\n\n      this.length = array.length;\n\n      if (this.length < 2 * DEFAULT_TMP_STORAGE_LENGTH) {\n        this.tmpStorageLength = this.length >>> 1;\n      }\n\n      this.tmp = new Array(this.tmpStorageLength);\n\n      this.stackLength = this.length < 120 ? 5 : this.length < 1542 ? 10 : this.length < 119151 ? 19 : 40;\n\n      this.runStart = new Array(this.stackLength);\n      this.runLength = new Array(this.stackLength);\n    }\n\n    TimSort.prototype.pushRun = function pushRun(runStart, runLength) {\n      this.runStart[this.stackSize] = runStart;\n      this.runLength[this.stackSize] = runLength;\n      this.stackSize += 1;\n    };\n\n    TimSort.prototype.mergeRuns = function mergeRuns() {\n      while (this.stackSize > 1) {\n        var n = this.stackSize - 2;\n\n        if (n >= 1 && this.runLength[n - 1] <= this.runLength[n] + this.runLength[n + 1] || n >= 2 && this.runLength[n - 2] <= this.runLength[n] + this.runLength[n - 1]) {\n\n          if (this.runLength[n - 1] < this.runLength[n + 1]) {\n            n--;\n          }\n        } else if (this.runLength[n] > this.runLength[n + 1]) {\n          break;\n        }\n        this.mergeAt(n);\n      }\n    };\n\n    TimSort.prototype.forceMergeRuns = function forceMergeRuns() {\n      while (this.stackSize > 1) {\n        var n = this.stackSize - 2;\n\n        if (n > 0 && this.runLength[n - 1] < this.runLength[n + 1]) {\n          n--;\n        }\n\n        this.mergeAt(n);\n      }\n    };\n\n    TimSort.prototype.mergeAt = function mergeAt(i) {\n      var compare = this.compare;\n      var array = this.array;\n\n      var start1 = this.runStart[i];\n      var length1 = this.runLength[i];\n      var start2 = this.runStart[i + 1];\n      var length2 = this.runLength[i + 1];\n\n      this.runLength[i] = length1 + length2;\n\n      if (i === this.stackSize - 3) {\n        this.runStart[i + 1] = this.runStart[i + 2];\n        this.runLength[i + 1] = this.runLength[i + 2];\n      }\n\n      this.stackSize--;\n\n      var k = gallopRight(array[start2], array, start1, length1, 0, compare);\n      start1 += k;\n      length1 -= k;\n\n      if (length1 === 0) {\n        return;\n      }\n\n      length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\n\n      if (length2 === 0) {\n        return;\n      }\n\n      if (length1 <= length2) {\n        this.mergeLow(start1, length1, start2, length2);\n      } else {\n        this.mergeHigh(start1, length1, start2, length2);\n      }\n    };\n\n    TimSort.prototype.mergeLow = function mergeLow(start1, length1, start2, length2) {\n\n      var compare = this.compare;\n      var array = this.array;\n      var tmp = this.tmp;\n      var i = 0;\n\n      for (i = 0; i < length1; i++) {\n        tmp[i] = array[start1 + i];\n      }\n\n      var cursor1 = 0;\n      var cursor2 = start2;\n      var dest = start1;\n\n      array[dest++] = array[cursor2++];\n\n      if (--length2 === 0) {\n        for (i = 0; i < length1; i++) {\n          array[dest + i] = tmp[cursor1 + i];\n        }\n        return;\n      }\n\n      if (length1 === 1) {\n        for (i = 0; i < length2; i++) {\n          array[dest + i] = array[cursor2 + i];\n        }\n        array[dest + length2] = tmp[cursor1];\n        return;\n      }\n\n      var minGallop = this.minGallop;\n\n      while (true) {\n        var count1 = 0;\n        var count2 = 0;\n        var exit = false;\n\n        do {\n          if (compare(array[cursor2], tmp[cursor1]) < 0) {\n            array[dest++] = array[cursor2++];\n            count2++;\n            count1 = 0;\n\n            if (--length2 === 0) {\n              exit = true;\n              break;\n            }\n          } else {\n            array[dest++] = tmp[cursor1++];\n            count1++;\n            count2 = 0;\n            if (--length1 === 1) {\n              exit = true;\n              break;\n            }\n          }\n        } while ((count1 | count2) < minGallop);\n\n        if (exit) {\n          break;\n        }\n\n        do {\n          count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\n\n          if (count1 !== 0) {\n            for (i = 0; i < count1; i++) {\n              array[dest + i] = tmp[cursor1 + i];\n            }\n\n            dest += count1;\n            cursor1 += count1;\n            length1 -= count1;\n            if (length1 <= 1) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest++] = array[cursor2++];\n\n          if (--length2 === 0) {\n            exit = true;\n            break;\n          }\n\n          count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\n\n          if (count2 !== 0) {\n            for (i = 0; i < count2; i++) {\n              array[dest + i] = array[cursor2 + i];\n            }\n\n            dest += count2;\n            cursor2 += count2;\n            length2 -= count2;\n\n            if (length2 === 0) {\n              exit = true;\n              break;\n            }\n          }\n          array[dest++] = tmp[cursor1++];\n\n          if (--length1 === 1) {\n            exit = true;\n            break;\n          }\n\n          minGallop--;\n        } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n        if (exit) {\n          break;\n        }\n\n        if (minGallop < 0) {\n          minGallop = 0;\n        }\n\n        minGallop += 2;\n      }\n\n      this.minGallop = minGallop;\n\n      if (minGallop < 1) {\n        this.minGallop = 1;\n      }\n\n      if (length1 === 1) {\n        for (i = 0; i < length2; i++) {\n          array[dest + i] = array[cursor2 + i];\n        }\n        array[dest + length2] = tmp[cursor1];\n      } else if (length1 === 0) {\n        throw new Error('mergeLow preconditions were not respected');\n      } else {\n        for (i = 0; i < length1; i++) {\n          array[dest + i] = tmp[cursor1 + i];\n        }\n      }\n    };\n\n    TimSort.prototype.mergeHigh = function mergeHigh(start1, length1, start2, length2) {\n      var compare = this.compare;\n      var array = this.array;\n      var tmp = this.tmp;\n      var i = 0;\n\n      for (i = 0; i < length2; i++) {\n        tmp[i] = array[start2 + i];\n      }\n\n      var cursor1 = start1 + length1 - 1;\n      var cursor2 = length2 - 1;\n      var dest = start2 + length2 - 1;\n      var customCursor = 0;\n      var customDest = 0;\n\n      array[dest--] = array[cursor1--];\n\n      if (--length1 === 0) {\n        customCursor = dest - (length2 - 1);\n\n        for (i = 0; i < length2; i++) {\n          array[customCursor + i] = tmp[i];\n        }\n\n        return;\n      }\n\n      if (length2 === 1) {\n        dest -= length1;\n        cursor1 -= length1;\n        customDest = dest + 1;\n        customCursor = cursor1 + 1;\n\n        for (i = length1 - 1; i >= 0; i--) {\n          array[customDest + i] = array[customCursor + i];\n        }\n\n        array[dest] = tmp[cursor2];\n        return;\n      }\n\n      var minGallop = this.minGallop;\n\n      while (true) {\n        var count1 = 0;\n        var count2 = 0;\n        var exit = false;\n\n        do {\n          if (compare(tmp[cursor2], array[cursor1]) < 0) {\n            array[dest--] = array[cursor1--];\n            count1++;\n            count2 = 0;\n            if (--length1 === 0) {\n              exit = true;\n              break;\n            }\n          } else {\n            array[dest--] = tmp[cursor2--];\n            count2++;\n            count1 = 0;\n            if (--length2 === 1) {\n              exit = true;\n              break;\n            }\n          }\n        } while ((count1 | count2) < minGallop);\n\n        if (exit) {\n          break;\n        }\n\n        do {\n          count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\n\n          if (count1 !== 0) {\n            dest -= count1;\n            cursor1 -= count1;\n            length1 -= count1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n\n            for (i = count1 - 1; i >= 0; i--) {\n              array[customDest + i] = array[customCursor + i];\n            }\n\n            if (length1 === 0) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest--] = tmp[cursor2--];\n\n          if (--length2 === 1) {\n            exit = true;\n            break;\n          }\n\n          count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\n\n          if (count2 !== 0) {\n            dest -= count2;\n            cursor2 -= count2;\n            length2 -= count2;\n            customDest = dest + 1;\n            customCursor = cursor2 + 1;\n\n            for (i = 0; i < count2; i++) {\n              array[customDest + i] = tmp[customCursor + i];\n            }\n\n            if (length2 <= 1) {\n              exit = true;\n              break;\n            }\n          }\n\n          array[dest--] = array[cursor1--];\n\n          if (--length1 === 0) {\n            exit = true;\n            break;\n          }\n\n          minGallop--;\n        } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n        if (exit) {\n          break;\n        }\n\n        if (minGallop < 0) {\n          minGallop = 0;\n        }\n\n        minGallop += 2;\n      }\n\n      this.minGallop = minGallop;\n\n      if (minGallop < 1) {\n        this.minGallop = 1;\n      }\n\n      if (length2 === 1) {\n        dest -= length1;\n        cursor1 -= length1;\n        customDest = dest + 1;\n        customCursor = cursor1 + 1;\n\n        for (i = length1 - 1; i >= 0; i--) {\n          array[customDest + i] = array[customCursor + i];\n        }\n\n        array[dest] = tmp[cursor2];\n      } else if (length2 === 0) {\n        throw new Error('mergeHigh preconditions were not respected');\n      } else {\n        customCursor = dest - (length2 - 1);\n        for (i = 0; i < length2; i++) {\n          array[customCursor + i] = tmp[i];\n        }\n      }\n    };\n\n    return TimSort;\n  })();\n\n  function sort(array, compare, lo, hi) {\n    if (!Array.isArray(array)) {\n      throw new TypeError('Can only sort arrays');\n    }\n\n    if (!compare) {\n      compare = alphabeticalCompare;\n    } else if (typeof compare !== 'function') {\n      hi = lo;\n      lo = compare;\n      compare = alphabeticalCompare;\n    }\n\n    if (!lo) {\n      lo = 0;\n    }\n    if (!hi) {\n      hi = array.length;\n    }\n\n    var remaining = hi - lo;\n\n    if (remaining < 2) {\n      return;\n    }\n\n    var runLength = 0;\n\n    if (remaining < DEFAULT_MIN_MERGE) {\n      runLength = makeAscendingRun(array, lo, hi, compare);\n      binaryInsertionSort(array, lo, hi, lo + runLength, compare);\n      return;\n    }\n\n    var ts = new TimSort(array, compare);\n\n    var minRun = minRunLength(remaining);\n\n    do {\n      runLength = makeAscendingRun(array, lo, hi, compare);\n      if (runLength < minRun) {\n        var force = remaining;\n        if (force > minRun) {\n          force = minRun;\n        }\n\n        binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\n        runLength = force;\n      }\n\n      ts.pushRun(lo, runLength);\n      ts.mergeRuns();\n\n      remaining -= runLength;\n      lo += runLength;\n    } while (remaining !== 0);\n\n    ts.forceMergeRuns();\n  }\n});\n","module.exports = require('./build/timsort.js');","export * from './lib/internal'","import { GeometryType, Geometry, Point, LineString } from \"./internal\";\n\n/**\n * Circular String, Curve sub type\n *\n * @author osbornb\n */\nexport class CircularString extends LineString {\n\n\tpublic constructor();\n\tpublic constructor(hasZ: boolean, hasM: boolean);\n\tpublic constructor(geometry: Geometry);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor(...args) {\n\t\tif (args.length === 0) {\n\t\t\tsuper(GeometryType.CIRCULARSTRING, false, false);\n\t\t} else if (args.length === 2) {\n\t\t\tsuper(GeometryType.CIRCULARSTRING, args[0], args[1]);\n\t\t} else if (args.length === 1 && args[0] instanceof CircularString) {\n\t\t\tsuper(GeometryType.CIRCULARSTRING, args[0].hasZ, args[1].hasM);\n\t\t\targs[0].points.forEach(point => this.addPoint(point.copy() as Point));\n\t\t} else if (args.length === 1 && args[0].length != null) {\n\t\t\tsuper(GeometryType.CIRCULARSTRING, Geometry.hasZ(args[0]), Geometry.hasM(args[0]));\n\t\t\targs[0].forEach(point => this.addPoint(point.copy()))\n\t\t} else if (args.length === 3) {\n\t\t\tsuper(args[0], args[1], args[2]);\n\t\t}\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic copy(): Geometry {\n\t\treturn new CircularString(this);\n\t}\n}\n","import { GeometryType, Geometry, Point, Curve, LineString, ShamosHoey } from \"./internal\";\n\n/**\n * Compound Curve, Curve sub type\n * \n * @author osbornb\n */\nexport class CompoundCurve extends Curve {\n\n\n\t/**\n\t * List of line strings\n\t */\n\tprivate _lineStrings: Array<LineString>\n\n\tpublic constructor();\n\tpublic constructor(hasZ: boolean, hasM: boolean);\n\tpublic constructor(lineStrings: Array<LineString>);\n\tpublic constructor(lineString: LineString);\n\tpublic constructor(compoundCurve: CompoundCurve);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor (...args) {\n\t\tif (args.length === 0) {\n\t\t\tsuper(GeometryType.COMPOUNDCURVE, false, false);\n\t\t\tthis._lineStrings = [];\n\t\t} else if (args.length === 2) {\n\t\t\tsuper(GeometryType.COMPOUNDCURVE, args[0], args[1]);\n\t\t\tthis._lineStrings = [];\n\t\t} else if (args.length === 1 && args[0].length != null) {\n\t\t\tsuper(GeometryType.COMPOUNDCURVE, Geometry.hasZ(args[0]), Geometry.hasM(args[0]));\n\t\t\tthis._lineStrings = args[0] || [];\n\t\t} else if (args.length === 1 && args[0] instanceof LineString) {\n\t\t\tsuper(GeometryType.COMPOUNDCURVE, args[0].hasZ, args[0].hasM);\n\t\t\tthis._lineStrings = [];\n\t\t\tthis.addLineString(args[0]);\n\t\t} else if (args.length === 1 && args[0] instanceof CompoundCurve) {\n\t\t\tsuper(GeometryType.COMPOUNDCURVE, args[0].hasZ, args[0].hasM);\n\t\t\tthis._lineStrings = [];\n\t\t\targs[0].lineStrings.forEach(lineString => this.addLineString(lineString.copy() as LineString))\n\t\t} else if (args.length === 3) {\n\t\t\tsuper(args[0], args[1], args[2]);\n\t\t\tthis._lineStrings = [];\n\t\t}\n\t}\n\n\t/**\n\t * Get the line strings\n\t * @return line strings\n\t */\n\tpublic get lineStrings (): Array<LineString> {\n\t\treturn this._lineStrings;\n\t}\n\n\t/**\n\t * Set the line strings\n\t * @param lineStrings line strings\n\t */\n\tpublic set lineStrings(lineStrings: Array<LineString>) {\n\t\tthis._lineStrings = lineStrings;\n\t}\n\n\t/**\n\t * Add a line string\n\t * @param lineString line string\n\t */\n\tpublic addLineString(lineString: LineString): void {\n\t\tthis._lineStrings.push(lineString);\n\t\tthis.updateZM(lineString);\n\t}\n\n\t/**\n\t * Add line strings\n\t * @param lineStrings line strings\n\t */\n\tpublic addLineStrings(lineStrings: Array<LineString>): void {\n\t\tfor (const lineString of lineStrings) {\n\t\t\tthis.addLineString(lineString);\n\t\t}\n\t}\n\n\t/**\n\t * Get the number of line strings\n\t * @return number of line strings\n\t */\n\tpublic numLineStrings(): number {\n\t\treturn this._lineStrings.length;\n\t}\n\n\t/**\n\t * Returns the Nth line string\n\t * @param n  nth line string to return\n\t * @return line string\n\t */\n\tpublic getLineString(n: number): LineString {\n\t\treturn this._lineStrings[n];\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic startPoint(): Point {\n\t\tlet startPoint: Point = null;\n\t\tif (!this.isEmpty()) {\n\t\t\tfor (const lineString of this._lineStrings) {\n\t\t\t\tif (!lineString.isEmpty()) {\n\t\t\t\t\tstartPoint = lineString.startPoint();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn startPoint;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic endPoint(): Point {\n\t\tlet endPoint: Point = null;\n\t\tif (!this.isEmpty()) {\n\t\t\tfor (let i = this._lineStrings.length - 1; i >= 0; i--) {\n\t\t\t\tconst lineString: LineString = this._lineStrings[i];\n\t\t\t\tif (!lineString.isEmpty()) {\n\t\t\t\t\tendPoint = lineString.endPoint();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn endPoint;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic isSimple(): boolean {\n\t\treturn ShamosHoey.simplePolygonLineStrings(this._lineStrings);\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic copy(): Geometry {\n\t\treturn new CompoundCurve(this);\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic isEmpty(): boolean {\n\t\treturn this._lineStrings.length === 0;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic equals(obj: Geometry): boolean {\n\t\tlet equal = true;\n\t\tif (obj instanceof CompoundCurve && this.numLineStrings() === obj.numLineStrings()) {\n\t\t\tfor (let i = 0; i < this._lineStrings.length; i++) {\n\t\t\t\tif (!this.getLineString(i).equals(obj.getLineString(i))) {\n\t\t\t\t\tequal = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tequal = false;\n\t\t}\n\t\treturn equal;\n\t}\n}\n","import { GeometryType, Geometry, Point } from \"./internal\";\n\n/**\n * The base type for all 1-dimensional geometry types. A 1-dimensional geometry\n * is a geometry that has a length, but no area. A curve is considered simple if\n * it does not intersect itself (except at the start and end point). A curve is\n * considered closed its start and end point are coincident. A simple, closed\n * curve is called a ring.\n */\nexport abstract class Curve extends Geometry {\n\t/**\n\t * Constructor\n\t * @param type geometry type\n\t * @param hasZ has z\n\t * @param hasM has m\n\t */\n\tprotected constructor (type: GeometryType, hasZ: boolean, hasM: boolean) {\n\t\tsuper(type, hasZ, hasM);\n\t}\n\n\t/**\n\t * Get the start Point of this Curve\n\t *\n\t * @return start point\n\t */\n\tpublic abstract startPoint (): Point;\n\n\t/**\n\t * Get the end Point of this Curve\n\t *\n\t * @return end point\n\t */\n\tpublic abstract endPoint (): Point;\n\n\t/**\n\t * Determine if this Curve is closed (start point = end point)\n\t * @return true if closed\n\t */\n\tpublic isClosed (): boolean {\n\t\treturn !this.isEmpty() && this.startPoint().equals(this.endPoint());\n\t}\n\n\t/**\n\t * Check for curve equality\n\t */\n\tpublic abstract equals (obj: Geometry): boolean;\n\n}\n","import { GeometryType, Geometry, Surface, Curve, UnsupportedOperationException } from \"./internal\";\n\n/**\n * A planar surface defined by an exterior ring and zero or more interior ring.\n * Each ring is defined by a Curve instance.\n * @param <T> curve type\n */\nexport class CurvePolygon<T extends Curve> extends Surface {\n\t/**\n\t * List of rings\n\t */\n\tprivate _rings: Array<T>;\n\n\tpublic constructor();\n\tpublic constructor(hasZ: boolean, hasM: boolean);\n\tpublic constructor(rings: Array<T>);\n\tpublic constructor(ring: T);\n\tpublic constructor(curvePolygon: CurvePolygon<T>);\n\tpublic constructor(type: GeometryType, hasZ: boolean, hasM: boolean);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor (...args) {\n\t\tif (args.length === 0) {\n\t\t\tsuper(GeometryType.CURVEPOLYGON, false, false);\n\t\t\tthis._rings = [];\n\t\t} else if (args.length === 2) {\n\t\t\tsuper(GeometryType.CURVEPOLYGON, args[0], args[1]);\n\t\t\tthis._rings = [];\n\t\t} else if (args.length === 1 && args[0].length != null) {\n\t\t\tsuper(GeometryType.CURVEPOLYGON, Geometry.hasZ(args[0]), Geometry.hasM(args[0]));\n\t\t\tthis.rings = args[0] || [];\n\t\t} else if (args.length === 1 && args[0] instanceof Curve) {\n\t\t\tsuper(GeometryType.CURVEPOLYGON, args[0].hasZ, args[0].hasM);\n\t\t\tthis._rings = [];\n\t\t\tthis.addRing(args[0] as T);\n\t\t} else if (args.length === 1 && args[0] instanceof CurvePolygon) {\n\t\t\tsuper(GeometryType.CURVEPOLYGON, args[0].hasZ, args[0].hasM);\n\t\t\tthis._rings = [];\n\t\t\targs[0].rings.forEach(ring => this.addRing(ring.copy() as T))\n\t\t} else if (args.length === 3) {\n\t\t\tsuper(args[0], args[1], args[2]);\n\t\t\tthis._rings = [];\n\t\t}\n\t}\n\n\n\t/**\n\t * Get the rings\n\t * @return rings\n\t */\n\tpublic get rings(): Array<T> {\n\t\treturn this._rings;\n\t}\n\n\t/**\n\t * Set the rings\n\t * @param rings rings\n\t */\n\tpublic set rings(rings: Array<T>) {\n\t\tthis._rings = [];\n\t\trings.forEach(ring => this.addRing(ring));\n\t}\n\n\t/**\n\t * Add a ring\n\t * @param ring ring\n\t */\n\tpublic addRing(ring: T): void {\n\t\tthis._rings.push(ring);\n\t\tthis.updateZM(ring);\n\t}\n\n\t/**\n\t * Add rings\n\t * @param rings rings\n\t */\n\tpublic addRings(rings: Array<T>): void {\n\t\trings.forEach(ring => this.addRing(ring));\n\t}\n\n\t/**\n\t * Get the number of rings including exterior and interior\n\t * @return number of rings\n\t */\n\tpublic numRings(): number {\n\t\treturn this._rings.length;\n\t}\n\n\t/**\n\t * Returns the Nth ring where the exterior ring is at 0, interior rings\n\t * begin at 1\n\t * @param n nth ring to return\n\t * @return ring\n\t */\n\tpublic getRing (n: number): Curve {\n\t\treturn this._rings[n];\n\t}\n\n\t/**\n\t * Get the exterior ring\n\t * \n\t * @return exterior ring\n\t */\n\tpublic getExteriorRing (): T {\n\t\treturn this._rings[0];\n\t}\n\n\t/**\n\t * Get the number of interior rings\n\t * \n\t * @return number of interior rings\n\t */\n\tpublic numInteriorRings(): number {\n\t\treturn this._rings.length - 1;\n\t}\n\n\t/**\n\t * Returns the Nth interior ring for this Polygon\n\t * @param n interior ring number\n\t * @return interior ring\n\t */\n\tpublic getInteriorRing(n: number): T {\n\t\treturn this._rings[n + 1];\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic copy(): Geometry {\n\t\treturn new CurvePolygon(this);\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic isEmpty(): boolean {\n\t\treturn this._rings.length === 0;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic isSimple(): boolean {\n\t\tthrow new UnsupportedOperationException(\"Is Simple not implemented for CurvePolygon\");\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic equals(obj: Geometry): boolean {\n\t\tlet equal = true;\n\t\tif (obj instanceof CurvePolygon) {\n\t\t\tif (this.numRings() === obj.numRings()) {\n\t\t\t\tfor (let i = 0; i < this.numRings(); i++) {\n\t\t\t\t\tif (!this.getRing(i).equals(obj.getRing(i))) {\n\t\t\t\t\t\tequal = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tequal = false;\n\t\t\t}\n\t\t} else {\n\t\t\tequal = false;\n\t\t}\n\t\treturn equal\n\t}\n}\n","import {GeometryEnvelope, GeometryEnvelopeBuilder, GeometryType, GeometryUtils, Point } from './internal'\n\n/**\n * The root of the geometry type hierarchy\n */\nexport abstract class Geometry {\n\n  /**\n   * Geometry type\n   */\n  private readonly _geometryType: GeometryType;\n\n  /**\n   * Has z coordinates\n   */\n  private _hasZ: boolean;\n\n  /**\n   * Has m values\n   */\n  private _hasM: boolean;\n\n  /**\n   * Constructor\n   * @param geometryType geometry type\n   * @param hasZ has z\n   * @param hasM has m\n   */\n  protected constructor(geometryType: GeometryType, hasZ: boolean, hasM: boolean) {\n    this._geometryType = geometryType;\n    this._hasZ = hasZ;\n    this._hasM = hasM;\n  }\n\n  /**\n   * Get the geometry type\n   * @return geometry type\n   */\n  public get geometryType(): GeometryType {\n    return this._geometryType;\n  }\n\n  /**\n   * Does the geometry have z coordinates\n   * @return true if has z coordinates\n   */\n  public get hasZ(): boolean {\n    return this._hasZ;\n  }\n\n  /**\n   * Set if the geometry has z coordinates\n   * @param hasZ true if has z coordinates\n   */\n  public set hasZ (hasZ: boolean) {\n    this._hasZ = hasZ;\n  }\n\n  /**\n   * Does the geometry have z coordinates\n   * @return true if has z coordinates\n   * @see #hasZ()\n   */\n  public get is3D (): boolean {\n    return this.hasZ;\n  }\n\n  /**\n   * Does the geometry have m coordinates\n   * @return true if has m coordinates\n   */\n  public get hasM (): boolean {\n    return this._hasM;\n  }\n\n  /**\n   * Set if the geometry has m coordinates\n   * @param hasM true if has m coordinates\n   */\n  public set hasM (hasM: boolean) {\n    this._hasM = hasM;\n  }\n\n  /**\n   * Update currently false hasZ and hasM values using the provided geometry\n   * @param geometry  geometry\n   */\n  public updateZM (geometry: Geometry): void {\n    if (!this.hasZ) {\n      this.hasZ = geometry.hasZ;\n    }\n    if (!this.hasM) {\n      this.hasM = geometry.hasM;\n    }\n  }\n\n  /**\n   * Determine if the geometries contain a Z value\n   * @param geometries list of geometries\n   * @return true if has z\n   */\n  public static hasZ (geometries: Array<Geometry>) : boolean{\n    let hasZ = false;\n    for (const geometry of geometries) {\n      if (geometry.hasZ) {\n        hasZ = true;\n        break;\n      }\n    }\n    return hasZ;\n  }\n\n  /**\n   * Determine if the geometries contain a M value\n   * @param geometries list of geometries\n   * @return true if has m\n   */\n  public static hasM (geometries: Array<Geometry>) {\n    let hasM = false;\n    for (const geometry of geometries) {\n      if (geometry.hasM) {\n        hasM = true;\n        break;\n      }\n    }\n    return hasM;\n  }\n\n  /**\n   * Does the geometry have m coordinates.\n   * @return true if has m coordinates\n   * @see #hasM()\n   */\n  public isMeasured (): boolean {\n    return this.hasM;\n  }\n\n  /**\n   * Get the minimum bounding box for this Geometry\n   * @return geometry envelope\n   */\n  public getEnvelope(): GeometryEnvelope {\n    return GeometryEnvelopeBuilder.buildEnvelope(this);\n  }\n\n  /**\n   * Expand the envelope with the minimum bounding box for this Geometry\n   * @param envelope geometry envelope to expand\n   */\n  public expandEnvelope(envelope: GeometryEnvelope): void {\n    GeometryEnvelopeBuilder.buildEnvelopeWithEnvelope(this, envelope);\n  }\n\n  /**\n   * Get the inherent dimension (0, 1, or 2) for this Geometry\n   * @return dimension\n   */\n  public getDimension(): number {\n    return GeometryUtils.getDimension(this);\n  }\n\n  /**\n   * Get the mathematical centroid point of a 2 dimensional representation of\n   * the Geometry (balancing point of a 2d cutout of the geometry). Only the x\n   * and y coordinate of the resulting point are calculated and populated. The\n   * resulting {@link Point#getZ()} and {@link Point#getM()} methods will\n   * always return null.\n   * @return centroid point\n   */\n  public getCentroid(): Point {\n    return GeometryUtils.getCentroid(this);\n  }\n\n  /**\n   * Get the geographic centroid point of a 2 dimensional representation of\n   * the degree unit Geometry. Only the x and y coordinate of the resulting\n   * point are calculated and populated. The resulting {@link Point#getZ()}\n   * and {@link Point#getM()} methods will always return null.\n   * @return centroid point\n   */\n  public getDegreesCentroid(): Point {\n    return GeometryUtils.getDegreesCentroid(this);\n  }\n\n  /**\n   * Copy the geometry\n   * @return geometry copy\n   */\n  public abstract copy(): Geometry;\n\n  /**\n   * Is the Geometry empty\n   * @return true if empty\n   */\n  public abstract isEmpty(): boolean;\n\n  /**\n   * Determine if this Geometry has no anomalous geometric points, such as\n   * self intersection or self tangency\n   * @return true if simple\n   */\n  public abstract isSimple(): boolean;\n\n  public equals (obj: Geometry): boolean {\n    return !(this.geometryType !== obj.geometryType || this.hasM !== obj.hasM || this.hasZ !== obj.hasZ)\n  }\n}","import {\n\tGeometryType,\n\tGeometry,\n\tCurve,\n\tSurface,\n\tPoint,\n\tLineString,\n\tPolygon,\n\tMultiPoint,\n\tMultiLineString,\n\tMultiPolygon,\n\tUnsupportedOperationException,\n\tSFException\n} from './internal'\n\n/**\n * A collection of zero or more Geometry instances.\n * @param <T> geometry type\n */\nexport class GeometryCollection<T extends Geometry> extends Geometry {\n\n\t/**\n\t * List of geometries\n\t */\n\tprivate _geometries: Array<T>;\n\n\tpublic constructor();\n\tpublic constructor(geometryCollection: GeometryCollection<T>);\n\tpublic constructor(geometries: Array<T>);\n\tpublic constructor(geometry: Geometry);\n\tpublic constructor(hasZ: boolean, hasM: boolean);\n\tpublic constructor(type: GeometryType, hasZ: boolean, hasM: boolean);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor(...args) {\n\t\tif (args.length === 0) {\n\t\t\tsuper(GeometryType.GEOMETRYCOLLECTION, false, false);\n\t\t\tthis._geometries = [];\n\t\t} else if (args.length === 2) {\n\t\t\tsuper(GeometryType.GEOMETRYCOLLECTION, args[0], args[1]);\n\t\t\tthis._geometries = [];\n\t\t} else if (args.length === 1 && args[0].length != null) {\n\t\t\tsuper(GeometryType.GEOMETRYCOLLECTION, Geometry.hasZ(args[0]), Geometry.hasM(args[0]));\n\t\t\tthis.geometries = args[0] || [];\n\t\t} else if (args.length === 1 && args[0] instanceof GeometryCollection) {\n\t\t\tsuper(GeometryType.GEOMETRYCOLLECTION, args[0].hasZ, args[0].hasM);\n\t\t\tthis._geometries = [];\n\t\t\targs[0].geometries.forEach(geometry => this.addGeometry(geometry))\n\t\t} else if (args.length === 1 && args[0] instanceof Geometry) {\n\t\t\tsuper(GeometryType.GEOMETRYCOLLECTION, args[0].hasZ, args[0].hasM);\n\t\t\tthis._geometries = [];\n\t\t\tthis.addGeometry(args[0] as T);\n\t\t} else if (args.length === 3) {\n\t\t\tsuper(args[0], args[1], args[2]);\n\t\t\tthis._geometries = [];\n\t\t}\n\t}\n\n\t/**\n\t * Get the list of geometries\n\t * @return geometries\n\t */\n\tpublic get geometries(): Array<T> {\n\t\treturn this._geometries;\n\t}\n\n\t/**\n\t * Set the geometries\n\t * @param geometries geometries\n\t */\n\tpublic set geometries(geometries: Array<T>) {\n\t\tthis._geometries = [];\n\t\tgeometries.forEach(geometry => this.addGeometry(geometry));\n\t}\n\n\t/**\n\t * Add a geometry\n\t * @param geometry geometry\n\t */\n\tpublic addGeometry(geometry: T): void {\n\t\tthis._geometries.push(geometry);\n\t\tthis.updateZM(geometry);\n\t}\n\n\t/**\n\t * Add geometries\n\t * @param geometries geometries\n\t */\n\tpublic addGeometries(geometries: Array<T>): void {\n\t\tgeometries.forEach(geometry => this.addGeometry(geometry));\n\t}\n\n\t/**\n\t * Get the number of geometries in the collection\n\t * \n\t * @return number of geometries\n\t */\n\tpublic numGeometries(): number {\n\t\treturn this._geometries.length;\n\t}\n\n\t/**\n\t * Returns the Nth geometry\n\t * @param n nth geometry to return\n\t * @return geometry\n\t */\n\tpublic getGeometry(n: number): T {\n\t\treturn this._geometries[n];\n\t}\n\n\t/**\n\t * Get the collection type by evaluating the geometries\n\t * @return collection geometry type, one of: {@link GeometryType#MULTIPOINT},\n\t * \t\t   {@link GeometryType#MULTILINESTRING},\n\t *         {@link GeometryType#MULTIPOLYGON},\n\t *         {@link GeometryType#MULTICURVE},\n\t *         {@link GeometryType#MULTISURFACE},\n\t *         {@link GeometryType#GEOMETRYCOLLECTION}\n\t */\n\tpublic getCollectionType(): GeometryType {\n\t\tlet geometryType: GeometryType = this.geometryType;\n\n\t\tswitch (geometryType) {\n\t\tcase GeometryType.MULTIPOINT:\n\t\tcase GeometryType.MULTILINESTRING:\n\t\tcase GeometryType.MULTIPOLYGON:\n\t\t\tbreak;\n\t\tcase GeometryType.GEOMETRYCOLLECTION:\n\t\tcase GeometryType.MULTICURVE:\n\t\tcase GeometryType.MULTISURFACE:\n\t\t\tif (this.isMultiPoint()) {\n\t\t\t\tgeometryType = GeometryType.MULTIPOINT;\n\t\t\t} else if (this.isMultiLineString()) {\n\t\t\t\tgeometryType = GeometryType.MULTILINESTRING;\n\t\t\t} else if (this.isMultiPolygon()) {\n\t\t\t\tgeometryType = GeometryType.MULTIPOLYGON;\n\t\t\t} else if (this.isMultiCurve()) {\n\t\t\t\tgeometryType = GeometryType.MULTICURVE;\n\t\t\t} else if (this.isMultiSurface()) {\n\t\t\t\tgeometryType = GeometryType.MULTISURFACE;\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new SFException(\"Unexpected Geometry Collection Type: \" + geometryType);\n\t\t}\n\n\t\treturn geometryType;\n\t}\n\n\t/**\n\t * Determine if this geometry collection is a {@link MultiPoint} instance or\n\t * contains only {@link Point} geometries\n\t * @return true if a multi point or contains only points\n\t */\n\tpublic isMultiPoint(): boolean {\n\t\tlet isMultiPoint = this instanceof MultiPoint;\n\t\tif (!isMultiPoint) {\n\t\t\tisMultiPoint = this.isCollectionOfType(Point);\n\t\t}\n\t\treturn isMultiPoint;\n\t}\n\n\t/**\n\t * Get as a {@link MultiPoint}, either the current instance or newly created\n\t * from the {@link Point} geometries\n\t * \n\t * @return multi point\n\t */\n\tpublic getAsMultiPoint (): MultiPoint {\n\t\tlet multiPoint;\n\t\tif (this instanceof MultiPoint) {\n\t\t\tmultiPoint = this as MultiPoint;\n\t\t} else {\n\t\t\tmultiPoint = new MultiPoint(this._geometries as unknown as Array<Point>);\n\t\t}\n\t\treturn multiPoint;\n\t}\n\n\t/**\n\t * Determine if this geometry collection is a {@link MultiLineString}\n\t * instance or contains only {@link LineString} geometries\n\t * @return true if a multi line string or contains only line strings\n\t */\n\tpublic isMultiLineString(): boolean {\n\t\tlet isMultiLineString: boolean = this instanceof MultiLineString;\n\t\tif (!isMultiLineString) {\n\t\t\tisMultiLineString = this.isCollectionOfType(LineString);\n\t\t}\n\t\treturn isMultiLineString;\n\t}\n\n\t/**\n\t * Get as a {@link MultiLineString}, either the current instance or newly\n\t * created from the {@link LineString} geometries\n\t * @return multi line string\n\t */\n\tpublic getAsMultiLineString(): MultiLineString {\n\t\tlet multiLineString: MultiLineString;\n\t\tif (this instanceof MultiLineString) {\n\t\t\tmultiLineString = this as MultiLineString;\n\t\t} else {\n\t\t\tmultiLineString = new MultiLineString(this._geometries as unknown as Array<LineString>);\n\t\t}\n\t\treturn multiLineString;\n\t}\n\n\t/**\n\t * Determine if this geometry collection is a {@link MultiPolygon} instance\n\t * or contains only {@link Polygon} geometries\n\t * @return true if a multi polygon or contains only polygons\n\t */\n\tpublic isMultiPolygon(): boolean {\n\t\tlet isMultiPolygon: boolean = this instanceof MultiPolygon;\n\t\tif (!isMultiPolygon) {\n\t\t\tisMultiPolygon = this.isCollectionOfType(Polygon);\n\t\t}\n\t\treturn isMultiPolygon;\n\t}\n\n\t/**\n\t * Get as a {@link MultiPolygon}, either the current instance or newly\n\t * created from the {@link Polygon} geometries\n\t * \n\t * @return multi polygon\n\t */\n\tpublic getAsMultiPolygon(): MultiPolygon {\n\t\tlet multiPolygon: MultiPolygon;\n\t\tif (this instanceof MultiPolygon) {\n\t\t\tmultiPolygon = this as MultiPolygon;\n\t\t} else {\n\t\t\tmultiPolygon = new MultiPolygon(this._geometries as unknown as Array<Polygon>);\n\t\t}\n\t\treturn multiPolygon;\n\t}\n\n\t/**\n\t * Determine if this geometry collection contains only {@link Curve}\n\t * geometries\n\t * @return true if contains only curves\n\t */\n\tpublic isMultiCurve(): boolean {\n\t\tlet isMultiCurve: boolean = this instanceof MultiLineString;\n\t\tif (!isMultiCurve) {\n\t\t\tisMultiCurve = this.isCollectionOfType(Curve);\n\t\t}\n\t\treturn isMultiCurve;\n\t}\n\n\t/**\n\t * Get as a Multi Curve, a {@link Curve} typed Geometry Collection\n\t * @return multi curve\n\t */\n\tpublic getAsMultiCurve(): GeometryCollection<Curve> {\n\t\tlet multiCurve: GeometryCollection<Curve>;\n\t\tif (this instanceof MultiLineString) {\n\t\t\tmultiCurve = new GeometryCollection<Curve>(this.geometries);\n\t\t} else {\n\t\t\tmultiCurve = this as unknown as GeometryCollection<Curve>;\n\t\t\tif (!multiCurve.isEmpty()) {\n\t\t\t\tconst curve: Curve = multiCurve.getGeometry(0);\n\t\t\t}\n\t\t}\n\t\treturn multiCurve;\n\t}\n\n\t/**\n\t * Determine if this geometry collection contains only {@link Surface}\n\t * geometries\n\t * \n\t * @return true if contains only surfaces\n\t */\n\tpublic isMultiSurface(): boolean {\n\t\tlet isMultiSurface = this instanceof MultiPolygon;\n\t\tif (!isMultiSurface) {\n\t\t\tisMultiSurface = this.isCollectionOfType(Surface);\n\t\t}\n\t\treturn isMultiSurface;\n\t}\n\n\t/**\n\t * Get as a Multi Surface, a {@link Surface} typed Geometry Collection\n\t * @return multi surface\n\t */\n\tpublic getAsMultiSurface(): GeometryCollection<Surface> {\n\t\tlet multiSurface: GeometryCollection<Surface>;\n\t\tif (this instanceof MultiPolygon) {\n\t\t\tmultiSurface = new GeometryCollection<Surface>(this.geometries);\n\t\t} else {\n\t\t\tmultiSurface = this as unknown as GeometryCollection<Curve>;\n\t\t\tif (!multiSurface.isEmpty()) {\n\t\t\t\tconst surface: Surface = multiSurface.getGeometry(0);\n\t\t\t}\n\t\t}\n\t\treturn multiSurface;\n\t}\n\n\t/**\n\t * Get as a top level Geometry Collection\n\t * @return geometry collection\n\t */\n\tpublic getAsGeometryCollection (): GeometryCollection<Geometry> {\n\t\treturn new GeometryCollection<Geometry>(this.geometries);\n\t}\n\n\t/**\n\t * Determine if the geometries in this collection are made up only of the\n\t * provided geometry class type\n\t * @param type geometry class type\n\t * @return true if a collection of the type\n\t */\n\tprivate isCollectionOfType(type): boolean {\n\t\tlet isType = true;\n\t\tfor ( let i = 0; i < this._geometries.length; i++) {\n\t\t\tconst geometry = this._geometries[i]\n\t\t\tif (!(geometry instanceof type)) {\n\t\t\t\tisType = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn isType;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic copy(): Geometry {\n\t\treturn new GeometryCollection<T>(this);\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic isEmpty(): boolean {\n\t\treturn this._geometries.length === 0;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic isSimple(): boolean {\n\t\tthrow new UnsupportedOperationException(\"Is Simple not implemented for GeometryCollection\");\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic equals(obj: Geometry): boolean {\n\t\tlet equals = true;\n\t\tif (obj instanceof GeometryCollection && this.numGeometries() === obj.numGeometries()) {\n\t\t\tfor (let i = 0; i < this.numGeometries(); i++) {\n\t\t\t\tif (!this.getGeometry(i).equals(obj.getGeometry(i))) {\n\t\t\t\t\tequals = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tequals = false;\n\t\t}\n\t\treturn equals;\n\t}\n}\n","import { Geometry, Point, LineString, Polygon, Line } from \"./internal\";\n\n/**\n * Geometry envelope\n */\nexport class GeometryEnvelope {\n\t/**\n\t * Min X\n\t */\n\tprivate _minX: number;\n\n\t/**\n\t * Max X\n\t */\n\tprivate _maxX: number;\n\n\t/**\n\t * Min Y\n\t */\n\tprivate _minY: number;\n\n\t/**\n\t * Max Y\n\t */\n\tprivate _maxY: number;\n\n\t/**\n\t * True if has z coordinates\n\t */\n\tprivate _hasZ: boolean = false;\n\n\t/**\n\t * Min Z\n\t */\n\tprivate _minZ: number;\n\n\t/**\n\t * Max Z\n\t */\n\tprivate _maxZ: number;\n\n\t/**\n\t * True if has M measurements\n\t */\n\tprivate _hasM: boolean = false;\n\n\t/**\n\t * Min M\n\t */\n\tprivate _minM: number;\n\n\t/**\n\t * Max M\n\t */\n\tprivate _maxM: number;\n\n\tpublic constructor();\n\tpublic constructor(envelope: GeometryEnvelope);\n\tpublic constructor(hasZ: boolean, hasM: boolean);\n\tpublic constructor(minX: number, minY: number, maxX: number, maxY: number);\n\tpublic constructor(minX: number, minY: number, minZ: number, maxX: number, maxY: number, maxZ: number);\n\tpublic constructor(minX: number, minY: number, minZ: number, minM: number, maxX: number, maxY: number, maxZ: number, maxM: number);\n\n\t/**\n\t * Constructor\n\t */\n\tconstructor(...args) {\n\t\tif (args.length === 1 && args[0] instanceof GeometryEnvelope) {\n\t\t\tthis.minX = args[0].minX;\n\t\t\tthis.maxX = args[0].maxX;\n\t\t\tthis.minY = args[0].minY;\n\t\t\tthis.maxY = args[0].maxY;\n\t\t\tthis.hasZ = args[0].hasZ;\n\t\t\tthis.minZ = args[0].minZ;\n\t\t\tthis.maxZ = args[0].maxZ;\n\t\t\tthis.hasM = args[0].hasM;\n\t\t\tthis.minM = args[0].minM;\n\t\t\tthis.maxM = args[0].maxM;\n\t\t} else if (args.length === 2) {\n\t\t\tthis.hasZ = args[0];\n\t\t\tthis.hasM = args[1];\n\t\t} else if (args.length === 4) {\n\t\t\tthis.minX = args[0];\n\t\t\tthis.minY = args[1];\n\t\t\tthis.maxX = args[2];\n\t\t\tthis.maxY = args[3];\n\t\t} else if (args.length === 6) {\n\t\t\tthis.minX = args[0];\n\t\t\tthis.minY = args[1];\n\t\t\tthis.minZ = args[2];\n\t\t\tthis.maxX = args[3];\n\t\t\tthis.maxY = args[4];\n\t\t\tthis.maxZ = args[5];\n\t\t} else if (args.length === 8) {\n\t\t\tthis.minX = args[0];\n\t\t\tthis.minY = args[1];\n\t\t\tthis.minZ = args[2];\n\t\t\tthis.minM = args[3];\n\t\t\tthis.maxX = args[4];\n\t\t\tthis.maxY = args[5];\n\t\t\tthis.maxZ = args[6];\n\t\t\tthis.maxM = args[7];\n\t\t}\n\t}\n\n\t/**\n\t * True if has Z coordinates\n\t * \n\t * @return has z\n\t * @see #hasZ()\n\t */\n\tpublic is3D(): boolean {\n\t\treturn this.hasZ;\n\t}\n\t/**\n\t * True if has M measurements\n\t * @return has m\n\t * @see #hasM()\n\t */\n\tpublic isMeasured(): boolean {\n\t\treturn this.hasM;\n\t}\n\n\t/**\n\t * Get min x\n\t * @return min x\n\t */\n\tpublic get minX() {\n\t\treturn this._minX;\n\t}\n\n\t/**\n\t * Set min x\n\t * @param minX min x\n\t */\n\tpublic set minX(minX: number) {\n\t\tthis._minX = minX;\n\t}\n\n\t/**\n\t * Get max x\n\t * @return max x\n\t */\n\tpublic get maxX(): number {\n\t\treturn this._maxX;\n\t}\n\n\t/**\n\t * Set max x\n\t * @param maxX max x\n\t */\n\tpublic set maxX(maxX: number) {\n\t\tthis._maxX = maxX;\n\t}\n\n\t/**\n\t * Get min y\n\t * @return min y\n\t */\n\tpublic get minY(): number {\n\t\treturn this._minY;\n\t}\n\n\t/**\n\t * Set min y\n\t * @param minY min y\n\t */\n\tpublic set minY(minY: number) {\n\t\tthis._minY = minY;\n\t}\n\n\t/**\n\t * Get max y\n\t * @return max y\n\t */\n\tpublic get maxY() {\n\t\treturn this._maxY;\n\t}\n\n\t/**\n\t * Set max y\n\t * @param maxY max y\n\t */\n\tpublic set maxY(maxY: number) {\n\t\tthis._maxY = maxY;\n\t}\n\n\t/**\n\t * True if has Z coordinates\n\t * @return has z\n\t */\n\tpublic get hasZ(): boolean {\n\t\treturn this._hasZ;\n\t}\n\n\t/**\n\t * Set has z coordinates\n\t * @param hasZ has z\n\t */\n\tpublic set hasZ(hasZ: boolean) {\n\t\tthis._hasZ = hasZ;\n\t}\n\n\t/**\n\t * Get min z\n\t * @return min z\n\t */\n\tpublic get minZ(): number {\n\t\treturn this._minZ;\n\t}\n\n\t/**\n\t * Set min z\n\t * @param minZ min z\n\t */\n\tpublic set minZ(minZ: number) {\n\t\tthis._minZ = minZ;\n\t}\n\n\t/**\n\t * Get max z\n\t * @return max z\n\t */\n\tpublic get maxZ(): number {\n\t\treturn this._maxZ;\n\t}\n\n\t/**\n\t * Set max z\n\t * @param maxZ max z\n\t */\n\tpublic set maxZ(maxZ: number) {\n\t\tthis._maxZ = maxZ;\n\t}\n\n\t/**\n\t * Has m coordinates\n\t * @return true if has m coordinates\n\t */\n\tpublic get hasM(): boolean {\n\t\treturn this._hasM;\n\t}\n\n\t/**\n\t * Set has m coordinates\n\t * @param hasM has m\n\t */\n\tpublic set hasM(hasM: boolean) {\n\t\tthis._hasM = hasM;\n\t}\n\n\t/**\n\t * Get min m\n\t * @return min m\n\t */\n\tpublic get minM(): number {\n\t\treturn this._minM;\n\t}\n\n\t/**\n\t * Set min m\n\t * @param minM min m\n\t */\n\tpublic set minM(minM: number) {\n\t\tthis._minM = minM;\n\t}\n\n\t/**\n\t * Get max m\n\t * @return max m\n\t */\n\tpublic get maxM(): number {\n\t\treturn this._maxM;\n\t}\n\n\t/**\n\t * Set max m\n\t * @param maxM max m\n\t */\n\tpublic set maxM(maxM: number) {\n\t\tthis._maxM = maxM;\n\t}\n\n\t/**\n\t * Get the x range\n\t * @return x range\n\t */\n\tpublic get xRange(): number {\n\t\treturn this._maxX - this._minX;\n\t}\n\n\t/**\n\t * Get the y range\n\t * @return y range\n\t */\n\tpublic get yRange(): number {\n\t\treturn this._maxY - this._minY;\n\t}\n\n\t/**\n\t * Get the z range\n\t * @return z range\n\t */\n\tpublic get zRange(): number {\n\t\tlet range = null;\n\t\tif (this._minZ != null && this._maxZ != null) {\n\t\t\trange = this._maxZ - this._minZ;\n\t\t}\n\t\treturn range;\n\t}\n\n\t/**\n\t * Get the m range\n\t * @return m range\n\t */\n\tpublic get mRange(): number {\n\t\tlet range = null;\n\t\tif (this._minM != null && this._maxM != null) {\n\t\t\trange = this._maxM - this._minM;\n\t\t}\n\t\treturn range;\n\t}\n\n\t/**\n\t * Determine if the envelope is of a single point\n\t * @return true if a single point bounds\n\t * @since 2.0.5\n\t */\n\tpublic isPoint(): boolean {\n\t\treturn this._minX === this._maxX && this._minY === this._maxY\n\t}\n\n\t/**\n\t * Get the top left point\n\t * \n\t * @return top left point\n\t * @since 1.1.1\n\t */\n\tpublic getTopLeft(): Point {\n\t\treturn new Point(this.minX, this.maxY);\n\t}\n\n\t/**\n\t * Get the bottom left point\n\t * \n\t * @return bottom left point\n\t * @since 1.1.1\n\t */\n\tpublic getBottomLeft(): Point {\n\t\treturn new Point(this.minX, this.minY);\n\t}\n\n\t/**\n\t * Get the bottom right point\n\t * \n\t * @return bottom right point\n\t * @since 1.1.1\n\t */\n\tpublic getBottomRight(): Point {\n\t\treturn new Point(this.maxX, this.minY);\n\t}\n\n\t/**\n\t * Get the top right point\n\t * \n\t * @return top right point\n\t * @since 1.1.1\n\t */\n\tpublic getTopRight(): Point {\n\t\treturn new Point(this.maxX, this.maxY);\n\t}\n\n\t/**\n\t * Get the left line\n\t * \n\t * @return left line\n\t * @since 1.1.1\n\t */\n\tpublic getLeft(): Line {\n\t\treturn new Line(this.getTopLeft(), this.getBottomLeft());\n\t}\n\n\t/**\n\t * Get the bottom line\n\t * \n\t * @return bottom line\n\t * @since 1.1.1\n\t */\n\tpublic getBottom(): Line {\n\t\treturn new Line(this.getBottomLeft(), this.getBottomRight());\n\t}\n\n\t/**\n\t * Get the right line\n\t * \n\t * @return right line\n\t * @since 1.1.1\n\t */\n\tpublic getRight(): Line {\n\t\treturn new Line(this.getBottomRight(), this.getTopRight());\n\t}\n\n\t/**\n\t * Get the top line\n\t * \n\t * @return top line\n\t * @since 1.1.1\n\t */\n\tpublic getTop(): Line {\n\t\treturn new Line(this.getTopRight(), this.getTopLeft());\n\t}\n\n\t/**\n\t * Get the envelope mid x\n\t * \n\t * @return mid x\n\t * @since 1.0.3\n\t */\n\tpublic getMidX(): number {\n\t\treturn (this.minX + this.maxX) / 2.0;\n\t}\n\n\t/**\n\t * Get the envelope mid y\n\t * \n\t * @return mid y\n\t * @since 1.0.3\n\t */\n\tpublic getMidY(): number {\n\t\treturn (this.minY + this.maxY) / 2.0;\n\t}\n\n\t/**\n\t * Get the envelope centroid point\n\t * @return centroid point\n\t */\n\tpublic get centroid(): Point {\n\t\treturn new Point((this._minX + this._maxX) / 2.0, (this._minY + this._maxY) / 2.0);\n\t}\n\n\t/**\n\t * Determine if the envelope is empty\n\t * \n\t * @return true if empty\n\t * @since 1.1.1\n\t */\n\tpublic isEmpty(): boolean {\n\t\treturn this.xRange <= 0.0 || this.yRange <= 0.0;\n\t}\n\n\t/**\n\t * Determine if intersects with the provided envelope\n\t * @param envelope geometry envelope\n\t * @param allowEmpty allow empty ranges when determining intersection\n\t * @return true if intersects\n\t */\n\tpublic intersects(envelope: GeometryEnvelope, allowEmpty: boolean): boolean {\n\t\treturn this.overlap(envelope, allowEmpty) != null;\n\t}\n\n\t/**\n\t * Get the overlapping geometry envelope with the provided envelope\n\t * @param envelope geometry envelope\n\t * @param allowEmpty allow empty ranges when determining intersection\n\t * @return geometry envelope\n\t */\n\tpublic overlap(envelope: GeometryEnvelope, allowEmpty: boolean = false): GeometryEnvelope {\n\t\tconst minX = Math.max(this.minX, envelope.minX);\n\t\tconst maxX = Math.min(this.maxX, envelope.maxX);\n\t\tconst minY = Math.max(this.minY, envelope.minY);\n\t\tconst maxY = Math.min(this.maxY, envelope.maxY);\n\n\t\tlet overlap: GeometryEnvelope = null;\n\n\t\tif ((minX < maxX && minY < maxY) || (allowEmpty && minX <= maxX && minY <= maxY)) {\n\t\t\toverlap = new GeometryEnvelope(minX, minY, maxX, maxY);\n\t\t}\n\n\t\treturn overlap;\n\t}\n\n\t/**\n\t * Get the union geometry envelope combined with the provided envelope\n\t * @param envelope geometry envelope\n\t * @return geometry envelope\n\t */\n\tpublic union(envelope: GeometryEnvelope): GeometryEnvelope {\n\t\tconst minX = Math.min(this.minX, envelope.minX);\n\t\tconst maxX = Math.max(this.maxX, envelope.maxX);\n\t\tconst minY = Math.min(this.minY, envelope.minY);\n\t\tconst maxY = Math.max(this.maxY, envelope.maxY);\n\n\t\tlet union: GeometryEnvelope = null;\n\n\t\tif (minX < maxX && minY < maxY) {\n\t\t\tunion = new GeometryEnvelope(minX, minY, maxX, maxY);\n\t\t}\n\n\t\treturn union;\n\t}\n\n\t/**\n\t * Determine if contains the point\n\t *\n\t * @param point\n\t *            point\n\t * @return true if contains\n\t * @since 1.1.1\n\t */\n\tpublic containsPoint(point: Point): boolean {\n\t\treturn this.containsPointWithEpsilon(point, 0.0);\n\t}\n\n\t/**\n\t * Determine if contains the point\n\t *\n\t * @param point\n\t *            point\n\t * @param epsilon\n\t *            epsilon equality tolerance\n\t * @return true if contains\n\t * @since 1.1.1\n\t */\n\tpublic containsPointWithEpsilon(point: Point, epsilon: number): boolean {\n\t\treturn this.containsCoordsWithEpsilon(point.x, point.y, epsilon);\n\t}\n\n\t/**\n\t * Determine if contains the coordinate\n\t *\n\t * @param x\n\t *            x value\n\t * @param y\n\t *            y value\n\t * @return true if contains\n\t * @since 1.1.1\n\t */\n\tpublic containsCoords(x: number, y: number): boolean {\n\t\treturn this.containsCoordsWithEpsilon(x, y, 0.0);\n\t}\n\n\t/**\n\t * Determine if contains the coordinate\n\t *\n\t * @param x\n\t *            x value\n\t * @param y\n\t *            y value\n\t * @param epsilon\n\t *            epsilon equality tolerance\n\t * @return true if contains\n\t * @since 1.1.1\n\t */\n\tpublic containsCoordsWithEpsilon(x: number, y: number, epsilon: number): boolean {\n\t\treturn x >= this.minX - epsilon && x <= this.maxX + epsilon\n\t\t\t&& y >= this.minY - epsilon && y <= this.maxY + epsilon;\n\t}\n\n\t/**\n\t * Determine if inclusively contains the provided envelope\n\t * @param envelope geometry envelope\n\t * @return true if contains\n\t */\n\tpublic contains(envelope: GeometryEnvelope): boolean {\n\t\treturn this.containsWithEpsilon(envelope, 0.0);\n\t}\n\n\t/**\n\t * Determine if inclusively contains the provided envelope\n\t *\n\t * @param envelope\n\t *            geometry envelope\n\t * @param epsilon\n\t *            epsilon equality tolerance\n\t * @return true if contains\n\t * @since 1.1.1\n\t */\n\tpublic containsWithEpsilon(envelope: GeometryEnvelope, epsilon: number): boolean {\n\t\treturn this.minX - epsilon <= envelope.minX\n\t\t\t&& this.maxX + epsilon >= envelope.maxX\n\t\t\t&& this.minY - epsilon <= envelope.minY\n\t\t\t&& this.maxY + epsilon >= envelope.maxY;\n\t}\n\n\t/**\n\t * Build a geometry representation of the geometry envelope\n\t * @return geometry, polygon or point\n\t */\n\tpublic buildGeometry(): Geometry {\n\t\tlet geometry: Geometry;\n\t\tif (this.isPoint()) {\n\t\t\tgeometry = new Point(this.minX, this.minY);\n\t\t} else {\n\t\t\tlet polygon = new Polygon();\n\t\t\tlet ring = new LineString();\n\t\t\tring.addPoint(new Point(this.minX, this.minY));\n\t\t\tring.addPoint(new Point(this.maxX, this.minY));\n\t\t\tring.addPoint(new Point(this.maxX, this.maxY));\n\t\t\tring.addPoint(new Point(this.minX, this.maxY));\n\t\t\tpolygon.addRing(ring);\n\t\t\tgeometry = polygon;\n\t\t}\n\t\treturn geometry;\n\t}\n\n\t/**\n\t * Copy the geometry envelope\n\t * @return geometry envelope copy\n\t */\n\tpublic copy(): GeometryEnvelope {\n\t\treturn new GeometryEnvelope(this);\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic equals(obj: GeometryEnvelope): boolean {\n\t\treturn !(!(obj instanceof GeometryEnvelope)\n\t\t\t|| this.minX !== obj.minX\n\t\t\t|| this.maxX !== obj.maxX\n\t\t\t|| this.minY !== obj.minY\n\t\t\t|| this.maxY !== obj.maxY\n\t\t\t|| this.minZ !== obj.minZ\n\t\t\t|| this.maxZ !== obj.maxZ\n\t\t\t|| this.minM !== obj.minM\n\t\t\t|| this.maxM !== obj.maxM)\n\t}\n\n}\n","/**\n * Geometry Type enumeration\n */\nexport enum GeometryType {\n\n    /**\n     * The root of the geometry type hierarchy\n     */\n    GEOMETRY,\n\n    /**\n     * A single location in space. Each point has an X and Y coordinate. A point\n     * MAY optionally also have a Z and/or an M value.\n     */\n    POINT,\n\n    /**\n     * A Curve that connects two or more points in space.\n     */\n    LINESTRING,\n\n    /**\n     * A restricted form of CurvePolygon where each ring is defined as a simple,\n     * closed LineString.\n     */\n    POLYGON,\n\n    /**\n     * A restricted form of GeometryCollection where each Geometry in the\n     * collection must be of type Point.\n     */\n    MULTIPOINT,\n\n    /**\n     * A restricted form of MultiCurve where each Curve in the collection must\n     * be of type LineString.\n     */\n    MULTILINESTRING,\n\n    /**\n     * A restricted form of MultiSurface where each Surface in the collection\n     * must be of type Polygon.\n     */\n    MULTIPOLYGON,\n\n    /**\n     * A collection of zero or more Geometry instances.\n     */\n    GEOMETRYCOLLECTION,\n\n    /**\n     * Circular String, Curve sub type\n     */\n    CIRCULARSTRING,\n\n    /**\n     * Compound Curve, Curve sub type\n     */\n    COMPOUNDCURVE,\n\n    /**\n     * A planar surface defined by an exterior ring and zero or more interior\n     * ring. Each ring is defined by a Curve instance.\n     */\n    CURVEPOLYGON,\n\n    /**\n     * A restricted form of GeometryCollection where each Geometry in the\n     * collection must be of type Curve.\n     */\n    MULTICURVE,\n\n    /**\n     * A restricted form of GeometryCollection where each Geometry in the\n     * collection must be of type Surface.\n     */\n    MULTISURFACE,\n\n    /**\n     * The base type for all 1-dimensional geometry types. A 1-dimensional\n     * geometry is a geometry that has a length, but no area. A curve is\n     * considered simple if it does not intersect itself (except at the start\n     * and end point). A curve is considered closed its start and end point are\n     * coincident. A simple, closed curve is called a ring.\n     */\n    CURVE,\n\n    /**\n     * The base type for all 2-dimensional geometry types. A 2-dimensional\n     * geometry is a geometry that has an area.\n     */\n    SURFACE,\n\n    /**\n     * Contiguous collection of polygons which share common boundary segments.\n     */\n    POLYHEDRALSURFACE,\n\n    /**\n     * A tetrahedron (4 triangular faces), corner at the origin and each unit\n     * coordinate digit.\n     */\n    TIN,\n\n    /**\n     * Triangle\n     */\n    TRIANGLE\n}\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace GeometryType {\n    export function nameFromType(type: GeometryType): string {\n        let name = null;\n        if (type !== null && type !== undefined) {\n            name = GeometryType[type];\n        }\n        return name;\n    }\n\n    export function fromName(type: string): GeometryType {\n        return GeometryType[type as keyof typeof GeometryType] as GeometryType;\n    }\n\n    export function values (): GeometryType[] {\n        return [\n            GeometryType. GEOMETRY,\n            GeometryType.POINT,\n            GeometryType.LINESTRING,\n            GeometryType.POLYGON,\n            GeometryType.MULTIPOINT,\n            GeometryType.MULTILINESTRING,\n            GeometryType.MULTIPOLYGON,\n            GeometryType.GEOMETRYCOLLECTION,\n            GeometryType.CIRCULARSTRING,\n            GeometryType.COMPOUNDCURVE,\n            GeometryType.CURVEPOLYGON,\n            GeometryType.MULTICURVE,\n            GeometryType.MULTISURFACE,\n            GeometryType.CURVE,\n            GeometryType.SURFACE,\n            GeometryType.POLYHEDRALSURFACE,\n            GeometryType.TIN,\n            GeometryType.TRIANGLE\n        ]\n    }\n}\n","import { Geometry, Point, LineString, SFException } from \"./internal\";\n\n/**\n * A LineString with exactly 2 Points.\n */\nexport class Line extends LineString {\n\tpublic constructor();\n\tpublic constructor(hasZ: boolean, hasM: boolean);\n\tpublic constructor(points: Array<Point>);\n\tpublic constructor(line: Line);\n\t/**\n\t * Constructor\n\t * \n\t * @param point1\n\t *            first point\n\t * @param point2\n\t *            second point\n\t * @since 1.1.1\n\t */\n\tpublic constructor(point1: Point, point2: Point);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor (...args) {\n\t\tif (args.length === 0) {\n\t\t\tsuper(false, false);\n\t\t} else if (args.length === 1 && args[0] instanceof Line) {\n\t\t\tsuper(args[0].hasZ, args[0].hasM);\n\t\t\targs[0].points.forEach(point => this.addPoint(point.copy() as Point));\n\t\t} else if (args.length === 1 && args[0].length != null) {\n\t\t\tsuper(Geometry.hasZ(args[0]), Geometry.hasM(args[0]));\n\t\t\tthis.points = args[0];\n\t\t} else if (args.length === 2 && typeof args[0] === 'boolean') {\n\t\t\tsuper(args[0], args[1]);\n\t\t} else if (args.length === 2 && args[0] instanceof Point && args[1] instanceof Point) {\n\t\t\tconst point1: Point = args[0];\n\t\t\tconst point2: Point = args[1];\n\t\t\tsuper(point1.hasZ || point2.hasZ, point1.hasM || point2.hasM);\n\t\t    this.addPoint(point1);\n\t\t    this.addPoint(point2);\n\t\t}\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic copy(): Geometry {\n\t\treturn new Line(this);\n\t}\n}\n","import { GeometryType, Geometry, Point, Curve, ShamosHoey } from \"./internal\";\n\n/**\n * A Curve that connects two or more points in space.\n */\nexport class LineString extends Curve {\n\t/**\n\t * List of points\n\t */\n\tprivate _points: Array<Point>\n\n\tpublic constructor();\n\tpublic constructor(lineString: LineString);\n\tpublic constructor(points: Array<Point>);\n\tpublic constructor(hasZ: boolean, hasM: boolean);\n\tpublic constructor(type: GeometryType, hasZ: boolean, hasM: boolean);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor (...args: any[]) {\n\t\tif (args.length === 0) {\n\t\t\tsuper(GeometryType.LINESTRING, false, false);\n\t\t\tthis._points = []\n\t\t} else if (args.length === 1 && args[0] instanceof LineString) {\n\t\t\tsuper(GeometryType.LINESTRING, args[0].hasZ, args[0].hasM);\n\t\t\tthis._points = []\n\t\t\targs[0].points.forEach(point => this.addPoint(point.copy() as Point));\n\t\t} else if (args.length === 1 && args[0] instanceof Array) {\n\t\t\tsuper(GeometryType.LINESTRING, Geometry.hasZ(args[0]), Geometry.hasM(args[0]));\n\t\t\tthis._points = args[0]\n\t\t} else if (args.length === 2) {\n\t\t\tsuper(GeometryType.LINESTRING, args[0], args[1]);\n\t\t\tthis._points = []\n\t\t} else if (args.length === 3) {\n\t\t\tsuper(args[0], args[1], args[2]);\n\t\t\tthis._points = []\n\t\t}\n\t}\n\n\t/**\n\t * Get the points\n\t * @return points\n\t */\n\tpublic get points (): Array<Point> {\n\t\treturn this._points;\n\t}\n\n\t/**\n\t * Set the points\n\t * @param points points\n\t */\n\tpublic set points (points: Array<Point>) {\n\t\tthis._points = points;\n\t}\n\n\t/**\n\t * Add a point\n\t * @param point point\n\t */\n\tpublic addPoint (point: Point): void {\n\t\tthis._points.push(point);\n\t\tthis.updateZM(point);\n\t}\n\n\t/**\n\t * Add points\n\t * @param points points\n\t */\n\tpublic addPoints (points: Array<Point>): void {\n\t\tpoints.forEach(point => this.addPoint(point));\n\t}\n\n\t/**\n\t * Get the number of points\n\t * @return number of points\n\t */\n\tpublic numPoints (): number {\n\t\treturn this._points.length;\n\t}\n\n\t/**\n\t * Returns the Nth point\n\t * @param n nth point to return\n\t * @return point\n\t */\n\tpublic getPoint (n: number): Point {\n\t\treturn this._points[n];\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic startPoint (): Point {\n\t\tlet startPoint: Point = null;\n\t\tif (!this.isEmpty()) {\n\t\t\tstartPoint = this._points[0];\n\t\t}\n\t\treturn startPoint;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic endPoint (): Point {\n\t\tlet endPoint: Point = null;\n\t\tif (!this.isEmpty()) {\n\t\t\tendPoint = this._points[this._points.length - 1];\n\t\t}\n\t\treturn endPoint;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic isSimple (): boolean {\n\t\treturn ShamosHoey.simplePolygonPoints(this._points);\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic copy(): Geometry {\n\t\treturn new LineString(this);\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic isEmpty(): boolean {\n\t\treturn this._points.length === 0;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic equals(obj: Geometry): boolean {\n\t\tlet equal = true\n\t\tif (obj instanceof LineString && this.numPoints() === obj.numPoints()) {\n\t\t\tfor (let i = 0; i < this._points.length; i++) {\n\t\t\t\tif (!this.getPoint(i).equals(obj.getPoint(i))) {\n\t\t\t\t\tequal = false\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tequal = false\n\t\t}\n\t\treturn equal\n\t}\n}\n","import { GeometryType, Geometry, Point, LineString, SFException } from \"./internal\";\n\n/**\n * A LineString that is both closed and simple.\n */\nexport class LinearRing extends LineString {\n\tpublic constructor();\n\tpublic constructor(lineString: LineString);\n\tpublic constructor(points: Array<Point>);\n\tpublic constructor(hasZ: boolean, hasM: boolean);\n\tpublic constructor(type: GeometryType, hasZ: boolean, hasM: boolean);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor (...args) {\n\t\tif (args.length === 0) {\n\t\t\tsuper(args)\n\t\t} else if (args.length === 1 && args[0] instanceof LinearRing) {\n\t\t\tsuper(args[0].hasZ, args[0].hasM);\n\t\t\targs[0].points.forEach(point => this.addPoint(point.copy() as Point));\n\t\t} else if (args.length === 1 && args[0].length != null) {\n\t\t\tsuper(Geometry.hasZ(args[0]), Geometry.hasM(args[0]));\n\t\t\tthis.points = args[0];\n\t\t} else if (args.length === 2) {\n\t\t\tsuper(args[0], args[1])\n\t\t}\n\t}\n\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic set points(points: Array<Point>) {\n\t\t// @ts-ignore\n\t\tsuper.points = points;\n\t\tif (!this.isEmpty()) {\n\t\t\tif (!this.isClosed()) {\n\t\t\t\tthis.addPoint(points[0]);\n\t\t\t}\n\t\t\tif (this.numPoints() < 4) {\n\t\t\t\tthrow new SFException(\"A closed linear ring must have at least four points.\");\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic copy(): Geometry {\n\t\treturn new LinearRing(this);\n\t}\n\n}\n","import { GeometryType, Curve, GeometryCollection } from \"./internal\";\n\n/**\n * A restricted form of GeometryCollection where each Geometry in the collection\n * must be of type Curve.\n * @param <T> curve type\n */\nexport abstract class MultiCurve<T extends Curve> extends GeometryCollection<T> {\n\n\n\t/**\n\t * Constructor\n\t * @param type geometry type\n\t * @param hasZ has z\n\t * @param hasM has m\n\t */\n\tprotected constructor(type: GeometryType, hasZ: boolean, hasM: boolean) {\n\t\tsuper(type, hasZ, hasM);\n\t}\n\n\t/**\n\t * Get the curves\n\t * @return curves\n\t */\n\tpublic getCurves(): Array<T> {\n\t\treturn this.geometries;\n\t}\n\n\t/**\n\t * Set the curves\n\t * @param curves curves\n\t */\n\tpublic setCurves(curves: Array<T>): void {\n\t\tthis.geometries = curves;\n\t}\n\n\t/**\n\t * Add a curve\n\t * @param curve curve\n\t */\n\tpublic addCurve(curve: T): void {\n\t\tthis.addGeometry(curve);\n\t}\n\n\t/**\n\t * Add curves\n\t * @param curves curves\n\t */\n\tpublic addCurves(curves: Array<T>): void {\n\t\tthis.addGeometries(curves);\n\t}\n\n\t/**\n\t * Get the number of curves\n\t * @return number of curves\n\t */\n\tpublic numCurves(): number {\n\t\treturn this.numGeometries();\n\t}\n\n\t/**\n\t * Returns the Nth curve\n\t * @param n nth line curve to return\n\t * @return curve\n\t */\n\tpublic getCurve(n: number): T {\n\t\treturn this.getGeometry(n);\n\t}\n\n\t/**\n\t * Determine if this Multi Curve is closed for each Curve (start point = end\n\t * point)\n\t * \n\t * @return true if closed\n\t */\n\tpublic isClosed(): boolean {\n\t\tlet closed = true;\n\t\tfor (const curve of this.geometries) {\n\t\t\tif (!curve.isClosed()) {\n\t\t\t\tclosed = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn closed;\n\t}\n\n}\n","import { GeometryType, Geometry, MultiCurve, LineString, GeometryCollection } from \"./internal\";\n\n/**\n * A restricted form of MultiCurve where each Curve in the collection must be of\n * type LineString.\n */\nexport class MultiLineString extends MultiCurve<LineString> {\n\tpublic constructor();\n\tpublic constructor(hasZ: boolean, hasM: boolean);\n\tpublic constructor(multiLineString: MultiLineString);\n\tpublic constructor(lineStrings: Array<LineString>);\n\tpublic constructor(type: GeometryType, hasZ: boolean, hasM: boolean);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor(...args) {\n\t\tif (args.length === 0) {\n\t\t\tsuper(GeometryType.MULTILINESTRING, false, false);\n\t\t} else if (args.length === 2) {\n\t\t\tsuper(GeometryType.MULTILINESTRING, args[0], args[1]);\n\t\t} else if (args.length === 1 && args[0] instanceof LineString) {\n\t\t\tsuper(GeometryType.MULTILINESTRING, args[0].hasZ, args[0].hasM);\n\t\t\tthis.addLineString(args[0]);\n\t\t} else if (args.length === 1 && args[0] instanceof MultiLineString) {\n\t\t\tsuper(GeometryType.MULTILINESTRING, args[0].hasZ, args[0].hasM);\n\t\t\targs[0].lineStrings.forEach(lineString => this.addLineString(lineString));\n\t\t} else if (args.length === 1 && args[0].length != null) {\n\t\t\tsuper(GeometryType.MULTILINESTRING, GeometryCollection.hasZ(args[0]), GeometryCollection.hasM(args[0]));\n\t\t\tthis.lineStrings = args[0];\n\t\t} else if (args.length === 3) {\n\t\t\tsuper(args[0], args[1], args[2]);\n\t\t}\n\t}\n\n\t/**\n\t * Get the line strings\n\t * @return line strings\n\t */\n\tpublic get lineStrings(): Array<LineString>  {\n\t\treturn this.getCurves();\n\t}\n\n\t/**\n\t * Set the line strings\n\t * \n\t * @param lineStrings\n\t *            line strings\n\t */\n\tpublic set lineStrings(lineStrings: Array<LineString>) {\n\t\tthis.setCurves(lineStrings);\n\t}\n\n\t/**\n\t * Add a line string\n\t * \n\t * @param lineString\n\t *            line string\n\t */\n\tpublic addLineString(lineString: LineString): void {\n\t\tthis.addCurve(lineString);\n\t}\n\n\t/**\n\t * Add line strings\n\t * \n\t * @param lineStrings\n\t *            line strings\n\t */\n\tpublic addLineStrings(lineStrings: Array<LineString>): void {\n\t\tthis.addCurves(lineStrings);\n\t}\n\n\t/**\n\t * Get the number of line strings\n\t * \n\t * @return number of line strings\n\t */\n\tpublic numLineStrings(): number {\n\t\treturn this.numCurves();\n\t}\n\n\t/**\n\t * Returns the Nth line string\n\t * @param n nth line string to return\n\t * @return line string\n\t */\n\tpublic getLineString(n: number): LineString {\n\t\treturn this.getCurve(n);\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic copy(): Geometry {\n\t\treturn new MultiLineString(this);\n\t}\n}\n","import { GeometryType, Geometry, Point, GeometryCollection } from \"./internal\";\n\n/**\n * A restricted form of GeometryCollection where each Geometry in the collection\n * must be of type Point.\n */\n\nexport class MultiPoint extends GeometryCollection<Point> {\n\n\tpublic constructor();\n\tpublic constructor(hasZ: boolean, hasM: boolean);\n\tpublic constructor(multiPoint: MultiPoint);\n\tpublic constructor(points: Array<Point>);\n\tpublic constructor(type: GeometryType, hasZ: boolean, hasM: boolean);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor(...args) {\n\t\tif (args.length === 0) {\n\t\t\tsuper(GeometryType.MULTIPOINT, false, false);\n\t\t} else if (args.length === 2) {\n\t\t\tsuper(GeometryType.MULTIPOINT, args[0], args[1]);\n\t\t} else if (args.length === 1 && args[0] instanceof Point) {\n\t\t\tsuper(GeometryType.MULTIPOINT, args[0].hasZ, args[0].hasM);\n\t\t\tthis.addPoint(args[0]);\n\t\t} else if (args.length === 1 && args[0] instanceof MultiPoint) {\n\t\t\tsuper(GeometryType.MULTIPOINT, args[0].hasZ, args[0].hasM);\n\t\t\targs[0].points.forEach(point => this.addPoint(point));\n\t\t} else if (args.length === 1 && args[0].length != null) {\n\t\t\tsuper(GeometryType.MULTIPOINT, GeometryCollection.hasZ(args[0]), GeometryCollection.hasM(args[0]));\n\t\t\tthis.points = args[0];\n\t\t} else if (args.length === 3) {\n\t\t\tsuper(args[0], args[1], args[2]);\n\t\t}\n\t}\n\n\t/**\n\t * Get the points\n\t * @return points\n\t */\n\tpublic get points(): Array<Point> {\n\t\treturn this.geometries;\n\t}\n\n\t/**\n\t * Set the points\n\t * @param points points\n\t */\n\tpublic set points(points: Array<Point>) {\n\t\tthis.geometries = points;\n\t}\n\n\t/**\n\t * Add a point\n\t * @param point point\n\t */\n\tpublic addPoint(point: Point): void {\n\t\tthis.addGeometry(point);\n\t}\n\n\t/**\n\t * Add points\n\t * @param points points\n\t */\n\tpublic addPoints(points: Array<Point>): void {\n\t\tthis.addGeometries(points);\n\t}\n\n\t/**\n\t * Get the number of points\n\t * @return number of points\n\t */\n\tpublic numPoints(): number {\n\t\treturn this.numGeometries();\n\t}\n\n\t/**\n\t * Returns the Nth point\n\t * \n\t * @param n nth point to return\n\t * @return point\n\t */\n\tpublic getPoint(n: number): Point{\n\t\treturn this.getGeometry(n);\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic copy(): Geometry {\n\t\treturn new MultiPoint(this);\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic isSimple(): boolean {\n\t\treturn this.points.filter((pA, index) => {\n\t\t\treturn this.points.findIndex(pB => pA.equals(pB)) === index;\n\t\t}).length == this.numPoints();\n\t}\n}\n","import { GeometryType, Geometry, Polygon, MultiSurface } from \"./internal\";\n\n/**\n * A restricted form of MultiSurface where each Surface in the collection must\n * be of type Polygon.\n */\nexport class MultiPolygon extends MultiSurface<Polygon> {\n\n\tpublic constructor();\n\tpublic constructor(hasZ: boolean, hasM: boolean);\n\tpublic constructor(multiPolygon: MultiPolygon);\n\tpublic constructor(points: Array<Polygon>);\n\tpublic constructor(type: GeometryType, hasZ: boolean, hasM: boolean);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor(...args) {\n\t\tif (args.length === 0) {\n\t\t\tsuper(GeometryType.MULTIPOLYGON, false, false);\n\t\t} else if (args.length === 2) {\n\t\t\tsuper(GeometryType.MULTIPOLYGON, args[0], args[1]);\n\t\t} else if (args.length === 3) {\n\t\t\tsuper(args[0], args[1], args[2]);\n\t\t} else if (args.length === 1 && args[0] instanceof Polygon) {\n\t\t\tsuper(GeometryType.MULTIPOLYGON, args[0].hasZ, args[0].hasM);\n\t\t\tthis.addPolygon(args[0]);\n\t\t} else if (args.length === 1 && args[0] instanceof MultiPolygon) {\n\t\t\tsuper(GeometryType.MULTIPOLYGON, args[0].hasZ, args[0].hasM);\n\t\t\targs[0].polygons.forEach(polygon => this.addPolygon(polygon));\n\t\t} else if (args.length === 1 && args[0].length != null) {\n\t\t\tsuper(GeometryType.MULTIPOLYGON, Geometry.hasZ(args[0]), Geometry.hasM(args[0]));\n\t\t\tthis.polygons = (args[0] as Array<Polygon>);\n\t\t}\n\t}\n\n\t/**\n\t * Get the polygons\n\t * @return polygons\n\t */\n\tpublic get polygons(): Array<Polygon> {\n\t\treturn this.getSurfaces();\n\t}\n\n\t/**\n\t * Set the polygons\n\t * @param polygons polygons\n\t */\n\tpublic set polygons(polygons: Array<Polygon>) {\n\t\tthis.setSurfaces(polygons);\n\t}\n\n\t/**\n\t * Add a polygon\n\t * @param polygon polygon\n\t */\n\tpublic addPolygon(polygon: Polygon): void {\n\t\tthis.addSurface(polygon);\n\t}\n\n\t/**\n\t * Add polygons\n\t * @param polygons polygons\n\t */\n\tpublic addPolygons(polygons: Array<Polygon>): void {\n\t\tthis.addSurfaces(polygons);\n\t}\n\n\t/**\n\t * Get the number of polygons\n\t * @return number of polygons\n\t */\n\tpublic numPolygons(): number {\n\t\treturn this.numSurfaces();\n\t}\n\n\t/**\n\t * Returns the Nth polygon\n\t * @param n  nth polygon to return\n\t * @return polygon\n\t */\n\tpublic getPolygon(n: number): Polygon {\n\t\treturn this.getSurface(n);\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic copy(): Geometry {\n\t\treturn new MultiPolygon(this);\n\t}\n}\n","import { GeometryType, Surface, GeometryCollection } from \"./internal\";\n\n/**\n * A restricted form of GeometryCollection where each Geometry in the collection\n * must be of type Surface.\n *\n * @param <T> surface type\n */\nexport abstract class MultiSurface<T extends Surface> extends GeometryCollection<T> {\n\n\t/**\n\t * Constructor\n\t * \n\t * @param type geometry type\n\t * @param hasZ has z\n\t * @param hasM has m\n\t */\n\tprotected constructor(type: GeometryType, hasZ: boolean, hasM: boolean) {\n\t\tsuper(type, hasZ, hasM);\n\t}\n\n\t/**\n\t * Get the surfaces\n\t * @return surfaces\n\t */\n\tpublic getSurfaces(): Array<T> {\n\t\treturn this.geometries;\n\t}\n\n\t/**\n\t * Set the surfaces\n\t * @param surfaces surfaces\n\t */\n\tpublic setSurfaces(surfaces: Array<T>): void {\n\t\tthis.geometries = surfaces;\n\t}\n\n\t/**\n\t * Add a surface\n\t * @param surface surface\n\t */\n\tpublic addSurface(surface: T): void {\n\t\tthis.addGeometry(surface);\n\t}\n\n\t/**\n\t * Add surfaces\n\t * \n\t * @param surfaces\n\t *            surfaces\n\t */\n\tpublic addSurfaces(surfaces: Array<T>): void {\n\t\tthis.addGeometries(surfaces);\n\t}\n\n\t/**\n\t * Get the number of surfaces\n\t * @return number of surfaces\n\t */\n\tpublic numSurfaces(): number {\n\t\treturn this.numGeometries();\n\t}\n\n\t/**\n\t * Returns the Nth surface\n\t * @param n nth line surface to return\n\t * @return surface\n\t */\n\tpublic getSurface(n: number): T {\n\t\treturn this.getGeometry(n);\n\t}\n\n}\n","import { GeometryType, Geometry } from \"./internal\";\n\n/**\n * A single location in space. Each point has an X and Y coordinate. A point MAY\n * optionally also have a Z and/or an M value.\n */\nexport class Point extends Geometry {\n\t/**\n\t * X coordinate\n\t */\n\tprivate _x: number;\n\n\t/**\n\t * Y coordinate\n\t */\n\tprivate _y: number;\n\n\t/**\n\t * Z coordinate\n\t */\n\tprivate _z: number;\n\n\t/**\n\t * M value\n\t */\n\tprivate _m: number;\n\n\tpublic constructor();\n\tpublic constructor(point: Point);\n\tpublic constructor(x: number, y: number);\n\tpublic constructor(x: number, y: number, z: number);\n\tpublic constructor(x: number, y: number, z: number, m: number);\n\tpublic constructor(hasZ: boolean, hasM: boolean, x: number, y: number);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor (...args: any[]) {\n\t\tif (args.length === 0) {\n\t\t\tsuper(GeometryType.POINT, false, false);\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t} else if (args.length === 1 && args[0] instanceof Point) {\n\t\t\tsuper(GeometryType.POINT, args[0].hasZ, args[0].hasM);\n\t\t\tthis._x = args[0].x\n\t\t\tthis._y = args[0].y\n\t\t\tthis._z = args[0].z\n\t\t\tthis._m = args[0].m\n\t\t} else if (args.length === 2) {\n\t\t\tsuper(GeometryType.POINT, false, false);\n\t\t\tthis._x = args[0]\n\t\t\tthis._y = args[1]\n\t\t} else if (args.length === 3) {\n\t\t\tsuper(GeometryType.POINT, args[2] != null, false);\n\t\t\tthis._x = args[0]\n\t\t\tthis._y = args[1]\n\t\t\tthis._z = args[2]\n\t\t} else if (args.length === 4) {\n\t\t\tif (typeof args[0] === \"boolean\" && typeof args[1] === \"boolean\") {\n\t\t\t\tsuper(GeometryType.POINT, args[0], args[1]);\n\t\t\t\tthis._x = args[2]\n\t\t\t\tthis._y = args[3]\n\t\t\t} else {\n\t\t\t\tsuper(GeometryType.POINT, args[2] != null, args[3] != null);\n\t\t\t\tthis._x = args[0]\n\t\t\t\tthis._y = args[1]\n\t\t\t\tthis._z = args[2]\n\t\t\t\tthis._m = args[3]\n\t\t\t}\n\t\t}\n\t}\n\n\n\t/**\n\t * Get x\n\t * @return x\n\t */\n\tpublic get x (): number {\n\t\treturn this._x;\n\t}\n\n\t/**\n\t * Set y\n\t * @param x\n\t */\n\tpublic set x (x: number) {\n\t\tthis._x = x;\n\t}\n\n\t/**\n\t * Get y\n\t * @return y\n\t */\n\tpublic get y (): number {\n\t\treturn this._y;\n\t}\n\n\t/**\n\t * Set y\n\t * @param y\n\t */\n\tpublic set y (y: number) {\n\t\tthis._y = y;\n\t}\n\n\n\t/**\n\t * Get z\n\t * @return z\n\t */\n\tpublic get z (): number {\n\t\treturn this._z;\n\t}\n\n\t/**\n\t * Set z\n\t * @param z\n\t */\n\tpublic set z (z: number) {\n\t\tthis._z = z;\n\t\tthis.hasZ = z != null;\n\t}\n\n\t/**\n\t * Get m\n\t * \n\t * @return m\n\t */\n\tpublic get m (): number {\n\t\treturn this._m;\n\t}\n\n\t/**\n\t * Set m\n\t * @param m\n\t */\n\tpublic set m (m: number) {\n\t\tthis._m = m;\n\t\tthis.hasM = m != null;\n\t}\n\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic copy (): Geometry {\n\t\treturn new Point(this);\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic isEmpty (): boolean {\n\t\treturn false;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic isSimple (): boolean {\n\t\treturn true;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic equals (obj: Geometry): boolean {\n\t\treturn super.equals(obj) && obj instanceof Point && this.m === obj.m && this.z === obj.z && this.x === obj.x && this.y === obj.y\n\t}\n}\n","import { GeometryType, Geometry, LineString, CurvePolygon, ShamosHoey } from \"./internal\";\n\n/**\n * A restricted form of CurvePolygon where each ring is defined as a simple,\n * closed LineString.\n *\n */\nexport class Polygon extends CurvePolygon<LineString> {\n\tpublic constructor();\n\tpublic constructor(lineString: LineString);\n\tpublic constructor(polygon: Polygon);\n\tpublic constructor(lineStrings: Array<LineString>);\n\tpublic constructor(hasZ: boolean, hasM: boolean);\n\tpublic constructor(type: GeometryType, hasZ: boolean, hasM: boolean);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor (...args: any[]) {\n\t\tif (args.length === 0) {\n\t\t\tsuper(GeometryType.POLYGON, false, false);\n\t\t} else if (args.length === 1 && args[0] instanceof Polygon) {\n\t\t\tsuper(GeometryType.POLYGON, args[0].hasZ, args[0].hasM);\n\t\t\targs[0].rings.forEach(ring => this.addRing(ring.copy() as LineString));\n\t\t} else if (args.length === 1 && args[0] instanceof LineString) {\n\t\t\tsuper(GeometryType.POLYGON, args[0].hasZ, args[0].hasM);\n\t\t\tthis.addRing(args[0]);\n\t\t}  else if (args.length === 1 && args[0].length != null) {\n\t\t\tsuper(GeometryType.POLYGON, args[0].hasZ, args[0].hasM);\n\t\t\tthis.rings = (args[0] as Array<LineString>)\n\t\t} else if (args.length === 2) {\n\t\t\tsuper(GeometryType.POLYGON, args[0], args[1]);\n\t\t} else if (args.length === 3) {\n\t\t\tsuper(args[0], args[1], args[2]);\n\t\t}\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic copy(): Geometry {\n\t\treturn new Polygon(this);\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic isSimple(): boolean {\n\t\treturn ShamosHoey.simplePolygon(this);\n\t}\n}\n","import { GeometryType, Geometry, Surface, Polygon, UnsupportedOperationException } from \"./internal\";\n\n/**\n * Contiguous collection of polygons which share common boundary segments.\n * \n * @author osbornb\n */\nexport class PolyhedralSurface extends Surface {\n\n\t/**\n\t * List of polygons\n\t */\n\tprivate _polygons: Array<Polygon>;\n\n\tpublic constructor();\n\tpublic constructor(polygon: Polygon);\n\tpublic constructor(polyhedralSurface: PolyhedralSurface);\n\tpublic constructor(polygons: Array<Polygon>);\n\tpublic constructor(hasZ: boolean, hasM: boolean);\n\tpublic constructor(type: GeometryType, hasZ: boolean, hasM: boolean);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor (...args: any[]) {\n\t\tif (args.length === 0) {\n\t\t\tsuper(GeometryType.POLYHEDRALSURFACE, false, false);\n\t\t\tthis._polygons = []\n\t\t} else if (args.length === 1 && args[0] instanceof Polygon) {\n\t\t\tsuper(GeometryType.POLYHEDRALSURFACE, args[0].hasZ, args[0].hasM);\n\t\t\tthis._polygons = []\n\t\t\tthis.addPolygon(args[0])\n\t\t} else if (args.length === 1 && args[0] instanceof PolyhedralSurface) {\n\t\t\tsuper(GeometryType.POLYHEDRALSURFACE, args[0].hasZ, args[0].hasM);\n\t\t\tthis._polygons = []\n\t\t\targs[0].polygons.forEach(polygon => this.addPolygon(polygon.copy() as Polygon));\n\t\t}  else if (args.length === 1 && args[0].length != null) {\n\t\t\tsuper(GeometryType.POLYHEDRALSURFACE, args[0].hasZ, args[0].hasM);\n\t\t\tthis._polygons = args[0]\n\t\t} else if (args.length === 2) {\n\t\t\tsuper(GeometryType.POLYHEDRALSURFACE, args[0], args[1]);\n\t\t\tthis._polygons = []\n\t\t} else if (args.length === 3) {\n\t\t\tsuper(args[0], args[1], args[2]);\n\t\t\tthis._polygons = []\n\t\t}\n\t}\n\n\t/**\n\t * Get polygons\n\t * @return polygons\n\t */\n\tpublic get polygons(): Array<Polygon> {\n\t\treturn this._polygons;\n\t}\n\n\t/**\n\t * Get patches\n\t * \n\t * @return patches\n\t * @see #getPolygons()\n\t */\n\tpublic get patches(): Array<Polygon> {\n\t\treturn this._polygons;\n\t}\n\n\t/**\n\t * Set polygons\n\t * \n\t * @param polygons\n\t *            polygons\n\t */\n\tpublic set polygons(polygons: Array<Polygon>) {\n\t\tthis._polygons = polygons;\n\t}\n\n\t/**\n\t * Set patches\n\t * \n\t * @param patches\n\t *            patches\n\t * @see #setPolygons(List)\n\t */\n\tpublic set patches(polygons: Array<Polygon>) {\n\t\tthis._polygons = polygons;\n\t}\n\n\t/**\n\t * Add polygon\n\t * @param polygon polygon\n\t */\n\tpublic addPolygon(polygon: Polygon): void {\n\t\tthis._polygons.push(polygon);\n\t\tthis.updateZM(polygon);\n\t}\n\n\t/**\n\t * Add patch\n\t * @param patch patch\n\t * @see #addPolygon(Polygon)\n\t */\n\tpublic addPatch(patch: Polygon): void {\n\t\tthis.addPolygon(patch);\n\t}\n\n\t/**\n\t * Add polygons\n\t * @param polygons polygons\n\t */\n\tpublic addPolygons(polygons: Array<Polygon>): void {\n\t\tfor (const polygon of polygons) {\n\t\t\tthis.addPolygon(polygon);\n\t\t}\n\t}\n\n\t/**\n\t * Add patches\n\t * @param patches patches\n\t * @see #addPolygons(List)\n\t */\n\tpublic addPatches(patches: Array<Polygon>): void {\n\t\tthis.addPolygons(patches);\n\t}\n\n\t/**\n\t * Get the number of polygons\n\t * @return number of polygons\n\t */\n\tpublic numPolygons(): number {\n\t\treturn this._polygons.length;\n\t}\n\n\t/**\n\t * Get the number of polygons\n\t * @return number of polygons\n\t * @see #numPolygons()\n\t */\n\tpublic numPatches(): number {\n\t\treturn this.numPolygons();\n\t}\n\n\t/**\n\t * Get the Nth polygon\n\t * @param n nth polygon to return\n\t * @return polygon\n\t */\n\tpublic getPolygon(n: number): Polygon {\n\t\treturn this._polygons[n];\n\t}\n\n\t/**\n\t * Get the Nth polygon patch\n\t * @param n nth polygon patch to return\n\t * @return polygon patch\n\t * @see #getPolygon(int)\n\t */\n\tpublic getPatch(n: number): Polygon {\n\t\treturn this.getPolygon(n);\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic copy(): Geometry {\n\t\treturn new PolyhedralSurface(this);\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic isEmpty(): boolean {\n\t\treturn this._polygons.length === 0;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic isSimple(): boolean {\n\t\tthrow new UnsupportedOperationException(\"Is Simple not implemented for PolyhedralSurface\");\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic equals(obj: Geometry): boolean {\n\t\tlet equal = true;\n\t\tif (obj instanceof PolyhedralSurface && this.numPatches() === obj.numPatches()) {\n\t\t\tfor (let i = 0; i < this.numPatches(); i++) {\n\t\t\t\tif (!this.getPatch(i).equals(obj.getPatch(i))) {\n\t\t\t\t\tequal = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tequal = false;\n\t\t}\n\t\treturn equal\n\t}\n}\n","import { GeometryType, Geometry } from \"./internal\";\n\n/**\n * The base type for all 2-dimensional geometry types. A 2-dimensional geometry\n * is a geometry that has an area.\n */\nexport abstract class Surface extends Geometry {\n\n\t/**\n\t * Constructor\n\t * @param type geometry type\n\t * @param hasZ has z\n\t * @param hasM has m\n\t */\n\tprotected constructor (type: GeometryType, hasZ: boolean, hasM: boolean) {\n\t\tsuper(type, hasZ, hasM);\n\t}\n}\n","import { GeometryType, Geometry, PolyhedralSurface, Polygon } from \"./internal\";\n\n/**\n * A tetrahedron (4 triangular faces), corner at the origin and each unit\n * coordinate digit.\n */\nexport class TIN extends PolyhedralSurface {\n\tpublic constructor();\n\tpublic constructor(polygon: Polygon);\n\tpublic constructor(tin: TIN);\n\tpublic constructor(polygons: Array<Polygon>);\n\tpublic constructor(hasZ: boolean, hasM: boolean);\n\tpublic constructor(type: GeometryType, hasZ: boolean, hasM: boolean);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor (...args: any[]) {\n\t\tif (args.length === 0) {\n\t\t\tsuper(GeometryType.TIN, false, false);\n\t\t} else if (args.length === 1 && args[0] instanceof Polygon) {\n\t\t\tsuper(GeometryType.TIN, args[0].hasZ, args[0].hasM);\n\t\t\tthis.addPolygon(args[0])\n\t\t} else if (args.length === 1 && args[0] instanceof TIN) {\n\t\t\tsuper(GeometryType.TIN, args[0].hasZ, args[0].hasM);\n\t\t\targs[0].polygons.forEach(polygon => this.addPolygon(polygon.copy() as Polygon));\n\t\t}  else if (args.length === 1 && args[0].length != null) {\n\t\t\tsuper(GeometryType.TIN, args[0].hasZ, args[0].hasM);\n\t\t\tthis.polygons = args[0]\n\t\t} else if (args.length === 2) {\n\t\t\tsuper(GeometryType.TIN, args[0], args[1]);\n\t\t} else if (args.length === 3) {\n\t\t\tsuper(args[0], args[1], args[2]);\n\t\t}\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic copy(): Geometry {\n\t\treturn new TIN(this);\n\t}\n}\n","import { GeometryType, Geometry, LineString, Polygon } from \"./internal\";\n\n/**\n * Triangle\n */\nexport class Triangle extends Polygon {\n\tpublic constructor();\n\tpublic constructor(lineString: LineString);\n\tpublic constructor(triangle: Triangle);\n\tpublic constructor(lineStrings: Array<LineString>);\n\tpublic constructor(hasZ: boolean, hasM: boolean);\n\tpublic constructor(type: GeometryType, hasZ: boolean, hasM: boolean);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor (...args: any[]) {\n\t\tif (args.length === 0) {\n\t\t\tsuper(GeometryType.TRIANGLE, false, false);\n\t\t} else if (args.length === 1 && args[0] instanceof Triangle) {\n\t\t\tsuper(GeometryType.TRIANGLE, args[0].hasZ, args[0].hasM);\n\t\t\targs[0].rings.forEach(ring => this.addRing(ring.copy() as LineString));\n\t\t} else if (args.length === 1 && args[0] instanceof LineString) {\n\t\t\tsuper(GeometryType.TRIANGLE, args[0].hasZ, args[0].hasM);\n\t\t\tthis.addRing(args[0]);\n\t\t}  else if (args.length === 1 && args[0].length != null) {\n\t\t\tsuper(GeometryType.TRIANGLE, args[0].hasZ, args[0].hasM);\n\t\t\tthis.rings = (args[0] as Array<LineString>)\n\t\t} else if (args.length === 2) {\n\t\t\tsuper(GeometryType.TRIANGLE, args[0], args[1]);\n\t\t} else if (args.length === 3) {\n\t\t\tsuper(args[0], args[1], args[2]);\n\t\t}\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic copy(): Geometry {\n\t\treturn new Triangle(this);\n\t}\n}\n","import { GeometryType, Geometry, GeometryCollection, SFException } from \"../internal\";\n\n\n/**\n * Extended Geometry Collection providing abstract geometry collection type\n * support\n *\n * @param <T> geometry type\n */\nexport class ExtendedGeometryCollection<T extends Geometry> extends GeometryCollection<T> {\n\t/**\n\t * Extended geometry collection geometry type\n\t */\n\tprivate _editableGeometryType: GeometryType;\n\n\tpublic constructor (geometryCollection: GeometryCollection<T>);\n\tpublic constructor (extendedGeometryCollection: ExtendedGeometryCollection<T>);\n\n\tpublic constructor(...args) {\n\t\tif (args.length === 1 && args[0] instanceof GeometryCollection) {\n\t\t\tsuper(GeometryType.GEOMETRYCOLLECTION, args[0].hasZ, args[0].hasM);\n\t\t\tthis.geometryType = GeometryType.GEOMETRYCOLLECTION\n\t\t\tthis.geometries = args[0].geometries;\n\t\t\tthis.updateGeometryType();\n\t\t} else if (args.length === 1 && args[0] instanceof ExtendedGeometryCollection) {\n\t\t\tsuper(GeometryType.GEOMETRYCOLLECTION, args[0].hasZ, args[0].hasM);\n\t\t\tthis.geometryType = GeometryType.GEOMETRYCOLLECTION\n\t\t\tfor (const geometry of args[0].geometries) {\n\t\t\t\tconst geometryCopy = geometry.copy();\n\t\t\t\tthis.addGeometry(geometryCopy);\n\t\t\t}\n\t\t\tthis.geometryType = args[0].geometryType;\n\t\t}\n\t}\n\n\t/**\n\t * Update the extended geometry type based upon the contained geometries\n\t */\n\tpublic updateGeometryType(): void {\n\t\tlet geometryType = this.getCollectionType();\n\t\tswitch (geometryType) {\n\t\tcase GeometryType.GEOMETRYCOLLECTION:\n\t\tcase GeometryType.MULTICURVE:\n\t\tcase GeometryType.MULTISURFACE:\n\t\t\tbreak;\n\t\tcase GeometryType.MULTIPOINT:\n\t\t\tgeometryType = GeometryType.GEOMETRYCOLLECTION;\n\t\t\tbreak;\n\t\tcase GeometryType.MULTILINESTRING:\n\t\t\tgeometryType = GeometryType.MULTICURVE;\n\t\t\tbreak;\n\t\tcase GeometryType.MULTIPOLYGON:\n\t\t\tgeometryType = GeometryType.MULTISURFACE;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new SFException(\n\t\t\t\t\t\"Unsupported extended geometry collection geometry type: \"\n\t\t\t\t\t\t\t+ geometryType);\n\t\t}\n\t\tthis.geometryType = geometryType;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic get geometryType(): GeometryType {\n\t\treturn this._editableGeometryType;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic set geometryType(geometryType: GeometryType) {\n\t\tthis._editableGeometryType = geometryType;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic copy(): Geometry {\n\t\treturn new ExtendedGeometryCollection<T>(this);\n\t}\n\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic equals(obj: Geometry): boolean {\n\t\treturn (obj instanceof ExtendedGeometryCollection && this.geometryType === obj.geometryType);\n\t}\n\n}\n","// Interfaces\nexport * from \"./util/Comparator\";\nexport * from \"./util/Comparable\";\n\n// Exceptions\nexport * from \"./util/SFException\";\nexport * from \"./util/UnsupportedOperationException\";\n\n// Geometries\nexport * from \"./GeometryType\";\nexport * from \"./Geometry\";\nexport * from \"./Curve\";\nexport * from \"./Surface\";\nexport * from \"./GeometryCollection\";\nexport * from \"./Point\";\nexport * from \"./LineString\";\nexport * from \"./LinearRing\";\nexport * from \"./Line\";\nexport * from \"./CircularString\";\nexport * from \"./CurvePolygon\";\nexport * from \"./Polygon\";\nexport * from \"./Triangle\";\nexport * from \"./CompoundCurve\";\nexport * from \"./PolyhedralSurface\";\nexport * from \"./TIN\";\nexport * from \"./MultiPoint\";\nexport * from \"./MultiCurve\";\nexport * from \"./MultiLineString\";\nexport * from \"./MultiSurface\";\nexport * from \"./MultiPolygon\";\nexport * from \"./extended/ExtendedGeometryCollection\";\n\n// Filter\nexport * from \"./util/filter/FiniteFilterType\";\nexport * from \"./util/filter/GeometryFilter\";\nexport * from \"./util/filter/PointFiniteFilter\";\n\n// Centroid\nexport * from \"./util/centroid/CentroidPoint\";\nexport * from \"./util/centroid/DegreesCentroid\";\nexport * from \"./util/centroid/CentroidCurve\";\nexport * from \"./util/centroid/CentroidSurface\";\n\n// Geometry Envelope\nexport * from \"./GeometryEnvelope\";\nexport * from \"./util/GeometryEnvelopeBuilder\";\n\n// Geometry Printer\nexport * from \"./util/GeometryPrinter\";\nexport * from \"./util/serialize/GeometrySerializer\";\n\n// Sweep\nexport * from \"./util/sweep/EventType\";\nexport * from \"./util/sweep/Event\";\nexport * from \"./util/sweep/SweepLine\";\nexport * from \"./util/sweep/EventQueue\";\nexport * from \"./util/sweep/Segment\";\nexport * from \"./util/sweep/ShamosHoey\";\n\n// Geometry Utils\nexport * from \"./util/GeometryUtils\";\nexport * from \"./util/GeometryConstants\";\n","/**\n * Geometry Constants\n * \n * @author osbornb\n * @since 1.1.1\n */\nexport class GeometryConstants {\n\n\t/**\n\t * Default epsilon for point in or on line tolerance\n\t */\n\tpublic static readonly DEFAULT_LINE_EPSILON = 0.000000000000001;\n\n\t/**\n\t * Default epsilon for point equality\n\t */\n\tpublic static readonly DEFAULT_EQUAL_EPSILON = 0.00000001;\n\n\t/**\n\t * Web Mercator Latitude Range\n\t */\n\tpublic static readonly WEB_MERCATOR_MAX_LAT_RANGE = 85.0511287798066;\n\n\t/**\n\t * Web Mercator Latitude Range\n\t */\n\tpublic static readonly WEB_MERCATOR_MIN_LAT_RANGE = -85.05112877980659;\n\n\t/**\n\t * Half the world distance in either direction\n\t */\n\tpublic static readonly WEB_MERCATOR_HALF_WORLD_WIDTH = 20037508.342789244;\n\n\t/**\n\t * Half the world longitude width for WGS84\n\t */\n\tpublic static readonly WGS84_HALF_WORLD_LON_WIDTH = 180.0;\n\n\t/**\n\t * Half the world latitude height for WGS84\n\t */\n\tpublic static readonly WGS84_HALF_WORLD_LAT_HEIGHT = 90.0;\n\n\t/**\n\t * Minimum latitude degrees value convertible to meters\n\t */\n\tpublic static readonly DEGREES_TO_METERS_MIN_LAT = -89.99999999999999;\n\n\t/**\n\t * Absolute north bearing in degrees\n\t */\n\tpublic static readonly BEARING_NORTH = 0.0;\n\n\t/**\n\t * Absolute east bearing in degrees\n\t */\n\tpublic static readonly BEARING_EAST = 90.0;\n\n\t/**\n\t * Absolute south bearing in degrees\n\t */\n\tpublic static readonly BEARING_SOUTH = 180.0;\n\n\t/**\n\t * Absolute west bearing degrees\n\t */\n\tpublic static readonly BEARING_WEST = 270.0;\n\n\t/**\n\t * Radians to Degrees conversion\n\t */\n\tpublic static readonly RADIANS_TO_DEGREES = 180.0 / Math.PI;\n\n\t/**\n\t * Degrees to Radians conversion\n\t */\n\tpublic static readonly DEGREES_TO_RADIANS = Math.PI / 180.0;\n\n}\n","import {\n\tGeometry,\n\tPoint,\n\tLineString,\n\tPolygon,\n\tMultiPoint,\n\tMultiLineString,\n\tMultiPolygon,\n\tCircularString,\n\tCompoundCurve,\n\tCurvePolygon,\n\tPolyhedralSurface,\n\tTIN,\n\tTriangle,\n\tGeometryCollection,\n\tMultiCurve,\n\tMultiSurface,\n\tGeometryEnvelope,\n\tCurve\n} from \"../internal\";\n\n/**\n * Builds an envelope from a Geometry\n */\nexport class GeometryEnvelopeBuilder {\n\t/**\n\t * Build Geometry Envelope\n\t * @param geometry geometry to build envelope from\n\t * @return geometry envelope\n\t */\n\tpublic static buildEnvelope (geometry: Geometry): GeometryEnvelope {\n\t\tlet envelope = new GeometryEnvelope();\n\n\t\tenvelope.minX = Number.MAX_VALUE;\n\t\tenvelope.maxX = -Number.MAX_VALUE;\n\t\tenvelope.minY = Number.MAX_VALUE;\n\t\tenvelope.maxY = -Number.MAX_VALUE;\n\n\t\tGeometryEnvelopeBuilder.buildEnvelopeWithEnvelope(geometry, envelope);\n\n\t\tif (envelope.minX > envelope.maxX || envelope.minY > envelope.maxY) {\n\t\t\tenvelope = null;\n\t\t}\n\n\t\treturn envelope;\n\t}\n\n\t/**\n\t * Build Geometry Envelope\n\t * @param geometry geometry to build envelope from\n\t * @param envelope geometry envelope to expand\n\t */\n\tpublic static buildEnvelopeWithEnvelope(geometry: Geometry, envelope: GeometryEnvelope): void {\n\t\tif (geometry instanceof Point) {\n\t\t\tGeometryEnvelopeBuilder.addPoint(envelope, geometry);\n\t\t} else if (geometry instanceof LineString) {\n\t\t\tGeometryEnvelopeBuilder.addLineString(envelope, geometry);\n\t\t} else if (geometry instanceof Polygon) {\n\t\t\tGeometryEnvelopeBuilder.addPolygon(envelope, geometry);\n\t\t} else if (geometry instanceof MultiPoint) {\n\t\t\tGeometryEnvelopeBuilder.addMultiPoint(envelope, geometry);\n\t\t} else if (geometry instanceof MultiLineString) {\n\t\t\tGeometryEnvelopeBuilder.addMultiLineString(envelope, geometry);\n\t\t} else if (geometry instanceof MultiPolygon) {\n\t\t\tGeometryEnvelopeBuilder.addMultiPolygon(envelope, geometry);\n\t\t}  else if (geometry instanceof CircularString) {\n\t\t\tGeometryEnvelopeBuilder.addLineString(envelope, geometry);\n\t\t} else if (geometry instanceof CompoundCurve) {\n\t\t\tGeometryEnvelopeBuilder.addCompoundCurve(envelope, geometry);\n\t\t} else if (geometry instanceof CurvePolygon) {\n\t\t\tGeometryEnvelopeBuilder.addCurvePolygon(envelope, geometry);\n\t\t} else if (geometry instanceof PolyhedralSurface) {\n\t\t\tGeometryEnvelopeBuilder.addPolyhedralSurface(envelope, geometry);\n\t\t} else if (geometry instanceof TIN) {\n\t\t\tGeometryEnvelopeBuilder.addPolyhedralSurface(envelope, geometry);\n\t\t} else if (geometry instanceof Triangle) {\n\t\t\tGeometryEnvelopeBuilder.addPolygon(envelope, geometry);\n\t\t} else if (geometry instanceof GeometryCollection || geometry instanceof MultiCurve || geometry instanceof MultiSurface) {\n\t\t\tGeometryEnvelopeBuilder.updateHasZandM(envelope, geometry);\n\t\t\tconst geometries = (geometry as GeometryCollection<Geometry>).geometries;\n\t\t\tgeometries.forEach(subGeometry => {\n\t\t\t\tGeometryEnvelopeBuilder.buildEnvelopeWithEnvelope(subGeometry, envelope);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Update the has z and m values\n\t * @param envelope geometry envelope\n\t * @param geometry geometry\n\t */\n\tprivate static updateHasZandM (envelope: GeometryEnvelope, geometry: Geometry) {\n\t\tif (!envelope.hasZ && geometry.hasZ) {\n\t\t\tenvelope.hasZ = true;\n\t\t}\n\t\tif (!envelope.hasM && geometry.hasM) {\n\t\t\tenvelope.hasM = true;\n\t\t}\n\t}\n\n\t/**\n\t * Add Point\n\t * @param envelope geometry envelope\n\t * @param point point\n\t */\n\tprivate static addPoint(envelope: GeometryEnvelope, point: Point): void {\n\n\t\tGeometryEnvelopeBuilder.updateHasZandM(envelope, point);\n\n\t\tlet x = point.x;\n\t\tlet y = point.y;\n\t\tif (x < envelope.minX) {\n\t\t\tenvelope.minX = x;\n\t\t}\n\t\tif (x > envelope.maxX) {\n\t\t\tenvelope.maxX = x;\n\t\t}\n\t\tif (y < envelope.minY) {\n\t\t\tenvelope.minY = y;\n\t\t}\n\t\tif (y > envelope.maxY) {\n\t\t\tenvelope.maxY = y;\n\t\t}\n\t\tif (point.hasZ) {\n\t\t\tlet z = point.z;\n\t\t\tif (z != null) {\n\t\t\t\tif (envelope.minZ == null || z < envelope.minZ) {\n\t\t\t\t\tenvelope.minZ = z;\n\t\t\t\t}\n\t\t\t\tif (envelope.maxZ == null || z > envelope.maxZ) {\n\t\t\t\t\tenvelope.maxZ = z;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (point.hasM) {\n\t\t\tlet m = point.m;\n\t\t\tif (m != null) {\n\t\t\t\tif (envelope.minM == null || m < envelope.minM) {\n\t\t\t\t\tenvelope.minM = m;\n\t\t\t\t}\n\t\t\t\tif (envelope.maxM == null || m > envelope.maxM) {\n\t\t\t\t\tenvelope.maxM = m;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Add MultiPoint\n\t * @param envelope geometry envelope\n\t * @param multiPoint multi point\n\t */\n\tprivate static addMultiPoint(envelope: GeometryEnvelope, multiPoint: MultiPoint): void {\n\t\tGeometryEnvelopeBuilder.updateHasZandM(envelope, multiPoint);\n\t\tmultiPoint.points.forEach(point => GeometryEnvelopeBuilder.addPoint(envelope, point));\n\t}\n\n\t/**\n\t * Add LineString\n\t * @param envelope geometry envelope\n\t * @param lineString line string\n\t */\n\tprivate static addLineString(envelope: GeometryEnvelope, lineString: LineString | CircularString): void {\n\t\tGeometryEnvelopeBuilder.updateHasZandM(envelope, lineString);\n\t\tlineString.points.forEach(point => GeometryEnvelopeBuilder.addPoint(envelope, point));\n\t}\n\n\t/**\n\t * Add MultiLineString\n\t * @param envelope geometry envelope\n\t * @param multiLineString multi line string\n\t */\n\tprivate static addMultiLineString(envelope: GeometryEnvelope, multiLineString: MultiLineString): void {\n\t\tGeometryEnvelopeBuilder.updateHasZandM(envelope, multiLineString);\n\t\tmultiLineString.lineStrings.forEach(lineString => GeometryEnvelopeBuilder.addLineString(envelope, lineString));\n\t}\n\n\t/**\n\t * Add Polygon\n\t * @param envelope geometry envelope\n\t * @param polygon polygon\n\t */\n\tprivate static addPolygon(envelope: GeometryEnvelope, polygon: Polygon): void {\n\t\tGeometryEnvelopeBuilder.updateHasZandM(envelope, polygon);\n\t\tpolygon.rings.forEach(ring => GeometryEnvelopeBuilder.addLineString(envelope, ring));\n\t}\n\n\t/**\n\t * Add MultiPolygon\n\t * @param envelope geometry envelope\n\t * @param multiPolygon multi polygon\n\t */\n\tprivate static addMultiPolygon(envelope: GeometryEnvelope, multiPolygon: MultiPolygon): void {\n\t\tGeometryEnvelopeBuilder.updateHasZandM(envelope, multiPolygon);\n\t\tmultiPolygon.polygons.forEach(polygon => GeometryEnvelopeBuilder.addPolygon(envelope, polygon));\n\t}\n\n\t/**\n\t * Add CompoundCurve\n\t * @param envelope geometry envelope\n\t * @param compoundCurve compound curve\n\t */\n\tprivate static addCompoundCurve(envelope: GeometryEnvelope, compoundCurve: CompoundCurve): void {\n\t\tGeometryEnvelopeBuilder.updateHasZandM(envelope, compoundCurve);\n\t\tcompoundCurve.lineStrings.forEach(lineString => GeometryEnvelopeBuilder.addLineString(envelope, lineString));\n\t}\n\n\t/**\n\t * Add CurvePolygon\n\t * @param envelope geometry envelope\n\t * @param curvePolygon curve polygon\n\t */\n\tprivate static addCurvePolygon(envelope: GeometryEnvelope, curvePolygon: CurvePolygon<Curve>): void {\n\t\tGeometryEnvelopeBuilder.updateHasZandM(envelope, curvePolygon);\n\t\tcurvePolygon.rings.forEach(ring => GeometryEnvelopeBuilder.buildEnvelopeWithEnvelope(ring, envelope));\n\t}\n\n\t/**\n\t * Add PolyhedralSurface\n\t * @param envelope geometry envelope\n\t * @param polyhedralSurface polyhedral surface\n\t */\n\tprivate static addPolyhedralSurface(envelope: GeometryEnvelope, polyhedralSurface: PolyhedralSurface): void {\n\t\tGeometryEnvelopeBuilder.updateHasZandM(envelope, polyhedralSurface);\n\t\tpolyhedralSurface.polygons.forEach(polygon => GeometryEnvelopeBuilder.addPolygon(envelope, polygon));\n\t}\n}","import {\n\tGeometryType,\n\tGeometry,\n\tPoint,\n\tLineString,\n\tPolygon,\n\tMultiPoint,\n\tMultiLineString,\n\tMultiPolygon,\n\tCircularString,\n\tCompoundCurve,\n\tCurvePolygon,\n\tPolyhedralSurface,\n\tTIN,\n\tTriangle,\n\tGeometryCollection,\n\tCurve\n} from \"../internal\";\n\n/**\n * String representation of a Geometry\n */\nexport class GeometryPrinter {\n\n\t/**\n\t * Get Geometry Information as a String\n\t * @param geometry geometry\n\t * @return geometry String\n\t */\n\tpublic static getGeometryString(geometry: Geometry): string {\n\t\tlet message = [];\n\t\tconst geometryType: GeometryType = geometry.geometryType;\n\t\tswitch (geometryType) {\n\t\tcase GeometryType.POINT:\n\t\t\tGeometryPrinter.addPointMessage(message, geometry as Point);\n\t\t\tbreak;\n\t\tcase GeometryType.LINESTRING:\n\t\t\tGeometryPrinter.addLineStringMessage(message, geometry as LineString);\n\t\t\tbreak;\n\t\tcase GeometryType.POLYGON:\n\t\t\tGeometryPrinter.addPolygonMessage(message, geometry as Polygon);\n\t\t\tbreak;\n\t\tcase GeometryType.MULTIPOINT:\n\t\t\tGeometryPrinter.addMultiPointMessage(message, geometry as MultiPoint);\n\t\t\tbreak;\n\t\tcase GeometryType.MULTILINESTRING:\n\t\t\tGeometryPrinter.addMultiLineStringMessage(message, geometry as MultiLineString);\n\t\t\tbreak;\n\t\tcase GeometryType.MULTIPOLYGON:\n\t\t\tGeometryPrinter.addMultiPolygonMessage(message, geometry as MultiPolygon);\n\t\t\tbreak;\n\t\tcase GeometryType.CIRCULARSTRING:\n\t\t\tGeometryPrinter.addLineStringMessage(message, geometry as CircularString);\n\t\t\tbreak;\n\t\tcase GeometryType.COMPOUNDCURVE:\n\t\t\tGeometryPrinter.addCompoundCurveMessage(message, geometry as CompoundCurve);\n\t\t\tbreak;\n\t\tcase GeometryType.CURVEPOLYGON:\n\t\t\tGeometryPrinter.addCurvePolygonMessage(message, geometry as CurvePolygon<Curve>);\n\t\t\tbreak;\n\t\tcase GeometryType.POLYHEDRALSURFACE:\n\t\t\tGeometryPrinter.addPolyhedralSurfaceMessage(message, geometry as PolyhedralSurface);\n\t\t\tbreak;\n\t\tcase GeometryType.TIN:\n\t\t\tGeometryPrinter.addPolyhedralSurfaceMessage(message, geometry as TIN);\n\t\t\tbreak;\n\t\tcase GeometryType.TRIANGLE:\n\t\t\tGeometryPrinter.addPolygonMessage(message, geometry as Triangle);\n\t\t\tbreak;\n\t\tcase GeometryType.GEOMETRYCOLLECTION:\n\t\tcase GeometryType.MULTICURVE:\n\t\tcase GeometryType.MULTISURFACE:\n\t\t\tconst geomCollection = geometry as GeometryCollection<Geometry>;\n\t\t\tmessage.push(\"Geometries: \" + geomCollection.numGeometries());\n\t\t\tconst geometries = geomCollection.geometries;\n\t\t\tfor (let i = 0; i < geometries.length; i++) {\n\t\t\t\tconst subGeometry = geometries[i];\n\t\t\t\tmessage.push(\"\\n\\n\");\n\t\t\t\tmessage.push(\"Geometry \" + (i + 1));\n\t\t\t\tmessage.push(\"\\n\");\n\t\t\t\tmessage.push(GeometryType.nameFromType(subGeometry.geometryType));\n\t\t\t\tmessage.push(\"\\n\");\n\t\t\t\tmessage.push(GeometryPrinter.getGeometryString(subGeometry));\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t}\n\n\t\treturn message.join('');\n\t}\n\n\t/**\n\t * Add Point message\n\t * @param message string message\n\t * @param point point\n\t */\n\tprivate static addPointMessage(message: string[], point: Point): void {\n\t\tmessage.push(\"Latitude: \");\n\t\tmessage.push(point.y.toString());\n\t\tmessage.push(\"\\nLongitude: \")\n\t\tmessage.push(point.x.toString());\n\t}\n\n\t/**\n\t * Add MultiPoint message\n\t * @param message string message\n\t * @param multiPoint multi point\n\t */\n\tprivate static addMultiPointMessage(message: string[], multiPoint: MultiPoint): void {\n\t\tmessage.push(\"Points: \" + multiPoint.numPoints());\n\t\tlet points = multiPoint.points;\n\t\tfor (let i = 0; i < points.length; i++) {\n\t\t\tconst point = points[i];\n\t\t\tmessage.push(\"\\n\\n\");\n\t\t\tmessage.push(\"Point \" + (i + 1));\n\t\t\tmessage.push(\"\\n\");\n\t\t\tGeometryPrinter.addPointMessage(message, point);\n\t\t}\n\t}\n\n\t/**\n\t * Add LineString message\n\t * @param message string message\n\t * @param lineString line string\n\t */\n\tprivate static addLineStringMessage(message: string[], lineString: LineString): void {\n\t\tmessage.push(\"Points: \" + lineString.numPoints());\n\t\tfor (const point of lineString.points) {\n\t\t\tmessage.push(\"\\n\\n\");\n\t\t\tGeometryPrinter.addPointMessage(message, point);\n\t\t}\n\t}\n\n\t/**\n\t * Add MultiLineString message\n\t * @param message string message\n\t * @param multiLineString  multi line string\n\t */\n\tprivate static addMultiLineStringMessage(message: string[], multiLineString: MultiLineString): void {\n\t\tmessage.push(\"LineStrings: \" + multiLineString.numLineStrings());\n\t\tconst lineStrings = multiLineString.lineStrings;\n\t\tfor (let i = 0; i < lineStrings.length; i++) {\n\t\t\tconst lineString = lineStrings[i];\n\t\t\tmessage.push(\"\\n\\n\");\n\t\t\tmessage.push(\"LineString \" + (i + 1));\n\t\t\tmessage.push(\"\\n\");\n\t\t\tGeometryPrinter.addLineStringMessage(message, lineString);\n\t\t}\n\t}\n\n\t/**\n\t * Add Polygon message\n\t * @param message string message\n\t * @param polygon polygon\n\t */\n\tprivate static addPolygonMessage(message: string[], polygon: Polygon): void {\n\t\tmessage.push(\"Rings: \" + polygon.numRings());\n\t\tconst rings = polygon.rings;\n\t\tfor (let i = 0; i < rings.length; i++) {\n\t\t\tconst ring = rings[i];\n\t\t\tmessage.push(\"\\n\\n\");\n\t\t\tif (i > 0) {\n\t\t\t\tmessage.push(\"Hole \" + i);\n\t\t\t\tmessage.push(\"\\n\");\n\t\t\t}\n\t\t\tGeometryPrinter.addLineStringMessage(message, ring);\n\t\t}\n\t}\n\n\t/**\n\t * Add MultiPolygon message\n\t * @param message string message\n\t * @param multiPolygon multi polygon\n\t */\n\tprivate static addMultiPolygonMessage(message: string[], multiPolygon: MultiPolygon): void {\n\t\tmessage.push(\"Polygons: \"\n\t\t\t\t+ multiPolygon.numPolygons());\n\t\tconst polygons = multiPolygon.polygons;\n\t\tfor (let i = 0; i < polygons.length; i++) {\n\t\t\tconst polygon = polygons[i];\n\t\t\tmessage.push(\"\\n\\n\");\n\t\t\tmessage.push(\"Polygon \" + (i + 1));\n\t\t\tmessage.push(\"\\n\");\n\t\t\tGeometryPrinter.addPolygonMessage(message, polygon);\n\t\t}\n\t}\n\n\t/**\n\t * Add CompoundCurve message\n\t * @param message string message\n\t * @param compoundCurve compound curve\n\t */\n\tprivate static addCompoundCurveMessage(message: string[], compoundCurve: CompoundCurve): void {\n\t\tmessage.push(\"LineStrings: \" + compoundCurve.numLineStrings());\n\t\tconst lineStrings = compoundCurve.lineStrings;\n\t\tfor (let i = 0; i < lineStrings.length; i++) {\n\t\t\tconst lineString = lineStrings[i];\n\t\t\tmessage.push(\"\\n\\n\");\n\t\t\tmessage.push(\"LineString \" + (i + 1));\n\t\t\tmessage.push(\"\\n\");\n\t\t\tGeometryPrinter.addLineStringMessage(message, lineString);\n\t\t}\n\t}\n\n\t/**\n\t * Add CurvePolygon message\n\t * @param message string message\n\t * @param curvePolygon curve polygon\n\t */\n\tprivate static addCurvePolygonMessage(message: string[], curvePolygon: CurvePolygon<Curve>): void {\n\t\tmessage.push(\"Rings: \" + curvePolygon.numRings());\n\t\tconst rings = curvePolygon.rings;\n\t\tfor (let i = 0; i < rings.length; i++) {\n\t\t\tconst ring = rings[i];\n\t\t\tmessage.push(\"\\n\\n\");\n\t\t\tif (i > 0) {\n\t\t\t\tmessage.push(\"Hole \" + i);\n\t\t\t\tmessage.push(\"\\n\");\n\t\t\t}\n\t\t\tmessage.push(GeometryPrinter.getGeometryString(ring));\n\t\t}\n\t}\n\n\t/**\n\t * Add PolyhedralSurface message\n\t * @param message string message\n\t * @param polyhedralSurface polyhedral surface\n\t */\n\tprivate static addPolyhedralSurfaceMessage(message: string[], polyhedralSurface: PolyhedralSurface): void {\n\t\tmessage.push(\"Polygons: \" + polyhedralSurface.numPolygons());\n\t\tconst polygons = polyhedralSurface.polygons;\n\t\tfor (let i = 0; i < polygons.length; i++) {\n\t\t\tconst polygon = polygons[i];\n\t\t\tmessage.push(\"\\n\\n\");\n\t\t\tmessage.push(\"Polygon \" + (i + 1));\n\t\t\tmessage.push(\"\\n\");\n\t\t\tGeometryPrinter.addPolygonMessage(message, polygon);\n\t\t}\n\t}\n\n}\n","import {\n\tSFException,\n\tGeometryType,\n\tGeometry,\n\tCentroidPoint,\n\tPoint,\n\tLineString,\n\tPolygon,\n\tMultiPoint,\n\tMultiLineString,\n\tMultiPolygon,\n\tCircularString,\n\tCompoundCurve,\n\tCurvePolygon,\n\tPolyhedralSurface,\n\tTIN,\n\tTriangle,\n\tGeometryCollection,\n\tCentroidSurface,\n\tDegreesCentroid,\n\tCentroidCurve,\n\tCurve,\n\tLine,\n\tGeometryConstants,\n\tGeometryEnvelope\n} from \"../internal\";\n\n/**\n * Utilities for Geometry objects\n */\nexport class GeometryUtils {\n\n\t/**\n\t * Default epsilon for line tolerance\n\t */\n\tpublic static DEFAULT_EPSILON: number = 0.000000000000001;\n\n\t/**\n\t * Get the dimension of the Geometry, 0 for points, 1 for curves, 2 for\n\t * surfaces. If a collection, the largest dimension is returned.\n\t * @param geometry geometry object\n\t * @return dimension (0, 1, or 2)\n\t */\n\tpublic static getDimension(geometry: Geometry): number {\n\t\tlet dimension: number = -1;\n\n\t\tconst geometryType: GeometryType = geometry.geometryType;\n\t\tswitch (geometryType) {\n\t\t\tcase GeometryType.POINT:\n\t\t\tcase GeometryType.MULTIPOINT:\n\t\t\t\tdimension = 0;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.LINESTRING:\n\t\t\tcase GeometryType.MULTILINESTRING:\n\t\t\tcase GeometryType.CIRCULARSTRING:\n\t\t\tcase GeometryType.COMPOUNDCURVE:\n\t\t\t\tdimension = 1;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POLYGON:\n\t\t\tcase GeometryType.CURVEPOLYGON:\n\t\t\tcase GeometryType.MULTIPOLYGON:\n\t\t\tcase GeometryType.POLYHEDRALSURFACE:\n\t\t\tcase GeometryType.TIN:\n\t\t\tcase GeometryType.TRIANGLE:\n\t\t\t\tdimension = 2;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.GEOMETRYCOLLECTION:\n\t\t\tcase GeometryType.MULTICURVE:\n\t\t\tcase GeometryType.MULTISURFACE:\n\t\t\t\t(geometry as GeometryCollection<Geometry>).geometries.forEach(subGeometry => {\n\t\t\t\t\tdimension = Math.max(dimension, GeometryUtils.getDimension(subGeometry));\n\t\t\t\t})\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new SFException(\"Unsupported Geometry Type: \" + geometryType);\n\t\t}\n\t\treturn dimension;\n\t}\n\n\t/**\n\t * Get the Pythagorean theorem distance between two points\n\t * @param point1 point 1\n\t * @param point2 point 2\n\t * @return distance\n\t */\n\tpublic static distance(point1: Point, point2: Point): number {\n\t\tconst diffX = point1.x - point2.x;\n\t\tconst diffY = point1.y - point2.y;\n\n\t\treturn Math.sqrt(diffX * diffX + diffY * diffY);\n\t}\n\n\t/**\n\t * Get the Pythagorean theorem distance between the line end points\n\t * \n\t * @param line\n\t *            line\n\t * @return distance\n\t * @since 1.1.1\n\t */\n\tpublic static distanceFromLine(line: Line): number {\n\t\treturn GeometryUtils.distance(line.startPoint(), line.endPoint());\n\t}\n\n\t/**\n\t * Get the bearing heading in degrees between two points in degrees\n\t * \n\t * @param point1\n\t *            point 1\n\t * @param point2\n\t *            point 2\n\t * @return bearing angle in degrees between 0 and 360\n\t * @since 1.1.1\n\t */\n\tpublic static bearing(point1: Point, point2: Point): number {\n\t\tconst y1 = GeometryUtils.degreesToRadians(point1.y);\n\t\tconst y2 = GeometryUtils.degreesToRadians(point2.y);\n\t\tconst xDiff = GeometryUtils.degreesToRadians(point2.x - point1.x);\n\t\tconst y = Math.sin(xDiff) * Math.cos(y2);\n\t\tconst x = Math.cos(y1) * Math.sin(y2)\n\t\t\t- Math.sin(y1) * Math.cos(y2) * Math.cos(xDiff);\n\t\treturn (GeometryUtils.radiansToDegrees(Math.atan2(y, x)) + 360) % 360;\n\t}\n\n\t/**\n\t * Get the bearing heading in degrees between line end points in degrees\n\t * \n\t * @param line\n\t *            line\n\t * @return bearing angle in degrees between 0 inclusively and 360\n\t *         exclusively\n\t * @since 1.1.1\n\t */\n\tpublic static bearingLine(line: Line): number {\n\t\treturn GeometryUtils.bearing(line.startPoint(), line.endPoint());\n\t}\n\n\t/**\n\t * Determine if the bearing is in any north direction\n\t * \n\t * @param bearing\n\t *            bearing angle in degrees\n\t * @return true if north bearing\n\t * @since 1.1.1\n\t */\n\tpublic static isNorthBearing(bearing: number): boolean {\n\t\tbearing %= 360.0;\n\t\treturn bearing < GeometryConstants.BEARING_EAST\n\t\t\t|| bearing > GeometryConstants.BEARING_WEST;\n\t}\n\n\t/**\n\t * Determine if the bearing is in any east direction\n\t * \n\t * @param bearing\n\t *            bearing angle in degrees\n\t * @return true if east bearing\n\t * @since 1.1.1\n\t */\n\tpublic static isEastBearing(bearing: number): boolean {\n\t\tbearing %= 360.0;\n\t\treturn bearing > GeometryConstants.BEARING_NORTH\n\t\t\t&& bearing < GeometryConstants.BEARING_SOUTH;\n\t}\n\n\t/**\n\t * Determine if the bearing is in any south direction\n\t * \n\t * @param bearing\n\t *            bearing angle in degrees\n\t * @return true if south bearing\n\t * @since 1.1.1\n\t */\n\tpublic static isSouthBearing(bearing: number): boolean {\n\t\tbearing %= 360.0;\n\t\treturn bearing > GeometryConstants.BEARING_EAST\n\t\t\t&& bearing < GeometryConstants.BEARING_WEST;\n\t}\n\n\t/**\n\t * Determine if the bearing is in any west direction\n\t * \n\t * @param bearing\n\t *            bearing angle in degrees\n\t * @return true if west bearing\n\t * @since 1.1.1\n\t */\n\tpublic static isWestBearing(bearing: number): boolean {\n\t\treturn (bearing % 360.0) > GeometryConstants.BEARING_SOUTH;\n\t}\n\n\t/**\n\t * Convert degrees to radians\n\t * \n\t * @param degrees\n\t *            degrees\n\t * @return radians\n\t * @since 1.1.1\n\t */\n\tpublic static degreesToRadians(degrees: number): number {\n\t\treturn degrees * GeometryConstants.DEGREES_TO_RADIANS;\n\t}\n\n\t/**\n\t * Convert radians to degrees\n\t * \n\t * @param radians\n\t *            radians\n\t * @return degrees\n\t * @since 1.1.1\n\t */\n\tpublic static radiansToDegrees(radians: number): number {\n\t\treturn radians * GeometryConstants.RADIANS_TO_DEGREES;\n\t}\n\n\t/**\n\t * Get the centroid point of a 2 dimensional representation of the Geometry\n\t * (balancing point of a 2d cutout of the geometry). Only the x and y\n\t * coordinate of the resulting point are calculated and populated. The\n\t * resulting {@link Point#getZ()} and {@link Point#getM()} methods will\n\t * always return null.\n\t * @param geometry geometry object\n\t * @return centroid point\n\t */\n\tpublic static getCentroid(geometry: Geometry): Point {\n\t\tlet centroid: Point = null;\n\t\tconst dimension = GeometryUtils.getDimension(geometry);\n\t\tswitch (dimension) {\n\t\t\tcase 0:\n\t\t\t\tconst point: CentroidPoint = new CentroidPoint(geometry);\n\t\t\t\tcentroid = point.getCentroid();\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tconst curve: CentroidCurve = new CentroidCurve(geometry);\n\t\t\t\tcentroid = curve.getCentroid();\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tconst surface: CentroidSurface = new CentroidSurface(geometry);\n\t\t\t\tcentroid = surface.getCentroid();\n\t\t\t\tbreak;\n\t\t}\n\t\treturn centroid;\n\t}\n\n\t/**\n\t * Get the geographic centroid point of a 2 dimensional representation of\n\t * the degree unit Geometry. Only the x and y coordinate of the resulting\n\t * point are calculated and populated. The resulting {@link Point#getZ()}\n\t * and {@link Point#getM()} methods will always return null.\n\t * \n\t * @param geometry  geometry object\n\t * @return centroid point\n\t */\n\tpublic static getDegreesCentroid(geometry: Geometry): Point {\n\t\treturn DegreesCentroid.getCentroid(geometry);\n\t}\n\n\t/**\n\t * Minimize the WGS84 geometry using the shortest x distance between each\n\t * connected set of points. Resulting x values will be in the range: -540.0\n\t * &lt;= x &lt;= 540.0\n\t * \n\t * @param geometry\n\t *            geometry\n\t * @since 1.1.1\n\t */\n\tpublic static minimizeWGS84(geometry: Geometry): void {\n\t\tGeometryUtils.minimize(geometry, GeometryConstants.WGS84_HALF_WORLD_LON_WIDTH);\n\t}\n\n\t/**\n\t * Minimize the Web Mercator geometry using the shortest x distance between\n\t * each connected set of points. Resulting x values will be in the range:\n\t * -60112525.028367732 &lt;= x &lt;= 60112525.028367732\n\t * \n\t * @param geometry\n\t *            geometry\n\t * @since 1.1.1\n\t */\n\tpublic static minimizeWebMercator(geometry: Geometry): void {\n\t\tGeometryUtils.minimize(geometry, GeometryConstants.WEB_MERCATOR_HALF_WORLD_WIDTH);\n\t}\n\n\t/**\n\t * Minimize the geometry using the shortest x distance between each\n\t * connected set of points. The resulting geometry point x values will be in\n\t * the range: (3 * min value &lt;= x &lt;= 3 * max value\n\t *\n\t * Example: For WGS84 provide a max x of 180.0. Resulting x values will be\n\t * in the range: -540.0 &lt;= x &lt;= 540.0\n\t *\n\t * Example: For web mercator provide a world width of 20037508.342789244.\n\t * Resulting x values will be in the range: -60112525.028367732 &lt;= x\n\t * &lt;= 60112525.028367732\n\t *\n\t * @param geometry geometry\n\t * @param maxX max positive x value in the geometry projection\n\t */\n\tpublic static minimizeGeometry(geometry: Geometry, maxX: number): void {\n\t\tGeometryUtils.minimize(geometry, maxX);\n\t}\n\n\t/**\n\t * Minimize the geometry using the shortest x distance between each\n\t * connected set of points. The resulting geometry point x values will be in\n\t * the range: (3 * min value &lt;= x &lt;= 3 * max value\n\t *\n\t * Example: For WGS84 provide a max x of\n\t * {@link GeometryConstants#WGS84_HALF_WORLD_LON_WIDTH}. Resulting x values\n\t * will be in the range: -540.0 &lt;= x &lt;= 540.0\n\t *\n\t * Example: For web mercator provide a world width of\n\t * {@link GeometryConstants#WEB_MERCATOR_HALF_WORLD_WIDTH}. Resulting x\n\t * values will be in the range: -60112525.028367732 &lt;= x &lt;=\n\t * 60112525.028367732\n\t *\n\t * @param geometry\n\t *            geometry\n\t * @param maxX\n\t *            max positive x value in the geometry projection\n\t * @since 1.1.1\n\t */\n\tpublic static minimize(geometry: Geometry, maxX: number): void {\n\t\tconst geometryType = geometry.geometryType;\n\t\tswitch (geometryType) {\n\t\t\tcase GeometryType.LINESTRING:\n\t\t\t\tGeometryUtils.minimizeLineString(geometry as LineString, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POLYGON:\n\t\t\t\tGeometryUtils.minimizePolygon(geometry as Polygon, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTILINESTRING:\n\t\t\t\tGeometryUtils.minimizeMultiLineString(geometry as MultiLineString, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTIPOLYGON:\n\t\t\t\tGeometryUtils.minimizeMultiPolygon(geometry as MultiPolygon, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CIRCULARSTRING:\n\t\t\t\tGeometryUtils.minimizeLineString(geometry as CircularString, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.COMPOUNDCURVE:\n\t\t\t\tGeometryUtils.minimizeCompoundCurve(geometry as CompoundCurve, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CURVEPOLYGON:\n\t\t\t\tconst curvePolygon = geometry as CurvePolygon<Curve>;\n\t\t\t\tGeometryUtils.minimizeCurvePolygon(curvePolygon, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POLYHEDRALSURFACE:\n\t\t\t\tGeometryUtils.minimizePolyhedralSurface(geometry as PolyhedralSurface, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.TIN:\n\t\t\t\tGeometryUtils.minimizePolyhedralSurface(geometry as TIN, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.TRIANGLE:\n\t\t\t\tGeometryUtils.minimizePolygon(geometry as Triangle, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.GEOMETRYCOLLECTION:\n\t\t\tcase GeometryType.MULTICURVE:\n\t\t\tcase GeometryType.MULTISURFACE:\n\t\t\t\tconst geomCollection = geometry as GeometryCollection<Geometry>;\n\t\t\t\tfor (const subGeometry of geomCollection.geometries) {\n\t\t\t\t\tGeometryUtils.minimizeGeometry(subGeometry, maxX);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\t/**\n\t * Minimize the line string\n\t * \n\t * @param lineString\n\t *            line string\n\t * @param maxX\n\t *            max positive x value in the geometry projection\n\t */\n\tprivate static minimizeLineString(lineString: LineString, maxX: number): void {\n\t\tconst points: Array<Point> = lineString.points;\n\t\tif (points.length > 1) {\n\t\t\tconst point: Point = points[0];\n\t\t\tfor (let i = 1; i < points.length; i++) {\n\t\t\t\tlet nextPoint = points[i];\n\t\t\t\tif (point.x < nextPoint.x) {\n\t\t\t\t\tif (nextPoint.x - point.x > point.x\n\t\t\t\t\t\t- nextPoint.x + (maxX * 2.0)) {\n\t\t\t\t\t\tnextPoint.x = nextPoint.x - (maxX * 2.0);\n\t\t\t\t\t}\n\t\t\t\t} else if (point.x > nextPoint.x) {\n\t\t\t\t\tif (point.x - nextPoint.x > nextPoint.x\n\t\t\t\t\t\t- point.x + (maxX * 2.0)) {\n\t\t\t\t\t\tnextPoint.x = nextPoint.x + (maxX * 2.0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Minimize the multi line string\n\t * @param multiLineString multi line string\n\t * @param maxX max positive x value in the geometry projection\n\t */\n\tprivate static minimizeMultiLineString(multiLineString: MultiLineString, maxX: number): void {\n\t\tmultiLineString.lineStrings.forEach(lineString => GeometryUtils.minimizeLineString(lineString, maxX));\n\t}\n\n\t/**\n\t * Minimize the polygon\n\t * @param polygon polygon\n\t * @param maxX max positive x value in the geometry projection\n\t */\n\tprivate static minimizePolygon(polygon: Polygon, maxX: number): void {\n\t\tpolygon.rings.forEach(ring => GeometryUtils.minimizeLineString(ring, maxX));\n\t}\n\n\t/**\n\t * Minimize the multi polygon\n\t * @param multiPolygon multi polygon\n\t * @param maxX max positive x value in the geometry projection\n\t */\n\tprivate static minimizeMultiPolygon(multiPolygon: MultiPolygon, maxX: number): void {\n\t\tmultiPolygon.polygons.forEach(polygon => GeometryUtils.minimizePolygon(polygon, maxX));\n\t}\n\n\t/**\n\t * Minimize the compound curve\n\t * @param compoundCurve compound curve\n\t * @param maxX max positive x value in the geometry projection\n\t */\n\tprivate static minimizeCompoundCurve(compoundCurve: CompoundCurve, maxX: number): void {\n\t\tcompoundCurve.lineStrings.forEach(lineString => GeometryUtils.minimizeLineString(lineString, maxX));\n\t}\n\n\t/**\n\t * Minimize the curve polygon\n\t * @param curvePolygon curve polygon\n\t * @param maxX max positive x value in the geometry projection\n\t */\n\tprivate static minimizeCurvePolygon(curvePolygon: CurvePolygon<Curve>, maxX: number): void {\n\t\tcurvePolygon.rings.forEach(ring => GeometryUtils.minimizeGeometry(ring, maxX));\n\t}\n\n\t/**\n\t * Minimize the polyhedral surface\n\t * @param polyhedralSurface polyhedral surface\n\t * @param maxX max positive x value in the geometry projection\n\t */\n\tprivate static minimizePolyhedralSurface(polyhedralSurface: PolyhedralSurface, maxX: number): void {\n\t\tpolyhedralSurface.polygons.forEach(polygon => GeometryUtils.minimizePolygon(polygon, maxX));\n\t}\n\n\t/**\n\t * Normalize the WGS84 geometry using the shortest x distance between each\n\t * connected set of points. Resulting x values will be in the range: -180.0\n\t * &lt;= x &lt;= 180.0\n\t * \n\t * @param geometry\n\t *            geometry\n\t * @since 1.1.1\n\t */\n\tpublic static normalizeWGS84(geometry: Geometry): void {\n\t\tGeometryUtils.normalize(geometry, GeometryConstants.WGS84_HALF_WORLD_LON_WIDTH);\n\t}\n\n\t/**\n\t * Normalize the Web Mercator geometry using the shortest x distance between\n\t * each connected set of points. Resulting x values will be in the range:\n\t * -20037508.342789244 &lt;= x &lt;= 20037508.342789244\n\t * \n\t * @param geometry\n\t *            geometry\n\t * @since 1.1.1\n\t */\n\tpublic static normalizeWebMercator(geometry: Geometry): void {\n\t\tGeometryUtils.normalize(geometry, GeometryConstants.WEB_MERCATOR_HALF_WORLD_WIDTH);\n\t}\n\n\t/**\n\t * Normalize the geometry so all points outside of the min and max value\n\t * range are adjusted to fall within the range.\n\t *\n\t * Example: For WGS84 provide a max x of 180.0. Resulting x values will be\n\t * in the range: -180.0 &lt;= x &lt;= 180.0.\n\t *\n\t * Example: For web mercator provide a world width of 20037508.342789244.\n\t * Resulting x values will be in the range: -20037508.342789244 &lt;= x\n\t * &lt;= 20037508.342789244.\n\t *\n\t * @param geometry geometry\n\t * @param maxX max positive x value in the geometry projection\n\t */\n\tpublic static normalizeGeometry(geometry: Geometry, maxX: number) {\n\t\tGeometryUtils.normalize(geometry, maxX);\n\t}\n\n\t/**\n\t * Normalize the geometry so all points outside of the min and max value\n\t * range are adjusted to fall within the range.\n\t *\n\t * Example: For WGS84 provide a max x of\n\t * {@link GeometryConstants#WGS84_HALF_WORLD_LON_WIDTH}. Resulting x values\n\t * will be in the range: -180.0 &lt;= x &lt;= 180.0\n\t *\n\t * Example: For web mercator provide a world width of\n\t * {@link GeometryConstants#WEB_MERCATOR_HALF_WORLD_WIDTH}. Resulting x\n\t * values will be in the range: -20037508.342789244 &lt;= x &lt;=\n\t * 20037508.342789244\n\t *\n\t * @param geometry\n\t *            geometry\n\t * @param maxX\n\t *            max positive x value in the geometry projection\n\t * @since 1.1.1\n\t */\n\tpublic static normalize(geometry: Geometry, maxX: number): void {\n\t\tconst geometryType = geometry.geometryType;\n\t\tswitch (geometryType) {\n\t\t\tcase GeometryType.POINT:\n\t\t\t\tGeometryUtils.normalizePoint(geometry as Point, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.LINESTRING:\n\t\t\t\tGeometryUtils.normalizeLineString(geometry as LineString, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POLYGON:\n\t\t\t\tGeometryUtils.normalizePolygon(geometry as Polygon, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTIPOINT:\n\t\t\t\tGeometryUtils.normalizeMultiPoint(geometry as MultiPoint, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTILINESTRING:\n\t\t\t\tGeometryUtils.normalizeMultiLineString(geometry as MultiLineString, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTIPOLYGON:\n\t\t\t\tGeometryUtils.normalizeMultiPolygon(geometry as MultiPolygon, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CIRCULARSTRING:\n\t\t\t\tGeometryUtils.normalizeLineString(geometry as CircularString, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.COMPOUNDCURVE:\n\t\t\t\tGeometryUtils.normalizeCompoundCurve(geometry as CompoundCurve, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CURVEPOLYGON:\n\t\t\t\tGeometryUtils.normalizeCurvePolygon(geometry as CurvePolygon<Curve>, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POLYHEDRALSURFACE:\n\t\t\t\tGeometryUtils.normalizePolyhedralSurface(geometry as PolyhedralSurface, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.TIN:\n\t\t\t\tGeometryUtils.normalizePolyhedralSurface(geometry as TIN, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.TRIANGLE:\n\t\t\t\tGeometryUtils.normalizePolygon(geometry as Triangle, maxX);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.GEOMETRYCOLLECTION:\n\t\t\tcase GeometryType.MULTICURVE:\n\t\t\tcase GeometryType.MULTISURFACE:\n\t\t\t\tfor (const subGeometry of (geometry as GeometryCollection<Geometry>).geometries) {\n\t\t\t\t\tGeometryUtils.normalizeGeometry(subGeometry, maxX);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Normalize the point\n\t * \n\t * @param point\n\t *            point\n\t * @param maxX\n\t *            max positive x value in the geometry projection\n\t */\n\tprivate static normalizePoint(point: Point, maxX: number): void {\n\n\t\tif (point.x < -maxX) {\n\t\t\tpoint.x = point.x + (maxX * 2.0);\n\t\t} else if (point.x > maxX) {\n\t\t\tpoint.x = point.x - (maxX * 2.0);\n\t\t}\n\t}\n\n\t/**\n\t * Normalize the multi point\n\t * @param multiPoint multi point\n\t * @param maxX max positive x value in the geometry projection\n\t */\n\tprivate static normalizeMultiPoint(multiPoint: MultiPoint, maxX: number): void {\n\t\tmultiPoint.points.forEach(point => GeometryUtils.normalizePoint(point, maxX));\n\t}\n\n\t/**\n\t * Normalize the line string\n\t * @param lineString line string\n\t * @param maxX max positive x value in the geometry projection\n\t */\n\tprivate static normalizeLineString(lineString: LineString, maxX: number): void {\n\t\tlineString.points.forEach(point => GeometryUtils.normalizePoint(point, maxX));\n\t}\n\n\t/**\n\t * Normalize the multi line string\n\t * @param multiLineString  multi line string\n\t * @param maxX max positive x value in the geometry projection\n\t */\n\tprivate static normalizeMultiLineString(multiLineString: MultiLineString, maxX: number): void {\n\t\tmultiLineString.lineStrings.forEach(lineString => GeometryUtils.normalizeLineString(lineString, maxX));\n\t}\n\n\t/**\n\t * Normalize the polygon\n\t * @param polygon polygon\n\t * @param maxX max positive x value in the geometry projection\n\t */\n\tprivate static normalizePolygon(polygon: Polygon, maxX: number): void {\n\t\tpolygon.rings.forEach(ring => GeometryUtils.normalizeLineString(ring, maxX));\n\t}\n\n\t/**\n\t * Normalize the multi polygon\n\t * @param multiPolygon  multi polygon\n\t * @param maxX  max positive x value in the geometry projection\n\t */\n\tprivate static normalizeMultiPolygon(multiPolygon: MultiPolygon, maxX: number): void {\n\t\tmultiPolygon.polygons.forEach(polygon => GeometryUtils.normalizePolygon(polygon, maxX));\n\t}\n\n\t/**\n\t * Normalize the compound curve\n\t * @param compoundCurve compound curve\n\t * @param maxX max positive x value in the geometry projection\n\t */\n\tprivate static normalizeCompoundCurve(compoundCurve: CompoundCurve, maxX: number): void {\n\t\tcompoundCurve.lineStrings.forEach(lineString => GeometryUtils.normalizeLineString(lineString, maxX));\n\t}\n\n\t/**\n\t * Normalize the curve polygon\n\t * @param curvePolygon curve polygon\n\t * @param maxX max positive x value in the geometry projection\n\t */\n\tprivate static normalizeCurvePolygon(curvePolygon: CurvePolygon<Curve>, maxX: number): void {\n\t\tcurvePolygon.rings.forEach(ring => GeometryUtils.normalizeGeometry(ring, maxX));\n\t}\n\n\t/**\n\t * Normalize the polyhedral surface\n\t * @param polyhedralSurface polyhedral surface\n\t * @param maxX max positive x value in the geometry projection\n\t */\n\tprivate static normalizePolyhedralSurface(polyhedralSurface: PolyhedralSurface, maxX: number): void {\n\t\tpolyhedralSurface.polygons.forEach(polygon => GeometryUtils.normalizePolygon(polygon, maxX));\n\t}\n\n\t/**\n\t * Normalize the x value\n\t * \n\t * @param x\n\t *            x value\n\t * @param maxX\n\t *            max positive x value in the geometry projection\n\t */\n\tprivate static normalizeX(x: number, maxX: number): number {\n\t\tif (x < -maxX) {\n\t\t\tx = x + (maxX * 2.0);\n\t\t} else if (x > maxX) {\n\t\t\tx = x - (maxX * 2.0);\n\t\t}\n\t\treturn x;\n\t}\n\n\t/**\n\t * Simplify the ordered points (representing a line, polygon, etc) using the\n\t * Douglas Peucker algorithm to create a similar curve with fewer points.\n\t * Points should be in a meters unit type projection. The tolerance is the\n\t * minimum tolerated distance between consecutive points.\n\t *\n\t * @param points geometry points\n\t * @param tolerance minimum tolerance in meters for consecutive points\n\t * @return simplified points\n\t * @since 1.0.4\n\t */\n\tpublic static simplifyPoints(points: Array<Point>, tolerance: number): Array<Point> {\n\t\treturn GeometryUtils._simplifyPoints(points, tolerance, 0, points.length - 1);\n\t}\n\n\t/**\n\t * Simplify the ordered points (representing a line, polygon, etc) using the\n\t * Douglas Peucker algorithm to create a similar curve with fewer points.\n\t * Points should be in a meters unit type projection. The tolerance is the\n\t * minimum tolerated distance between consecutive points.\n\t *\n\t * @param points geometry points\n\t * @param tolerance minimum tolerance in meters for consecutive points\n\t * @param startIndex start index\n\t * @param endIndex end index\n\t * @return simplified points\n\t */\n\tprivate static _simplifyPoints(points: Array<Point>, tolerance: number, startIndex: number, endIndex: number): Array<Point> {\n\t\tlet result: Array<Point>;\n\n\t\tlet dmax: number = 0.0;\n\t\tlet index: number = 0;\n\n\t\tlet startPoint: Point = points[startIndex];\n\t\tlet endPoint: Point = points[endIndex];\n\n\t\tfor (let i = startIndex + 1; i < endIndex; i++) {\n\t\t\tlet point: Point = points[i];\n\n\t\t\tlet d: number = GeometryUtils.perpendicularDistance(point, startPoint, endPoint);\n\n\t\t\tif (d > dmax) {\n\t\t\t\tindex = i;\n\t\t\t\tdmax = d;\n\t\t\t}\n\t\t}\n\n\t\tif (dmax > tolerance) {\n\t\t\tconst recResults1: Array<Point> = GeometryUtils._simplifyPoints(points, tolerance, startIndex, index);\n\t\t\tconst recResults2: Array<Point> = GeometryUtils._simplifyPoints(points, tolerance, index, endIndex);\n\t\t\tresult = recResults1.slice(0, recResults1.length - 1);\n\t\t\tresult.push(...recResults2);\n\n\t\t} else {\n\t\t\tresult = [];\n\t\t\tresult.push(startPoint);\n\t\t\tresult.push(endPoint);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * Calculate the perpendicular distance between the point and the line\n\t * represented by the start and end points. Points should be in a meters\n\t * unit type projection.\n\t *\n\t * @param point point\n\t * @param lineStart point representing the line start\n\t * @param lineEnd point representing the line end\n\t * @return distance in meters\n\t */\n\tpublic static perpendicularDistance(point: Point, lineStart: Point, lineEnd: Point): number {\n\t\tlet x = point.x;\n\t\tlet y = point.y;\n\t\tlet startX = lineStart.x;\n\t\tlet startY = lineStart.y;\n\t\tlet endX = lineEnd.x;\n\t\tlet endY = lineEnd.y;\n\n\t\tlet vX = endX - startX;\n\t\tlet vY = endY - startY;\n\t\tlet wX = x - startX;\n\t\tlet wY = y - startY;\n\t\tlet c1 = wX * vX + wY * vY;\n\t\tlet c2 = vX * vX + vY * vY;\n\n\t\tlet x2;\n\t\tlet y2;\n\t\tif (c1 <= 0) {\n\t\t\tx2 = startX;\n\t\t\ty2 = startY;\n\t\t} else if (c2 <= c1) {\n\t\t\tx2 = endX;\n\t\t\ty2 = endY;\n\t\t} else {\n\t\t\tlet b = c1 / c2;\n\t\t\tx2 = startX + b * vX;\n\t\t\ty2 = startY + b * vY;\n\t\t}\n\n\t\treturn Math.sqrt(Math.pow(x2 - x, 2) + Math.pow(y2 - y, 2));\n\t}\n\n\t/**\n\t * Check if the point is in the polygon\n\t * @param point point\n\t * @param polygon polygon\n\t * @return true if in the polygon\n\t */\n\tpublic static pointInPolygon(point: Point, polygon: Polygon): boolean {\n\t\treturn GeometryUtils.pointInPolygonWithEpsilon(point, polygon, GeometryUtils.DEFAULT_EPSILON);\n\t}\n\n\t/**\n\t * Check if the point is in the polygon\n\t * \n\t * @param point point\n\t * @param polygon polygon\n\t * @param epsilon epsilon line tolerance\n\t * @return true if in the polygon\n\t */\n\tpublic static pointInPolygonWithEpsilon(point: Point, polygon: Polygon, epsilon: number): boolean {\n\t\tlet contains: boolean = false;\n\t\tconst rings: Array<LineString> = polygon.rings;\n\t\tif (rings.length > 0) {\n\t\t\tcontains = GeometryUtils.pointInPolygonRingWithEpsilon(point, rings[0], epsilon);\n\t\t\tif (contains) {\n\t\t\t\t// Check the holes\n\t\t\t\tfor (let i = 1; i < rings.length; i++) {\n\t\t\t\t\tif (GeometryUtils.pointInPolygonRingWithEpsilon(point, rings[i], epsilon)) {\n\t\t\t\t\t\tcontains = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn contains;\n\t}\n\n\t/**\n\t * Check if the point is in the polygon ring\n\t * \n\t * @param point point\n\t * @param ring polygon ring\n\t * @return true if in the polygon\n\t */\n\tpublic static pointInPolygonRing(point: Point, ring: LineString): boolean {\n\t\treturn GeometryUtils.pointInPolygonRingWithEpsilon(point, ring, GeometryUtils.DEFAULT_EPSILON);\n\t}\n\n\t/**\n\t * Check if the point is in the polygon ring\n\t * \n\t * @param point point\n\t * @param ring polygon ring\n\t * @param epsilon epsilon line tolerance\n\t * @return true if in the polygon\n\t */\n\tpublic static pointInPolygonRingWithEpsilon(point: Point, ring: LineString, epsilon: number): boolean {\n\t\treturn GeometryUtils.pointInPolygonRingPointsWithEpsilon(point, ring.points, epsilon);\n\t}\n\n\t/**\n\t * Check if the point is in the polygon points\n\t * @param point point\n\t * @param points polygon points\n\t * @return true if in the polygon\n\t */\n\tpublic static pointInPolygonRingPoints(point: Point, points: Array<Point>): boolean {\n\t\treturn GeometryUtils.pointInPolygonRingPointsWithEpsilon(point, points, GeometryUtils.DEFAULT_EPSILON);\n\t}\n\n\t/**\n\t * Check if the point is in the polygon points\n\t * @param point point\n\t * @param points polygon points\n\t * @param epsilon epsilon line tolerance\n\t * @return true if in the polygon\n\t */\n\tpublic static pointInPolygonRingPointsWithEpsilon(point: Point, points: Array<Point>, epsilon: number): boolean {\n\n\t\tlet contains = false;\n\n\t\tlet i = 0;\n\t\tlet j = points.length - 1;\n\t\tif (GeometryUtils.closedPolygonPoints(points)) {\n\t\t\tj = i++;\n\t\t}\n\n\t\tfor (; i < points.length; j = i++) {\n\t\t\tlet point1 = points[i];\n\t\t\tlet point2 = points[j];\n\n\t\t\t// Shortcut check if polygon contains the point within tolerance\n\t\t\tif (Math.abs(point1.x - point.x) <= epsilon && Math.abs(point1.y - point.y) <= epsilon) {\n\t\t\t\tcontains = true;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (((point1.y > point.y) !== (point2.y > point.y))\n\t\t\t\t&& (point.x < (point2.x - point1.x) * (point.y - point1.y) / (point2.y - point1.y) + point1.x)) {\n\t\t\t\tcontains = !contains;\n\t\t\t}\n\t\t}\n\n\t\tif (!contains) {\n\t\t\t// Check the polygon edges\n\t\t\tcontains = GeometryUtils.pointOnPolygonEdgePoints(point, points);\n\t\t}\n\n\t\treturn contains;\n\t}\n\n\t/**\n\t * Check if the point is on the polygon edge\n\t * @param point point\n\t * @param polygon polygon\n\t * @return true if on the polygon edge\n\t */\n\tpublic static pointOnPolygonEdge(point: Point, polygon: Polygon): boolean {\n\t\treturn GeometryUtils.pointOnPolygonEdgeWithEpsilon(point, polygon, GeometryUtils.DEFAULT_EPSILON);\n\t}\n\n\t/**\n\t * Check if the point is on the polygon edge\n\t * \n\t * @param point point\n\t * @param polygon polygon\n\t * @param epsilon epsilon line tolerance\n\t * @return true if on the polygon edge\n\t */\n\tpublic static pointOnPolygonEdgeWithEpsilon(point: Point, polygon: Polygon, epsilon: number): boolean {\n\t\treturn polygon.numRings() > 0 && GeometryUtils.pointOnPolygonEdgeRingWithEpsilon(point, polygon.rings[0], epsilon);\n\t}\n\n\t/**\n\t * Check if the point is on the polygon ring edge\n\t * @param point point\n\t * @param ring polygon ring\n\t * @return true if on the polygon edge\n\t */\n\tpublic static pointOnPolygonEdgeRing(point: Point, ring: LineString): boolean {\n\t\treturn GeometryUtils.pointOnPolygonEdgeRingWithEpsilon(point, ring, GeometryUtils.DEFAULT_EPSILON);\n\t}\n\n\t/**\n\t * Check if the point is on the polygon ring edge\n\t * \n\t * @param point point\n\t * @param ring polygon ring\n\t * @param epsilon epsilon line tolerance\n\t * @return true if on the polygon edge\n\t */\n\tpublic static pointOnPolygonEdgeRingWithEpsilon(point: Point, ring: LineString, epsilon: number): boolean {\n\t\treturn GeometryUtils.pointOnPolygonEdgePointsWithEpsilon(point, ring.points, epsilon);\n\t}\n\n\t/**\n\t * Check if the point is on the polygon ring edge points\n\t * @param point point\n\t * @param points polygon points\n\t * @return true if on the polygon edge\n\t */\n\tpublic static pointOnPolygonEdgePoints(point: Point, points: Array<Point>): boolean {\n\t\treturn GeometryUtils.pointOnPolygonEdgePointsWithEpsilon(point, points, GeometryUtils.DEFAULT_EPSILON);\n\t}\n\n\t/**\n\t * Check if the point is on the polygon ring edge points\n\t * @param point point\n\t * @param points polygon points\n\t * @param epsilon epsilon line tolerance\n\t * @return true if on the polygon edge\n\t */\n\tpublic static pointOnPolygonEdgePointsWithEpsilon(point: Point, points: Array<Point>, epsilon: number): boolean {\n\t\treturn GeometryUtils.pointOnPathPointArray(point, points, epsilon, !GeometryUtils.closedPolygonPoints(points));\n\t}\n\n\t/**\n\t * Check if the polygon outer ring is explicitly closed, where the first and\n\t * last point are the same\n\t * @param polygon polygon\n\t * @return true if the first and last points are the same\n\t */\n\tpublic static closedPolygon(polygon: Polygon): boolean {\n\t\treturn polygon.numRings() > 0 && GeometryUtils.closedPolygonRing(polygon.rings[0]);\n\t}\n\n\t/**\n\t * Check if the polygon ring is explicitly closed, where the first and last\n\t * point are the same\n\t * @param ring polygon ring\n\t * @return true if the first and last points are the same\n\t */\n\tpublic static closedPolygonRing(ring: LineString): boolean {\n\t\treturn GeometryUtils.closedPolygonPoints(ring.points);\n\t}\n\n\t/**\n\t * Check if the polygon ring points are explicitly closed, where the first\n\t * and last point are the same\n\t * @param points polygon ring points\n\t * @return true if the first and last points are the same\n\t */\n\tpublic static closedPolygonPoints(points: Array<Point>): boolean {\n\t\tlet closed = false;\n\t\tif (points.length > 0) {\n\t\t\tlet first = points[0];\n\t\t\tlet last = points[points.length - 1];\n\t\t\tclosed = first.x == last.x && first.y == last.y;\n\t\t}\n\t\treturn closed;\n\t}\n\n\t/**\n\t * Check if the point is on the line\n\t * @param point point\n\t * @param line  line\n\t * @return true if on the line\n\t */\n\tpublic static pointOnLine(point: Point, line: LineString): boolean {\n\t\treturn GeometryUtils.pointOnLineWithEpsilon(point, line, GeometryUtils.DEFAULT_EPSILON);\n\t}\n\n\t/**\n\t * Check if the point is on the line\n\t * @param point point\n\t * @param line line\n\t * @param epsilon epsilon line tolerance\n\t * @return true if on the line\n\t */\n\tpublic static pointOnLineWithEpsilon(point: Point, line: LineString, epsilon: number): boolean {\n\t\treturn GeometryUtils.pointOnLinePointsWithEpsilon(point, line.points, epsilon);\n\t}\n\n\t/**\n\t * Check if the point is on the line represented by the points\n\t * @param point point\n\t * @param points line points\n\t * @return true if on the line\n\t */\n\tpublic static pointOnLinePoints(point: Point, points: Array<Point>): boolean {\n\t\treturn GeometryUtils.pointOnLinePointsWithEpsilon(point, points, GeometryUtils.DEFAULT_EPSILON);\n\t}\n\n\t/**\n\t * Check if the point is on the line represented by the points\n\t * @param point point\n\t * @param points line points\n\t * @param epsilon epsilon line tolerance\n\t * @return true if on the line\n\t */\n\tpublic static pointOnLinePointsWithEpsilon(point: Point, points: Array<Point>, epsilon: number): boolean {\n\t\treturn GeometryUtils.pointOnPathPointArray(point, points, epsilon, false);\n\t}\n\n\t/**\n\t * Check if the point is on the path between point 1 and point 2\n\t * @param point point\n\t * @param point1 path point 1\n\t * @param point2 path point 2\n\t * @return true if on the path\n\t */\n\tpublic static pointOnPath(point: Point, point1: Point, point2: Point): boolean {\n\t\treturn GeometryUtils.pointOnPathWithEpsilon(point, point1, point2, GeometryUtils.DEFAULT_EPSILON);\n\t}\n\n\t/**\n\t * Check if the point is on the path between point 1 and point 2\n\t * @param point point\n\t * @param point1 path point 1\n\t * @param point2 path point 2\n\t * @param epsilon epsilon line tolerance\n\t * @return true if on the path\n\t */\n\tpublic static pointOnPathWithEpsilon(point: Point, point1: Point, point2: Point, epsilon: number): boolean {\n\t\tlet contains = false;\n\t\tconst x21 = point2.x - point1.x;\n\t\tconst y21 = point2.y - point1.y;\n\t\tconst xP1 = point.x - point1.x;\n\t\tconst yP1 = point.y - point1.y;\n\t\tconst dp = xP1 * x21 + yP1 * y21;\n\t\tif (dp >= 0.0) {\n\t\t\tconst lengthP1 = xP1 * xP1 + yP1 * yP1;\n\t\t\tconst length21 = x21 * x21 + y21 * y21;\n\t\t\tif (lengthP1 <= length21) {\n\t\t\t\tcontains = Math.abs(dp * dp - lengthP1 * length21) <= epsilon;\n\t\t\t}\n\t\t}\n\t\treturn contains;\n\t}\n\n\t/**\n\t * Check if the point is on the path between the points\n\t * @param point point\n\t * @param points path points\n\t * @param epsilon epsilon line tolerance\n\t * @param circular true if a path exists between the first and last point (a non explicitly closed polygon)\n\t * @return true if on the path\n\t */\n\tprivate static pointOnPathPointArray(point: Point, points: Array<Point>, epsilon: number, circular: boolean): boolean {\n\n\t\tlet onPath = false;\n\n\t\tlet i = 0;\n\t\tlet j = points.length - 1;\n\t\tif (!circular) {\n\t\t\tj = i++;\n\t\t}\n\n\t\tfor (; i < points.length; j = i++) {\n\t\t\tlet point1: Point = points[i];\n\t\t\tlet point2: Point = points[j];\n\t\t\tif (GeometryUtils.pointOnPathWithEpsilon(point, point1, point2, epsilon)) {\n\t\t\t\tonPath = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn onPath;\n\t}\n\n\t/**\n\t * Get the point intersection between two lines\n\t * \n\t * @param line1\n\t *            first line\n\t * @param line2\n\t *            second line\n\t * @return intersection point or null if no intersection\n\t * @since 1.1.1\n\t */\n\tpublic static intersectionLine(line1: Line, line2: Line): Point {\n\t\treturn GeometryUtils.intersection(line1.startPoint(), line1.endPoint(),\n\t\t\tline2.startPoint(), line2.endPoint());\n\t}\n\n\t/**\n\t * Get the point intersection between end points of two lines\n\t * \n\t * @param line1Point1\n\t *            first point of the first line\n\t * @param line1Point2\n\t *            second point of the first line\n\t * @param line2Point1\n\t *            first point of the second line\n\t * @param line2Point2\n\t *            second point of the second line\n\t * @return intersection point or null if no intersection\n\t * @since 2.1.0\n\t */\n\tpublic static intersection(line1Point1: Point, line1Point2: Point,\n\t\tline2Point1: Point, line2Point2: Point): Point {\n\n\t\tlet intersection: Point = null;\n\n\t\tconst a1 = line1Point2.y - line1Point1.y;\n\t\tconst b1 = line1Point1.x - line1Point2.x;\n\t\tconst c1 = a1 * (line1Point1.x) + b1 * (line1Point1.y);\n\n\t\tconst a2 = line2Point2.y - line2Point1.y;\n\t\tconst b2 = line2Point1.x - line2Point2.x;\n\t\tconst c2 = a2 * (line2Point1.x) + b2 * (line2Point1.y);\n\n\t\tconst determinant = a1 * b2 - a2 * b1;\n\n\t\tif (determinant != 0) {\n\t\t\tconst x = (b2 * c1 - b1 * c2) / determinant;\n\t\t\tconst y = (a1 * c2 - a2 * c1) / determinant;\n\t\t\tintersection = new Point(x, y);\n\t\t}\n\n\t\treturn intersection;\n\t}\n\n\t/**\n\t * Convert a geometry in degrees to a geometry in meters\n\t * \n\t * @param geometry\n\t *            geometry in degrees\n\t * @return geometry in meters\n\t * @since 1.1.1\n\t */\n\tpublic static degreesToMeters(geometry: Geometry): Geometry {\n\t\tlet meters: Geometry = null;\n\n\t\tswitch (geometry.geometryType) {\n\t\t\tcase GeometryType.POINT:\n\t\t\t\tmeters = GeometryUtils.degreesToMetersPoint(geometry as Point);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.LINESTRING:\n\t\t\t\tmeters = GeometryUtils.degreesToMetersLineString(geometry as LineString);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POLYGON:\n\t\t\t\tmeters = GeometryUtils.degreesToMetersPolygon(geometry as Polygon);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTIPOINT:\n\t\t\t\tmeters = GeometryUtils.degreesToMetersMultiPoint(geometry as MultiPoint);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTILINESTRING:\n\t\t\t\tmeters = GeometryUtils.degreesToMetersMultiLineString(geometry as MultiLineString);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTIPOLYGON:\n\t\t\t\tmeters = GeometryUtils.degreesToMetersMultiPolygon(geometry as MultiPolygon);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CIRCULARSTRING:\n\t\t\t\tmeters = GeometryUtils.degreesToMetersCircularString(geometry as CircularString);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.COMPOUNDCURVE:\n\t\t\t\tmeters = GeometryUtils.degreesToMetersCompundCurve(geometry as CompoundCurve);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CURVEPOLYGON:\n\t\t\t\tconst curvePolygon = geometry as CurvePolygon<Curve>;\n\t\t\t\tmeters = GeometryUtils.degreesToMetersCurvePolygon(curvePolygon);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POLYHEDRALSURFACE:\n\t\t\t\tmeters = GeometryUtils.degreesToMetersPolyhedralSurface(geometry as PolyhedralSurface);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.TIN:\n\t\t\t\tmeters = GeometryUtils.degreesToMetersPolyhedralSurface(geometry as TIN);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.TRIANGLE:\n\t\t\t\tmeters = GeometryUtils.degreesToMetersPolygon(geometry as Triangle);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.GEOMETRYCOLLECTION:\n\t\t\tcase GeometryType.MULTICURVE:\n\t\t\tcase GeometryType.MULTISURFACE:\n\t\t\t\tconst metersCollection = new GeometryCollection();\n\t\t\t\tconst geomCollection = geometry as GeometryCollection<Geometry>;\n\t\t\t\tfor (const subGeometry of geomCollection.geometries) {\n\t\t\t\t\tmetersCollection.addGeometry(GeometryUtils.degreesToMeters(subGeometry));\n\t\t\t\t}\n\t\t\t\tmeters = metersCollection;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\treturn meters;\n\t}\n\n\t/**\n\t * Convert a point in degrees to a point in meters\n\t * \n\t * @param point\n\t *            point in degrees\n\t * @return point in meters\n\t * @since 1.1.1\n\t */\n\tpublic static degreesToMetersPoint(point: Point): Point {\n\t\tconst value = GeometryUtils.degreesToMetersCoord(point.x, point.y);\n\t\tvalue.z = point.z;\n\t\tvalue.m = point.m;\n\t\treturn value;\n\t}\n\n\t/**\n\t * Convert a coordinate in degrees to a point in meters\n\t * \n\t * @param x\n\t *            x value in degrees\n\t * @param y\n\t *            y value in degrees\n\t * @return point in meters\n\t * @since 1.1.1\n\t */\n\tpublic static degreesToMetersCoord(x: number, y: number): Point {\n\t\tx = GeometryUtils.normalizeX(x, GeometryConstants.WGS84_HALF_WORLD_LON_WIDTH);\n\t\ty = Math.min(y, GeometryConstants.WGS84_HALF_WORLD_LAT_HEIGHT);\n\t\ty = Math.max(y, GeometryConstants.DEGREES_TO_METERS_MIN_LAT);\n\t\tconst xValue = x * GeometryConstants.WEB_MERCATOR_HALF_WORLD_WIDTH\n\t\t\t/ GeometryConstants.WGS84_HALF_WORLD_LON_WIDTH;\n\t\tlet yValue = Math.log(Math.tan(\n\t\t\t(GeometryConstants.WGS84_HALF_WORLD_LAT_HEIGHT + y) * Math.PI\n\t\t\t/ (2 * GeometryConstants.WGS84_HALF_WORLD_LON_WIDTH)))\n\t\t\t/ (Math.PI / GeometryConstants.WGS84_HALF_WORLD_LON_WIDTH);\n\t\tyValue = yValue * GeometryConstants.WEB_MERCATOR_HALF_WORLD_WIDTH\n\t\t\t/ GeometryConstants.WGS84_HALF_WORLD_LON_WIDTH;\n\t\treturn new Point(xValue, yValue);\n\t}\n\n\t/**\n\t * Convert a multi point in degrees to a multi point in meters\n\t * \n\t * @param multiPoint\n\t *            multi point in degrees\n\t * @return multi point in meters\n\t * @since 1.1.1\n\t */\n\tpublic static degreesToMetersMultiPoint(multiPoint: MultiPoint): MultiPoint {\n\t\tconst meters = new MultiPoint(multiPoint.hasZ,\n\t\t\tmultiPoint.hasM);\n\t\tfor (const point of multiPoint.points) {\n\t\t\tmeters.addPoint(GeometryUtils.degreesToMetersPoint(point));\n\t\t}\n\t\treturn meters;\n\t}\n\n\t/**\n\t * Convert a line string in degrees to a line string in meters\n\t * \n\t * @param lineString\n\t *            line string in degrees\n\t * @return line string in meters\n\t * @since 2.2.0\n\t */\n\tpublic static degreesToMetersLineString(lineString: LineString): LineString {\n\t\tconst meters = new LineString(lineString.hasZ,\n\t\t\tlineString.hasM);\n\t\tfor (const point of lineString.points) {\n\t\t\tmeters.addPoint(GeometryUtils.degreesToMetersPoint(point));\n\t\t}\n\t\treturn meters;\n\t}\n\n\t/**\n\t * Convert a line in degrees to a line in meters\n\t * \n\t * @param line\n\t *            line in degrees\n\t * @return line in meters\n\t * @since 1.1.1\n\t */\n\tpublic static degreesToMetersLine(line: Line): Line {\n\t\tconst meters = new Line(line.hasZ, line.hasM);\n\t\tfor (const point of line.points) {\n\t\t\tmeters.addPoint(GeometryUtils.degreesToMetersPoint(point));\n\t\t}\n\t\treturn meters;\n\t}\n\n\t/**\n\t * Convert a multi line string in degrees to a multi line string in meters\n\t * \n\t * @param multiLineString\n\t *            multi line string in degrees\n\t * @return multi line string in meters\n\t * @since 1.1.1\n\t */\n\tpublic static degreesToMetersMultiLineString(\n\t\tmultiLineString: MultiLineString): MultiLineString {\n\t\tconst meters = new MultiLineString(multiLineString.hasZ,\n\t\t\tmultiLineString.hasM);\n\t\tfor (const lineString of multiLineString.lineStrings) {\n\t\t\tmeters.addLineString(GeometryUtils.degreesToMetersLineString(lineString));\n\t\t}\n\t\treturn meters;\n\t}\n\n\t/**\n\t * Convert a polygon in degrees to a polygon in meters\n\t * \n\t * @param polygon\n\t *            polygon in degrees\n\t * @return polygon in meters\n\t * @since 1.1.1\n\t */\n\tpublic static degreesToMetersPolygon(polygon: Polygon): Polygon {\n\t\tconst meters = new Polygon(polygon.hasZ, polygon.hasM);\n\t\tfor (const ring of polygon.rings) {\n\t\t\tmeters.addRing(GeometryUtils.degreesToMetersLineString(ring));\n\t\t}\n\t\treturn meters;\n\t}\n\n\t/**\n\t * Convert a multi polygon in degrees to a multi polygon in meters\n\t * \n\t * @param multiPolygon\n\t *            multi polygon in degrees\n\t * @return multi polygon in meters\n\t * @since 1.1.1\n\t */\n\tpublic static degreesToMetersMultiPolygon(multiPolygon: MultiPolygon): MultiPolygon {\n\t\tconst meters = new MultiPolygon(multiPolygon.hasZ,\n\t\t\tmultiPolygon.hasM);\n\t\tfor (const polygon of multiPolygon.polygons) {\n\t\t\tmeters.addPolygon(GeometryUtils.degreesToMetersPolygon(polygon));\n\t\t}\n\t\treturn meters;\n\t}\n\n\t/**\n\t * Convert a circular string in degrees to a circular string in meters\n\t * \n\t * @param circularString\n\t *            circular string in degrees\n\t * @return circular string in meters\n\t * @since 1.1.1\n\t */\n\tpublic static degreesToMetersCircularString(\n\t\tcircularString: CircularString): CircularString {\n\t\tconst meters = new CircularString(circularString.hasZ,\n\t\t\tcircularString.hasM);\n\t\tfor (const point of circularString.points) {\n\t\t\tmeters.addPoint(GeometryUtils.degreesToMetersPoint(point));\n\t\t}\n\t\treturn meters;\n\t}\n\n\t/**\n\t * Convert a compound curve in degrees to a compound curve in meters\n\t * \n\t * @param compoundCurve\n\t *            compound curve in degrees\n\t * @return compound curve in meters\n\t * @since 1.1.1\n\t */\n\tpublic static degreesToMetersCompundCurve(compoundCurve: CompoundCurve): CompoundCurve {\n\t\tconst meters = new CompoundCurve(compoundCurve.hasZ,\n\t\t\tcompoundCurve.hasM);\n\t\tfor (const lineString of compoundCurve.lineStrings) {\n\t\t\tmeters.addLineString(GeometryUtils.degreesToMetersLineString(lineString));\n\t\t}\n\t\treturn meters;\n\t}\n\n\t/**\n\t * Convert a curve polygon in degrees to a curve polygon in meters\n\t * \n\t * @param curvePolygon\n\t *            curve polygon in degrees\n\t * @return curve polygon in meters\n\t * @since 1.1.1\n\t */\n\tpublic static degreesToMetersCurvePolygon(\n\t\tcurvePolygon: CurvePolygon<Curve>): CurvePolygon<Curve> {\n\t\tconst meters = new CurvePolygon(curvePolygon.hasZ,\n\t\t\tcurvePolygon.hasM);\n\t\tfor (const ring of curvePolygon.rings) {\n\t\t\tmeters.addRing(GeometryUtils.degreesToMeters(ring) as Curve);\n\t\t}\n\t\treturn meters;\n\t}\n\n\t/**\n\t * Convert a polyhedral surface in degrees to a polyhedral surface in meters\n\t * \n\t * @param polyhedralSurface\n\t *            polyhedral surface in degrees\n\t * @return polyhedral surface in meters\n\t * @since 1.1.1\n\t */\n\tpublic static degreesToMetersPolyhedralSurface(\n\t\tpolyhedralSurface: PolyhedralSurface): PolyhedralSurface {\n\t\tconst meters = new PolyhedralSurface(\n\t\t\tpolyhedralSurface.hasZ, polyhedralSurface.hasM);\n\t\tfor (const polygon of polyhedralSurface.polygons) {\n\t\t\tmeters.addPolygon(GeometryUtils.degreesToMetersPolygon(polygon));\n\t\t}\n\t\treturn meters;\n\t}\n\n\t/**\n\t * Convert a geometry in meters to a geometry in degrees\n\t * \n\t * @param geometry\n\t *            geometry in meters\n\t * @return geometry in degrees\n\t * @since 1.1.1\n\t */\n\tpublic static metersToDegrees(geometry: Geometry): Geometry {\n\t\tlet degrees: Geometry = null;\n\n\t\tswitch (geometry.geometryType) {\n\t\t\tcase GeometryType.POINT:\n\t\t\t\tdegrees = GeometryUtils.metersToDegreesPoint(geometry as Point);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.LINESTRING:\n\t\t\t\tdegrees = GeometryUtils.metersToDegreesLineString(geometry as LineString);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POLYGON:\n\t\t\t\tdegrees = GeometryUtils.metersToDegreesPolygon(geometry as Polygon);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTIPOINT:\n\t\t\t\tdegrees = GeometryUtils.metersToDegreesMultiPoint(geometry as MultiPoint);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTILINESTRING:\n\t\t\t\tdegrees = GeometryUtils.metersToDegreesMultiLineString(geometry as MultiLineString);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTIPOLYGON:\n\t\t\t\tdegrees = GeometryUtils.metersToDegreesMultiPolygon(geometry as MultiPolygon);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CIRCULARSTRING:\n\t\t\t\tdegrees = GeometryUtils.metersToDegreesCircularString(geometry as CircularString);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.COMPOUNDCURVE:\n\t\t\t\tdegrees = GeometryUtils.metersToDegreesCompoundCurve(geometry as CompoundCurve);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CURVEPOLYGON:\n\t\t\t\tconst curvePolygon = geometry as CurvePolygon<Curve>;\n\t\t\t\tdegrees = GeometryUtils.metersToDegreesCurvePolygon(curvePolygon);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POLYHEDRALSURFACE:\n\t\t\t\tdegrees = GeometryUtils.metersToDegreesPolyhedralSurface(geometry as PolyhedralSurface);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.TIN:\n\t\t\t\tdegrees = GeometryUtils.metersToDegreesPolyhedralSurface(geometry as TIN);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.TRIANGLE:\n\t\t\t\tdegrees = GeometryUtils.degreesToMetersPolygon(geometry as Triangle);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.GEOMETRYCOLLECTION:\n\t\t\tcase GeometryType.MULTICURVE:\n\t\t\tcase GeometryType.MULTISURFACE:\n\t\t\t\tconst degreesCollection = new GeometryCollection();\n\t\t\t\tconst geomCollection = geometry as GeometryCollection<Geometry>;\n\t\t\t\tfor (const subGeometry of geomCollection.geometries) {\n\t\t\t\t\tdegreesCollection.addGeometry(GeometryUtils.metersToDegrees(subGeometry));\n\t\t\t\t}\n\t\t\t\tdegrees = degreesCollection;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\treturn degrees;\n\t}\n\n\t/**\n\t * Convert a point in meters to a point in degrees\n\t * \n\t * @param point\n\t *            point in meters\n\t * @return point in degrees\n\t * @since 1.1.1\n\t */\n\tpublic static metersToDegreesPoint(point: Point): Point {\n\t\tconst value = GeometryUtils.metersToDegreesCoord(point.x, point.y);\n\t\tvalue.z = point.z;\n\t\tvalue.m = point.m;\n\t\treturn value;\n\t}\n\n\t/**\n\t * Convert a coordinate in meters to a point in degrees\n\t * \n\t * @param x\n\t *            x value in meters\n\t * @param y\n\t *            y value in meters\n\t * @return point in degrees\n\t * @since 1.1.1\n\t */\n\tpublic static metersToDegreesCoord(x: number, y: number): Point {\n\t\tconst xValue = x * GeometryConstants.WGS84_HALF_WORLD_LON_WIDTH\n\t\t\t/ GeometryConstants.WEB_MERCATOR_HALF_WORLD_WIDTH;\n\t\tlet yValue = y * GeometryConstants.WGS84_HALF_WORLD_LON_WIDTH\n\t\t\t/ GeometryConstants.WEB_MERCATOR_HALF_WORLD_WIDTH;\n\t\tyValue = Math.atan(Math.exp(yValue\n\t\t\t* (Math.PI / GeometryConstants.WGS84_HALF_WORLD_LON_WIDTH)))\n\t\t\t/ Math.PI * (2 * GeometryConstants.WGS84_HALF_WORLD_LON_WIDTH)\n\t\t\t- GeometryConstants.WGS84_HALF_WORLD_LAT_HEIGHT;\n\t\treturn new Point(xValue, yValue);\n\t}\n\n\t/**\n\t * Convert a multi point in meters to a multi point in degrees\n\t * \n\t * @param multiPoint\n\t *            multi point in meters\n\t * @return multi point in degrees\n\t * @since 1.1.1\n\t */\n\tpublic static metersToDegreesMultiPoint(multiPoint: MultiPoint): MultiPoint {\n\t\tconst degrees = new MultiPoint(multiPoint.hasZ,\n\t\t\tmultiPoint.hasM);\n\t\tfor (const point of multiPoint.points) {\n\t\t\tdegrees.addPoint(GeometryUtils.metersToDegreesPoint(point));\n\t\t}\n\t\treturn degrees;\n\t}\n\n\t/**\n\t * Convert a line string in meters to a line string in degrees\n\t * \n\t * @param lineString\n\t *            line string in meters\n\t * @return line string in degrees\n\t * @since 1.1.1\n\t */\n\tpublic static metersToDegreesLineString(lineString: LineString): LineString {\n\t\tconst degrees = new LineString(lineString.hasZ,\n\t\t\tlineString.hasM);\n\t\tfor (const point of lineString.points) {\n\t\t\tdegrees.addPoint(GeometryUtils.metersToDegreesPoint(point));\n\t\t}\n\t\treturn degrees;\n\t}\n\n\t/**\n\t * Convert a line in meters to a line in degrees\n\t * \n\t * @param line\n\t *            line in meters\n\t * @return line in degrees\n\t * @since 1.1.1\n\t */\n\tpublic static metersToDegreesLine(line: Line): Line {\n\t\tconst degrees = new Line(line.hasZ, line.hasM);\n\t\tfor (const point of line.points) {\n\t\t\tdegrees.addPoint(GeometryUtils.metersToDegreesPoint(point));\n\t\t}\n\t\treturn degrees;\n\t}\n\n\t/**\n\t * Convert a multi line string in meters to a multi line string in degrees\n\t * \n\t * @param multiLineString\n\t *            multi line string in meters\n\t * @return multi line string in degrees\n\t * @since 1.1.1\n\t */\n\tpublic static metersToDegreesMultiLineString(\n\t\tmultiLineString: MultiLineString): MultiLineString {\n\t\tconst degrees = new MultiLineString(multiLineString.hasZ,\n\t\t\tmultiLineString.hasM);\n\t\tfor (const lineString of multiLineString.lineStrings) {\n\t\t\tdegrees.addLineString(GeometryUtils.metersToDegreesLineString(lineString));\n\t\t}\n\t\treturn degrees;\n\t}\n\n\t/**\n\t * Convert a polygon in meters to a polygon in degrees\n\t * \n\t * @param polygon\n\t *            polygon in meters\n\t * @return polygon in degrees\n\t * @since 1.1.1\n\t */\n\tpublic static metersToDegreesPolygon(polygon: Polygon): Polygon {\n\t\tconst degrees = new Polygon(polygon.hasZ, polygon.hasM);\n\t\tfor (const ring of polygon.rings) {\n\t\t\tdegrees.addRing(GeometryUtils.metersToDegreesLineString(ring));\n\t\t}\n\t\treturn degrees;\n\t}\n\n\t/**\n\t * Convert a multi polygon in meters to a multi polygon in degrees\n\t * \n\t * @param multiPolygon\n\t *            multi polygon in meters\n\t * @return multi polygon in degrees\n\t * @since 1.1.1\n\t */\n\tpublic static metersToDegreesMultiPolygon(multiPolygon: MultiPolygon): MultiPolygon {\n\t\tconst degrees = new MultiPolygon(multiPolygon.hasZ,\n\t\t\tmultiPolygon.hasM);\n\t\tfor (const polygon of multiPolygon.polygons) {\n\t\t\tdegrees.addPolygon(GeometryUtils.metersToDegreesPolygon(polygon));\n\t\t}\n\t\treturn degrees;\n\t}\n\n\t/**\n\t * Convert a circular string in meters to a circular string in degrees\n\t * \n\t * @param circularString\n\t *            circular string in meters\n\t * @return circular string in degrees\n\t * @since 1.1.1\n\t */\n\tpublic static metersToDegreesCircularString(circularString: CircularString): CircularString {\n\t\tconst degrees = new CircularString(circularString.hasZ,\n\t\t\tcircularString.hasM);\n\t\tfor (const point of circularString.points) {\n\t\t\tdegrees.addPoint(GeometryUtils.metersToDegreesPoint(point));\n\t\t}\n\t\treturn degrees;\n\t}\n\n\t/**\n\t * Convert a compound curve in meters to a compound curve in degrees\n\t * \n\t * @param compoundCurve\n\t *            compound curve in meters\n\t * @return compound curve in degrees\n\t * @since 1.1.1\n\t */\n\tpublic static metersToDegreesCompoundCurve(compoundCurve: CompoundCurve): CompoundCurve {\n\t\tconst degrees = new CompoundCurve(compoundCurve.hasZ,\n\t\t\tcompoundCurve.hasM);\n\t\tfor (const lineString of compoundCurve.lineStrings) {\n\t\t\tdegrees.addLineString(GeometryUtils.metersToDegreesLineString(lineString));\n\t\t}\n\t\treturn degrees;\n\t}\n\n\t/**\n\t * Convert a curve polygon in meters to a curve polygon in degrees\n\t * \n\t * @param curvePolygon\n\t *            curve polygon in meters\n\t * @return curve polygon in degrees\n\t * @since 2.2.0\n\t */\n\tpublic static metersToDegreesCurvePolygon(\n\t\tcurvePolygon: CurvePolygon<Curve>): CurvePolygon<Curve> {\n\t\tconst degrees = new CurvePolygon(curvePolygon.hasZ,\n\t\t\tcurvePolygon.hasM);\n\t\tfor (const ring of curvePolygon.rings) {\n\t\t\tdegrees.addRing(GeometryUtils.metersToDegrees(ring) as Curve);\n\t\t}\n\t\treturn degrees;\n\t}\n\n\t/**\n\t * Convert a polyhedral surface in meters to a polyhedral surface in degrees\n\t * \n\t * @param polyhedralSurface\n\t *            polyhedral surface in meters\n\t * @return polyhedral surface in degrees\n\t * @since 1.1.1\n\t */\n\tpublic static metersToDegreesPolyhedralSurface(\n\t\tpolyhedralSurface: PolyhedralSurface): PolyhedralSurface {\n\t\tconst degrees = new PolyhedralSurface(\n\t\t\tpolyhedralSurface.hasZ, polyhedralSurface.hasM);\n\t\tfor (const polygon of polyhedralSurface.polygons) {\n\t\t\tdegrees.addPolygon(GeometryUtils.metersToDegreesPolygon(polygon));\n\t\t}\n\t\treturn degrees;\n\t}\n\n\t/**\n\t * Get a WGS84 bounded geometry envelope\n\t * \n\t * @return geometry envelope\n\t * @since 1.1.1\n\t */\n\tpublic static wgs84Envelope(): GeometryEnvelope {\n\t\treturn new GeometryEnvelope(\n\t\t\t-GeometryConstants.WGS84_HALF_WORLD_LON_WIDTH,\n\t\t\t-GeometryConstants.WGS84_HALF_WORLD_LAT_HEIGHT,\n\t\t\tGeometryConstants.WGS84_HALF_WORLD_LON_WIDTH,\n\t\t\tGeometryConstants.WGS84_HALF_WORLD_LAT_HEIGHT);\n\t}\n\n\t/**\n\t * Get a WGS84 bounded geometry envelope used for projection transformations\n\t * (degrees to meters)\n\t * \n\t * @return geometry envelope\n\t * @since 1.1.1\n\t */\n\tpublic static wgs84TransformableEnvelope(): GeometryEnvelope {\n\t\treturn new GeometryEnvelope(\n\t\t\t-GeometryConstants.WGS84_HALF_WORLD_LON_WIDTH,\n\t\t\tGeometryConstants.DEGREES_TO_METERS_MIN_LAT,\n\t\t\tGeometryConstants.WGS84_HALF_WORLD_LON_WIDTH,\n\t\t\tGeometryConstants.WGS84_HALF_WORLD_LAT_HEIGHT);\n\t}\n\n\t/**\n\t * Get a Web Mercator bounded geometry envelope\n\t * \n\t * @return geometry envelope\n\t * @since 1.1.1\n\t */\n\tpublic static webMercatorEnvelope(): GeometryEnvelope {\n\t\treturn new GeometryEnvelope(\n\t\t\t-GeometryConstants.WEB_MERCATOR_HALF_WORLD_WIDTH,\n\t\t\t-GeometryConstants.WEB_MERCATOR_HALF_WORLD_WIDTH,\n\t\t\tGeometryConstants.WEB_MERCATOR_HALF_WORLD_WIDTH,\n\t\t\tGeometryConstants.WEB_MERCATOR_HALF_WORLD_WIDTH);\n\t}\n\n\t/**\n\t * Get a WGS84 geometry envelope with Web Mercator bounds\n\t * \n\t * @return geometry envelope\n\t * @since 1.1.1\n\t */\n\tpublic static wgs84EnvelopeWithWebMercator(): GeometryEnvelope {\n\t\treturn new GeometryEnvelope(\n\t\t\t-GeometryConstants.WGS84_HALF_WORLD_LON_WIDTH,\n\t\t\tGeometryConstants.WEB_MERCATOR_MIN_LAT_RANGE,\n\t\t\tGeometryConstants.WGS84_HALF_WORLD_LON_WIDTH,\n\t\t\tGeometryConstants.WEB_MERCATOR_MAX_LAT_RANGE);\n\t}\n\n\t/**\n\t * Crop the geometry in meters by web mercator world bounds. Cropping\n\t * removes points outside the envelope and creates new points on the line\n\t * intersections with the envelope.\n\t * \n\t * @param geometry\n\t *            geometry in meters\n\t * @return cropped geometry in meters or null\n\t * @since 1.1.1\n\t */\n\tpublic static cropWebMercator(geometry: Geometry): Geometry {\n\t\treturn GeometryUtils.crop(geometry, GeometryUtils.webMercatorEnvelope());\n\t}\n\n\t/**\n\t * Crop the geometry in meters by the envelope bounds in meters. Cropping\n\t * removes points outside the envelope and creates new points on the line\n\t * intersections with the envelope.\n\t * \n\t * @param geometry\n\t *            geometry in meters\n\t * @param envelope\n\t *            envelope in meters\n\t * @return cropped geometry in meters or null\n\t * @since 1.1.1\n\t */\n\tpublic static crop(geometry: Geometry, envelope: GeometryEnvelope): Geometry {\n\n\t\tlet crop: Geometry = null;\n\n\t\tif (GeometryUtils.containsGeometryEnvelope(envelope, geometry.getEnvelope())) {\n\t\t\tcrop = geometry;\n\t\t} else {\n\n\t\t\tswitch (geometry.geometryType) {\n\t\t\t\tcase GeometryType.POINT:\n\t\t\t\t\tcrop = GeometryUtils.cropPoint(geometry as Point, envelope);\n\t\t\t\t\tbreak;\n\t\t\t\tcase GeometryType.LINESTRING:\n\t\t\t\t\tcrop = GeometryUtils.cropLineString(geometry as LineString, envelope);\n\t\t\t\t\tbreak;\n\t\t\t\tcase GeometryType.POLYGON:\n\t\t\t\t\tcrop = GeometryUtils.cropPolygon(geometry as Polygon, envelope);\n\t\t\t\t\tbreak;\n\t\t\t\tcase GeometryType.MULTIPOINT:\n\t\t\t\t\tcrop = GeometryUtils.cropMultiPoint(geometry as MultiPoint, envelope);\n\t\t\t\t\tbreak;\n\t\t\t\tcase GeometryType.MULTILINESTRING:\n\t\t\t\t\tcrop = GeometryUtils.cropMultiLineString(geometry as MultiLineString, envelope);\n\t\t\t\t\tbreak;\n\t\t\t\tcase GeometryType.MULTIPOLYGON:\n\t\t\t\t\tcrop = GeometryUtils.cropMultiPolygon(geometry as MultiPolygon, envelope);\n\t\t\t\t\tbreak;\n\t\t\t\tcase GeometryType.CIRCULARSTRING:\n\t\t\t\t\tcrop = GeometryUtils.cropCircularString(geometry as CircularString, envelope);\n\t\t\t\t\tbreak;\n\t\t\t\tcase GeometryType.COMPOUNDCURVE:\n\t\t\t\t\tcrop = GeometryUtils.cropCompoundCurve(geometry as CompoundCurve, envelope);\n\t\t\t\t\tbreak;\n\t\t\t\tcase GeometryType.CURVEPOLYGON:\n\t\t\t\t\tconst curvePolygon = geometry as CurvePolygon<Curve>;\n\t\t\t\t\tcrop = GeometryUtils.cropCurvePolygon(curvePolygon, envelope);\n\t\t\t\t\tbreak;\n\t\t\t\tcase GeometryType.POLYHEDRALSURFACE:\n\t\t\t\t\tcrop = GeometryUtils.cropPolyhedralSurface(geometry as PolyhedralSurface, envelope);\n\t\t\t\t\tbreak;\n\t\t\t\tcase GeometryType.TIN:\n\t\t\t\t\tcrop = GeometryUtils.cropPolyhedralSurface(geometry as TIN, envelope);\n\t\t\t\t\tbreak;\n\t\t\t\tcase GeometryType.TRIANGLE:\n\t\t\t\t\tcrop = GeometryUtils.cropPolygon(geometry as Triangle, envelope);\n\t\t\t\t\tbreak;\n\t\t\t\tcase GeometryType.GEOMETRYCOLLECTION:\n\t\t\t\tcase GeometryType.MULTICURVE:\n\t\t\t\tcase GeometryType.MULTISURFACE:\n\t\t\t\t\tconst cropCollection = new GeometryCollection();\n\t\t\t\t\tconst geomCollection = geometry as GeometryCollection<Geometry>;\n\t\t\t\t\tfor (const subGeometry of geomCollection.geometries) {\n\t\t\t\t\t\tcropCollection.addGeometry(GeometryUtils.crop(subGeometry, envelope));\n\t\t\t\t\t}\n\t\t\t\t\tcrop = cropCollection;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn crop;\n\t}\n\n\t/**\n\t * Crop the point by the envelope bounds.\n\t * \n\t * @param point\n\t *            point\n\t * @param envelope\n\t *            envelope\n\t * @return cropped point or null\n\t * @since 1.1.1\n\t */\n\tpublic static cropPoint(point: Point, envelope: GeometryEnvelope): Point {\n\t\tlet crop: Point = null;\n\t\tif (GeometryUtils.containsPoint(envelope, point)) {\n\t\t\tcrop = new Point(point);\n\t\t}\n\t\treturn crop;\n\t}\n\n\t/**\n\t * Crop the list of consecutive points in meters by the envelope bounds in\n\t * meters. Cropping removes points outside the envelope and creates new\n\t * points on the line intersections with the envelope.\n\t * \n\t * @param points\n\t *            consecutive points\n\t * @param envelope\n\t *            envelope in meters\n\t * @return cropped points in meters or null\n\t * @since 1.1.1\n\t */\n\tpublic static cropPoints(points: Point[],\n\t\tenvelope: GeometryEnvelope): Point[] {\n\n\t\tlet crop: Point[] = [];\n\n\t\tconst left = envelope.getLeft();\n\t\tconst bottom = envelope.getBottom();\n\t\tconst right = envelope.getRight();\n\t\tconst top = envelope.getTop();\n\n\t\tlet previousPoint = null;\n\t\tlet previousContains = false;\n\t\tfor (const point of points) {\n\t\t\tconst contains = GeometryUtils.containsPoint(envelope, point);\n\n\t\t\tif (previousPoint != null && (!contains || !previousContains)) {\n\n\t\t\t\tconst line = new Line(previousPoint, point);\n\t\t\t\tconst bearing = GeometryUtils.bearingLine(GeometryUtils.metersToDegreesLine(line));\n\n\t\t\t\tconst westBearing = GeometryUtils.isWestBearing(bearing);\n\t\t\t\tconst eastBearing = GeometryUtils.isEastBearing(bearing);\n\t\t\t\tconst southBearing = GeometryUtils.isSouthBearing(bearing);\n\t\t\t\tconst northBearing = GeometryUtils.isNorthBearing(bearing);\n\n\t\t\t\tlet vertLine = null;\n\t\t\t\tif (point.x > envelope.maxX) {\n\t\t\t\t\tif (eastBearing) {\n\t\t\t\t\t\tvertLine = right;\n\t\t\t\t\t}\n\t\t\t\t} else if (point.x < envelope.minX) {\n\t\t\t\t\tif (westBearing) {\n\t\t\t\t\t\tvertLine = left;\n\t\t\t\t\t}\n\t\t\t\t} else if (eastBearing) {\n\t\t\t\t\tvertLine = left;\n\t\t\t\t} else if (westBearing) {\n\t\t\t\t\tvertLine = right;\n\t\t\t\t}\n\n\t\t\t\tlet horizLine = null;\n\t\t\t\tif (point.y > envelope.maxY) {\n\t\t\t\t\tif (northBearing) {\n\t\t\t\t\t\thorizLine = top;\n\t\t\t\t\t}\n\t\t\t\t} else if (point.y < envelope.minY) {\n\t\t\t\t\tif (southBearing) {\n\t\t\t\t\t\thorizLine = bottom;\n\t\t\t\t\t}\n\t\t\t\t} else if (northBearing) {\n\t\t\t\t\thorizLine = bottom;\n\t\t\t\t} else if (southBearing) {\n\t\t\t\t\thorizLine = top;\n\t\t\t\t}\n\n\t\t\t\tlet vertIntersection = null;\n\t\t\t\tif (vertLine != null) {\n\t\t\t\t\tvertIntersection = GeometryUtils.intersectionLine(line, vertLine);\n\t\t\t\t\tif (vertIntersection != null\n\t\t\t\t\t\t&& !GeometryUtils.containsGeometryEnvelope(envelope, vertIntersection)) {\n\t\t\t\t\t\tvertIntersection = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet horizIntersection = null;\n\t\t\t\tif (horizLine != null) {\n\t\t\t\t\thorizIntersection = GeometryUtils.intersectionLine(line, horizLine);\n\t\t\t\t\tif (horizIntersection != null\n\t\t\t\t\t\t&& !GeometryUtils.containsGeometryEnvelope(envelope, horizIntersection)) {\n\t\t\t\t\t\thorizIntersection = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet intersection1: Point = null;\n\t\t\t\tlet intersection2: Point = null;\n\t\t\t\tif (vertIntersection != null && horizIntersection != null) {\n\t\t\t\t\tconst vertDistance = GeometryUtils.distance(previousPoint,\n\t\t\t\t\t\tvertIntersection);\n\t\t\t\t\tconst horizDistance = GeometryUtils.distance(previousPoint,\n\t\t\t\t\t\thorizIntersection);\n\t\t\t\t\tif (vertDistance <= horizDistance) {\n\t\t\t\t\t\tintersection1 = vertIntersection;\n\t\t\t\t\t\tintersection2 = horizIntersection;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tintersection1 = horizIntersection;\n\t\t\t\t\t\tintersection2 = vertIntersection;\n\t\t\t\t\t}\n\t\t\t\t} else if (vertIntersection != null) {\n\t\t\t\t\tintersection1 = vertIntersection;\n\t\t\t\t} else {\n\t\t\t\t\tintersection1 = horizIntersection;\n\t\t\t\t}\n\n\t\t\t\tif (intersection1 != null && !GeometryUtils.isEqual(intersection1, point)\n\t\t\t\t\t&& !GeometryUtils.isEqual(intersection1, previousPoint)) {\n\n\t\t\t\t\tcrop.push(intersection1);\n\n\t\t\t\t\tif (!contains && !previousContains && intersection2 != null\n\t\t\t\t\t\t&& !GeometryUtils.isEqual(intersection2, intersection1)) {\n\t\t\t\t\t\tcrop.push(intersection2);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif (contains) {\n\t\t\t\tcrop.push(point);\n\t\t\t}\n\n\t\t\tpreviousPoint = point;\n\t\t\tpreviousContains = contains;\n\t\t}\n\n\t\tif (crop.length > 0) {\n\t\t\tcrop = null;\n\t\t} else if (crop.length > 1) {\n\n\t\t\tif (points[0].equals(points[points.length - 1])\n\t\t\t\t&& !crop[0].equals(crop[crop.length - 1])) {\n\t\t\t\tcrop.push(new Point(crop[0]));\n\t\t\t}\n\n\t\t\tif (crop.length > 2) {\n\n\t\t\t\tconst simplified: Point[] = [];\n\t\t\t\tsimplified.push(crop[0]);\n\t\t\t\tfor (let i = 1; i < crop.length - 1; i++) {\n\t\t\t\t\tconst previous = simplified[length - 1];\n\t\t\t\t\tconst point = crop[i];\n\t\t\t\t\tconst next = crop[i + 1];\n\t\t\t\t\tif (!GeometryUtils.pointOnPath(point, previous, next)) {\n\t\t\t\t\t\tsimplified.push(point);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsimplified.push(crop[crop.length - 1]);\n\t\t\t\tcrop = simplified;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn crop;\n\t}\n\n\t/**\n\t * Crop the multi point by the envelope bounds.\n\t * \n\t * @param multiPoint\n\t *            multi point\n\t * @param envelope\n\t *            envelope\n\t * @return cropped multi point or null\n\t * @since 1.1.1\n\t */\n\tpublic static cropMultiPoint(multiPoint: MultiPoint,\n\t\tenvelope: GeometryEnvelope): MultiPoint {\n\t\tlet crop: MultiPoint = null;\n\t\tconst cropPoints: Point[] = [];\n\t\tfor (const point of multiPoint.points) {\n\t\t\tconst cropPoint = GeometryUtils.cropPoint(point, envelope);\n\t\t\tif (cropPoint != null) {\n\t\t\t\tcropPoints.push(cropPoint);\n\t\t\t}\n\t\t}\n\t\tif (cropPoints.length > 0) {\n\t\t\tcrop = new MultiPoint(multiPoint.hasZ, multiPoint.hasM);\n\t\t\tcrop.points = cropPoints;\n\t\t}\n\t\treturn crop;\n\t}\n\n\t/**\n\t * Crop the line string in meters by the envelope bounds in meters. Cropping\n\t * removes points outside the envelope and creates new points on the line\n\t * intersections with the envelope.\n\t * \n\t * @param lineString\n\t *            line string in meters\n\t * @param envelope\n\t *            envelope in meters\n\t * @return cropped line string in meters or null\n\t * @since 1.1.1\n\t */\n\tpublic static cropLineString(lineString: LineString,\n\t\tenvelope: GeometryEnvelope): LineString {\n\t\tlet crop: LineString = null;\n\t\tconst cropPoints = GeometryUtils.cropPoints(lineString.points, envelope);\n\t\tif (cropPoints != null) {\n\t\t\tcrop = new LineString(lineString.hasZ, lineString.hasM);\n\t\t\tcrop.points = cropPoints;\n\t\t}\n\t\treturn crop;\n\t}\n\n\t/**\n\t * Crop the line in meters by the envelope bounds in meters. Cropping\n\t * removes points outside the envelope and creates new points on the line\n\t * intersections with the envelope.\n\t * \n\t * @param line\n\t *            line in meters\n\t * @param envelope\n\t *            envelope in meters\n\t * @return cropped line in meters or null\n\t * @since 1.1.1\n\t */\n\tpublic static cropLine(line: Line, envelope: GeometryEnvelope): Line {\n\t\tlet crop: Line = null;\n\t\tconst cropPoints = GeometryUtils.cropPoints(line.points, envelope);\n\t\tif (cropPoints != null) {\n\t\t\tcrop = new Line(line.hasZ, line.hasM);\n\t\t\tcrop.points = cropPoints;\n\t\t}\n\t\treturn crop;\n\t}\n\n\t/**\n\t * Crop the multi line string in meters by the envelope bounds in meters.\n\t * Cropping removes points outside the envelope and creates new points on\n\t * the line intersections with the envelope.\n\t * \n\t * @param multiLineString\n\t *            multi line string in meters\n\t * @param envelope\n\t *            envelope in meters\n\t * @return cropped multi line string in meters or null\n\t * @since 1.1.1\n\t */\n\tpublic static cropMultiLineString(multiLineString: MultiLineString,\n\t\tenvelope: GeometryEnvelope): MultiLineString {\n\t\tlet crop: MultiLineString = null;\n\t\tconst cropLineStrings: LineString[] = [];\n\t\tfor (const lineString of multiLineString.lineStrings) {\n\t\t\tconst cropLineString = GeometryUtils.cropLineString(lineString, envelope);\n\t\t\tif (cropLineString != null) {\n\t\t\t\tcropLineStrings.push(cropLineString);\n\t\t\t}\n\t\t}\n\t\tif (cropLineStrings.length > 0) {\n\t\t\tcrop = new MultiLineString(multiLineString.hasZ,\n\t\t\t\tmultiLineString.hasM);\n\t\t\tcrop.lineStrings = cropLineStrings;\n\t\t}\n\t\treturn crop;\n\t}\n\n\t/**\n\t * Crop the polygon in meters by the envelope bounds in meters. Cropping\n\t * removes points outside the envelope and creates new points on the line\n\t * intersections with the envelope.\n\t * \n\t * @param polygon\n\t *            polygon in meters\n\t * @param envelope\n\t *            envelope in meters\n\t * @return cropped polygon in meters or null\n\t * @since 1.1.1\n\t */\n\tpublic static cropPolygon(polygon: Polygon, envelope: GeometryEnvelope): Polygon {\n\t\tlet crop: Polygon = null;\n\t\tconst cropRings: LineString[] = [];\n\t\tfor (const ring of polygon.rings) {\n\t\t\tconst points = ring.points;\n\t\t\tif (!ring.isClosed()) {\n\t\t\t\tpoints.push(new Point(points[0]));\n\t\t\t}\n\t\t\tconst cropPoints = GeometryUtils.cropPoints(points, envelope);\n\t\t\tif (cropPoints != null) {\n\t\t\t\tconst cropRing = new LineString(ring.hasZ, ring.hasM);\n\t\t\t\tcropRing.points = cropPoints;\n\t\t\t\tcropRings.push(cropRing);\n\t\t\t}\n\t\t}\n\t\tif (cropRings.length > 0) {\n\t\t\tcrop = new Polygon(polygon.hasZ, polygon.hasM);\n\t\t\tcrop.rings = cropRings;\n\t\t}\n\t\treturn crop;\n\t}\n\n\t/**\n\t * Crop the multi polygon in meters by the envelope bounds in meters.\n\t * Cropping removes points outside the envelope and creates new points on\n\t * the line intersections with the envelope.\n\t * \n\t * @param multiPolygon\n\t *            multi polygon in meters\n\t * @param envelope\n\t *            envelope in meters\n\t * @return cropped multi polygon in meters or null\n\t * @since 1.1.1\n\t */\n\tpublic static cropMultiPolygon(multiPolygon: MultiPolygon,\n\t\tenvelope: GeometryEnvelope): MultiPolygon {\n\t\tlet crop: MultiPolygon = null;\n\t\tconst cropPolygons: Polygon[] = [];\n\t\tfor (const polygon of multiPolygon.polygons) {\n\t\t\tconst cropPolygon = GeometryUtils.cropPolygon(polygon, envelope);\n\t\t\tif (cropPolygon != null) {\n\t\t\t\tcropPolygons.push(cropPolygon);\n\t\t\t}\n\t\t}\n\t\tif (cropPolygons.length > 0) {\n\t\t\tcrop = new MultiPolygon(multiPolygon.hasZ, multiPolygon.hasM);\n\t\t\tcrop.polygons = cropPolygons;\n\t\t}\n\t\treturn crop;\n\t}\n\n\t/**\n\t * Crop the circular string in meters by the envelope bounds in meters.\n\t * Cropping removes points outside the envelope and creates new points on\n\t * the line intersections with the envelope.\n\t * \n\t * @param circularString\n\t *            circular string in meters\n\t * @param envelope\n\t *            envelope in meters\n\t * @return cropped circular string in meters or null\n\t * @since 1.1.1\n\t */\n\tpublic static cropCircularString(circularString: CircularString,\n\t\tenvelope: GeometryEnvelope): CircularString {\n\t\tlet crop: CircularString = null;\n\t\tconst cropPoints = GeometryUtils.cropPoints(circularString.points, envelope);\n\t\tif (cropPoints != null) {\n\t\t\tcrop = new CircularString(circularString.hasZ,\n\t\t\t\tcircularString.hasM);\n\t\t\tcrop.points = cropPoints;\n\t\t}\n\t\treturn crop;\n\t}\n\n\t/**\n\t * Crop the compound curve in meters by the envelope bounds in meters.\n\t * Cropping removes points outside the envelope and creates new points on\n\t * the line intersections with the envelope.\n\t * \n\t * @param compoundCurve\n\t *            compound curve in meters\n\t * @param envelope\n\t *            envelope in meters\n\t * @return cropped compound curve in meters or null\n\t * @since 1.1.1\n\t */\n\tpublic static cropCompoundCurve(compoundCurve: CompoundCurve,\n\t\tenvelope: GeometryEnvelope): CompoundCurve {\n\t\tlet crop: CompoundCurve = null;\n\t\tconst cropLineStrings: LineString[] = [];\n\t\tfor (const lineString of compoundCurve.lineStrings) {\n\t\t\tconst cropLineString = GeometryUtils.cropLineString(lineString, envelope);\n\t\t\tif (cropLineString != null) {\n\t\t\t\tcropLineStrings.push(cropLineString);\n\t\t\t}\n\t\t}\n\t\tif (cropLineStrings.length > 0) {\n\t\t\tcrop = new CompoundCurve(compoundCurve.hasZ,\n\t\t\t\tcompoundCurve.hasM);\n\t\t\tcrop.lineStrings = cropLineStrings;\n\t\t}\n\t\treturn crop;\n\t}\n\n\t/**\n\t * Crop the curve polygon in meters by the envelope bounds in meters.\n\t * Cropping removes points outside the envelope and creates new points on\n\t * the line intersections with the envelope.\n\t * \n\t * @param curvePolygon\n\t *            curve polygon in meters\n\t * @param envelope\n\t *            envelope in meters\n\t * @return cropped curve polygon in meters or null\n\t * @since 1.1.1\n\t */\n\tpublic static cropCurvePolygon(curvePolygon: CurvePolygon<Curve>,\n\t\tenvelope: GeometryEnvelope): CurvePolygon<Curve> {\n\t\tlet crop: CurvePolygon<Curve> = null;\n\t\tconst cropRings: Curve[] = [];\n\t\tfor (const ring of curvePolygon.rings) {\n\t\t\tconst cropRing = GeometryUtils.crop(ring, envelope);\n\t\t\tif (cropRing != null) {\n\t\t\t\tcropRings.push(cropRing as Curve);\n\t\t\t}\n\t\t}\n\t\tif (cropRings.length > 0) {\n\t\t\tcrop = new CurvePolygon(curvePolygon.hasZ, curvePolygon.hasM);\n\t\t\tcrop.rings = cropRings;\n\t\t}\n\t\treturn crop;\n\t}\n\n\t/**\n\t * Crop the polyhedral surface in meters by the envelope bounds in meters.\n\t * Cropping removes points outside the envelope and creates new points on\n\t * the line intersections with the envelope.\n\t * \n\t * @param polyhedralSurface\n\t *            polyhedral surface in meters\n\t * @param envelope\n\t *            envelope in meters\n\t * @return cropped polyhedral surface in meters or null\n\t * @since 1.1.1\n\t */\n\tpublic static cropPolyhedralSurface(polyhedralSurface: PolyhedralSurface,\n\t\tenvelope: GeometryEnvelope): PolyhedralSurface {\n\t\tlet crop: PolyhedralSurface = null;\n\t\tconst cropPolygons: Polygon[] = [];\n\t\tfor (const polygon of polyhedralSurface.polygons) {\n\t\t\tconst cropPolygon = GeometryUtils.cropPolygon(polygon, envelope);\n\t\t\tif (cropPolygon != null) {\n\t\t\t\tcropPolygons.push(cropPolygon);\n\t\t\t}\n\t\t}\n\t\tif (cropPolygons.length > 0) {\n\t\t\tcrop = new PolyhedralSurface(polyhedralSurface.hasZ,\n\t\t\t\tpolyhedralSurface.hasM);\n\t\t\tcrop.polygons = cropPolygons;\n\t\t}\n\t\treturn crop;\n\t}\n\n\t/**\n\t * Determine if the points are equal within the default tolerance of\n\t * {@link GeometryConstants#DEFAULT_EQUAL_EPSILON}. For exact equality, use\n\t * {@link Point#equals(Object)}.\n\t * \n\t * @param point1\n\t *            point 1\n\t * @param point2\n\t *            point 2\n\t * @return true if equal\n\t * @since 1.1.1\n\t */\n\tpublic static isEqual(point1: Point, point2: Point): boolean {\n\t\treturn GeometryUtils.isEqualWithEpsilon(point1, point2, GeometryConstants.DEFAULT_EQUAL_EPSILON);\n\t}\n\n\t/**\n\t * Determine if the points are equal within the tolerance. For exact\n\t * equality, use {@link Point#equals(Object)}.\n\t * \n\t * @param point1\n\t *            point 1\n\t * @param point2\n\t *            point 2\n\t * @param epsilon\n\t *            epsilon equality tolerance\n\t * @return true if equal\n\t * @since 1.1.1\n\t */\n\tpublic static isEqualWithEpsilon(point1: Point, point2: Point, epsilon: number): boolean {\n\t\tlet equal = Math.abs(point1.x - point2.x) <= epsilon\n\t\t\t&& Math.abs(point1.y - point2.y) <= epsilon\n\t\t\t&& point1.hasZ == point2.hasZ\n\t\t\t&& point1.hasM == point2.hasM;\n\t\tif (equal) {\n\t\t\tif (point1.hasZ) {\n\t\t\t\tequal = Math.abs(point1.z - point2.z) <= epsilon;\n\t\t\t}\n\t\t\tif (equal && point1.hasM) {\n\t\t\t\tequal = Math.abs(point1.m - point2.m) <= epsilon;\n\t\t\t}\n\t\t}\n\t\treturn equal;\n\t}\n\n\t/**\n\t * Determine if the envelope contains the point within the default tolerance\n\t * of {@link GeometryConstants#DEFAULT_EQUAL_EPSILON}. For exact equality,\n\t * use {@link GeometryEnvelope#contains(Point)}.\n\t * \n\t * @param envelope\n\t *            envelope\n\t * @param point\n\t *            point\n\t * @return true if contains\n\t * @since 1.1.1\n\t */\n\tpublic static containsPoint(envelope: GeometryEnvelope, point: Point): boolean {\n\t\treturn envelope.containsPointWithEpsilon(point,\n\t\t\tGeometryConstants.DEFAULT_EQUAL_EPSILON);\n\t}\n\n\t/**\n\t * Determine if the first envelope contains the second within the default\n\t * tolerance of {@link GeometryConstants#DEFAULT_EQUAL_EPSILON}. For exact\n\t * equality, use {@link GeometryEnvelope#contains(GeometryEnvelope)}.\n\t * \n\t * @param envelope1\n\t *            envelope 1\n\t * @param envelope2\n\t *            envelope 2\n\t * @return true if contains\n\t * @since 1.1.1\n\t */\n\tpublic static containsGeometryEnvelope(envelope1: GeometryEnvelope,\n\t\tenvelope2: GeometryEnvelope): boolean {\n\t\treturn envelope1.containsWithEpsilon(envelope2,\n\t\t\tGeometryConstants.DEFAULT_EQUAL_EPSILON);\n\t}\n\n\t/**\n\t * Bound all points in the geometry to be within WGS84 limits.\n\t * \n\t * To perform a geometry crop using line intersections, see\n\t * {@link #degreesToMeters(Geometry)} and\n\t * {@link #crop(Geometry, GeometryEnvelope)}.\n\t * \n\t * @param geometry\n\t *            geometry\n\t * @since 1.1.1\n\t */\n\tpublic static boundWGS84(geometry: Geometry): void {\n\t\tGeometryUtils.bound(geometry, GeometryUtils.wgs84Envelope());\n\t}\n\n\t/**\n\t * Bound all points in the geometry to be within WGS84 projection\n\t * transformable (degrees to meters) limits.\n\t * \n\t * To perform a geometry crop using line intersections, see\n\t * {@link #degreesToMeters(Geometry)} and\n\t * {@link #crop(Geometry, GeometryEnvelope)}.\n\t * \n\t * @param geometry\n\t *            geometry\n\t * @since 1.1.1\n\t */\n\tpublic static boundWGS84Transformable(geometry: Geometry): void {\n\t\tGeometryUtils.bound(geometry, GeometryUtils.wgs84TransformableEnvelope());\n\t}\n\n\t/**\n\t * Bound all points in the geometry to be within Web Mercator limits.\n\t * \n\t * To perform a geometry crop using line intersections, see\n\t * {@link #cropWebMercator(Geometry)}.\n\t * \n\t * @param geometry\n\t *            geometry\n\t * @since 2.2.0\n\t */\n\tpublic static boundWebMercator(geometry: Geometry): void {\n\t\tGeometryUtils.bound(geometry, GeometryUtils.webMercatorEnvelope());\n\t}\n\n\t/**\n\t * Bound all points in the WGS84 geometry to be within degree Web Mercator\n\t * limits.\n\t * \n\t * To perform a geometry crop using line intersections, see\n\t * {@link #degreesToMeters(Geometry)} and\n\t * {@link #cropWebMercator(Geometry)}.\n\t * \n\t * @param geometry\n\t *            geometry\n\t * @since 2.2.0\n\t */\n\tpublic static boundWGS84WithWebMercator(geometry: Geometry): void {\n\t\tGeometryUtils.bound(geometry, GeometryUtils.wgs84EnvelopeWithWebMercator());\n\t}\n\n\t/**\n\t * Bound all points in the geometry to be within the geometry envelope.\n\t * Point x and y values are bounded by the min and max envelope values.\n\t * \n\t * To perform a geometry crop using line intersections, see\n\t * {@link #crop(Geometry, GeometryEnvelope)} (requires geometry in meters).\n\t * \n\t * @param geometry\n\t *            geometry\n\t * @param envelope\n\t *            geometry envelope\n\t * @since 1.1.1\n\t */\n\tpublic static bound(geometry: Geometry, envelope: GeometryEnvelope): void {\n\n\t\tconst geometryType = geometry.geometryType;\n\t\tswitch (geometryType) {\n\t\t\tcase GeometryType.POINT:\n\t\t\t\tGeometryUtils.boundPoint(geometry as Point, envelope);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.LINESTRING:\n\t\t\t\tGeometryUtils.boundLineString(geometry as LineString, envelope);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POLYGON:\n\t\t\t\tGeometryUtils.boundPolygon(geometry as Polygon, envelope);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTIPOINT:\n\t\t\t\tGeometryUtils.boundMultiPoint(geometry as MultiPoint, envelope);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTILINESTRING:\n\t\t\t\tGeometryUtils.boundMultiLineString(geometry as MultiLineString, envelope);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTIPOLYGON:\n\t\t\t\tGeometryUtils.boundMultiPolygon(geometry as MultiPolygon, envelope);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CIRCULARSTRING:\n\t\t\t\tGeometryUtils.boundLineString(geometry as CircularString, envelope);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.COMPOUNDCURVE:\n\t\t\t\tGeometryUtils.boundCompoundCurve(geometry as CompoundCurve, envelope);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CURVEPOLYGON:\n\t\t\t\tconst curvePolygon = geometry as CurvePolygon<Curve>;\n\t\t\t\tGeometryUtils.boundCurvePolygon(curvePolygon, envelope);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POLYHEDRALSURFACE:\n\t\t\t\tGeometryUtils.boundPolyhedralSurface(geometry as PolyhedralSurface, envelope);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.TIN:\n\t\t\t\tGeometryUtils.boundPolyhedralSurface(geometry as TIN, envelope);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.TRIANGLE:\n\t\t\t\tGeometryUtils.boundPolygon(geometry as Triangle, envelope);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.GEOMETRYCOLLECTION:\n\t\t\tcase GeometryType.MULTICURVE:\n\t\t\tcase GeometryType.MULTISURFACE:\n\t\t\t\tconst geomCollection = geometry as GeometryCollection<Geometry>;\n\t\t\t\tfor (const subGeometry of geomCollection.geometries) {\n\t\t\t\t\tGeometryUtils.bound(subGeometry, envelope);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Bound the point by the geometry envelope\n\t * \n\t * @param point\n\t *            point\n\t * @param envelope\n\t *            geometry envelope\n\t * @since 1.1.1\n\t */\n\tprivate static boundPoint(point: Point, envelope: GeometryEnvelope): void {\n\t\tconst x = point.x;\n\t\tconst y = point.y;\n\t\tif (x < envelope.minX) {\n\t\t\tpoint.x = (envelope.minX);\n\t\t} else if (x > envelope.maxX) {\n\t\t\tpoint.x = (envelope.maxX);\n\t\t}\n\t\tif (y < envelope.minY) {\n\t\t\tpoint.y = (envelope.minY);\n\t\t} else if (y > envelope.maxY) {\n\t\t\tpoint.y = (envelope.maxY);\n\t\t}\n\t}\n\n\t/**\n\t * Bound the multi point by the geometry envelope\n\t * \n\t * @param multiPoint\n\t *            multi point\n\t * @param envelope\n\t *            geometry envelope\n\t * @since 1.1.1\n\t */\n\tprivate static boundMultiPoint(multiPoint: MultiPoint,\n\t\tenvelope: GeometryEnvelope): void {\n\t\tfor (const point of multiPoint.points) {\n\t\t\tGeometryUtils.boundPoint(point, envelope);\n\t\t}\n\t}\n\n\t/**\n\t * Bound the line string by the geometry envelope\n\t * \n\t * @param lineString\n\t *            line string\n\t * @param envelope\n\t *            geometry envelope\n\t * @since 1.1.1\n\t */\n\tprivate static boundLineString(lineString: LineString,\n\t\tenvelope: GeometryEnvelope): void {\n\t\tfor (const point of lineString.points) {\n\t\t\tGeometryUtils.boundPoint(point, envelope);\n\t\t}\n\t}\n\n\t/**\n\t * Bound the multi line string by the geometry envelope\n\t * \n\t * @param multiLineString\n\t *            multi line string\n\t * @param envelope\n\t *            geometry envelope\n\t * @since 1.1.1\n\t */\n\tprivate static boundMultiLineString(multiLineString: MultiLineString,\n\t\tenvelope: GeometryEnvelope): void {\n\t\tfor (const lineString of multiLineString.lineStrings) {\n\t\t\tGeometryUtils.boundLineString(lineString, envelope);\n\t\t}\n\t}\n\n\t/**\n\t * Bound the polygon by the geometry envelope\n\t * \n\t * @param polygon\n\t *            polygon\n\t * @param envelope\n\t *            geometry envelope\n\t * @since 1.1.1\n\t */\n\tprivate static boundPolygon(polygon: Polygon, envelope: GeometryEnvelope): void {\n\t\tfor (const ring of polygon.rings) {\n\t\t\tGeometryUtils.boundLineString(ring, envelope);\n\t\t}\n\t}\n\n\t/**\n\t * Bound the multi polygon by the geometry envelope\n\t * \n\t * @param multiPolygon\n\t *            multi polygon\n\t * @param envelope\n\t *            geometry envelope\n\t * @since 1.1.1\n\t */\n\tprivate static boundMultiPolygon(multiPolygon: MultiPolygon,\n\t\tenvelope: GeometryEnvelope): void {\n\t\tfor (const polygon of multiPolygon.polygons) {\n\t\t\tGeometryUtils.boundPolygon(polygon, envelope);\n\t\t}\n\t}\n\n\t/**\n\t * Bound the compound curve by the geometry envelope\n\t * \n\t * @param compoundCurve\n\t *            compound curve\n\t * @param envelope\n\t *            geometry envelope\n\t * @since 1.1.1\n\t */\n\tprivate static boundCompoundCurve(compoundCurve: CompoundCurve,\n\t\tenvelope: GeometryEnvelope): void {\n\t\tfor (const lineString of compoundCurve.lineStrings) {\n\t\t\tGeometryUtils.boundLineString(lineString, envelope);\n\t\t}\n\t}\n\n\t/**\n\t * Bound the curve polygon by the geometry envelope\n\t * \n\t * @param curvePolygon\n\t *            curve polygon\n\t * @param envelope\n\t *            geometry envelope\n\t * @since 1.1.1\n\t */\n\tprivate static boundCurvePolygon(curvePolygon: CurvePolygon<Curve>,\n\t\tenvelope: GeometryEnvelope): void {\n\t\tfor (const ring of curvePolygon.rings) {\n\t\t\tGeometryUtils.bound(ring, envelope);\n\t\t}\n\t}\n\n\t/**\n\t * Bound the polyhedral surface by the geometry envelope\n\t * \n\t * @param polyhedralSurface\n\t *            polyhedral surface\n\t * @param envelope\n\t *            geometry envelope\n\t * @since 1.1.1\n\t */\n\tprivate static boundPolyhedralSurface(polyhedralSurface: PolyhedralSurface,\n\t\tenvelope: GeometryEnvelope): void {\n\t\tfor (const polygon of polyhedralSurface.polygons) {\n\t\t\tGeometryUtils.boundPolygon(polygon, envelope);\n\t\t}\n\t}\n\n\t/**\n\t * Get the parent type hierarchy of the provided geometry type starting with\n\t * the immediate parent. If the argument is GEOMETRY, an empty list is\n\t * returned, else the final type in the list will be GEOMETRY.\n\t * @param geometryType geometry type\n\t * @return list of increasing parent types\n\t */\n\tpublic static parentHierarchy(geometryType: GeometryType): Array<GeometryType> {\n\t\tlet hierarchy: Array<GeometryType> = [];\n\t\tlet parentType = GeometryUtils.parentType(geometryType);\n\t\twhile (parentType != null) {\n\t\t\thierarchy.push(parentType);\n\t\t\tparentType = GeometryUtils.parentType(parentType);\n\t\t}\n\t\treturn hierarchy;\n\t}\n\n\t/**\n\t * Get the parent Geometry Type of the provided geometry type\n\t * @param geometryType geometry type\n\t * @return parent geometry type or null if argument is GEOMETRY (no parent type)\n\t */\n\tpublic static parentType(geometryType: GeometryType): GeometryType {\n\t\tlet parentType: GeometryType = null;\n\n\t\tswitch (geometryType) {\n\n\t\t\tcase GeometryType.GEOMETRY:\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POINT:\n\t\t\t\tparentType = GeometryType.GEOMETRY;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.LINESTRING:\n\t\t\t\tparentType = GeometryType.CURVE;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POLYGON:\n\t\t\t\tparentType = GeometryType.CURVEPOLYGON;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTIPOINT:\n\t\t\t\tparentType = GeometryType.GEOMETRYCOLLECTION;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTILINESTRING:\n\t\t\t\tparentType = GeometryType.MULTICURVE;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTIPOLYGON:\n\t\t\t\tparentType = GeometryType.MULTISURFACE;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.GEOMETRYCOLLECTION:\n\t\t\t\tparentType = GeometryType.GEOMETRY;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CIRCULARSTRING:\n\t\t\t\tparentType = GeometryType.LINESTRING;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.COMPOUNDCURVE:\n\t\t\t\tparentType = GeometryType.CURVE;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CURVEPOLYGON:\n\t\t\t\tparentType = GeometryType.SURFACE;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTICURVE:\n\t\t\t\tparentType = GeometryType.GEOMETRYCOLLECTION;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTISURFACE:\n\t\t\t\tparentType = GeometryType.GEOMETRYCOLLECTION;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CURVE:\n\t\t\t\tparentType = GeometryType.GEOMETRY;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.SURFACE:\n\t\t\t\tparentType = GeometryType.GEOMETRY;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POLYHEDRALSURFACE:\n\t\t\t\tparentType = GeometryType.SURFACE;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.TIN:\n\t\t\t\tparentType = GeometryType.POLYHEDRALSURFACE;\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.TRIANGLE:\n\t\t\t\tparentType = GeometryType.POLYGON;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new SFException(\"Geometry Type not supported: \" + geometryType);\n\t\t}\n\n\t\treturn parentType;\n\t}\n\n\t/**\n\t * Get the child type hierarchy of the provided geometry type.\n\t * @param geometryType geometry type\n\t * @return child type hierarchy, null if no children\n\t */\n\tpublic static childHierarchy(geometryType: GeometryType): Map<GeometryType, Map<GeometryType, any>> {\n\t\tlet hierarchy: Map<GeometryType, Map<GeometryType, any>> = null;\n\n\t\tlet childTypes: Array<GeometryType> = GeometryUtils.childTypes(geometryType);\n\n\t\tif (childTypes.length > 0) {\n\t\t\thierarchy = new Map();\n\n\t\t\tfor (let childType of childTypes) {\n\t\t\t\thierarchy.set(childType, GeometryUtils.childHierarchy(childType));\n\t\t\t}\n\t\t}\n\n\t\treturn hierarchy;\n\t}\n\n\t/**\n\t * Get the immediate child Geometry Types of the provided geometry type\n\t * @param geometryType geometry type\n\t * @return child geometry types, empty list if no child types\n\t */\n\tpublic static childTypes(geometryType: GeometryType): Array<GeometryType> {\n\t\tlet childTypes: Array<GeometryType> = [];\n\t\tswitch (geometryType) {\n\t\t\tcase GeometryType.GEOMETRY:\n\t\t\t\tchildTypes.push(GeometryType.POINT);\n\t\t\t\tchildTypes.push(GeometryType.GEOMETRYCOLLECTION);\n\t\t\t\tchildTypes.push(GeometryType.CURVE);\n\t\t\t\tchildTypes.push(GeometryType.SURFACE);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POINT:\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.LINESTRING:\n\t\t\t\tchildTypes.push(GeometryType.CIRCULARSTRING);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POLYGON:\n\t\t\t\tchildTypes.push(GeometryType.TRIANGLE);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTIPOINT:\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTILINESTRING:\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTIPOLYGON:\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.GEOMETRYCOLLECTION:\n\t\t\t\tchildTypes.push(GeometryType.MULTIPOINT);\n\t\t\t\tchildTypes.push(GeometryType.MULTICURVE);\n\t\t\t\tchildTypes.push(GeometryType.MULTISURFACE);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CIRCULARSTRING:\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.COMPOUNDCURVE:\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CURVEPOLYGON:\n\t\t\t\tchildTypes.push(GeometryType.POLYGON);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTICURVE:\n\t\t\t\tchildTypes.push(GeometryType.MULTILINESTRING);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.MULTISURFACE:\n\t\t\t\tchildTypes.push(GeometryType.MULTIPOLYGON);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CURVE:\n\t\t\t\tchildTypes.push(GeometryType.LINESTRING);\n\t\t\t\tchildTypes.push(GeometryType.COMPOUNDCURVE);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.SURFACE:\n\t\t\t\tchildTypes.push(GeometryType.CURVEPOLYGON);\n\t\t\t\tchildTypes.push(GeometryType.POLYHEDRALSURFACE);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POLYHEDRALSURFACE:\n\t\t\t\tchildTypes.push(GeometryType.TIN);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.TIN:\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.TRIANGLE:\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new SFException(\"Geometry Type not supported: \" + geometryType);\n\t\t}\n\n\t\treturn childTypes;\n\t}\n}\n","/**\n * Simple Features exception\n */\nexport class SFException extends Error {\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor (...args) {\n\t\tsuper(...args)\n\t}\n}\n","/**\n * Simple Features exception\n */\nexport class UnsupportedOperationException extends Error {\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor (...args) {\n\t\tsuper(...args)\n\t}\n}\n","import { SFException, GeometryType, Geometry, Point, GeometryCollection, MultiLineString, LineString, CompoundCurve, GeometryUtils } from \"../../internal\";\n\n/**\n * Calculate the centroid from curve based geometries. Implementation based on\n * the JTS (Java Topology Suite) CentroidLine.\n */\nexport class CentroidCurve {\n\n\t/**\n\t * Sum of curve point locations\n\t */\n\tprivate _sum = new Point();\n\n\t/**\n\t * Total length of curves\n\t */\n\tprivate _totalLength = 0;\n\n\n\tpublic constructor();\n\tpublic constructor(geometry: Geometry);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor (...args) {\n\t\tif (args.length === 1 && args[0] instanceof Geometry) {\n\t\t\tthis.add(args[0])\n\t\t}\n\t}\n\n\n\t/**\n\t * Add a curve based dimension 1 geometry to the centroid total. Ignores\n\t * dimension 0 geometries.\n\t * @param geometry geometry\n\t */\n\tpublic add(geometry: Geometry): void {\n\t\tconst geometryType = geometry.geometryType;\n\t\tswitch (geometryType) {\n\t\tcase GeometryType.LINESTRING:\n\t\tcase GeometryType.CIRCULARSTRING:\n\t\t\tthis.addLineString(geometry as LineString);\n\t\t\tbreak;\n\t\tcase GeometryType.MULTILINESTRING:\n\t\t\tthis.addLineStrings((geometry as MultiLineString).lineStrings);\n\t\t\tbreak;\n\t\tcase GeometryType.COMPOUNDCURVE:\n\t\t\tthis.addLineStrings((geometry as CompoundCurve).lineStrings);\n\t\t\tbreak;\n\t\tcase GeometryType.GEOMETRYCOLLECTION:\n\t\tcase GeometryType.MULTICURVE:\n\t\tcase GeometryType.MULTISURFACE:\n\t\t\t(geometry as GeometryCollection<Geometry>).geometries.forEach(geometry => {\n\t\t\t\tthis.add(geometry)\n\t\t\t})\n\t\t\tbreak;\n\t\tcase GeometryType.POINT:\n\t\tcase GeometryType.MULTIPOINT:\n\t\t\t// Doesn't contribute to curve dimension\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new SFException(\"Unsupported CentroidCurve Geometry Type: \" + geometryType);\n\t\t}\n\t}\n\n\t/**\n\t * Add line strings to the centroid total\n\t * @param lineStrings line strings\n\t */\n\tprivate addLineStrings(lineStrings: Array<LineString>): void {\n\t\tlineStrings.forEach(lineString => this.addLineString(lineString))\n\t}\n\n\t/**\n\t * Add a line string to the centroid total\n\t * @param lineString line string\n\t */\n\tprivate addLineString(lineString: LineString): void {\n\t\tthis.addPoints(lineString.points);\n\t}\n\n\t/**\n\t * Add points to the centroid total\n\t * \n\t * @param points\n\t *            points\n\t */\n\tprivate addPoints(points: Array<Point>): void {\n\t\tfor (let i = 0; i < points.length - 1; i++) {\n\t\t\tlet point = points[i];\n\t\t\tlet nextPoint = points[i + 1];\n\t\t\tlet length = GeometryUtils.distance(point, nextPoint);\n\t\t\tthis._totalLength += length;\n\t\t\tlet midX = (point.x + nextPoint.x) / 2;\n\t\t\tthis._sum.x = this._sum.x + (length * midX);\n\t\t\tlet midY = (point.y + nextPoint.y) / 2;\n\t\t\tthis._sum.y = this._sum.y + (length * midY);\n\t\t}\n\t}\n\n\t/**\n\t * Get the centroid point\n\t * @return centroid point\n\t */\n\tpublic getCentroid(): Point {\n\t\treturn new Point(this._sum.x / this._totalLength, this._sum.y / this._totalLength);\n\t}\n\n}\n","import { SFException, GeometryType, Geometry, Point, GeometryCollection, MultiPoint } from \"../../internal\";\n\n/**\n * Calculate the centroid from point based geometries. Implementation based on\n * the JTS (Java Topology Suite) CentroidPoint.\n */\nexport class CentroidPoint {\n\t/**\n\t * Point count\n\t */\n\tprivate _count: number = 0;\n\n\t/**\n\t * Sum of point locations\n\t */\n\tprivate _sum: Point = new Point();\n\n\tpublic constructor();\n\tpublic constructor(geometry: Geometry);\n\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor (...args) {\n\t\tif (args.length === 1 && args[0] instanceof Geometry) {\n\t\t\tthis.add(args[0])\n\t\t}\n\t}\n\n\n\t/**\n\t * Add a point based dimension 0 geometry to the centroid total\n\t * @param geometry geometry\n\t */\n\tpublic add(geometry: Geometry): void {\n\t\tconst geometryType: GeometryType = geometry.geometryType;\n\t\tswitch (geometryType) {\n\t\tcase GeometryType.POINT:\n\t\t\tthis.addPoint(geometry as Point);\n\t\t\tbreak;\n\t\tcase GeometryType.MULTIPOINT:\n\t\t\tlet multiPoint: MultiPoint = geometry as MultiPoint;\n\t\t\tmultiPoint.points.forEach(point => this.addPoint(point));\n\t\t\tbreak;\n\t\tcase GeometryType.GEOMETRYCOLLECTION:\n\t\tcase GeometryType.MULTICURVE:\n\t\tcase GeometryType.MULTISURFACE:\n\t\t\t(geometry as GeometryCollection<Geometry>).geometries.forEach(subGeometry => this.add(subGeometry));\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new SFException(\"Unsupported CentroidPoint Geometry Type: \" + geometryType);\n\t\t}\n\t}\n\n\t/**\n\t * Add a point to the centroid total\n\t * @param point point\n\t */\n\tprivate addPoint(point: Point): void {\n\t\tthis._count++;\n\t\tthis._sum.x = this._sum.x + point.x;\n\t\tthis._sum.y = this._sum.y + point.y;\n\t}\n\n\t/**\n\t * Get the centroid point\n\t * @return centroid point\n\t */\n\tpublic getCentroid(): Point {\n\t\treturn new Point(this._sum.x / this._count, this._sum.y / this._count);\n\t}\n\n}\n","import { SFException, GeometryType, Geometry, Point, GeometryCollection, PolyhedralSurface, LineString, CompoundCurve, Curve, Polygon, MultiPolygon, CurvePolygon } from \"../../internal\";\n\n\n/**\n * Calculate the centroid from surface based geometries. Implementation based on\n * the JTS (Java Topology Suite) CentroidArea.\n */\nexport class CentroidSurface {\n\n\t/**\n\t * Base point for triangles\n\t */\n\tprivate _base: Point;\n\n\t/**\n\t * Area sum\n\t */\n\tprivate _area: number = 0;\n\n\t/**\n\t * Sum of surface point locations\n\t */\n\tprivate _sum: Point = new Point();\n\n\tpublic constructor();\n\tpublic constructor(geometry: Geometry);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor (...args) {\n\t\tif (args.length === 1 && args[0] instanceof Geometry) {\n\t\t\tthis.add(args[0])\n\t\t}\n\t}\n\n\t/**\n\t * Add a surface based dimension 2 geometry to the centroid total. Ignores\n\t * dimension 0 and 1 geometries.\n\t * \n\t * @param geometry\n\t *            geometry\n\t */\n\tpublic add(geometry: Geometry): void {\n\n\t\tconst geometryType = geometry.geometryType;\n\t\tswitch (geometryType) {\n\t\tcase GeometryType.POLYGON:\n\t\tcase GeometryType.TRIANGLE:\n\t\t\tthis.addPolygon(geometry as Polygon);\n\t\t\tbreak;\n\t\tcase GeometryType.MULTIPOLYGON:\n\t\t\tthis.addPolygons((geometry as MultiPolygon).polygons);\n\t\t\tbreak;\n\t\tcase GeometryType.CURVEPOLYGON:\n\t\t\tthis.addCurvePolygon(geometry as CurvePolygon<Curve>);\n\t\t\tbreak;\n\t\tcase GeometryType.POLYHEDRALSURFACE:\n\t\tcase GeometryType.TIN:\n\t\t\tthis.addPolygons((geometry as PolyhedralSurface).polygons);\n\t\t\tbreak;\n\t\tcase GeometryType.GEOMETRYCOLLECTION:\n\t\tcase GeometryType.MULTICURVE:\n\t\tcase GeometryType.MULTISURFACE:\n\t\t\tfor (const subGeometry of (geometry as GeometryCollection<Geometry>).geometries) {\n\t\t\t\tthis.add(subGeometry);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase GeometryType.POINT:\n\t\tcase GeometryType.MULTIPOINT:\n\t\tcase GeometryType.LINESTRING:\n\t\tcase GeometryType.CIRCULARSTRING:\n\t\tcase GeometryType.MULTILINESTRING:\n\t\tcase GeometryType.COMPOUNDCURVE:\n\t\t\t// Doesn't contribute to surface dimension\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new SFException(\"Unsupported CendroidSurface Geometry Type: \" + geometryType);\n\t\t}\n\t}\n\n\t/**\n\t * Add polygons to the centroid total\n\t * \n\t * @param polygons polygons\n\t */\n\tprivate addPolygons(polygons: Array<Polygon>): void {\n\t\tfor (const polygon of polygons) {\n\t\t\tthis.addPolygon(polygon);\n\t\t}\n\t}\n\n\t/**\n\t * Add a polygon to the centroid total\n\t * \n\t * @param polygon\n\t *            polygon\n\t */\n\tprivate addPolygon(polygon: Polygon): void{\n\t\tconst rings = polygon.rings;\n\t\tthis.addLineString(rings[0]);\n\t\tfor (let i = 1; i < rings.length; i++) {\n\t\t\tthis.addHole(rings[i]);\n\t\t}\n\t}\n\n\t/**\n\t * Add a curve polygon to the centroid total\n\t * \n\t * @param curvePolygon\n\t *            curve polygon\n\t */\n\tprivate addCurvePolygon(curvePolygon: CurvePolygon<Curve>): void {\n\t\tconst rings: Array<Curve> = curvePolygon.rings;\n\n\t\tlet curve: Curve = rings[0];\n\t\tconst curveGeometryType = curve.geometryType;\n\t\tswitch (curveGeometryType) {\n\t\tcase GeometryType.COMPOUNDCURVE:\n\t\t\tfor (const lineString of (curve as CompoundCurve).lineStrings) {\n\t\t\t\tthis.addLineString(lineString);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase GeometryType.LINESTRING:\n\t\tcase GeometryType.CIRCULARSTRING:\n\t\t\tthis.addLineString(curve as LineString);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new SFException(\"Unexpected Curve Type: \" + curveGeometryType);\n\t\t}\n\n\t\tfor (let i = 1; i < rings.length; i++) {\n\t\t\tlet curveHole = rings[i];\n\t\t\tconst curveHoleGeometryType = curveHole.geometryType;\n\t\t\tswitch (curveHoleGeometryType) {\n\t\t\tcase GeometryType.COMPOUNDCURVE:\n\t\t\t\tfor (const lineString of (curve as CompoundCurve).lineStrings) {\n\t\t\t\t\tthis.addHole(lineString);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.LINESTRING:\n\t\t\tcase GeometryType.CIRCULARSTRING:\n\t\t\t\tthis.addHole(curveHole as LineString);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new SFException(\"Unexpected Curve Type: \" + curveHoleGeometryType);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Add a line string to the centroid total\n\t * @param lineString line string\n\t */\n\tprivate addLineString(lineString: LineString): void {\n\t\tthis.addOrSubtractLine(true, lineString);\n\t}\n\n\t/**\n\t * Add a line string hole to subtract from the centroid total\n\t * @param lineString line string\n\t */\n\tprivate addHole(lineString: LineString): void {\n\t\tthis.addOrSubtractLine(false, lineString);\n\t}\n\n\t/**\n\t * Add or subtract a line string to or from the centroid total\n\t * @param positive true if an addition, false if a subtraction\n\t * @param lineString line string\n\t */\n\tprivate addOrSubtractLine(positive: boolean, lineString: LineString): void {\n\t\tconst points: Array<Point> = lineString.points;\n\t\tconst firstPoint = points[0];\n\t\tif (this._base == null) {\n\t\t\tthis._base = firstPoint;\n\t\t}\n\t\tfor (let i = 0; i < points.length - 1; i++) {\n\t\t\tconst point = points[i];\n\t\t\tconst nextPoint = points[i + 1];\n\t\t\tthis.addTriangle(positive, this._base, point, nextPoint);\n\t\t}\n\t\tconst lastPoint = points[points.length - 1];\n\t\tif (firstPoint.x != lastPoint.x || firstPoint.y != lastPoint.y) {\n\t\t\tthis.addTriangle(positive, this._base, lastPoint, firstPoint);\n\t\t}\n\t}\n\n\t/**\n\t * Add or subtract a triangle of points to or from the centroid total\n\t * @param positive true if an addition, false if a subtraction\n\t * @param point1 point 1\n\t * @param point2 point 2\n\t * @param point3 point 3\n\t */\n\tprivate addTriangle(positive: boolean, point1: Point, point2: Point, point3: Point): void {\n\t\tconst sign = positive ? 1.0 : -1.0;\n\t\tconst triangleCenter3: Point = CentroidSurface.centroid3(point1, point2, point3);\n\t\tconst area2 = CentroidSurface.area2(point1, point2, point3);\n\t\tthis._sum.x = (this._sum.x + (sign * area2 * triangleCenter3.x));\n\t\tthis._sum.y = (this._sum.y + (sign * area2 * triangleCenter3.y));\n\t\tthis._area += sign * area2;\n\t}\n\n\t/**\n\t * Calculate three times the centroid of the point triangle\n\t * @param point1 point 1\n\t * @param point2 point 2\n\t * @param point3 point 3\n\t * @return 3 times centroid point\n\t */\n\tprivate static centroid3(point1: Point, point2: Point, point3: Point): Point {\n\t\tconst x = point1.x + point2.x + point3.x;\n\t\tconst y = point1.y + point2.y + point3.y;\n\t\treturn new Point(x, y);\n\t}\n\n\t/**\n\t * Calculate twice the area of the point triangle\n\t * \n\t * @param point1\n\t *            point 1\n\t * @param point2\n\t *            point 2\n\t * @param point3\n\t *            point 3\n\t * @return 2 times triangle area\n\t */\n\tprivate static area2(point1: Point, point2: Point, point3: Point): number {\n\t\treturn (point2.x - point1.x)\n\t\t\t\t* (point3.y - point1.y)\n\t\t\t\t- (point3.x - point1.x)\n\t\t\t\t* (point2.y - point1.y);\n\t}\n\n\t/**\n\t * Get the centroid point\n\t * @return centroid point\n\t */\n\tpublic getCentroid(): Point {\n\t\treturn new Point((this._sum.x / 3.0) / this._area, (this._sum.y / 3.0) / this._area);\n\t}\n\n}\n","import { SFException, GeometryType, Geometry, Point, GeometryCollection, CurvePolygon, PolyhedralSurface, Polygon, LineString, CompoundCurve, GeometryUtils, Curve } from \"../../internal\";\n\n/**\n * Centroid calculations for geometries in degrees\n *\n */\nexport class DegreesCentroid {\n\n\t/**\n\t * Geometry\n\t */\n\tprivate _geometry: Geometry;\n\n\t/**\n\t * Number of points\n\t */\n\tprivate _points: number = 0;\n\n\t/**\n\t * x sum\n\t */\n\tprivate _x: number = 0;\n\n\t/**\n\t * y sum\n\t */\n\tprivate _y: number = 0;\n\n\t/**\n\t * z sum\n\t */\n\tprivate _z: number = 0;\n\n\tpublic constructor();\n\tpublic constructor(geometry: Geometry);\n\n\t/**\n\t * Constructor\n\t */\n\tpublic constructor (...args) {\n\t\tif (args.length === 1 && args[0] instanceof Geometry) {\n\t\t\tthis._geometry = args[0];\n\t\t}\n\t}\n\n\n\t/**\n\t * Get the degree geometry centroid\n\t * @param geometry geometry\n\t * @return centroid point\n\t */\n\tpublic static getCentroid(geometry: Geometry): Point {\n\t\treturn new DegreesCentroid(geometry).getCentroid();\n\t}\n\n\t/**\n\t * Get the centroid point\n\t * @return centroid point\n\t */\n\tpublic getCentroid(): Point {\n\t\tlet centroid: Point;\n\n\t\tif (this._geometry.geometryType == GeometryType.POINT) {\n\t\t\tcentroid = this._geometry as Point\n\t\t} else {\n\n\t\t\tthis.calculate(this._geometry);\n\n\t\t\tthis._x = this._x / this._points;\n\t\t\tthis._y = this._y / this._points;\n\t\t\tthis._z = this._z / this._points;\n\n\t\t\tconst centroidLongitude = Math.atan2(this._y, this._x);\n\t\t\tconst centroidLatitude = Math.atan2(this._z, Math.sqrt(this._x * this._x + this._y * this._y));\n\n\t\t\tcentroid = new Point(\n\t\t\t\tGeometryUtils.radiansToDegrees(centroidLongitude),\n\t\t\t\tGeometryUtils.radiansToDegrees(centroidLatitude));\n\t\t}\n\n\t\treturn centroid;\n\t}\n\n\t/**\n\t * Add to the centroid calculation for the Geometry\n\t * \n\t * @param geometry\n\t *            Geometry\n\t */\n\tprivate calculate(geometry: Geometry): void {\n\t\tconst geometryType = geometry.geometryType;\n\n\t\tswitch (geometryType) {\n\t\t\tcase GeometryType.GEOMETRY:\n\t\t\t\tthrow new SFException(\"Unexpected Geometry Type of \" + geometryType + \" which is abstract\");\n\t\t\tcase GeometryType.POINT:\n\t\t\t\tthis.calculatePoint(geometry as Point);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.LINESTRING:\n\t\t\tcase GeometryType.CIRCULARSTRING:\n\t\t\t\tthis.calculateLineString(geometry as LineString);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.POLYGON:\n\t\t\tcase GeometryType.TRIANGLE:\n\t\t\t\tthis.calculatePolygon(geometry as Polygon);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.GEOMETRYCOLLECTION:\n\t\t\tcase GeometryType.MULTIPOINT:\n\t\t\tcase GeometryType.MULTICURVE:\n\t\t\tcase GeometryType.MULTILINESTRING:\n\t\t\tcase GeometryType.MULTISURFACE:\n\t\t\tcase GeometryType.MULTIPOLYGON:\n\t\t\t\tthis.calculateGeometryCollection(geometry as GeometryCollection<Geometry>);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.COMPOUNDCURVE:\n\t\t\t\tthis.calculateCompoundCurve(geometry as CompoundCurve);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CURVEPOLYGON:\n\t\t\t\tthis.calculateCurvePolygon(geometry as CurvePolygon<Curve>);\n\t\t\t\tbreak;\n\t\t\tcase GeometryType.CURVE:\n\t\t\t\tthrow new SFException(\"Unexpected Geometry Type of \"\n\t\t\t\t\t\t+ geometryType + \" which is abstract\");\n\t\t\tcase GeometryType.SURFACE:\n\t\t\t\tthrow new SFException(\"Unexpected Geometry Type of \"\n\t\t\t\t\t\t+ geometryType + \" which is abstract\");\n\t\t\tcase GeometryType.POLYHEDRALSURFACE:\n\t\t\tcase GeometryType.TIN:\n\t\t\t\tthis.calculatePolyhedralSurface(geometry as PolyhedralSurface);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new SFException(\"Geometry Type not supported: \" + geometryType);\n\t\t}\n\t}\n\n\t/**\n\t * Add to the centroid calculation for the Point\n\t * @param point Point\n\t */\n\tprivate calculatePoint(point: Point): void {\n\t\tconst latitude = GeometryUtils.degreesToRadians(point.y);\n\t\tconst longitude = GeometryUtils.degreesToRadians(point.x);\n\t\tconst cosLatitude = Math.cos(latitude);\n\t\tthis._x += cosLatitude * Math.cos(longitude);\n\t\tthis._y += cosLatitude * Math.sin(longitude);\n\t\tthis._z += Math.sin(latitude);\n\t\tthis._points++;\n\t}\n\n\t/**\n\t * Add to the centroid calculation for the Line String\n\t * @param lineString Line String\n\t */\n\tprivate calculateLineString(lineString: LineString): void {\n\t\tlineString.points.forEach(point => this.calculatePoint(point));\n\t}\n\n\t/**\n\t * Add to the centroid calculation for the Polygon\n\t * @param polygon Polygon\n\t */\n\tprivate calculatePolygon(polygon: Polygon): void {\n\t\tif (polygon.numRings() > 0) {\n\t\t\tconst exteriorRing = polygon.getExteriorRing();\n\t\t\tlet numPoints = exteriorRing.numPoints();\n\t\t\tif (GeometryUtils.closedPolygonRing(exteriorRing)) {\n\t\t\t\tnumPoints--;\n\t\t\t}\n\t\t\tfor (let i = 0; i < numPoints; i++) {\n\t\t\t\tthis.calculatePoint(exteriorRing.getPoint(i));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Add to the centroid calculation for the Geometry Collection\n\t * @param geometryCollection Geometry Collection\n\t */\n\tprivate calculateGeometryCollection(geometryCollection: GeometryCollection<Geometry>) {\n\t\tfor (const geometry of geometryCollection.geometries) {\n\t\t\tthis.calculate(geometry);\n\t\t}\n\t}\n\n\t/**\n\t * Add to the centroid calculation for the Compound Curve\n\t * @param compoundCurve Compound Curve\n\t */\n\tprivate calculateCompoundCurve(compoundCurve: CompoundCurve): void {\n\n\t\tfor (const lineString of compoundCurve.lineStrings) {\n\t\t\tthis.calculateLineString(lineString);\n\t\t}\n\n\t}\n\n\t/**\n\t * Add to the centroid calculation for the Curve Polygon\n\t * @param curvePolygon Curve Polygon\n\t */\n\tprivate calculateCurvePolygon(curvePolygon: CurvePolygon<Curve>): void {\n\n\t\tfor (const ring of curvePolygon.rings) {\n\t\t\tthis.calculate(ring);\n\t\t}\n\n\t}\n\n\t/**\n\t * Add to the centroid calculation for the Polyhedral Surface\n\t * @param polyhedralSurface Polyhedral Surface\n\t */\n\tprivate calculatePolyhedralSurface(polyhedralSurface: PolyhedralSurface): void {\n\t\tfor (const polygon of polyhedralSurface.polygons) {\n\t\t\tthis.calculatePolygon(polygon);\n\t\t}\n\t}\n\n}\n","/**\n * Finite Filter Type, including finite values and optionally one of either\n * infinite or NaN values\n */\nexport enum FiniteFilterType {\n\n\t/**\n\t * Accept only finite values\n\t */\n\tFINITE,\n\n\t/**\n\t * Accept finite and infinite values\n\t */\n\tFINITE_AND_INFINITE,\n\n\t/**\n\t * Accept finite and Not a Number values\n\t */\n\tFINITE_AND_NAN\n\n}\n","import { FiniteFilterType, GeometryFilter, Point, GeometryType, Geometry, SFException } from \"../../internal\";\n\n/**\n * Point filter for finite checks on x and y properties, optionally filter on z\n * and m properties and non finite values (NaN or infinity)\n */\nexport class PointFiniteFilter implements GeometryFilter {\n\n\t/**\n\t * Finite Filter type\n\t */\n\tprivate _type: FiniteFilterType = FiniteFilterType.FINITE;\n\n\t/**\n\t * Include z values in filtering\n\t */\n\t_filterZ = false;\n\n\t/**\n\t * Include m values in filtering\n\t */\n\t_filterM = false;\n\n\t/**\n\t * Default Constructor, filter on x and y, allowing only finite values\n\t */\n\tpublic constructor(type: FiniteFilterType, filterZ: boolean = false, filterM: boolean = false) {\n\t\tthis.setType(type)\n\t\tthis.setFilterZ(filterZ)\n\t\tthis.setFilterM(filterM)\n\t}\n\n\n\t/**\n\t * Get the finite filter type\n\t * \n\t * @return finite filter type\n\t */\n\tpublic getType(): FiniteFilterType {\n\t\treturn this._type;\n\t}\n\n\t/**\n\t * Set the finite filter type, null defaults to\n\t * {@link FiniteFilterType#FINITE}\n\t * \n\t * @param type\n\t *            finite filter type\n\t */\n\tpublic setType(type: FiniteFilterType): void {\n\t\tthis._type = type;\n\t}\n\n\t/**\n\t * Is filtering for z values enabled?\n\t * \n\t * @return true if z filtering\n\t */\n\tpublic isFilterZ(): boolean {\n\t\treturn this._filterZ;\n\t}\n\n\t/**\n\t * Set the z value filtering mode\n\t * \n\t * @param filterZ\n\t *            true to z filter\n\t */\n\tpublic setFilterZ(filterZ: boolean): void {\n\t\tthis._filterZ = filterZ;\n\t}\n\n\t/**\n\t * Is filtering for m values enabled?\n\t * \n\t * @return true if m filtering\n\t */\n\tpublic isFilterM(): boolean {\n\t\treturn this._filterM;\n\t}\n\n\t/**\n\t * Set the m value filtering mode\n\t * \n\t * @param filterM\n\t *            true to m filter\n\t */\n\tpublic setFilterM(filterM: boolean): void {\n\t\tthis._filterM = filterM;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic filter(containingType: GeometryType, geometry: Geometry): boolean {\n\t\treturn geometry.geometryType != GeometryType.POINT || !(geometry instanceof Point) || this.filterPoint(geometry as Point);\n\t}\n\n\t/**\n\t * Filter the point\n\t * \n\t * @param point point\n\t * @return true if passes filter and point should be included\n\t */\n\tprivate filterPoint (point: Point): boolean {\n\t\treturn this.filterValue(point.x) && this.filterValue(point.y) && this.filterZ(point) && this.filterM(point);\n\t}\n\n\t/**\n\t * Filter the double value\n\t * @param value double value\n\t * @return\n\t */\n\tprivate filterValue (value: number): boolean {\n\t\tlet passes;\n\t\tswitch (this._type) {\n\t\tcase FiniteFilterType.FINITE:\n\t\t\tpasses = Number.isFinite(value);\n\t\t\tbreak;\n\t\tcase FiniteFilterType.FINITE_AND_INFINITE:\n\t\t\tpasses = !Number.isNaN(value);\n\t\t\tbreak;\n\t\tcase FiniteFilterType.FINITE_AND_NAN:\n\t\t\tpasses = Number.isFinite(value) || Number.isNaN(value);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new SFException(\"Unsupported filter type: \" + this._type);\n\t\t}\n\t\treturn passes;\n\t}\n\n\t/**\n\t * Filter the Z value\n\t * \n\t * @param point\n\t *            point\n\t * @return true if passes\n\t */\n\tprivate filterZ(point: Point): boolean {\n\t\treturn !this._filterZ || !point.hasZ || this.filterValue(point.z);\n\t}\n\n\t/**\n\t * Filter the M value\n\t * \n\t * @param point\n\t *            point\n\t * @return true if passes\n\t */\n\tprivate filterM(point: Point): boolean {\n\t\treturn !this._filterM || !point.hasM || this.filterValue(point.m);\n\t}\n\n}\n","import {\n    SFException,\n    GeometryType,\n    Geometry,\n    Point,\n    LineString,\n    Polygon,\n    MultiPoint,\n    MultiLineString,\n    MultiPolygon,\n    CircularString,\n    CompoundCurve,\n    CurvePolygon,\n    PolyhedralSurface,\n    TIN,\n    Triangle,\n    GeometryCollection,\n} from \"../../internal\";\n\nexport class GeometrySerializer {\n    /**\n     * Serialize the geometry to JSON\n     * @param geometry geometry\n     * @return serialized JSON\n     */\n    public static serialize(geometry: Geometry): string  {\n        return JSON.stringify(geometry);\n    }\n\n    public static fromJSON (obj: any): Geometry {\n        let geometry: Geometry;\n        const geometryType = obj._geometryType\n        switch (geometryType) {\n            case GeometryType.POINT:\n                const point = new Point();\n                point.x = obj._x;\n                point.y = obj._y;\n                point.z = obj._z;\n                point.m = obj._m;\n                point.hasZ = obj._hasZ;\n                point.hasM = obj._hasM;\n                geometry = point\n                break;\n            case GeometryType.LINESTRING:\n                const lineString = new LineString();\n                obj._points.forEach(point => {\n                    lineString.addPoint(GeometrySerializer.fromJSON(point) as Point);\n                })\n                lineString.hasZ = obj._hasZ;\n                lineString.hasM = obj._hasM;\n                geometry = lineString\n                break;\n            case GeometryType.POLYGON:\n                const polygon = new Polygon();\n                obj._rings.forEach(ring => {\n                    polygon.addRing(GeometrySerializer.fromJSON(ring) as LineString);\n                })\n                polygon.hasZ = obj._hasZ;\n                polygon.hasM = obj._hasM;\n                geometry = polygon;\n                break;\n            case GeometryType.MULTIPOINT:\n                const multiPoint = new MultiPoint();\n                obj._geometries.forEach(point => {\n                    multiPoint.addPoint(GeometrySerializer.fromJSON(point) as Point);\n                })\n                multiPoint.hasZ = obj._hasZ;\n                multiPoint.hasM = obj._hasM;\n                geometry = multiPoint;\n                break;\n            case GeometryType.MULTILINESTRING:\n                const multiLineString = new MultiLineString();\n                obj._geometries.forEach(lineString => {\n                    multiLineString.addLineString(GeometrySerializer.fromJSON(lineString) as LineString);\n                });\n                multiLineString.hasZ = obj._hasZ;\n                multiLineString.hasM = obj._hasM;\n                geometry = multiLineString;\n                break;\n            case GeometryType.MULTIPOLYGON:\n                const multiPolygon = new MultiPolygon();\n                obj._geometries.forEach(polygon => {\n                    multiPolygon.addPolygon(GeometrySerializer.fromJSON(polygon) as Polygon);\n                });\n                multiPolygon.hasZ = obj._hasZ;\n                multiPolygon.hasM = obj._hasM;\n                geometry = multiPolygon;\n                break;\n            case GeometryType.GEOMETRYCOLLECTION:\n                const geometryCollection = new GeometryCollection();\n                obj._geometries.forEach(geometry => {\n                    geometryCollection.addGeometry(GeometrySerializer.fromJSON(geometry));\n                });\n                geometryCollection.hasZ = obj._hasZ;\n                geometryCollection.hasM = obj._hasM;\n                geometry = geometryCollection;\n                break;\n            case GeometryType.CIRCULARSTRING:\n                const circularString = new CircularString();\n                obj._points.forEach(point => {\n                    circularString.addPoint(GeometrySerializer.fromJSON(point) as Point);\n                })\n                circularString.hasZ = obj._hasZ;\n                circularString.hasM = obj._hasM;\n                geometry = circularString;\n                break;\n            case GeometryType.COMPOUNDCURVE:\n                const compoundCurve = new CompoundCurve();\n                obj._lineStrings.forEach(lineString => {\n                    compoundCurve.addLineString(GeometrySerializer.fromJSON(lineString) as LineString);\n                });\n                compoundCurve.hasZ = obj._hasZ;\n                compoundCurve.hasM = obj._hasM;\n                geometry = compoundCurve;\n                break;\n            case GeometryType.CURVEPOLYGON:\n                const curvePolygon = new CurvePolygon();\n                obj._rings.forEach(ring => {\n                    curvePolygon.addRing(GeometrySerializer.fromJSON(ring) as LineString);\n                });\n                curvePolygon.hasZ = obj._hasZ;\n                curvePolygon.hasM = obj._hasM;\n                geometry = curvePolygon;\n                break;\n            case GeometryType.POLYHEDRALSURFACE:\n                const polyhedralSurface = new PolyhedralSurface();\n                obj._polygons.forEach(polygon => {\n                    polyhedralSurface.addPolygon(GeometrySerializer.fromJSON(polygon) as Polygon);\n                });\n                polyhedralSurface.hasZ = obj._hasZ;\n                polyhedralSurface.hasM = obj._hasM;\n                geometry = polyhedralSurface;\n                break;\n            case GeometryType.TIN:\n                const tin = new TIN();\n                obj._polygons.forEach(polygon => {\n                    tin.addPolygon(GeometrySerializer.fromJSON(polygon) as Polygon);\n                });\n                tin.hasZ = obj._hasZ;\n                tin.hasM = obj._hasM;\n                geometry = tin;\n                break;\n            case GeometryType.TRIANGLE:\n                const triangle = new Triangle();\n                obj._rings.forEach(ring => {\n                    triangle.addRing(GeometrySerializer.fromJSON(ring) as LineString);\n                })\n                triangle.hasZ = obj._hasZ;\n                triangle.hasM = obj._hasM;\n                geometry = triangle;\n                break;\n            default:\n                throw new SFException(\"Geometry Type not supported: \" + geometryType);\n        }\n        return geometry;\n    }\n\n    /**\n     * Deserialize the json into a geometry\n     * @param json serialized json\n     * @return geometry\n     */\n    public static deserialize(json: string): Geometry {\n        return GeometrySerializer.fromJSON(JSON.parse(json));\n    }\n}","import { Point, Comparable, EventType, SweepLine } from \"../../internal\";\n\n/**\n * Event element\n */\nexport class Event implements Comparable<Event> {\n\n\t/**\n\t * Edge number\n\t */\n\tprivate readonly _edge: number;\n\n\t/**\n\t * Polygon ring number\n\t */\n\tprivate readonly _ring: number;\n\n\t/**\n\t * Polygon point\n\t */\n\tprivate readonly _point: Point;\n\n\t/**\n\t * Event type, left or right point\n\t */\n\tprivate readonly _type: EventType;\n\n\t/**\n\t * Constructor\n\t * @param edge edge number\n\t * @param ring ring number\n\t * @param point point\n\t * @param type event type\n\t */\n\tpublic constructor(edge: number, ring: number, point: Point, type: EventType) {\n\t\tthis._edge = edge;\n\t\tthis._ring = ring;\n\t\tthis._point = point;\n\t\tthis._type = type;\n\t}\n\n\t/**\n\t * Get the edge\n\t * \n\t * @return edge number\n\t */\n\tpublic get edge(): number {\n\t\treturn this._edge;\n\t}\n\n\t/**\n\t * Get the polygon ring number\n\t * @return polygon ring number\n\t */\n\tpublic get ring(): number {\n\t\treturn this._ring;\n\t}\n\n\t/**\n\t * Get the polygon point\n\t * @return polygon point\n\t */\n\tpublic get point(): Point {\n\t\treturn this._point;\n\t}\n\n\t/**\n\t * Get the event type\n\t * @return event type\n\t */\n\tpublic get type(): EventType {\n\t\treturn this._type;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic compareTo(other: Event): number {\n\t\treturn SweepLine.xyOrder(this.point, other.point);\n\t}\n\n}","import { LineString, Point, Event, EventType, SweepLine } from \"../../internal\";\nimport * as TimSort from 'timsort';\n/**\n * Event queue for processing events\n */\nexport class EventQueue implements Iterable<Event> {\n\n\t/**\n\t * List of events\n\t */\n\tprivate _events: Array<Event> = []\n\n\tpublic constructor(ring: LineString);\n\tpublic constructor(rings: Array<LineString>);\n\n\tpublic constructor(...args) {\n\t\tif (args.length === 1 && args[0] instanceof LineString) {\n\t\t\tthis.addRing(args[0], 0)\n\t\t\tthis.sort();\n\t\t} else if (args.length === 1) {\n\t\t\tfor (let i = 0; i < args[0].length; i++) {\n\t\t\t\tthis.addRing(args[0][i], i);\n\t\t\t}\n\t\t\tthis.sort();\n\t\t}\n\t}\n\n\t/**\n\t * Add a ring to the event queue\n\t * @param ring polygon ring\n\t * @param ringIndex ring index\n\t */\n\tprivate addRing(ring: LineString, ringIndex: number): void {\n\t\tconst points: Array<Point> = ring.points;\n\n\t\tfor (let i = 0; i < points.length; i++) {\n\n\t\t\tconst point1 = points[i];\n\t\t\tconst point2 = points[(i + 1) % points.length];\n\n\t\t\tlet type1: EventType = null;\n\t\t\tlet type2: EventType = null;\n\t\t\tif (SweepLine.xyOrder(point1, point2) < 0) {\n\t\t\t\ttype1 = EventType.LEFT;\n\t\t\t\ttype2 = EventType.RIGHT;\n\t\t\t} else {\n\t\t\t\ttype1 = EventType.RIGHT;\n\t\t\t\ttype2 = EventType.LEFT;\n\t\t\t}\n\n\t\t\tthis._events.push(new Event(i, ringIndex, point1, type1));\n\t\t\tthis._events.push(new Event(i, ringIndex, point2, type2));\n\t\t}\n\t}\n\n\t/**\n\t * Sort the events\n\t */\n\tprivate sort(): void {\n\t\tTimSort.sort(this._events, (a, b) => SweepLine.xyOrder(a.point, b.point));\n\t}\n\n\t[Symbol.iterator](): Iterator<Event> {\n\t\treturn this._events[Symbol.iterator]();\n\t}\n\n}\n","/**\n * Event type of the point direction\n */\nexport enum EventType {\n\n\t/**\n\t * Left point\n\t */\n\tLEFT,\n\n\t/**\n\t * Right point\n\t */\n\tRIGHT\n\n}\n","import { Point } from \"../../internal\";\n\n/**\n * Line segment of an edge between two points\n */\nexport class Segment {\n\n\t/**\n\t * Edge number\n\t */\n\tprivate readonly _edge: number;\n\n\t/**\n\t * Polygon ring number\n\t */\n\tprivate readonly _ring: number;\n\n\t/**\n\t * Left point\n\t */\n\tprivate readonly _leftPoint: Point;\n\n\t/**\n\t * Right point\n\t */\n\tprivate readonly _rightPoint: Point;\n\n\t/**\n\t * Segment above\n\t */\n\tprivate _above: Segment;\n\n\t/**\n\t * Segment below\n\t */\n\tprivate _below: Segment;\n\n\t/**\n\t * Constructor\n\t * @param edge edge number\n\t * @param ring ring number\n\t * @param leftPoint left point\n\t * @param rightPoint right point\n\t */\n\tpublic constructor(edge: number, ring: number, leftPoint: Point, rightPoint: Point) {\n\t\tthis._edge = edge;\n\t\tthis._ring = ring;\n\t\tthis._leftPoint = leftPoint;\n\t\tthis._rightPoint = rightPoint;\n\t}\n\n\t/**\n\t * Get the edge number\n\t * \n\t * @return edge number\n\t */\n\tpublic get edge(): number {\n\t\treturn this._edge;\n\t}\n\n\t/**\n\t * Get the polygon ring number\n\t * \n\t * @return polygon ring number\n\t */\n\tpublic get ring(): number {\n\t\treturn this._ring;\n\t}\n\n\t/**\n\t * Get the left point\n\t * \n\t * @return left point\n\t */\n\tpublic get leftPoint(): Point {\n\t\treturn this._leftPoint;\n\t}\n\n\t/**\n\t * Get the right point\n\t * \n\t * @return right point\n\t */\n\tpublic get rightPoint(): Point {\n\t\treturn this._rightPoint;\n\t}\n\n\t/**\n\t * Get the segment above\n\t * \n\t * @return segment above\n\t */\n\tpublic get above(): Segment {\n\t\treturn this._above;\n\t}\n\n\t/**\n\t * Set the segment above\n\t * \n\t * @param above\n\t *            segment above\n\t */\n\tpublic set above(above: Segment) {\n\t\tthis._above = above;\n\t}\n\n\t/**\n\t * Get the segment below\n\t * \n\t * @return segment below\n\t */\n\tpublic get below(): Segment {\n\t\treturn this._below;\n\t}\n\n\t/**\n\t * Set the segment below\n\t * \n\t * @param below\n\t *            segment below\n\t */\n\tpublic set below(below: Segment) {\n\t\tthis._below = below;\n\t}\n\n}\n","import { LineString, Point, Polygon, GeometryUtils, EventQueue, Segment, EventType, SweepLine } from \"../../internal\";\n\n/**\n * Shamos-Hoey simple polygon detection\n * <p>\n * Based upon C++ implementation:\n * <p>\n * <a href=\n * \"http://geomalgorithms.com/a09-_intersect-3.html\">http://geomalgorithms.com/a09-_intersect-3.html</a>\n * <p>\n * C++ implementation license:\n * <p>\n * Copyright 2001 softSurfer, 2012 Dan Sunday This code may be freely used and\n * modified for any purpose providing that this copyright notice is included\n * with it. SoftSurfer makes no warranty for this code, and cannot be held\n * liable for any real or imagined damage resulting from its use. Users of this\n * code must verify correctness for their application.\n */\n\nexport class ShamosHoey {\n\n\t/**\n\t * Determine if the polygon is simple\n\t * @param polygon polygon\n\t * @return true if simple, false if intersects\n\t */\n\tpublic static simplePolygon(polygon: Polygon): boolean {\n\t\treturn ShamosHoey.simplePolygonLineStrings(polygon.rings);\n\t}\n\n\t/**\n\t * Determine if the polygon points are simple\n\t * @param points polygon as points\n\t * @return true if simple, false if intersects\n\t */\n\tpublic static simplePolygonPoints(points: Array<Point>): boolean {\n\t\treturn ShamosHoey.simplePolygonLineString(new LineString(points));\n\t}\n\n\t/**\n\t * Determine if the polygon point rings are simple\n\t * @param pointRings polygon point rings\n\t * @return true if simple, false if intersects\n\t */\n\tpublic static simplePolygonRingPoints(pointRings: Array<Array<Point>>): boolean {\n\t\tconst rings: Array<LineString> = [];\n\t\tfor (const points of pointRings) {\n\t\t\trings.push(new LineString(points));\n\t\t}\n\t\treturn ShamosHoey.simplePolygonLineStrings(rings);\n\t}\n\n\t/**\n\t * Determine if the polygon line string ring is simple\n\t * @param ring polygon ring as a line string\n\t * @return true if simple, false if intersects\n\t */\n\tpublic static simplePolygonLineString(ring: LineString): boolean {\n\t\tconst rings: Array<LineString> = [];\n\t\trings.push(ring);\n\t\treturn ShamosHoey.simplePolygonLineStrings(rings);\n\t}\n\n\t/**\n\t * Determine if the polygon rings are simple\n\t * @param rings polygon rings\n\t * @return true if simple, false if intersects\n\t */\n\tpublic static simplePolygonLineStrings(rings: Array<LineString>): boolean {\n\t\tlet simple = rings.length !== 0;\n\n\t\tlet ringCopies: Array<LineString> = [];\n\t\tfor (let i = 0; i < rings.length; i++) {\n\t\t\tconst ring = rings[i];\n\n\t\t\t// Copy the ring\n\t\t\tconst ringCopy: LineString = new LineString();\n\t\t\tringCopy.points = ring.points.slice();\n\t\t\tringCopies.push(ringCopy);\n\n\t\t\t// Remove the last point when identical to the first\n\t\t\tconst ringCopyPoints: Array<Point> = ringCopy.points;\n\t\t\tif (ringCopyPoints.length >= 3) {\n\t\t\t\tconst first: Point = ringCopyPoints[0];\n\t\t\t\tconst last: Point = ringCopyPoints[ringCopyPoints.length - 1];\n\t\t\t\tif (first.x === last.x && first.y === last.y) {\n\t\t\t\t\tringCopyPoints.pop();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Verify enough ring points\n\t\t\tif (ringCopyPoints.length < 3) {\n\t\t\t\tsimple = false;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Check holes to make sure the first point is in the polygon\n\t\t\tif (i > 0) {\n\t\t\t\tconst firstPoint: Point = ringCopyPoints[0];\n\t\t\t\tif (!GeometryUtils.pointInPolygonRing(firstPoint, rings[0])) {\n\t\t\t\t\tsimple = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t// Make sure the hole first points are not inside of one another\n\t\t\t\tfor (let j = 1; j < i; j++) {\n\t\t\t\t\tconst holePoints: Array<Point> = rings[j].points;\n\t\t\t\t\tif (GeometryUtils.pointInPolygonRingPoints(firstPoint, holePoints) || GeometryUtils.pointInPolygonRingPoints(holePoints[0], ringCopyPoints)) {\n\t\t\t\t\t\tsimple = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!simple) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\t// If valid polygon rings\n\t\tif (simple) {\n\t\t\tconst eventQueue: EventQueue = new EventQueue(ringCopies);\n\t\t\tconst sweepLine: SweepLine = new SweepLine(ringCopies);\n\t\t\tfor (let event of eventQueue) {\n\t\t\t\tif (event.type === EventType.LEFT) {\n\t\t\t\t\tconst segment: Segment = sweepLine.add(event);\n\t\t\t\t\tif (sweepLine.intersect(segment, segment.below) || sweepLine.intersect(segment, segment.above)) {\n\t\t\t\t\t\tsimple = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst segment: Segment = sweepLine.find(event);\n\t\t\t\t\tif (sweepLine.intersect(segment.above, segment.below)) {\n\t\t\t\t\t\tsimple = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tsweepLine.remove(segment);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn simple;\n\t}\n\n}\n","import { RedBlackSet } from \"js_cols\";\nimport { Point, Comparator, Event, LineString, Segment } from \"../../internal\";\n\n\n/**\n * Segment comparator for adding segments to the sweep line in above-below\n * order\n */\nclass SegmentComparator implements Comparator<Segment> {\n\t/**\n\t * Current sweep x value\n\t */\n\tprivate _x: number;\n\n\t/**\n\t * Set the current sweep x value\n\t * @param x x value\n\t */\n\tpublic set x(x: number) {\n\t\tthis._x = x;\n\t}\n\n\t/**\n\t * {@inheritDoc}\n\t */\n\tpublic compare(segment1: Segment, segment2: Segment): number {\n\t\tconst y1 = SweepLine.yValueAtX(segment1, this._x);\n\t\tconst y2 = SweepLine.yValueAtX(segment2, this._x);\n\n\t\tlet compare;\n\t\tif (y1 < y2) {\n\t\t\tcompare = -1;\n\t\t} else if (y2 < y1) {\n\t\t\tcompare = 1;\n\t\t} else if (segment1.ring < segment2.ring) {\n\t\t\tcompare = -1;\n\t\t} else if (segment2.ring < segment1.ring) {\n\t\t\tcompare = 1;\n\t\t} else if (segment1.edge < segment2.edge) {\n\t\t\tcompare = -1;\n\t\t} else if (segment2.edge < segment1.edge) {\n\t\t\tcompare = 1;\n\t\t} else {\n\t\t\tcompare = 0;\n\t\t}\n\n\t\treturn compare;\n\t}\n\n}\n\n/**\n * Sweep Line algorithm\n */\nexport class SweepLine {\n\n\t/**\n\t * Polygon rings\n\t */\n\tprivate readonly _rings: Array<LineString>;\n\n\t/**\n\t * Comparator for ordering segments in above-below order\n\t */\n\tprivate _comparator: SegmentComparator = new SegmentComparator();\n\n\t/**\n\t * Tree of segments sorted by above-below order\n\t */\n\tprivate readonly _tree: RedBlackSet;\n\n\t/**\n\t * Mapping between ring, edges, and segments\n\t */\n\tprivate _segments: Map<number, Map<number, Segment>> = new Map();\n\n\t/**\n\t * Constructor\n\t * @param rings polygon rings\n\t */\n\tpublic constructor(rings: Array<LineString>) {\n\t\tthis._rings = rings;\n\t\tthis._tree = new RedBlackSet(this._comparator.compare.bind(this._comparator));\n\t}\n\n\t/**\n\t * Add the event to the sweep line\n\t * @param event event\n\t * @return added segment\n\t */\n\tpublic add(event: Event): Segment {\n\t\tconst segment: Segment = this.createSegment(event);\n\n\t\t// Add to the tree\n\t\tthis._comparator.x = event.point.x;\n\t\tthis._tree.insert(segment);\n\n\t\t// Update the above and below pointers\n\t\tlet next: Segment = this._tree.successor(segment);\n\t\tlet previous: Segment = this._tree.predecessor(segment);\n\t\tif (next != null) {\n\t\t\tsegment.above = next;\n\t\t\tnext.below = segment;\n\t\t}\n\t\tif (previous != null) {\n\t\t\tsegment.below = previous;\n\t\t\tprevious.above = segment;\n\t\t}\n\n\t\t// Add to the segments map\n\t\tlet edgeMap: Map<number, Segment> = this._segments.get(segment.ring);\n\t\tif (edgeMap == null) {\n\t\t\tedgeMap = new Map<number, Segment>();\n\t\t\tthis._segments.set(segment.ring, edgeMap);\n\t\t}\n\t\tedgeMap.set(segment.edge, segment);\n\n\t\treturn segment;\n\t}\n\n\t/**\n\t * Create a segment from the event\n\t * @param event event\n\t * @return segment\n\t */\n\tprivate createSegment(event: Event): Segment {\n\t\tconst edgeNumber = event.edge;\n\t\tconst ringNumber = event.ring;\n\n\t\tconst ring: LineString = this._rings[ringNumber];\n\t\tconst points: Array<Point> = ring.points;\n\n\t\tconst point1 = points[edgeNumber];\n\t\tconst point2 = points[(edgeNumber + 1) % points.length];\n\n\t\tlet left;\n\t\tlet right;\n\t\tif (SweepLine.xyOrder(point1, point2) < 0) {\n\t\t\tleft = point1;\n\t\t\tright = point2;\n\t\t} else {\n\t\t\tright = point1;\n\t\t\tleft = point2;\n\t\t}\n\n\t\treturn new Segment(edgeNumber, ringNumber, left, right);\n\t}\n\n\t/**\n\t * Find the existing event segment\n\t * \n\t * @param event\n\t *            event\n\t * @return segment\n\t */\n\tpublic find(event: Event): Segment {\n\t\treturn this._segments.get(event.ring).get(event.edge);\n\t}\n\n\t/**\n\t * Determine if the two segments intersect\n\t * \n\t * @param segment1\n\t *            segment 1\n\t * @param segment2\n\t *            segment 2\n\t * @return true if intersection, false if not\n\t */\n\tpublic intersect(segment1: Segment, segment2: Segment): boolean {\n\t\tlet intersect: boolean = false;\n\n\t\tif (segment1 != null && segment2 != null) {\n\t\t\tconst ring1 = segment1.ring;\n\t\t\tconst ring2 = segment2.ring;\n\n\t\t\tlet consecutive = ring1 === ring2;\n\t\t\tif (consecutive) {\n\t\t\t\tconst edge1 = segment1.edge;\n\t\t\t\tconst edge2 = segment2.edge;\n\t\t\t\tconst ringPoints = this._rings[ring1].numPoints();\n\t\t\t\tconsecutive = (edge1 + 1) % ringPoints === edge2 || edge1 === (edge2 + 1) % ringPoints;\n\t\t\t}\n\n\t\t\tif (!consecutive) {\n\t\t\t\tlet left = SweepLine.isLeft(segment1, segment2.leftPoint);\n\t\t\t\tlet right = SweepLine.isLeft(segment1, segment2.rightPoint);\n\n\t\t\t\tif (left * right <= 0) {\n\t\t\t\t\tleft = SweepLine.isLeft(segment2, segment1.leftPoint);\n\t\t\t\t\tright = SweepLine.isLeft(segment2, segment1.rightPoint);\n\t\t\t\t\tif (left * right <= 0) {\n\t\t\t\t\t\tintersect = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn intersect;\n\t}\n\n\t/**\n\t * Remove the segment from the sweep line\n\t * @param segment segment\n\t */\n\tpublic remove(segment: Segment): void {\n\t\tlet removed = this._tree.remove(segment);\n\t\tif (!removed) {\n\t\t\tthis._comparator.x = segment.leftPoint.x;\n\t\t\tremoved = this._tree.remove(segment);\n\t\t}\n\n\t\tif (removed) {\n\t\t\tconst above: Segment = segment.above;\n\t\t\tconst below: Segment = segment.below;\n\t\t\tif (above != null) {\n\t\t\t\tabove.below = below;\n\t\t\t}\n\t\t\tif (below != null) {\n\t\t\t\tbelow.above = above;\n\t\t\t}\n\n\t\t\tthis._segments.get(segment.ring).delete(segment.edge);\n\t\t}\n\t}\n\n\t/**\n\t * Get the segment y value at the x location by calculating the line slope\n\t * \n\t * @param segment segment\n\t * @param x current point x value\n\t * @return segment y value\n\t */\n\tpublic static yValueAtX(segment: Segment, x: number): number {\n\t\tconst left: Point = segment.leftPoint;\n\t\tconst right: Point = segment.rightPoint;\n\n\t\tconst m: number = (right.y - left.y) / (right.x - left.x);\n\t\tconst b: number = left.y - (m * left.x);\n\n\t\treturn (m * x) + b;\n\t}\n\n\t/**\n\t * XY order of two points\n\t * @param point1 point 1\n\t * @param point2 point 2\n\t * @return +1 if p1 &gt; p2, -1 if p1 &lt; p2, 0 if equal\n\t */\n\tpublic static xyOrder(point1: Point, point2: Point): number {\n\t\tlet value = 0;\n\t\tif (point1.x > point2.x) {\n\t\t\tvalue = 1;\n\t\t} else if (point1.x < point2.x) {\n\t\t\tvalue = -1;\n\t\t} else if (point1.y > point2.y) {\n\t\t\tvalue = 1;\n\t\t} else if (point1.y < point2.y) {\n\t\t\tvalue = -1;\n\t\t}\n\t\treturn value;\n\t}\n\n\t/**\n\t * Check where the point is (left, on, right) relative to the line segment\n\t * \n\t * @param segment segment\n\t * @param point point\n\t * @return > 0 if left, 0 if on, < 0 if right\n\t */\n\tprivate static isLeft(segment: Segment, point: Point): number {\n\t\treturn this.isLeftPoints(segment.leftPoint, segment.rightPoint, point);\n\t}\n\n\t/**\n\t * Check where point 2 is (left, on, right) relative to the line from point\n\t * 0 to point 1\n\t * @param point0 point 0\n\t * @param point1 point 1\n\t * @param point2 point 2\n\t * @return > 0 if left, 0 if on, < 0 if right\n\t */\n\tprivate static isLeftPoints(point0: Point, point1: Point, point2: Point): number {\n\t\treturn (point1.x - point0.x) * (point2.y - point0.y) - (point2.x - point0.x) * (point1.y - point0.y);\n\t}\n\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(184);\n"],"sourceRoot":""}