{"version":3,"file":"geopackage.min.js","mappings":"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k+D,IAAIpE,UAAUsE,aAI3BzrE,OAAOD,QAAUurE,sCCv7CjB,MAAMpE,EAAU,EAAQ,MAClBwE,EAAO,EAAQ,GAWfJ,EAAW,CAChBK,SAVDtE,eAAwBuE,GACvB,MAAMpE,QAAkBN,EAAQyE,SAASC,GACzC,IACC,aAAaF,EAAKjE,cAAcD,EACjC,CAAE,cACKA,EAAUj1D,OACjB,CACD,GAMApF,OAAOqtB,OAAO8wC,EAAUI,GAExBv+D,OAAOC,eAAek+D,EAAU,aAAc,CAC7Cj+D,IAAG,IACKq+D,EAAKF,aAIdr+D,OAAOC,eAAek+D,EAAU,YAAa,CAC5Cj+D,IAAG,IACKq+D,EAAKD,YAIdzrE,EAAOD,QAAUurE,yBC7BjBtrE,EAAOD,QAAU,CAChByrE,WAAY,CACX,MACA,MACA,OACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,OACA,MACA,MACA,MACA,KACA,MACA,KACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,OACA,OACA,QACA,MACA,MACA,MACA,MACA,MACA,KACA,KACA,SACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,IACA,KACA,MACA,MACA,MACA,QACA,MACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,OACA,MACA,MACA,QACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,QACA,MACA,MACA,MACA,KACA,MACA,KACA,KACA,MACA,OACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,OAEDC,UAAW,CACV,aACA,YACA,YACA,aACA,aACA,cACA,oBACA,oBACA,aACA,YACA,qBACA,4BACA,yBACA,uBACA,0BACA,0CACA,iDACA,kDACA,0EACA,4EACA,oEACA,kBACA,oBACA,+BACA,mBACA,sBACA,8BACA,gCACA,6BACA,YACA,aACA,mBACA,aACA,kBACA,gBACA,iBACA,cACA,iBACA,iBACA,yBACA,aACA,aACA,aACA,YACA,aACA,YACA,YACA,kBACA,eACA,YACA,gBACA,YACA,kBACA,2BACA,gCACA,kBACA,mBACA,YACA,aACA,gCACA,WACA,WACA,eACA,cACA,yBACA,kBACA,mBACA,wBACA,iCACA,wCACA,oCACA,oBACA,6BACA,oBACA,yBACA,qBACA,oBACA,oBACA,kBACA,aACA,wBACA,YACA,YACA,YACA,YACA,YACA,aACA,kBACA,iCACA,aACA,sBACA,aACA,sBACA,aACA,YACA,oBACA,mBACA,gBACA,aACA,oBACA,+BACA,cACA,4BACA,4BACA,cACA,yBACA,cACA,aACA,sBACA,mBACA,oBACA,oBACA,wBACA,uBACA,cACA,cACA,2BACA,YACA,aACA,cACA,aACA,aACA,aACA,+BACA,aACA,+BACA,4BACA,qBACA,YACA,8BACA,YACA,YACA,gDClRF1rE,EAAQqoE,cAAgB7O,GAAU,IAAIA,GAAQvvD,KAAI6hE,GAAaA,EAAUltC,WAAW,KASpF5+B,EAAQ8qE,yBAA2B,CAAChnE,EAAQ0P,EAAS,KACpD,MAAMu4D,EAAUp+D,SAAS7J,EAAOihB,SAAS,OAAQ,IAAK,KAAK6W,QAAQ,QAAS,IAAIzmB,OAAQ,GACxF,GAAIuM,MAAMqqD,GACT,OAAO,EAGR,IAAIvuB,EAAM,IAEV,IAAK,IAAIzR,EAAIv4B,EAAQu4B,EAAIv4B,EAAS,IAAKu4B,IACtCyR,GAAO15C,EAAOioC,GAGf,IAAK,IAAIA,EAAIv4B,EAAS,IAAKu4B,EAAIv4B,EAAS,IAAKu4B,IAC5CyR,GAAO15C,EAAOioC,GAGf,OAAOggC,IAAYvuB,CAAG,EAOvBx9C,EAAQ8oE,oBAAsB,CAC7Bx7D,IAAK,CAACxJ,EAAQ0P,IACgB,IAArB1P,EAAO0P,EAAS,GAAe1P,EAAO0P,EAAS,IAA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","sources":["webpack://GeoPackage/webpack/universalModuleDefinition","webpack://GeoPackage/./canvaskit/canvaskit.js","webpack://GeoPackage/./lib/tiles/creator/projectTile.js","webpack://GeoPackage/./lib/tiles/creator/tileUtilities.js","webpack://GeoPackage/./lib/tiles/creator/tileWorker.js","webpack://GeoPackage/./node_modules/@turf/bbox/dist/js/index.js","webpack://GeoPackage/./node_modules/@turf/boolean-clockwise/dist/js/index.js","webpack://GeoPackage/./node_modules/@turf/boolean-point-in-polygon/dist/js/index.js","webpack://GeoPackage/./node_modules/@turf/boolean-point-on-line/dist/js/index.js","webpack://GeoPackage/./node_modules/@turf/boolean-within/dist/js/index.js","webpack://GeoPackage/./node_modules/@turf/boolean-within/node_modules/@turf/bbox/dist/js/index.js","webpack://GeoPackage/./node_modules/@turf/distance/dist/js/index.js","webpack://GeoPackage/./node_modules/@turf/helpers/dist/js/index.js","webpack://GeoPackage/./node_modules/@turf/intersect/dist/js/index.js","webpack://GeoPackage/./node_modules/@turf/invariant/dist/js/index.js","webpack://GeoPackage/./node_modules/@turf/line-intersect/dist/js/index.js","webpack://GeoPackage/./node_modules/@turf/line-segment/dist/js/index.js","webpack://GeoPackage/./node_modules/@turf/meta/dist/js/index.js","webpack://GeoPackage/./node_modules/@turf/point-to-line-distance/dist/js/index.js","webpack://GeoPackage/./node_modules/@turf/polygon-to-line/dist/js/index.js","webpack://GeoPackage/./node_modules/@turf/rhumb-distance/dist/js/index.js","webpack://GeoPackage/./node_modules/assert/assert.js","webpack://GeoPackage/./node_modules/assert/node_modules/inherits/inherits_browser.js","webpack://GeoPackage/./node_modules/assert/node_modules/util/support/isBufferBrowser.js","webpack://GeoPackage/./node_modules/assert/node_modules/util/util.js","webpack://GeoPackage/./node_modules/base64-js/index.js","webpack://GeoPackage/./node_modules/buffer/index.js","webpack://GeoPackage/./node_modules/builtin-status-codes/browser.js","webpack://GeoPackage/./node_modules/console-browserify/index.js","webpack://GeoPackage/./node_modules/events/events.js","webpack://GeoPackage/./node_modules/file-type/core.js","webpack://GeoPackage/./node_modules/file-type/index.js","webpack://GeoPackage/./node_modules/file-type/supported.js","webpack://GeoPackage/./node_modules/file-type/util.js","webpack://GeoPackage/./node_modules/geojson-rbush/index.js","webpack://GeoPackage/./node_modules/ieee754/index.js","webpack://GeoPackage/./node_modules/image-size/dist/detector.js","webpack://GeoPackage/./node_modules/image-size/dist/fs.promises.js","webpack://GeoPackage/./node_modules/image-size/dist/index.js","webpack://GeoPackage/./node_modules/image-size/dist/readUInt.js","webpack://GeoPackage/./node_modules/image-size/dist/types.js","webpack://GeoPackage/./node_modules/image-size/dist/types/bmp.js","webpack://GeoPackage/./node_modules/image-size/dist/types/cur.js","webpack://GeoPackage/./node_modules/image-size/dist/types/dds.js","webpack://GeoPackage/./node_modules/image-size/dist/types/gif.js","webpack://GeoPackage/./node_modules/image-size/dist/types/icns.js","webpack://GeoPackage/./node_modules/image-size/dist/types/ico.js","webpack://GeoPackage/./node_modules/image-size/dist/types/j2c.js","webpack://GeoPackage/./node_modules/image-size/dist/types/jp2.js","webpack://GeoPackage/./node_modules/image-size/dist/types/jpg.js","webpack://GeoPackage/./node_modules/image-size/dist/types/ktx.js","webpack://GeoPackage/./node_modules/image-size/dist/types/png.js","webpack://GeoPackage/./node_modules/image-size/dist/types/pnm.js","webpack://GeoPackage/./node_modules/image-size/dist/types/psd.js","webpack://GeoPackage/./node_modules/image-size/dist/types/svg.js","webpack://GeoPackage/./node_modules/image-size/dist/types/tiff.js","webpack://GeoPackage/./node_modules/image-size/dist/types/webp.js","webpack://GeoPackage/./node_modules/inherits/inherits_browser.js","webpack://GeoPackage/./node_modules/lodash/_DataView.js","webpack://GeoPackage/./node_modules/lodash/_Hash.js","webpack://GeoPackage/./node_modules/lodash/_ListCache.js","webpack://GeoPackage/./node_modules/lodash/_Map.js","webpack://GeoPackage/./node_modules/lodash/_MapCache.js","webpack://GeoPackage/./node_modules/lodash/_Promise.js","webpack://GeoPackage/./node_modules/lodash/_Set.js","webpack://GeoPackage/./node_modules/lodash/_SetCache.js","webpack://GeoPackage/./node_modules/lodash/_Stack.js","webpack://GeoPackage/./node_modules/lodash/_Symbol.js","webpack://GeoPackage/./node_modules/lodash/_Uint8Array.js","webpack://GeoPackage/./node_modules/lodash/_WeakMap.js","webpack://GeoPackage/./node_modules/lodash/_arrayFilter.js","webpack://GeoPackage/./node_modules/lodash/_arrayLikeKeys.js","webpack://GeoPackage/./node_modules/lodash/_arrayMap.js","webpack://GeoPackage/./node_modules/lodash/_arrayPush.js","webpack://GeoPackage/./node_modules/lodash/_arraySome.js","webpack://GeoPackage/./node_modules/lodash/_assocIndexOf.js","webpack://GeoPackage/./node_modules/lodash/_baseGetAllKeys.js","webpack://GeoPackage/./node_modules/lodash/_baseGetTag.js","webpack://GeoPackage/./node_modules/lodash/_baseIsArguments.js","webpack://GeoPackage/./node_modules/lodash/_baseIsEqual.js","webpack://GeoPackage/./node_modules/lodash/_baseIsEqualDeep.js","webpack://GeoPackage/./node_modules/lodash/_baseIsNative.js","webpack://GeoPackage/./node_modules/lodash/_baseIsTypedArray.js","webpack://GeoPackage/./node_modules/lodash/_baseKeys.js","webpack://GeoPackage/./node_modules/lodash/_baseSortedIndex.js","webpack://GeoPackage/./node_modules/lodash/_baseSortedIndexBy.js","webpack://GeoPackage/./node_modules/lodash/_baseTimes.js","webpack://GeoPackage/./node_modules/lodash/_baseUnary.js","webpack://GeoPackage/./node_modules/lodash/_baseValues.js","webpack://GeoPackage/./node_modules/lodash/_cacheHas.js","webpack://GeoPackage/./node_modules/lodash/_coreJsData.js","webpack://GeoPackage/./node_modules/lodash/_equalArrays.js","webpack://GeoPackage/./node_modules/lodash/_equalByTag.js","webpack://GeoPackage/./node_modules/lodash/_equalObjects.js","webpack://GeoPackage/./node_modules/lodash/_freeGlobal.js","webpack://GeoPackage/./node_modules/lodash/_getAllKeys.js","webpack://GeoPackage/./node_modules/lodash/_getMapData.js","webpack://GeoPackage/./node_modules/lodash/_getNative.js","webpack://GeoPackage/./node_modules/lodash/_getRawTag.js","webpack://GeoPackage/./node_modules/lodash/_getSymbols.js","webpack://GeoPackage/./node_modules/lodash/_getTag.js","webpack://GeoPackage/./node_modules/lodash/_getValue.js","webpack://GeoPackage/./node_modules/lodash/_hashClear.js","webpack://GeoPackage/./node_modules/lodash/_hashDelete.js","webpack://GeoPackage/./node_modules/lodash/_hashGet.js","webpack://GeoPackage/./node_modules/lodash/_hashHas.js","webpack://GeoPackage/./node_modules/lodash/_hashSet.js","webpack://GeoPackage/./node_modules/lodash/_isIndex.js","webpack://GeoPackage/./node_modules/lodash/_isKeyable.js","webpack://GeoPackage/./node_modules/lodash/_isMasked.js","webpack://GeoPackage/./node_modules/lodash/_isPrototype.js","webpack://GeoPackage/./node_modules/lodash/_listCacheClear.js","webpack://GeoPackage/./node_modules/lodash/_listCacheDelete.js","webpack://GeoPackage/./node_modules/lodash/_listCacheGet.js","webpack://GeoPackage/./node_modules/lodash/_listCacheHas.js","webpack://GeoPackage/./node_modules/lodash/_listCacheSet.js","webpack://GeoPackage/./node_modules/lodash/_mapCacheClear.js","webpack://GeoPackage/./node_modules/lodash/_mapCacheDelete.js","webpack://GeoPackage/./node_modules/lodash/_mapCacheGet.js","webpack://GeoPackage/./node_modules/lodash/_mapCacheHas.js","webpack://GeoPackage/./node_modules/lodash/_mapCacheSet.js","webpack://GeoPackage/./node_modules/lodash/_mapToArray.js","webpack://GeoPackage/./node_modules/lodash/_nativeCreate.js","webpack://GeoPackage/./node_modules/lodash/_nativeKeys.js","webpack://GeoPackage/./node_modules/lodash/_nodeUtil.js","webpack://GeoPackage/./node_modules/lodash/_objectToString.js","webpack://GeoPackage/./node_modules/lodash/_overArg.js","webpack://GeoPackage/./node_modules/lodash/_root.js","webpack://GeoPackage/./node_modules/lodash/_setCacheAdd.js","webpack://GeoPackage/./node_modules/lodash/_setCacheHas.js","webpack://GeoPackage/./node_modules/lodash/_setToArray.js","webpack://GeoPackage/./node_modules/lodash/_stackClear.js","webpack://GeoPackage/./node_modules/lodash/_stackDelete.js","webpack://GeoPackage/./node_modules/lodash/_stackGet.js","webpack://GeoPackage/./node_modules/lodash/_stackHas.js","webpack://GeoPackage/./node_modules/lodash/_stackSet.js","webpack://GeoPackage/./node_modules/lodash/_toSource.js","webpack://GeoPackage/./node_modules/lodash/eq.js","webpack://GeoPackage/./node_modules/lodash/identity.js","webpack://GeoPackage/./node_modules/lodash/isArguments.js","webpack://GeoPackage/./node_modules/lodash/isArray.js","webpack://GeoPackage/./node_modules/lodash/isArrayLike.js","webpack://GeoPackage/./node_modules/lodash/isBuffer.js","webpack://GeoPackage/./node_modules/lodash/isEqual.js","webpack://GeoPackage/./node_modules/lodash/isFunction.js","webpack://GeoPackage/./node_modules/lodash/isLength.js","webpack://GeoPackage/./node_modules/lodash/isNil.js","webpack://GeoPackage/./node_modules/lodash/isObject.js","webpack://GeoPackage/./node_modules/lodash/isObjectLike.js","webpack://GeoPackage/./node_modules/lodash/isSymbol.js","webpack://GeoPackage/./node_modules/lodash/isTypedArray.js","webpack://GeoPackage/./node_modules/lodash/keys.js","webpack://GeoPackage/./node_modules/lodash/sortedIndex.js","webpack://GeoPackage/./node_modules/lodash/sortedIndexOf.js","webpack://GeoPackage/./node_modules/lodash/stubArray.js","webpack://GeoPackage/./node_modules/lodash/stubFalse.js","webpack://GeoPackage/./node_modules/lodash/values.js","webpack://GeoPackage/./node_modules/node-polyfill-webpack-plugin/node_modules/buffer/index.js","webpack://GeoPackage/./node_modules/node-polyfill-webpack-plugin/node_modules/path-browserify/index.js","webpack://GeoPackage/./node_modules/object-assign/index.js","webpack://GeoPackage/./node_modules/os-browserify/browser.js","webpack://GeoPackage/./node_modules/peek-readable/lib/Deferred.js","webpack://GeoPackage/./node_modules/peek-readable/lib/EndOfFileStream.js","webpack://GeoPackage/./node_modules/peek-readable/lib/StreamReader.js","webpack://GeoPackage/./node_modules/peek-readable/lib/index.js","webpack://GeoPackage/./node_modules/polygon-clipping/dist/polygon-clipping.umd.js","webpack://GeoPackage/./node_modules/process/browser.js","webpack://GeoPackage/./node_modules/proj4/lib/constants/values.js","webpack://GeoPackage/./node_modules/proj4/lib/constants/PrimeMeridian.js","webpack://GeoPackage/./node_modules/proj4/lib/constants/units.js","webpack://GeoPackage/./node_modules/proj4/lib/match.js","webpack://GeoPackage/./node_modules/proj4/lib/projString.js","webpack://GeoPackage/./node_modules/wkt-parser/parser.js","webpack://GeoPackage/./node_modules/wkt-parser/process.js","webpack://GeoPackage/./node_modules/wkt-parser/index.js","webpack://GeoPackage/./node_modules/proj4/lib/defs.js","webpack://GeoPackage/./node_modules/proj4/lib/global.js","webpack://GeoPackage/./node_modules/proj4/lib/parseCode.js","webpack://GeoPackage/./node_modules/proj4/lib/extend.js","webpack://GeoPackage/./node_modules/proj4/lib/common/msfnz.js","webpack://GeoPackage/./node_modules/proj4/lib/common/sign.js","webpack://GeoPackage/./node_modules/proj4/lib/common/adjust_lon.js","webpack://GeoPackage/./node_modules/proj4/lib/common/tsfnz.js","webpack://GeoPackage/./node_modules/proj4/lib/common/phi2z.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/merc.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/longlat.js","webpack://GeoPackage/./node_modules/proj4/lib/projections.js","webpack://GeoPackage/./node_modules/proj4/lib/constants/Ellipsoid.js","webpack://GeoPackage/./node_modules/proj4/lib/constants/Datum.js","webpack://GeoPackage/./node_modules/proj4/lib/datum.js","webpack://GeoPackage/./node_modules/proj4/lib/nadgrid.js","webpack://GeoPackage/./node_modules/proj4/lib/Proj.js","webpack://GeoPackage/./node_modules/proj4/lib/deriveConstants.js","webpack://GeoPackage/./node_modules/proj4/lib/datumUtils.js","webpack://GeoPackage/./node_modules/proj4/lib/datum_transform.js","webpack://GeoPackage/./node_modules/proj4/lib/adjust_axis.js","webpack://GeoPackage/./node_modules/proj4/lib/common/toPoint.js","webpack://GeoPackage/./node_modules/proj4/lib/checkSanity.js","webpack://GeoPackage/./node_modules/proj4/lib/transform.js","webpack://GeoPackage/./node_modules/proj4/lib/core.js","webpack://GeoPackage/./node_modules/mgrs/mgrs.js","webpack://GeoPackage/./node_modules/proj4/lib/Point.js","webpack://GeoPackage/./node_modules/proj4/lib/common/pj_enfn.js","webpack://GeoPackage/./node_modules/proj4/lib/common/pj_mlfn.js","webpack://GeoPackage/./node_modules/proj4/lib/common/pj_inv_mlfn.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/tmerc.js","webpack://GeoPackage/./node_modules/proj4/lib/common/sinh.js","webpack://GeoPackage/./node_modules/proj4/lib/common/hypot.js","webpack://GeoPackage/./node_modules/proj4/lib/common/gatg.js","webpack://GeoPackage/./node_modules/proj4/lib/common/clens_cmplx.js","webpack://GeoPackage/./node_modules/proj4/lib/common/cosh.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/etmerc.js","webpack://GeoPackage/./node_modules/proj4/lib/common/clens.js","webpack://GeoPackage/./node_modules/proj4/lib/common/asinhy.js","webpack://GeoPackage/./node_modules/proj4/lib/common/log1py.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/utm.js","webpack://GeoPackage/./node_modules/proj4/lib/common/adjust_zone.js","webpack://GeoPackage/./node_modules/proj4/lib/common/srat.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/gauss.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/sterea.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/stere.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/somerc.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/omerc.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/lcc.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/krovak.js","webpack://GeoPackage/./node_modules/proj4/lib/common/mlfn.js","webpack://GeoPackage/./node_modules/proj4/lib/common/e0fn.js","webpack://GeoPackage/./node_modules/proj4/lib/common/e1fn.js","webpack://GeoPackage/./node_modules/proj4/lib/common/e2fn.js","webpack://GeoPackage/./node_modules/proj4/lib/common/e3fn.js","webpack://GeoPackage/./node_modules/proj4/lib/common/gN.js","webpack://GeoPackage/./node_modules/proj4/lib/common/adjust_lat.js","webpack://GeoPackage/./node_modules/proj4/lib/common/imlfn.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/cass.js","webpack://GeoPackage/./node_modules/proj4/lib/common/qsfnz.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/laea.js","webpack://GeoPackage/./node_modules/proj4/lib/common/asinz.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/aea.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/gnom.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/cea.js","webpack://GeoPackage/./node_modules/proj4/lib/common/iqsfnz.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/eqc.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/poly.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/nzmg.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/mill.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/sinu.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/moll.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/eqdc.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/vandg.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/aeqd.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/ortho.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/qsc.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/robin.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/geocent.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/tpers.js","webpack://GeoPackage/./node_modules/proj4/lib/projections/geos.js","webpack://GeoPackage/./node_modules/proj4/projs.js","webpack://GeoPackage/./node_modules/proj4/lib/index.js","webpack://GeoPackage/./node_modules/querystring/decode.js","webpack://GeoPackage/./node_modules/querystring/encode.js","webpack://GeoPackage/./node_modules/querystring/index.js","webpack://GeoPackage/./node_modules/queue/index.js","webpack://GeoPackage/./node_modules/rbush/rbush.min.js","webpack://GeoPackage/./node_modules/reproject/index.js","webpack://GeoPackage/./node_modules/rtree-sql.js/dist/sql-wasm.js","webpack://GeoPackage/./node_modules/safe-buffer/index.js","webpack://GeoPackage/./node_modules/simplify-js/simplify.js","webpack://GeoPackage/./node_modules/stream-http/index.js","webpack://GeoPackage/./node_modules/stream-http/lib/capability.js","webpack://GeoPackage/./node_modules/stream-http/lib/request.js","webpack://GeoPackage/./node_modules/stream-http/lib/response.js","webpack://GeoPackage/./node_modules/stream-http/node_modules/readable-stream/errors-browser.js","webpack://GeoPackage/./node_modules/stream-http/node_modules/readable-stream/lib/_stream_duplex.js","webpack://GeoPackage/./node_modules/stream-http/node_modules/readable-stream/lib/_stream_passthrough.js","webpack://GeoPackage/./node_modules/stream-http/node_modules/readable-stream/lib/_stream_readable.js","webpack://GeoPackage/./node_modules/stream-http/node_modules/readable-stream/lib/_stream_transform.js","webpack://GeoPackage/./node_modules/stream-http/node_modules/readable-stream/lib/_stream_writable.js","webpack://GeoPackage/./node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/async_iterator.js","webpack://GeoPackage/./node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/buffer_list.js","webpack://GeoPackage/./node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/destroy.js","webpack://GeoPackage/./node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","webpack://GeoPackage/./node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/from-browser.js","webpack://GeoPackage/./node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/pipeline.js","webpack://GeoPackage/./node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/state.js","webpack://GeoPackage/./node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack://GeoPackage/./node_modules/stream-http/node_modules/readable-stream/readable-browser.js","webpack://GeoPackage/./node_modules/string_decoder/lib/string_decoder.js","webpack://GeoPackage/./node_modules/strtok3/lib/AbstractTokenizer.js","webpack://GeoPackage/./node_modules/strtok3/lib/BufferTokenizer.js","webpack://GeoPackage/./node_modules/strtok3/lib/FileTokenizer.js","webpack://GeoPackage/./node_modules/strtok3/lib/FsPromise.js","webpack://GeoPackage/./node_modules/strtok3/lib/ReadStreamTokenizer.js","webpack://GeoPackage/./node_modules/strtok3/lib/core.js","webpack://GeoPackage/./node_modules/strtok3/lib/index.js","webpack://GeoPackage/./node_modules/token-types/lib/index.js","webpack://GeoPackage/./lib/api.ts","webpack://GeoPackage/./lib/attributes/attributesColumn.ts","webpack://GeoPackage/./lib/attributes/attributesColumns.ts","webpack://GeoPackage/./lib/attributes/attributesDao.ts","webpack://GeoPackage/./lib/attributes/attributesRow.ts","webpack://GeoPackage/./lib/attributes/attributesTable.ts","webpack://GeoPackage/./lib/attributes/attributesTableReader.ts","webpack://GeoPackage/./lib/boundingBox.ts","webpack://GeoPackage/./lib/canvas/canvas.ts","webpack://GeoPackage/./lib/canvas/canvasKitCanvasAdapter.ts","webpack://GeoPackage/./lib/canvas/canvasUtils.ts","webpack://GeoPackage/./lib/canvas/htmlCanvasAdapter.ts","webpack://GeoPackage/./lib/canvas/offscreenCanvasAdapter.ts","webpack://GeoPackage/./lib/context/context.ts","webpack://GeoPackage/./lib/core/contents/contents.ts","webpack://GeoPackage/./lib/core/contents/contentsDao.ts","webpack://GeoPackage/./lib/core/contents/contentsDataType.ts","webpack://GeoPackage/./lib/core/srs/spatialReferenceSystem.ts","webpack://GeoPackage/./lib/core/srs/spatialReferenceSystemDao.ts","webpack://GeoPackage/./lib/dao/columnValues.ts","webpack://GeoPackage/./lib/dao/dao.ts","webpack://GeoPackage/./lib/dataColumnConstraints/dataColumnConstraints.ts","webpack://GeoPackage/./lib/dataColumnConstraints/dataColumnConstraintsDao.ts","webpack://GeoPackage/./lib/dataColumns/dataColumns.ts","webpack://GeoPackage/./lib/dataColumns/dataColumnsDao.ts","webpack://GeoPackage/./lib/db/alterTable.ts","webpack://GeoPackage/./lib/db/coreSQLUtils.ts","webpack://GeoPackage/./lib/db/db.ts","webpack://GeoPackage/./lib/db/geoPackageConnection.ts","webpack://GeoPackage/./lib/db/geoPackageDataType.ts","webpack://GeoPackage/./lib/db/mappedColumn.ts","webpack://GeoPackage/./lib/db/master/sqliteMaster.ts","webpack://GeoPackage/./lib/db/master/sqliteMasterColumn.ts","webpack://GeoPackage/./lib/db/master/sqliteMasterQuery.ts","webpack://GeoPackage/./lib/db/master/sqliteMasterType.ts","webpack://GeoPackage/./lib/db/sqliteAdapter.ts","webpack://GeoPackage/./lib/db/sqliteQueryBuilder.ts","webpack://GeoPackage/./lib/db/sqljsAdapter.ts","webpack://GeoPackage/./lib/db/stringUtils.ts","webpack://GeoPackage/./lib/db/table/columnConstraints.ts","webpack://GeoPackage/./lib/db/table/constraint.ts","webpack://GeoPackage/./lib/db/table/constraintParser.ts","webpack://GeoPackage/./lib/db/table/constraintType.ts","webpack://GeoPackage/./lib/db/table/constraints.ts","webpack://GeoPackage/./lib/db/table/rawConstraint.ts","webpack://GeoPackage/./lib/db/table/tableColumn.ts","webpack://GeoPackage/./lib/db/table/tableConstraints.ts","webpack://GeoPackage/./lib/db/table/tableInfo.ts","webpack://GeoPackage/./lib/db/table/uniqueConstraint.ts","webpack://GeoPackage/./lib/db/tableCreator.ts","webpack://GeoPackage/./lib/db/tableMapping.ts","webpack://GeoPackage/./lib/extension/baseExtension.ts","webpack://GeoPackage/./lib/extension/contents/contentsId.ts","webpack://GeoPackage/./lib/extension/contents/contentsIdDao.ts","webpack://GeoPackage/./lib/extension/contents/index.ts","webpack://GeoPackage/./lib/extension/crsWkt/index.ts","webpack://GeoPackage/./lib/extension/extension.ts","webpack://GeoPackage/./lib/extension/extensionDao.ts","webpack://GeoPackage/./lib/extension/geoPackageExtensions.ts","webpack://GeoPackage/./lib/extension/index/featureTableIndex.ts","webpack://GeoPackage/./lib/extension/index/geometryIndex.ts","webpack://GeoPackage/./lib/extension/index/geometryIndexDao.ts","webpack://GeoPackage/./lib/extension/index/tableIndex.ts","webpack://GeoPackage/./lib/extension/index/tableIndexDao.ts","webpack://GeoPackage/./lib/extension/metadata/index.ts","webpack://GeoPackage/./lib/extension/ngaExtensions.ts","webpack://GeoPackage/./lib/extension/relatedTables/dublinCoreMetadata.ts","webpack://GeoPackage/./lib/extension/relatedTables/dublinCoreType.ts","webpack://GeoPackage/./lib/extension/relatedTables/extendedRelation.ts","webpack://GeoPackage/./lib/extension/relatedTables/extendedRelationDao.ts","webpack://GeoPackage/./lib/extension/relatedTables/index.ts","webpack://GeoPackage/./lib/extension/relatedTables/mediaDao.ts","webpack://GeoPackage/./lib/extension/relatedTables/mediaRow.ts","webpack://GeoPackage/./lib/extension/relatedTables/mediaTable.ts","webpack://GeoPackage/./lib/extension/relatedTables/relationType.ts","webpack://GeoPackage/./lib/extension/relatedTables/simpleAttributesDao.ts","webpack://GeoPackage/./lib/extension/relatedTables/simpleAttributesRow.ts","webpack://GeoPackage/./lib/extension/relatedTables/simpleAttributesTable.ts","webpack://GeoPackage/./lib/extension/relatedTables/userMappingDao.ts","webpack://GeoPackage/./lib/extension/relatedTables/userMappingRow.ts","webpack://GeoPackage/./lib/extension/relatedTables/userMappingTable.ts","webpack://GeoPackage/./lib/extension/relatedTables/userRelatedTable.ts","webpack://GeoPackage/./lib/extension/rtree/rtreeIndex.ts","webpack://GeoPackage/./lib/extension/rtree/rtreeIndexDao.ts","webpack://GeoPackage/./lib/extension/scale/index.ts","webpack://GeoPackage/./lib/extension/scale/tileScaling.ts","webpack://GeoPackage/./lib/extension/scale/tileScalingDao.ts","webpack://GeoPackage/./lib/extension/scale/tileScalingType.ts","webpack://GeoPackage/./lib/extension/schema/index.ts","webpack://GeoPackage/./lib/extension/style/featureStyle.ts","webpack://GeoPackage/./lib/extension/style/featureStyles.ts","webpack://GeoPackage/./lib/extension/style/featureTableStyles.ts","webpack://GeoPackage/./lib/extension/style/iconCache.ts","webpack://GeoPackage/./lib/extension/style/iconDao.ts","webpack://GeoPackage/./lib/extension/style/iconRow.ts","webpack://GeoPackage/./lib/extension/style/iconTable.ts","webpack://GeoPackage/./lib/extension/style/icons.ts","webpack://GeoPackage/./lib/extension/style/index.ts","webpack://GeoPackage/./lib/extension/style/styleDao.ts","webpack://GeoPackage/./lib/extension/style/styleMappingDao.ts","webpack://GeoPackage/./lib/extension/style/styleMappingRow.ts","webpack://GeoPackage/./lib/extension/style/styleMappingTable.ts","webpack://GeoPackage/./lib/extension/style/styleRow.ts","webpack://GeoPackage/./lib/extension/style/styleTable.ts","webpack://GeoPackage/./lib/extension/style/styleTableReader.ts","webpack://GeoPackage/./lib/extension/style/styles.ts","webpack://GeoPackage/./lib/extension/webp/index.ts","webpack://GeoPackage/./lib/features/columns/geometryColumns.ts","webpack://GeoPackage/./lib/features/columns/geometryColumnsDao.ts","webpack://GeoPackage/./lib/features/user/featureColumn.ts","webpack://GeoPackage/./lib/features/user/featureColumns.ts","webpack://GeoPackage/./lib/features/user/featureDao.ts","webpack://GeoPackage/./lib/features/user/featureRow.ts","webpack://GeoPackage/./lib/features/user/featureTable.ts","webpack://GeoPackage/./lib/features/user/featureTableReader.ts","webpack://GeoPackage/./lib/features/user/geometryType.ts","webpack://GeoPackage/./lib/geoPackage.ts","webpack://GeoPackage/./lib/geoPackageConstants.ts","webpack://GeoPackage/./lib/geom/envelope.ts","webpack://GeoPackage/./lib/geom/envelopeBuilder.ts","webpack://GeoPackage/./lib/geom/geometryData.ts","webpack://GeoPackage/./lib/metadata/metadata.ts","webpack://GeoPackage/./lib/metadata/metadataDao.ts","webpack://GeoPackage/./lib/metadata/reference/metadataReference.ts","webpack://GeoPackage/./lib/metadata/reference/metadataReferenceDao.ts","webpack://GeoPackage/./lib/optionBuilder.ts","webpack://GeoPackage/./lib/projection/projection.ts","webpack://GeoPackage/./lib/projection/projectionConstants.ts","webpack://GeoPackage/./lib/tiles/creator/tileCreator.ts","webpack://GeoPackage/./lib/tiles/features/custom/customFeaturesTile.ts","webpack://GeoPackage/./lib/tiles/features/custom/numberFeaturesTile.ts","webpack://GeoPackage/./lib/tiles/features/custom/shadedFeaturesTile.ts","webpack://GeoPackage/./lib/tiles/features/featureDrawType.ts","webpack://GeoPackage/./lib/tiles/features/featurePaint.ts","webpack://GeoPackage/./lib/tiles/features/featurePaintCache.ts","webpack://GeoPackage/./lib/tiles/features/geometryCache.ts","webpack://GeoPackage/./lib/tiles/features/index.ts","webpack://GeoPackage/./lib/tiles/features/paint.ts","webpack://GeoPackage/./lib/tiles/imageUtils.ts","webpack://GeoPackage/./lib/tiles/matrix/tileMatrix.ts","webpack://GeoPackage/./lib/tiles/matrix/tileMatrixDao.ts","webpack://GeoPackage/./lib/tiles/matrixset/tileMatrixSet.ts","webpack://GeoPackage/./lib/tiles/matrixset/tileMatrixSetDao.ts","webpack://GeoPackage/./lib/tiles/retriever/index.ts","webpack://GeoPackage/./lib/tiles/tileBoundingBoxUtils.ts","webpack://GeoPackage/./lib/tiles/tileGrid.ts","webpack://GeoPackage/./lib/tiles/user/tileColumn.ts","webpack://GeoPackage/./lib/tiles/user/tileColumns.ts","webpack://GeoPackage/./lib/tiles/user/tileDao.ts","webpack://GeoPackage/./lib/tiles/user/tileDaoUtils.ts","webpack://GeoPackage/./lib/tiles/user/tileRow.ts","webpack://GeoPackage/./lib/tiles/user/tileTable.ts","webpack://GeoPackage/./lib/tiles/user/tileTableReader.ts","webpack://GeoPackage/./lib/user/custom/userCustomColumn.ts","webpack://GeoPackage/./lib/user/custom/userCustomColumns.ts","webpack://GeoPackage/./lib/user/custom/userCustomDao.ts","webpack://GeoPackage/./lib/user/custom/userCustomTable.ts","webpack://GeoPackage/./lib/user/custom/userCustomTableReader.ts","webpack://GeoPackage/./lib/user/userColumn.ts","webpack://GeoPackage/./lib/user/userColumns.ts","webpack://GeoPackage/./lib/user/userDao.ts","webpack://GeoPackage/./lib/user/userRow.ts","webpack://GeoPackage/./lib/user/userTable.ts","webpack://GeoPackage/./lib/user/userTableDefaults.ts","webpack://GeoPackage/./lib/user/userTableReader.ts","webpack://GeoPackage/./lib/validate/geoPackageValidate.ts","webpack://GeoPackage/./lib/wkb/index.ts","webpack://GeoPackage/./node_modules/url/node_modules/punycode/punycode.js","webpack://GeoPackage/./node_modules/url/url.js","webpack://GeoPackage/./node_modules/url/util.js","webpack://GeoPackage/./node_modules/util-deprecate/browser.js","webpack://GeoPackage/./node_modules/util/node_modules/inherits/inherits_browser.js","webpack://GeoPackage/./node_modules/util/support/isBufferBrowser.js","webpack://GeoPackage/./node_modules/util/util.js","webpack://GeoPackage/./node_modules/webworkify/index.js","webpack://GeoPackage/./node_modules/wkx/lib/binaryreader.js","webpack://GeoPackage/./node_modules/wkx/lib/binarywriter.js","webpack://GeoPackage/./node_modules/wkx/lib/geometry.js","webpack://GeoPackage/./node_modules/wkx/lib/geometrycollection.js","webpack://GeoPackage/./node_modules/wkx/lib/linestring.js","webpack://GeoPackage/./node_modules/wkx/lib/multilinestring.js","webpack://GeoPackage/./node_modules/wkx/lib/multipoint.js","webpack://GeoPackage/./node_modules/wkx/lib/multipolygon.js","webpack://GeoPackage/./node_modules/wkx/lib/point.js","webpack://GeoPackage/./node_modules/wkx/lib/polygon.js","webpack://GeoPackage/./node_modules/wkx/lib/types.js","webpack://GeoPackage/./node_modules/wkx/lib/wktparser.js","webpack://GeoPackage/./node_modules/wkx/lib/wkx.js","webpack://GeoPackage/./node_modules/wkx/lib/zigzag.js","webpack://GeoPackage/./node_modules/xtend/immutable.js","webpack://GeoPackage/external umd \"better-sqlite3\"","webpack://GeoPackage/webpack/bootstrap","webpack://GeoPackage/webpack/runtime/compat get default export","webpack://GeoPackage/webpack/runtime/define property getters","webpack://GeoPackage/webpack/runtime/global","webpack://GeoPackage/webpack/runtime/hasOwnProperty shorthand","webpack://GeoPackage/webpack/runtime/make namespace object","webpack://GeoPackage/webpack/runtime/node module decorator","webpack://GeoPackage/./index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory((function webpackLoadOptionalExternalModule() { try { return require(\"better-sqlite3\"); } catch(e) {} }()));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"better-sqlite3\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"GeoPackage\"] = factory((function webpackLoadOptionalExternalModule() { try { return require(\"better-sqlite3\"); } catch(e) {} }()));\n\telse\n\t\troot[\"GeoPackage\"] = factory(root[\"better-sqlite3\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__1498__) => {\nreturn ","\nvar CanvasKitInit = (() => {\n  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;\n  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;\n  return (\nfunction(CanvasKitInit = {})  {\n\nvar t;t||(t=typeof CanvasKitInit !== 'undefined' ? CanvasKitInit : {});var aa,ba;t.ready=new Promise(function(a,b){aa=a;ba=b});\n(function(a){a.Qd=a.Qd||[];a.Qd.push(function(){a.MakeSWCanvasSurface=function(b){var c=b;if(\"CANVAS\"!==c.tagName&&(c=document.getElementById(b),!c))throw\"Canvas with id \"+b+\" was not found\";if(b=a.MakeSurface(c.width,c.height))b.Dd=c;return b};a.MakeCanvasSurface||(a.MakeCanvasSurface=a.MakeSWCanvasSurface);a.MakeSurface=function(b,c){var f={width:b,height:c,colorType:a.ColorType.RGBA_8888,alphaType:a.AlphaType.Unpremul,colorSpace:a.ColorSpace.SRGB},g=b*c*4,m=a._malloc(g);if(f=a.Surface._makeRasterDirect(f,\nm,4*b))f.Dd=null,f.uf=b,f.rf=c,f.tf=g,f.Ue=m,f.getCanvas().clear(a.TRANSPARENT);return f};a.MakeRasterDirectSurface=function(b,c,f){return a.Surface._makeRasterDirect(b,c.byteOffset,f)};a.Surface.prototype.flush=function(b){this._flush();if(this.Dd){var c=new Uint8ClampedArray(a.HEAPU8.buffer,this.Ue,this.tf);c=new ImageData(c,this.uf,this.rf);b?this.Dd.getContext(\"2d\").putImageData(c,0,0,b[0],b[1],b[2]-b[0],b[3]-b[1]):this.Dd.getContext(\"2d\").putImageData(c,0,0)}};a.Surface.prototype.dispose=function(){this.Ue&&\na._free(this.Ue);this.delete()};a.currentContext=a.currentContext||function(){};a.setCurrentContext=a.setCurrentContext||function(){}})})(t);\n(function(a){a.Qd=a.Qd||[];a.Qd.push(function(){function b(c,f,g){return c&&c.hasOwnProperty(f)?c[f]:g}a.GetWebGLContext=function(c,f){if(!c)throw\"null canvas passed into makeWebGLContext\";var g={alpha:b(f,\"alpha\",1),depth:b(f,\"depth\",1),stencil:b(f,\"stencil\",8),antialias:b(f,\"antialias\",0),premultipliedAlpha:b(f,\"premultipliedAlpha\",1),preserveDrawingBuffer:b(f,\"preserveDrawingBuffer\",0),preferLowPowerToHighPerformance:b(f,\"preferLowPowerToHighPerformance\",0),failIfMajorPerformanceCaveat:b(f,\"failIfMajorPerformanceCaveat\",\n0),enableExtensionsByDefault:b(f,\"enableExtensionsByDefault\",1),explicitSwapControl:b(f,\"explicitSwapControl\",0),renderViaOffscreenBackBuffer:b(f,\"renderViaOffscreenBackBuffer\",0)};g.majorVersion=f&&f.majorVersion?f.majorVersion:\"undefined\"!==typeof WebGL2RenderingContext?2:1;if(g.explicitSwapControl)throw\"explicitSwapControl is not supported\";c=fa(c,g);if(!c)return 0;ia(c);return c};a.deleteContext=function(c){u===ja[c]&&(u=null);\"object\"==typeof JSEvents&&JSEvents.jg(ja[c].ze.canvas);ja[c]&&ja[c].ze.canvas&&\n(ja[c].ze.canvas.df=void 0);ja[c]=null};a.MakeWebGLCanvasSurface=function(c,f,g){f=f||null;var m=c,q=\"undefined\"!==typeof OffscreenCanvas&&m instanceof OffscreenCanvas;if(!(\"undefined\"!==typeof HTMLCanvasElement&&m instanceof HTMLCanvasElement||q||(m=document.getElementById(c),m)))throw\"Canvas with id \"+c+\" was not found\";c=this.GetWebGLContext(m,g);if(!c||0>c)throw\"failed to create webgl context: err \"+c;g=this.MakeGrContext(c);f=this.MakeOnScreenGLSurface(g,m.width,m.height,f);if(!f)return f=m.cloneNode(!0),\nm.parentNode.replaceChild(f,m),f.classList.add(\"ck-replaced\"),a.MakeSWCanvasSurface(f);f.de=c;f.grContext=g;f.openGLversion=m.df.version;return f};a.MakeCanvasSurface=a.MakeWebGLCanvasSurface})})(t);\n(function(a){function b(e,d,h,l,r){for(var z=0;z<e.length;z++)d[z*h+(z*r+l+h)%h]=e[z];return d}function c(e){for(var d=e*e,h=Array(d);d--;)h[d]=0===d%(e+1)?1:0;return h}function f(e){return e?e.constructor===Float32Array&&4===e.length:!1}function g(e){return(p(255*e[3])<<24|p(255*e[0])<<16|p(255*e[1])<<8|p(255*e[2])<<0)>>>0}function m(e){if(e instanceof Float32Array){for(var d=Math.floor(e.length/4),h=new Uint32Array(d),l=0;l<d;l++)h[l]=g(e.slice(4*l,4*(l+1)));return h}if(e instanceof Uint32Array)return e;\nif(e instanceof Array&&e[0]instanceof Float32Array)return e.map(g)}function q(e){if(void 0===e)return 1;var d=parseFloat(e);return e&&-1!==e.indexOf(\"%\")?d/100:d}function p(e){return Math.round(Math.max(0,Math.min(e||0,255)))}function x(e,d){d&&!d._ck&&a._free(e)}function v(e,d,h){if(!e||!e.length)return da;if(e._ck)return e.byteOffset;var l=a[d].BYTES_PER_ELEMENT;h||(h=a._malloc(e.length*l));a[d].set(e,h/l);return h}function G(e){var d={Ud:da,count:e.length,colorType:a.ColorType.RGBA_F32};if(e instanceof\nFloat32Array)d.Ud=v(e,\"HEAPF32\"),d.count=e.length/4;else if(e instanceof Uint32Array)d.Ud=v(e,\"HEAPU32\"),d.colorType=a.ColorType.RGBA_8888;else if(e instanceof Array){if(e&&e.length){for(var h=a._malloc(16*e.length),l=0,r=h/4,z=0;z<e.length;z++)for(var C=0;4>C;C++)a.HEAPF32[r+l]=e[z][C],l++;e=h}else e=da;d.Ud=e}else throw\"Invalid argument to copyFlexibleColorArray, Not a color array \"+typeof e;return d}function J(e){if(!e)return da;if(e.length){if(6===e.length||9===e.length)return v(e,\"HEAPF32\",Ha),\n6===e.length&&a.HEAPF32.set(vd,6+Ha/4),Ha;if(16===e.length){var d=xb.toTypedArray();d[0]=e[0];d[1]=e[1];d[2]=e[3];d[3]=e[4];d[4]=e[5];d[5]=e[7];d[6]=e[12];d[7]=e[13];d[8]=e[15];return Ha}throw\"invalid matrix size\";}d=xb.toTypedArray();d[0]=e.m11;d[1]=e.m21;d[2]=e.m41;d[3]=e.m12;d[4]=e.m22;d[5]=e.m42;d[6]=e.m14;d[7]=e.m24;d[8]=e.m44;return Ha}function O(e){if(!e)return da;var d=Tb.toTypedArray();if(e.length){if(16!==e.length&&6!==e.length&&9!==e.length)throw\"invalid matrix size\";if(16===e.length)return v(e,\n\"HEAPF32\",Ia);d.fill(0);d[0]=e[0];d[1]=e[1];d[3]=e[2];d[4]=e[3];d[5]=e[4];d[7]=e[5];d[12]=e[6];d[13]=e[7];d[15]=e[8];6===e.length&&(d[12]=0,d[13]=0,d[15]=1);return Ia}d[0]=e.m11;d[1]=e.m21;d[2]=e.m31;d[3]=e.m41;d[4]=e.m12;d[5]=e.m22;d[6]=e.m32;d[7]=e.m42;d[8]=e.m13;d[9]=e.m23;d[10]=e.m33;d[11]=e.m43;d[12]=e.m14;d[13]=e.m24;d[14]=e.m34;d[15]=e.m44;return Ia}function y(e){for(var d=Array(16),h=0;16>h;h++)d[h]=a.HEAPF32[e/4+h];return d}function K(e,d){return v(e,\"HEAPF32\",d||db)}function Q(e,d,h,l){var r=\nUb.toTypedArray();r[0]=e;r[1]=d;r[2]=h;r[3]=l;return db}function Z(e){for(var d=new Float32Array(4),h=0;4>h;h++)d[h]=a.HEAPF32[e/4+h];return d}function X(e,d){return v(e,\"HEAPF32\",d||ha)}function ma(e,d){return v(e,\"HEAPF32\",d||Vb)}function eb(){for(var e=0,d=0;d<arguments.length-1;d+=2)e+=arguments[d]*arguments[d+1];return e}function fb(e,d,h){for(var l=Array(e.length),r=0;r<h;r++)for(var z=0;z<h;z++){for(var C=0,H=0;H<h;H++)C+=e[h*r+H]*d[h*H+z];l[r*h+z]=C}return l}function Ac(e,d){for(var h=fb(d[0],\nd[1],e),l=2;l<d.length;)h=fb(h,d[l],e),l++;return h}a.Color=function(e,d,h,l){void 0===l&&(l=1);return a.Color4f(p(e)/255,p(d)/255,p(h)/255,l)};a.ColorAsInt=function(e,d,h,l){void 0===l&&(l=255);return(p(l)<<24|p(e)<<16|p(d)<<8|p(h)<<0&268435455)>>>0};a.Color4f=function(e,d,h,l){void 0===l&&(l=1);return Float32Array.of(e,d,h,l)};Object.defineProperty(a,\"TRANSPARENT\",{get:function(){return a.Color4f(0,0,0,0)}});Object.defineProperty(a,\"BLACK\",{get:function(){return a.Color4f(0,0,0,1)}});Object.defineProperty(a,\n\"WHITE\",{get:function(){return a.Color4f(1,1,1,1)}});Object.defineProperty(a,\"RED\",{get:function(){return a.Color4f(1,0,0,1)}});Object.defineProperty(a,\"GREEN\",{get:function(){return a.Color4f(0,1,0,1)}});Object.defineProperty(a,\"BLUE\",{get:function(){return a.Color4f(0,0,1,1)}});Object.defineProperty(a,\"YELLOW\",{get:function(){return a.Color4f(1,1,0,1)}});Object.defineProperty(a,\"CYAN\",{get:function(){return a.Color4f(0,1,1,1)}});Object.defineProperty(a,\"MAGENTA\",{get:function(){return a.Color4f(1,\n0,1,1)}});a.getColorComponents=function(e){return[Math.floor(255*e[0]),Math.floor(255*e[1]),Math.floor(255*e[2]),e[3]]};a.parseColorString=function(e,d){e=e.toLowerCase();if(e.startsWith(\"#\")){d=255;switch(e.length){case 9:d=parseInt(e.slice(7,9),16);case 7:var h=parseInt(e.slice(1,3),16);var l=parseInt(e.slice(3,5),16);var r=parseInt(e.slice(5,7),16);break;case 5:d=17*parseInt(e.slice(4,5),16);case 4:h=17*parseInt(e.slice(1,2),16),l=17*parseInt(e.slice(2,3),16),r=17*parseInt(e.slice(3,4),16)}return a.Color(h,\nl,r,d/255)}return e.startsWith(\"rgba\")?(e=e.slice(5,-1),e=e.split(\",\"),a.Color(+e[0],+e[1],+e[2],q(e[3]))):e.startsWith(\"rgb\")?(e=e.slice(4,-1),e=e.split(\",\"),a.Color(+e[0],+e[1],+e[2],q(e[3]))):e.startsWith(\"gray(\")||e.startsWith(\"hsl\")||!d||(e=d[e],void 0===e)?a.BLACK:e};a.multiplyByAlpha=function(e,d){e=e.slice();e[3]=Math.max(0,Math.min(e[3]*d,1));return e};a.Malloc=function(e,d){var h=a._malloc(d*e.BYTES_PER_ELEMENT);return{_ck:!0,length:d,byteOffset:h,he:null,subarray:function(l,r){l=this.toTypedArray().subarray(l,\nr);l._ck=!0;return l},toTypedArray:function(){if(this.he&&this.he.length)return this.he;this.he=new e(a.HEAPU8.buffer,h,d);this.he._ck=!0;return this.he}}};a.Free=function(e){a._free(e.byteOffset);e.byteOffset=da;e.toTypedArray=null;e.he=null};var Ha=da,xb,Ia=da,Tb,db=da,Ub,xa,ha=da,Bc,Qa=da,Cc,Wb=da,Dc,Xb=da,Ec,Yb=da,Fc,Vb=da,Gc,Hc=da,vd=Float32Array.of(0,0,1),Zb={};a.ie=function(){this.ce=[];this.Jd=null;Object.defineProperty(this,\"length\",{enumerable:!0,get:function(){return this.ce.length/4}})};\na.ie.prototype.push=function(e,d,h,l){this.Jd||this.ce.push(e,d,h,l)};a.ie.prototype.set=function(e,d,h,l,r){0>e||e>=this.ce.length/4||(e*=4,this.Jd?(e=this.Jd/4+e,a.HEAPF32[e]=d,a.HEAPF32[e+1]=h,a.HEAPF32[e+2]=l,a.HEAPF32[e+3]=r):(this.ce[e]=d,this.ce[e+1]=h,this.ce[e+2]=l,this.ce[e+3]=r))};a.ie.prototype.build=function(){return this.Jd?this.Jd:this.Jd=v(this.ce,\"HEAPF32\")};a.ie.prototype.delete=function(){this.Jd&&(a._free(this.Jd),this.Jd=null)};a.Ae=function(){this.Fe=[];this.Jd=null;Object.defineProperty(this,\n\"length\",{enumerable:!0,get:function(){return this.Fe.length}})};a.Ae.prototype.push=function(e){this.Jd||this.Fe.push(e)};a.Ae.prototype.set=function(e,d){0>e||e>=this.Fe.length||(e*=4,this.Jd?a.HEAPU32[this.Jd/4+e]=d:this.Fe[e]=d)};a.Ae.prototype.build=function(){return this.Jd?this.Jd:this.Jd=v(this.Fe,\"HEAPU32\")};a.Ae.prototype.delete=function(){this.Jd&&(a._free(this.Jd),this.Jd=null)};a.RectBuilder=a.ie;a.RSXFormBuilder=a.ie;a.ColorBuilder=a.Ae;var da=0,wd=!(new Function(\"try {return this===window;}catch(e){ return false;}\"))();\na.onRuntimeInitialized=function(){function e(d,h,l,r,z,C){C||(C=4*r.width,r.colorType===a.ColorType.RGBA_F16?C*=2:r.colorType===a.ColorType.RGBA_F32&&(C*=4));var H=C*r.height;var L=z?z.byteOffset:a._malloc(H);if(!d._readPixels(r,L,C,h,l))return z||a._free(L),null;if(z)return z.toTypedArray();switch(r.colorType){case a.ColorType.RGBA_8888:case a.ColorType.RGBA_F16:d=(new Uint8Array(a.HEAPU8.buffer,L,H)).slice();break;case a.ColorType.RGBA_F32:d=(new Float32Array(a.HEAPU8.buffer,L,H)).slice();break;\ndefault:return null}a._free(L);return d}Ub=a.Malloc(Float32Array,4);db=Ub.byteOffset;Tb=a.Malloc(Float32Array,16);Ia=Tb.byteOffset;xb=a.Malloc(Float32Array,9);Ha=xb.byteOffset;Fc=a.Malloc(Float32Array,12);Vb=Fc.byteOffset;Gc=a.Malloc(Float32Array,12);Hc=Gc.byteOffset;xa=a.Malloc(Float32Array,4);ha=xa.byteOffset;Bc=a.Malloc(Float32Array,4);Qa=Bc.byteOffset;Cc=a.Malloc(Float32Array,3);Wb=Cc.byteOffset;Dc=a.Malloc(Float32Array,3);Xb=Dc.byteOffset;Ec=a.Malloc(Int32Array,4);Yb=Ec.byteOffset;a.ColorSpace.SRGB=\na.ColorSpace._MakeSRGB();a.ColorSpace.DISPLAY_P3=a.ColorSpace._MakeDisplayP3();a.ColorSpace.ADOBE_RGB=a.ColorSpace._MakeAdobeRGB();a.Path.MakeFromCmds=function(d){for(var h=0,l=0;l<d.length;l++)h+=d[l].length;if(Zb[h])var r=Zb[h];else r=new Float32Array(h),Zb[h]=r;var z=0;for(l=0;l<d.length;l++)for(var C=0;C<d[l].length;C++)r[z]=d[l][C],z++;d=[v(r,\"HEAPF32\"),h];h=a.Path._MakeFromCmds(d[0],d[1]);a._free(d[0]);return h};a.Path.MakeFromVerbsPointsWeights=function(d,h,l){var r=v(d,\"HEAPU8\"),z=v(h,\"HEAPF32\"),\nC=v(l,\"HEAPF32\"),H=a.Path._MakeFromVerbsPointsWeights(r,d.length,z,h.length,C,l&&l.length||0);x(r,d);x(z,h);x(C,l);return H};a.Path.prototype.addArc=function(d,h,l){d=X(d);this._addArc(d,h,l);return this};a.Path.prototype.addOval=function(d,h,l){void 0===l&&(l=1);d=X(d);this._addOval(d,!!h,l);return this};a.Path.prototype.addPath=function(){var d=Array.prototype.slice.call(arguments),h=d[0],l=!1;\"boolean\"===typeof d[d.length-1]&&(l=d.pop());if(1===d.length)this._addPath(h,1,0,0,0,1,0,0,0,1,l);else if(2===\nd.length)d=d[1],this._addPath(h,d[0],d[1],d[2],d[3],d[4],d[5],d[6]||0,d[7]||0,d[8]||1,l);else if(7===d.length||10===d.length)this._addPath(h,d[1],d[2],d[3],d[4],d[5],d[6],d[7]||0,d[8]||0,d[9]||1,l);else return null;return this};a.Path.prototype.addPoly=function(d,h){var l=v(d,\"HEAPF32\");this._addPoly(l,d.length/2,h);x(l,d);return this};a.Path.prototype.addRect=function(d,h){d=X(d);this._addRect(d,!!h);return this};a.Path.prototype.addRRect=function(d,h){d=ma(d);this._addRRect(d,!!h);return this};\na.Path.prototype.addVerbsPointsWeights=function(d,h,l){var r=v(d,\"HEAPU8\"),z=v(h,\"HEAPF32\"),C=v(l,\"HEAPF32\");this._addVerbsPointsWeights(r,d.length,z,h.length,C,l&&l.length||0);x(r,d);x(z,h);x(C,l)};a.Path.prototype.arc=function(d,h,l,r,z,C){d=a.LTRBRect(d-l,h-l,d+l,h+l);z=(z-r)/Math.PI*180-360*!!C;C=new a.Path;C.addArc(d,r/Math.PI*180,z);this.addPath(C,!0);C.delete();return this};a.Path.prototype.arcToOval=function(d,h,l,r){d=X(d);this._arcToOval(d,h,l,r);return this};a.Path.prototype.arcToRotated=\nfunction(d,h,l,r,z,C,H){this._arcToRotated(d,h,l,!!r,!!z,C,H);return this};a.Path.prototype.arcToTangent=function(d,h,l,r,z){this._arcToTangent(d,h,l,r,z);return this};a.Path.prototype.close=function(){this._close();return this};a.Path.prototype.conicTo=function(d,h,l,r,z){this._conicTo(d,h,l,r,z);return this};a.Path.prototype.computeTightBounds=function(d){this._computeTightBounds(ha);var h=xa.toTypedArray();return d?(d.set(h),d):h.slice()};a.Path.prototype.cubicTo=function(d,h,l,r,z,C){this._cubicTo(d,\nh,l,r,z,C);return this};a.Path.prototype.dash=function(d,h,l){return this._dash(d,h,l)?this:null};a.Path.prototype.getBounds=function(d){this._getBounds(ha);var h=xa.toTypedArray();return d?(d.set(h),d):h.slice()};a.Path.prototype.lineTo=function(d,h){this._lineTo(d,h);return this};a.Path.prototype.moveTo=function(d,h){this._moveTo(d,h);return this};a.Path.prototype.offset=function(d,h){this._transform(1,0,d,0,1,h,0,0,1);return this};a.Path.prototype.quadTo=function(d,h,l,r){this._quadTo(d,h,l,r);\nreturn this};a.Path.prototype.rArcTo=function(d,h,l,r,z,C,H){this._rArcTo(d,h,l,r,z,C,H);return this};a.Path.prototype.rConicTo=function(d,h,l,r,z){this._rConicTo(d,h,l,r,z);return this};a.Path.prototype.rCubicTo=function(d,h,l,r,z,C){this._rCubicTo(d,h,l,r,z,C);return this};a.Path.prototype.rLineTo=function(d,h){this._rLineTo(d,h);return this};a.Path.prototype.rMoveTo=function(d,h){this._rMoveTo(d,h);return this};a.Path.prototype.rQuadTo=function(d,h,l,r){this._rQuadTo(d,h,l,r);return this};a.Path.prototype.stroke=\nfunction(d){d=d||{};d.width=d.width||1;d.miter_limit=d.miter_limit||4;d.cap=d.cap||a.StrokeCap.Butt;d.join=d.join||a.StrokeJoin.Miter;d.precision=d.precision||1;return this._stroke(d)?this:null};a.Path.prototype.transform=function(){if(1===arguments.length){var d=arguments[0];this._transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6]||0,d[7]||0,d[8]||1)}else if(6===arguments.length||9===arguments.length)d=arguments,this._transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6]||0,d[7]||0,d[8]||1);else throw\"transform expected to take 1 or 9 arguments. Got \"+\narguments.length;return this};a.Path.prototype.trim=function(d,h,l){return this._trim(d,h,!!l)?this:null};a.Image.prototype.makeShaderCubic=function(d,h,l,r,z){z=J(z);return this._makeShaderCubic(d,h,l,r,z)};a.Image.prototype.makeShaderOptions=function(d,h,l,r,z){z=J(z);return this._makeShaderOptions(d,h,l,r,z)};a.Image.prototype.readPixels=function(d,h,l,r,z){return e(this,d,h,l,r,z)};a.Canvas.prototype.clear=function(d){d=K(d);this._clear(d)};a.Canvas.prototype.clipRRect=function(d,h,l){d=ma(d);\nthis._clipRRect(d,h,l)};a.Canvas.prototype.clipRect=function(d,h,l){d=X(d);this._clipRect(d,h,l)};a.Canvas.prototype.concat=function(d){d=O(d);this._concat(d)};a.Canvas.prototype.drawArc=function(d,h,l,r,z){d=X(d);this._drawArc(d,h,l,r,z)};a.Canvas.prototype.drawAtlas=function(d,h,l,r,z,C,H){if(d&&r&&h&&l&&h.length===l.length){z||(z=a.BlendMode.SrcOver);var L=h.build?h.build():v(h,\"HEAPF32\");if(l.build){var N=l.build();var R=l.length}else N=v(l,\"HEAPF32\"),R=l.length/4;var P=da;C&&(P=C.build?C.build():\nv(m(C),\"HEAPU32\"));if(H&&\"B\"in H&&\"C\"in H)this._drawAtlasCubic(d,N,L,P,R,z,H.B,H.C,r);else{let ea=a.FilterMode.Linear,oa=a.MipmapMode.None;H&&(ea=H.filter,\"mipmap\"in H&&(oa=H.mipmap));this._drawAtlasOptions(d,N,L,P,R,z,ea,oa,r)}L&&!h.build&&x(L,h);N&&!l.build&&x(N,l);P&&!C.build&&x(P,C)}};a.Canvas.prototype.drawColor=function(d,h){d=K(d);void 0!==h?this._drawColor(d,h):this._drawColor(d)};a.Canvas.prototype.drawColorComponents=function(d,h,l,r,z){d=Q(d,h,l,r);void 0!==z?this._drawColor(d,z):this._drawColor(d)};\na.Canvas.prototype.drawDRRect=function(d,h,l){d=ma(d,Vb);h=ma(h,Hc);this._drawDRRect(d,h,l)};a.Canvas.prototype.drawImageNine=function(d,h,l,r,z){h=v(h,\"HEAP32\",Yb);l=X(l);this._drawImageNine(d,h,l,r,z||null)};a.Canvas.prototype.drawImageRect=function(d,h,l,r,z){X(h,ha);X(l,Qa);this._drawImageRect(d,ha,Qa,r,!!z)};a.Canvas.prototype.drawImageRectCubic=function(d,h,l,r,z,C){X(h,ha);X(l,Qa);this._drawImageRectCubic(d,ha,Qa,r,z,C||null)};a.Canvas.prototype.drawImageRectOptions=function(d,h,l,r,z,C){X(h,\nha);X(l,Qa);this._drawImageRectOptions(d,ha,Qa,r,z,C||null)};a.Canvas.prototype.drawOval=function(d,h){d=X(d);this._drawOval(d,h)};a.Canvas.prototype.drawPoints=function(d,h,l){var r=v(h,\"HEAPF32\");this._drawPoints(d,r,h.length/2,l);x(r,h)};a.Canvas.prototype.drawRRect=function(d,h){d=ma(d);this._drawRRect(d,h)};a.Canvas.prototype.drawRect=function(d,h){d=X(d);this._drawRect(d,h)};a.Canvas.prototype.drawShadow=function(d,h,l,r,z,C,H){var L=v(z,\"HEAPF32\"),N=v(C,\"HEAPF32\");h=v(h,\"HEAPF32\",Wb);l=v(l,\n\"HEAPF32\",Xb);this._drawShadow(d,h,l,r,L,N,H);x(L,z);x(N,C)};a.getShadowLocalBounds=function(d,h,l,r,z,C,H){d=J(d);l=v(l,\"HEAPF32\",Wb);r=v(r,\"HEAPF32\",Xb);if(!this._getShadowLocalBounds(d,h,l,r,z,C,ha))return null;h=xa.toTypedArray();return H?(H.set(h),H):h.slice()};a.Canvas.prototype.getLocalToDevice=function(){this._getLocalToDevice(Ia);return y(Ia)};a.Canvas.prototype.findMarkedCTM=function(d){return this._findMarkedCTM(d,Ia)?y(Ia):null};a.Canvas.prototype.getTotalMatrix=function(){this._getTotalMatrix(Ha);\nfor(var d=Array(9),h=0;9>h;h++)d[h]=a.HEAPF32[Ha/4+h];return d};a.Canvas.prototype.readPixels=function(d,h,l,r,z){return e(this,d,h,l,r,z)};a.Canvas.prototype.saveLayer=function(d,h,l,r){h=X(h);return this._saveLayer(d||null,h,l||null,r||0)};a.Canvas.prototype.writePixels=function(d,h,l,r,z,C,H,L){if(d.byteLength%(h*l))throw\"pixels length must be a multiple of the srcWidth * srcHeight\";var N=d.byteLength/(h*l);C=C||a.AlphaType.Unpremul;H=H||a.ColorType.RGBA_8888;L=L||a.ColorSpace.SRGB;var R=N*h;N=\nv(d,\"HEAPU8\");h=this._writePixels({width:h,height:l,colorType:H,alphaType:C,colorSpace:L},N,R,r,z);x(N,d);return h};a.ColorFilter.MakeBlend=function(d,h){d=K(d);return a.ColorFilter._MakeBlend(d,h)};a.ColorFilter.MakeMatrix=function(d){if(!d||20!==d.length)throw\"invalid color matrix\";var h=v(d,\"HEAPF32\"),l=a.ColorFilter._makeMatrix(h);x(h,d);return l};a.ContourMeasure.prototype.getPosTan=function(d,h){this._getPosTan(d,ha);d=xa.toTypedArray();return h?(h.set(d),h):d.slice()};a.ImageFilter.MakeMatrixTransform=\nfunction(d,h,l){d=J(d);return a.ImageFilter._MakeMatrixTransform(d,h,l)};a.Paint.prototype.getColor=function(){this._getColor(db);return Z(db)};a.Paint.prototype.setColor=function(d,h){h=h||null;d=K(d);this._setColor(d,h)};a.Paint.prototype.setColorComponents=function(d,h,l,r,z){z=z||null;d=Q(d,h,l,r);this._setColor(d,z)};a.Path.prototype.getPoint=function(d,h){this._getPoint(d,ha);d=xa.toTypedArray();return h?(h[0]=d[0],h[1]=d[1],h):d.slice(0,2)};a.PictureRecorder.prototype.beginRecording=function(d){d=\nX(d);return this._beginRecording(d)};a.Surface.prototype.makeImageSnapshot=function(d){d=v(d,\"HEAP32\",Yb);return this._makeImageSnapshot(d)};a.Surface.prototype.requestAnimationFrame=function(d,h){this.Be||(this.Be=this.getCanvas());requestAnimationFrame(function(){void 0!==this.de&&a.setCurrentContext(this.de);d(this.Be);this.flush(h)}.bind(this))};a.Surface.prototype.drawOnce=function(d,h){this.Be||(this.Be=this.getCanvas());requestAnimationFrame(function(){void 0!==this.de&&a.setCurrentContext(this.de);\nd(this.Be);this.flush(h);this.dispose()}.bind(this))};a.PathEffect.MakeDash=function(d,h){h||(h=0);if(!d.length||1===d.length%2)throw\"Intervals array must have even length\";var l=v(d,\"HEAPF32\");h=a.PathEffect._MakeDash(l,d.length,h);x(l,d);return h};a.Shader.MakeColor=function(d,h){h=h||null;d=K(d);return a.Shader._MakeColor(d,h)};a.Shader.Blend=a.Shader.MakeBlend;a.Shader.Color=a.Shader.MakeColor;a.Shader.Lerp=a.Shader.MakeLerp;a.Shader.MakeLinearGradient=function(d,h,l,r,z,C,H,L){L=L||null;var N=\nG(l),R=v(r,\"HEAPF32\");H=H||0;C=J(C);var P=xa.toTypedArray();P.set(d);P.set(h,2);d=a.Shader._MakeLinearGradient(ha,N.Ud,N.colorType,R,N.count,z,H,C,L);x(N.Ud,l);r&&x(R,r);return d};a.Shader.MakeRadialGradient=function(d,h,l,r,z,C,H,L){L=L||null;var N=G(l),R=v(r,\"HEAPF32\");H=H||0;C=J(C);d=a.Shader._MakeRadialGradient(d[0],d[1],h,N.Ud,N.colorType,R,N.count,z,H,C,L);x(N.Ud,l);r&&x(R,r);return d};a.Shader.MakeSweepGradient=function(d,h,l,r,z,C,H,L,N,R){R=R||null;var P=G(l),ea=v(r,\"HEAPF32\");H=H||0;L=L||\n0;N=N||360;C=J(C);d=a.Shader._MakeSweepGradient(d,h,P.Ud,P.colorType,ea,P.count,z,L,N,H,C,R);x(P.Ud,l);r&&x(ea,r);return d};a.Shader.MakeTwoPointConicalGradient=function(d,h,l,r,z,C,H,L,N,R){R=R||null;var P=G(z),ea=v(C,\"HEAPF32\");N=N||0;L=J(L);var oa=xa.toTypedArray();oa.set(d);oa.set(l,2);d=a.Shader._MakeTwoPointConicalGradient(ha,h,r,P.Ud,P.colorType,ea,P.count,H,N,L,R);x(P.Ud,z);C&&x(ea,C);return d};a.Vertices.prototype.bounds=function(d){this._bounds(ha);var h=xa.toTypedArray();return d?(d.set(h),\nd):h.slice()};a.Qd&&a.Qd.forEach(function(d){d()})};a.computeTonalColors=function(e){var d=v(e.ambient,\"HEAPF32\"),h=v(e.spot,\"HEAPF32\");this._computeTonalColors(d,h);var l={ambient:Z(d),spot:Z(h)};x(d,e.ambient);x(h,e.spot);return l};a.LTRBRect=function(e,d,h,l){return Float32Array.of(e,d,h,l)};a.XYWHRect=function(e,d,h,l){return Float32Array.of(e,d,e+h,d+l)};a.LTRBiRect=function(e,d,h,l){return Int32Array.of(e,d,h,l)};a.XYWHiRect=function(e,d,h,l){return Int32Array.of(e,d,e+h,d+l)};a.RRectXY=function(e,\nd,h){return Float32Array.of(e[0],e[1],e[2],e[3],d,h,d,h,d,h,d,h)};a.MakeAnimatedImageFromEncoded=function(e){e=new Uint8Array(e);var d=a._malloc(e.byteLength);a.HEAPU8.set(e,d);return(e=a._decodeAnimatedImage(d,e.byteLength))?e:null};a.MakeImageFromEncoded=function(e){e=new Uint8Array(e);var d=a._malloc(e.byteLength);a.HEAPU8.set(e,d);return(e=a._decodeImage(d,e.byteLength))?e:null};var gb=null;a.MakeImageFromCanvasImageSource=function(e){var d=e.width,h=e.height;gb||(gb=document.createElement(\"canvas\"));\ngb.width=d;gb.height=h;var l=gb.getContext(\"2d\");l.drawImage(e,0,0);e=l.getImageData(0,0,d,h);return a.MakeImage({width:d,height:h,alphaType:a.AlphaType.Unpremul,colorType:a.ColorType.RGBA_8888,colorSpace:a.ColorSpace.SRGB},e.data,4*d)};a.MakeImage=function(e,d,h){var l=a._malloc(d.length);a.HEAPU8.set(d,l);return a._MakeImage(e,l,d.length,h)};a.MakeVertices=function(e,d,h,l,r,z){var C=r&&r.length||0,H=0;h&&h.length&&(H|=1);l&&l.length&&(H|=2);void 0===z||z||(H|=4);e=new a._VerticesBuilder(e,d.length/\n2,C,H);v(d,\"HEAPF32\",e.positions());e.texCoords()&&v(h,\"HEAPF32\",e.texCoords());if(e.colors()){if(l.build)throw\"Color builder not accepted by MakeVertices, use array of ints\";v(m(l),\"HEAPU32\",e.colors())}e.indices()&&v(r,\"HEAPU16\",e.indices());return e.detach()};a.Matrix={};a.Matrix.identity=function(){return c(3)};a.Matrix.invert=function(e){var d=e[0]*e[4]*e[8]+e[1]*e[5]*e[6]+e[2]*e[3]*e[7]-e[2]*e[4]*e[6]-e[1]*e[3]*e[8]-e[0]*e[5]*e[7];return d?[(e[4]*e[8]-e[5]*e[7])/d,(e[2]*e[7]-e[1]*e[8])/d,(e[1]*\ne[5]-e[2]*e[4])/d,(e[5]*e[6]-e[3]*e[8])/d,(e[0]*e[8]-e[2]*e[6])/d,(e[2]*e[3]-e[0]*e[5])/d,(e[3]*e[7]-e[4]*e[6])/d,(e[1]*e[6]-e[0]*e[7])/d,(e[0]*e[4]-e[1]*e[3])/d]:null};a.Matrix.mapPoints=function(e,d){for(var h=0;h<d.length;h+=2){var l=d[h],r=d[h+1],z=e[6]*l+e[7]*r+e[8],C=e[3]*l+e[4]*r+e[5];d[h]=(e[0]*l+e[1]*r+e[2])/z;d[h+1]=C/z}return d};a.Matrix.multiply=function(){return Ac(3,arguments)};a.Matrix.rotated=function(e,d,h){d=d||0;h=h||0;var l=Math.sin(e);e=Math.cos(e);return[e,-l,eb(l,h,1-e,d),l,\ne,eb(-l,d,1-e,h),0,0,1]};a.Matrix.scaled=function(e,d,h,l){h=h||0;l=l||0;var r=b([e,d],c(3),3,0,1);return b([h-e*h,l-d*l],r,3,2,0)};a.Matrix.skewed=function(e,d,h,l){h=h||0;l=l||0;var r=b([e,d],c(3),3,1,-1);return b([-e*h,-d*l],r,3,2,0)};a.Matrix.translated=function(e,d){return b(arguments,c(3),3,2,0)};a.Vector={};a.Vector.dot=function(e,d){return e.map(function(h,l){return h*d[l]}).reduce(function(h,l){return h+l})};a.Vector.lengthSquared=function(e){return a.Vector.dot(e,e)};a.Vector.length=function(e){return Math.sqrt(a.Vector.lengthSquared(e))};\na.Vector.mulScalar=function(e,d){return e.map(function(h){return h*d})};a.Vector.add=function(e,d){return e.map(function(h,l){return h+d[l]})};a.Vector.sub=function(e,d){return e.map(function(h,l){return h-d[l]})};a.Vector.dist=function(e,d){return a.Vector.length(a.Vector.sub(e,d))};a.Vector.normalize=function(e){return a.Vector.mulScalar(e,1/a.Vector.length(e))};a.Vector.cross=function(e,d){return[e[1]*d[2]-e[2]*d[1],e[2]*d[0]-e[0]*d[2],e[0]*d[1]-e[1]*d[0]]};a.M44={};a.M44.identity=function(){return c(4)};\na.M44.translated=function(e){return b(e,c(4),4,3,0)};a.M44.scaled=function(e){return b(e,c(4),4,0,1)};a.M44.rotated=function(e,d){return a.M44.rotatedUnitSinCos(a.Vector.normalize(e),Math.sin(d),Math.cos(d))};a.M44.rotatedUnitSinCos=function(e,d,h){var l=e[0],r=e[1];e=e[2];var z=1-h;return[z*l*l+h,z*l*r-d*e,z*l*e+d*r,0,z*l*r+d*e,z*r*r+h,z*r*e-d*l,0,z*l*e-d*r,z*r*e+d*l,z*e*e+h,0,0,0,0,1]};a.M44.lookat=function(e,d,h){d=a.Vector.normalize(a.Vector.sub(d,e));h=a.Vector.normalize(h);h=a.Vector.normalize(a.Vector.cross(d,\nh));var l=a.M44.identity();b(h,l,4,0,0);b(a.Vector.cross(h,d),l,4,1,0);b(a.Vector.mulScalar(d,-1),l,4,2,0);b(e,l,4,3,0);e=a.M44.invert(l);return null===e?a.M44.identity():e};a.M44.perspective=function(e,d,h){var l=1/(d-e);h/=2;h=Math.cos(h)/Math.sin(h);return[h,0,0,0,0,h,0,0,0,0,(d+e)*l,2*d*e*l,0,0,-1,1]};a.M44.rc=function(e,d,h){return e[4*d+h]};a.M44.multiply=function(){return Ac(4,arguments)};a.M44.invert=function(e){var d=e[0],h=e[4],l=e[8],r=e[12],z=e[1],C=e[5],H=e[9],L=e[13],N=e[2],R=e[6],P=\ne[10],ea=e[14],oa=e[3],Ca=e[7],Da=e[11];e=e[15];var Ja=d*C-h*z,Ka=d*H-l*z,pa=d*L-r*z,E=h*H-l*C,k=h*L-r*C,n=l*L-r*H,w=N*Ca-R*oa,A=N*Da-P*oa,B=N*e-ea*oa,D=R*Da-P*Ca,I=R*e-ea*Ca,U=P*e-ea*Da,na=Ja*U-Ka*I+pa*D+E*B-k*A+n*w,ca=1/na;if(0===na||Infinity===ca)return null;Ja*=ca;Ka*=ca;pa*=ca;E*=ca;k*=ca;n*=ca;w*=ca;A*=ca;B*=ca;D*=ca;I*=ca;U*=ca;d=[C*U-H*I+L*D,H*B-z*U-L*A,z*I-C*B+L*w,C*A-z*D-H*w,l*I-h*U-r*D,d*U-l*B+r*A,h*B-d*I-r*w,d*D-h*A+l*w,Ca*n-Da*k+e*E,Da*pa-oa*n-e*Ka,oa*k-Ca*pa+e*Ja,Ca*Ka-oa*E-Da*Ja,P*\nk-R*n-ea*E,N*n-P*pa+ea*Ka,R*pa-N*k-ea*Ja,N*E-R*Ka+P*Ja];return d.every(function(ya){return!isNaN(ya)&&Infinity!==ya&&-Infinity!==ya})?d:null};a.M44.transpose=function(e){return[e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]]};a.M44.mustInvert=function(e){e=a.M44.invert(e);if(null===e)throw\"Matrix not invertible\";return e};a.M44.setupCamera=function(e,d,h){var l=a.M44.lookat(h.eye,h.coa,h.up);h=a.M44.perspective(h.near,h.far,h.angle);d=[(e[2]-e[0])/2,(e[3]-e[1])/\n2,d];e=a.M44.multiply(a.M44.translated([(e[0]+e[2])/2,(e[1]+e[3])/2,0]),a.M44.scaled(d));return a.M44.multiply(e,h,l,a.M44.mustInvert(e))};a.ColorMatrix={};a.ColorMatrix.identity=function(){var e=new Float32Array(20);e[0]=1;e[6]=1;e[12]=1;e[18]=1;return e};a.ColorMatrix.scaled=function(e,d,h,l){var r=new Float32Array(20);r[0]=e;r[6]=d;r[12]=h;r[18]=l;return r};var xd=[[6,7,11,12],[0,10,2,12],[0,1,5,6]];a.ColorMatrix.rotated=function(e,d,h){var l=a.ColorMatrix.identity();e=xd[e];l[e[0]]=h;l[e[1]]=\nd;l[e[2]]=-d;l[e[3]]=h;return l};a.ColorMatrix.postTranslate=function(e,d,h,l,r){e[4]+=d;e[9]+=h;e[14]+=l;e[19]+=r;return e};a.ColorMatrix.concat=function(e,d){for(var h=new Float32Array(20),l=0,r=0;20>r;r+=5){for(var z=0;4>z;z++)h[l++]=e[r]*d[z]+e[r+1]*d[z+5]+e[r+2]*d[z+10]+e[r+3]*d[z+15];h[l++]=e[r]*d[4]+e[r+1]*d[9]+e[r+2]*d[14]+e[r+3]*d[19]+e[r+4]}return h};a.Qd=a.Qd||[];a.Qd.push(function(){a.Path.prototype.op=function(e,d){return this._op(e,d)?this:null};a.Path.prototype.simplify=function(){return this._simplify()?\nthis:null}});a.Qd=a.Qd||[];a.Qd.push(function(){a.Canvas.prototype.drawText=function(e,d,h,l,r){var z=ka(e),C=a._malloc(z+1);la(e,F,C,z+1);this._drawSimpleText(C,z,d,h,r,l);a._free(C)};a.Font.prototype.getGlyphBounds=function(e,d,h){var l=v(e,\"HEAPU16\"),r=a._malloc(16*e.length);this._getGlyphWidthBounds(l,e.length,da,r,d||null);d=new Float32Array(a.HEAPU8.buffer,r,4*e.length);x(l,e);if(h)return h.set(d),a._free(r),h;e=Float32Array.from(d);a._free(r);return e};a.Font.prototype.getGlyphIDs=function(e,\nd,h){d||(d=e.length);var l=ka(e)+1,r=a._malloc(l);la(e,F,r,l);e=a._malloc(2*d);d=this._getGlyphIDs(r,l-1,d,e);a._free(r);if(0>d)return a._free(e),null;r=new Uint16Array(a.HEAPU8.buffer,e,d);if(h)return h.set(r),a._free(e),h;h=Uint32Array.from(r);a._free(e);return h};a.Font.prototype.getGlyphWidths=function(e,d,h){var l=v(e,\"HEAPU16\"),r=a._malloc(4*e.length);this._getGlyphWidthBounds(l,e.length,r,da,d||null);d=new Float32Array(a.HEAPU8.buffer,r,e.length);x(l,e);if(h)return h.set(d),a._free(r),h;e=\nFloat32Array.from(d);a._free(r);return e};a.FontMgr.FromData=function(){if(!arguments.length)return null;var e=arguments;1===e.length&&Array.isArray(e[0])&&(e=arguments[0]);if(!e.length)return null;for(var d=[],h=[],l=0;l<e.length;l++){var r=new Uint8Array(e[l]),z=v(r,\"HEAPU8\");d.push(z);h.push(r.byteLength)}d=v(d,\"HEAPU32\");h=v(h,\"HEAPU32\");e=a.FontMgr._fromData(d,h,e.length);a._free(d);a._free(h);return e};a.FontMgr.prototype.MakeTypefaceFromData=function(e){e=new Uint8Array(e);var d=v(e,\"HEAPU8\");\nreturn(e=this._makeTypefaceFromData(d,e.byteLength))?e:null};a.TextBlob.MakeOnPath=function(e,d,h,l){if(e&&e.length&&d&&d.countPoints()){if(1===d.countPoints())return this.MakeFromText(e,h);l||(l=0);var r=h.getGlyphIDs(e),z=h.getGlyphWidths(r);r=new a.RSXFormBuilder;d=new a.ContourMeasureIter(d,!1,1);for(var C=d.next(),H=new Float32Array(4),L=0;L<e.length&&C;L++){var N=z[L];l+=N/2;if(l>C.length()){C.delete();C=d.next();if(!C){e=e.substring(0,L);break}l=N/2}C.getPosTan(l,H);var R=H[2],P=H[3];r.push(R,\nP,H[0]-N/2*R,H[1]-N/2*P);l+=N/2}e=this.MakeFromRSXform(e,r,h);r.delete();C&&C.delete();d.delete();return e}};a.TextBlob.MakeFromRSXform=function(e,d,h){var l=ka(e)+1,r=a._malloc(l);la(e,F,r,l);e=d.build?d.build():v(d,\"HEAPF32\");h=a.TextBlob._MakeFromRSXform(r,l-1,e,h);a._free(r);return h?h:null};a.TextBlob.MakeFromRSXformGlyphs=function(e,d,h){var l=v(e,\"HEAPU16\");d=d.build?d.build():v(d,\"HEAPF32\");h=a.TextBlob._MakeFromRSXformGlyphs(l,2*e.length,d,h);x(l,e);return h?h:null};a.TextBlob.MakeFromGlyphs=\nfunction(e,d){var h=v(e,\"HEAPU16\");d=a.TextBlob._MakeFromGlyphs(h,2*e.length,d);x(h,e);return d?d:null};a.TextBlob.MakeFromText=function(e,d){var h=ka(e)+1,l=a._malloc(h);la(e,F,l,h);e=a.TextBlob._MakeFromText(l,h-1,d);a._free(l);return e?e:null};a.MallocGlyphIDs=function(e){return a.Malloc(Uint16Array,e)}});(function(){function e(E){for(var k=0;k<E.length;k++)if(void 0!==E[k]&&!Number.isFinite(E[k]))return!1;return!0}function d(E){var k=a.getColorComponents(E);E=k[0];var n=k[1],w=k[2];k=k[3];if(1===\nk)return E=E.toString(16).toLowerCase(),n=n.toString(16).toLowerCase(),w=w.toString(16).toLowerCase(),E=1===E.length?\"0\"+E:E,n=1===n.length?\"0\"+n:n,w=1===w.length?\"0\"+w:w,\"#\"+E+n+w;k=0===k||1===k?k:k.toFixed(8);return\"rgba(\"+E+\", \"+n+\", \"+w+\", \"+k+\")\"}function h(E){return a.parseColorString(E,Ja)}function l(E){E=Ka.exec(E);if(!E)return null;var k=parseFloat(E[4]),n=16;switch(E[5]){case \"em\":case \"rem\":n=16*k;break;case \"pt\":n=4*k/3;break;case \"px\":n=k;break;case \"pc\":n=16*k;break;case \"in\":n=96*k;\nbreak;case \"cm\":n=96*k/2.54;break;case \"mm\":n=96/25.4*k;break;case \"q\":n=96/25.4/4*k;break;case \"%\":n=16/75*k}return{style:E[1],variant:E[2],weight:E[3],sizePx:n,family:E[6].trim()}}function r(E){this.Dd=E;this.Fd=new a.Paint;this.Fd.setAntiAlias(!0);this.Fd.setStrokeMiter(10);this.Fd.setStrokeCap(a.StrokeCap.Butt);this.Fd.setStrokeJoin(a.StrokeJoin.Miter);this.Ke=\"10px monospace\";this.le=new a.Font(null,10);this.le.setSubpixel(!0);this.Sd=this.Xd=a.BLACK;this.oe=0;this.De=a.TRANSPARENT;this.qe=this.pe=\n0;this.Ee=this.$d=1;this.Ce=0;this.ne=[];this.Ed=a.BlendMode.SrcOver;this.Fd.setStrokeWidth(this.Ee);this.Fd.setBlendMode(this.Ed);this.Hd=new a.Path;this.Id=a.Matrix.identity();this.ef=[];this.ue=[];this.be=function(){this.Hd.delete();this.Fd.delete();this.le.delete();this.ue.forEach(function(k){k.be()})};Object.defineProperty(this,\"currentTransform\",{enumerable:!0,get:function(){return{a:this.Id[0],c:this.Id[1],e:this.Id[2],b:this.Id[3],d:this.Id[4],f:this.Id[5]}},set:function(k){k.a&&this.setTransform(k.a,\nk.b,k.c,k.d,k.e,k.f)}});Object.defineProperty(this,\"fillStyle\",{enumerable:!0,get:function(){return f(this.Sd)?d(this.Sd):this.Sd},set:function(k){\"string\"===typeof k?this.Sd=h(k):k.me&&(this.Sd=k)}});Object.defineProperty(this,\"font\",{enumerable:!0,get:function(){return this.Ke},set:function(k){var n=l(k),w=n.family;n.typeface=pa[w]?pa[w][(n.style||\"normal\")+\"|\"+(n.variant||\"normal\")+\"|\"+(n.weight||\"normal\")]||pa[w][\"*\"]:null;n&&(this.le.setSize(n.sizePx),this.le.setTypeface(n.typeface),this.Ke=\nk)}});Object.defineProperty(this,\"globalAlpha\",{enumerable:!0,get:function(){return this.$d},set:function(k){!isFinite(k)||0>k||1<k||(this.$d=k)}});Object.defineProperty(this,\"globalCompositeOperation\",{enumerable:!0,get:function(){switch(this.Ed){case a.BlendMode.SrcOver:return\"source-over\";case a.BlendMode.DstOver:return\"destination-over\";case a.BlendMode.Src:return\"copy\";case a.BlendMode.Dst:return\"destination\";case a.BlendMode.Clear:return\"clear\";case a.BlendMode.SrcIn:return\"source-in\";case a.BlendMode.DstIn:return\"destination-in\";\ncase a.BlendMode.SrcOut:return\"source-out\";case a.BlendMode.DstOut:return\"destination-out\";case a.BlendMode.SrcATop:return\"source-atop\";case a.BlendMode.DstATop:return\"destination-atop\";case a.BlendMode.Xor:return\"xor\";case a.BlendMode.Plus:return\"lighter\";case a.BlendMode.Multiply:return\"multiply\";case a.BlendMode.Screen:return\"screen\";case a.BlendMode.Overlay:return\"overlay\";case a.BlendMode.Darken:return\"darken\";case a.BlendMode.Lighten:return\"lighten\";case a.BlendMode.ColorDodge:return\"color-dodge\";\ncase a.BlendMode.ColorBurn:return\"color-burn\";case a.BlendMode.HardLight:return\"hard-light\";case a.BlendMode.SoftLight:return\"soft-light\";case a.BlendMode.Difference:return\"difference\";case a.BlendMode.Exclusion:return\"exclusion\";case a.BlendMode.Hue:return\"hue\";case a.BlendMode.Saturation:return\"saturation\";case a.BlendMode.Color:return\"color\";case a.BlendMode.Luminosity:return\"luminosity\"}},set:function(k){switch(k){case \"source-over\":this.Ed=a.BlendMode.SrcOver;break;case \"destination-over\":this.Ed=\na.BlendMode.DstOver;break;case \"copy\":this.Ed=a.BlendMode.Src;break;case \"destination\":this.Ed=a.BlendMode.Dst;break;case \"clear\":this.Ed=a.BlendMode.Clear;break;case \"source-in\":this.Ed=a.BlendMode.SrcIn;break;case \"destination-in\":this.Ed=a.BlendMode.DstIn;break;case \"source-out\":this.Ed=a.BlendMode.SrcOut;break;case \"destination-out\":this.Ed=a.BlendMode.DstOut;break;case \"source-atop\":this.Ed=a.BlendMode.SrcATop;break;case \"destination-atop\":this.Ed=a.BlendMode.DstATop;break;case \"xor\":this.Ed=\na.BlendMode.Xor;break;case \"lighter\":this.Ed=a.BlendMode.Plus;break;case \"plus-lighter\":this.Ed=a.BlendMode.Plus;break;case \"plus-darker\":throw\"plus-darker is not supported\";case \"multiply\":this.Ed=a.BlendMode.Multiply;break;case \"screen\":this.Ed=a.BlendMode.Screen;break;case \"overlay\":this.Ed=a.BlendMode.Overlay;break;case \"darken\":this.Ed=a.BlendMode.Darken;break;case \"lighten\":this.Ed=a.BlendMode.Lighten;break;case \"color-dodge\":this.Ed=a.BlendMode.ColorDodge;break;case \"color-burn\":this.Ed=a.BlendMode.ColorBurn;\nbreak;case \"hard-light\":this.Ed=a.BlendMode.HardLight;break;case \"soft-light\":this.Ed=a.BlendMode.SoftLight;break;case \"difference\":this.Ed=a.BlendMode.Difference;break;case \"exclusion\":this.Ed=a.BlendMode.Exclusion;break;case \"hue\":this.Ed=a.BlendMode.Hue;break;case \"saturation\":this.Ed=a.BlendMode.Saturation;break;case \"color\":this.Ed=a.BlendMode.Color;break;case \"luminosity\":this.Ed=a.BlendMode.Luminosity;break;default:return}this.Fd.setBlendMode(this.Ed)}});Object.defineProperty(this,\"imageSmoothingEnabled\",\n{enumerable:!0,get:function(){return!0},set:function(){}});Object.defineProperty(this,\"imageSmoothingQuality\",{enumerable:!0,get:function(){return\"high\"},set:function(){}});Object.defineProperty(this,\"lineCap\",{enumerable:!0,get:function(){switch(this.Fd.getStrokeCap()){case a.StrokeCap.Butt:return\"butt\";case a.StrokeCap.Round:return\"round\";case a.StrokeCap.Square:return\"square\"}},set:function(k){switch(k){case \"butt\":this.Fd.setStrokeCap(a.StrokeCap.Butt);break;case \"round\":this.Fd.setStrokeCap(a.StrokeCap.Round);\nbreak;case \"square\":this.Fd.setStrokeCap(a.StrokeCap.Square)}}});Object.defineProperty(this,\"lineDashOffset\",{enumerable:!0,get:function(){return this.Ce},set:function(k){isFinite(k)&&(this.Ce=k)}});Object.defineProperty(this,\"lineJoin\",{enumerable:!0,get:function(){switch(this.Fd.getStrokeJoin()){case a.StrokeJoin.Miter:return\"miter\";case a.StrokeJoin.Round:return\"round\";case a.StrokeJoin.Bevel:return\"bevel\"}},set:function(k){switch(k){case \"miter\":this.Fd.setStrokeJoin(a.StrokeJoin.Miter);break;\ncase \"round\":this.Fd.setStrokeJoin(a.StrokeJoin.Round);break;case \"bevel\":this.Fd.setStrokeJoin(a.StrokeJoin.Bevel)}}});Object.defineProperty(this,\"lineWidth\",{enumerable:!0,get:function(){return this.Fd.getStrokeWidth()},set:function(k){0>=k||!k||(this.Ee=k,this.Fd.setStrokeWidth(k))}});Object.defineProperty(this,\"miterLimit\",{enumerable:!0,get:function(){return this.Fd.getStrokeMiter()},set:function(k){0>=k||!k||this.Fd.setStrokeMiter(k)}});Object.defineProperty(this,\"shadowBlur\",{enumerable:!0,\nget:function(){return this.oe},set:function(k){0>k||!isFinite(k)||(this.oe=k)}});Object.defineProperty(this,\"shadowColor\",{enumerable:!0,get:function(){return d(this.De)},set:function(k){this.De=h(k)}});Object.defineProperty(this,\"shadowOffsetX\",{enumerable:!0,get:function(){return this.pe},set:function(k){isFinite(k)&&(this.pe=k)}});Object.defineProperty(this,\"shadowOffsetY\",{enumerable:!0,get:function(){return this.qe},set:function(k){isFinite(k)&&(this.qe=k)}});Object.defineProperty(this,\"strokeStyle\",\n{enumerable:!0,get:function(){return d(this.Xd)},set:function(k){\"string\"===typeof k?this.Xd=h(k):k.me&&(this.Xd=k)}});this.arc=function(k,n,w,A,B,D){P(this.Hd,k,n,w,w,0,A,B,D)};this.arcTo=function(k,n,w,A,B){L(this.Hd,k,n,w,A,B)};this.beginPath=function(){this.Hd.delete();this.Hd=new a.Path};this.bezierCurveTo=function(k,n,w,A,B,D){var I=this.Hd;e([k,n,w,A,B,D])&&(I.isEmpty()&&I.moveTo(k,n),I.cubicTo(k,n,w,A,B,D))};this.clearRect=function(k,n,w,A){this.Fd.setStyle(a.PaintStyle.Fill);this.Fd.setBlendMode(a.BlendMode.Clear);\nthis.Dd.drawRect(a.XYWHRect(k,n,w,A),this.Fd);this.Fd.setBlendMode(this.Ed)};this.clip=function(k,n){\"string\"===typeof k?(n=k,k=this.Hd):k&&k.Te&&(k=k.Ld);k||(k=this.Hd);k=k.copy();n&&\"evenodd\"===n.toLowerCase()?k.setFillType(a.FillType.EvenOdd):k.setFillType(a.FillType.Winding);this.Dd.clipPath(k,a.ClipOp.Intersect,!0);k.delete()};this.closePath=function(){N(this.Hd)};this.createImageData=function(){if(1===arguments.length){var k=arguments[0];return new C(new Uint8ClampedArray(4*k.width*k.height),\nk.width,k.height)}if(2===arguments.length){k=arguments[0];var n=arguments[1];return new C(new Uint8ClampedArray(4*k*n),k,n)}throw\"createImageData expects 1 or 2 arguments, got \"+arguments.length;};this.createLinearGradient=function(k,n,w,A){if(e(arguments)){var B=new H(k,n,w,A);this.ue.push(B);return B}};this.createPattern=function(k,n){k=new Ca(k,n);this.ue.push(k);return k};this.createRadialGradient=function(k,n,w,A,B,D){if(e(arguments)){var I=new Da(k,n,w,A,B,D);this.ue.push(I);return I}};this.drawImage=\nfunction(k){var n=this.Je();if(3===arguments.length||5===arguments.length)var w=a.XYWHRect(arguments[1],arguments[2],arguments[3]||k.width(),arguments[4]||k.height()),A=a.XYWHRect(0,0,k.width(),k.height());else if(9===arguments.length)w=a.XYWHRect(arguments[5],arguments[6],arguments[7],arguments[8]),A=a.XYWHRect(arguments[1],arguments[2],arguments[3],arguments[4]);else throw\"invalid number of args for drawImage, need 3, 5, or 9; got \"+arguments.length;this.Dd.drawImageRect(k,A,w,n,!1);n.dispose()};\nthis.ellipse=function(k,n,w,A,B,D,I,U){P(this.Hd,k,n,w,A,B,D,I,U)};this.Je=function(){var k=this.Fd.copy();k.setStyle(a.PaintStyle.Fill);if(f(this.Sd)){var n=a.multiplyByAlpha(this.Sd,this.$d);k.setColor(n)}else n=this.Sd.me(this.Id),k.setColor(a.Color(0,0,0,this.$d)),k.setShader(n);k.dispose=function(){this.delete()};return k};this.fill=function(k,n){\"string\"===typeof k?(n=k,k=this.Hd):k&&k.Te&&(k=k.Ld);if(\"evenodd\"===n)this.Hd.setFillType(a.FillType.EvenOdd);else{if(\"nonzero\"!==n&&n)throw\"invalid fill rule\";\nthis.Hd.setFillType(a.FillType.Winding)}k||(k=this.Hd);n=this.Je();var w=this.re(n);w&&(this.Dd.save(),this.je(),this.Dd.drawPath(k,w),this.Dd.restore(),w.dispose());this.Dd.drawPath(k,n);n.dispose()};this.fillRect=function(k,n,w,A){var B=this.Je(),D=this.re(B);D&&(this.Dd.save(),this.je(),this.Dd.drawRect(a.XYWHRect(k,n,w,A),D),this.Dd.restore(),D.dispose());this.Dd.drawRect(a.XYWHRect(k,n,w,A),B);B.dispose()};this.fillText=function(k,n,w){var A=this.Je();k=a.TextBlob.MakeFromText(k,this.le);var B=\nthis.re(A);B&&(this.Dd.save(),this.je(),this.Dd.drawTextBlob(k,n,w,B),this.Dd.restore(),B.dispose());this.Dd.drawTextBlob(k,n,w,A);k.delete();A.dispose()};this.getImageData=function(k,n,w,A){return(k=this.Dd.readPixels(k,n,{width:w,height:A,colorType:a.ColorType.RGBA_8888,alphaType:a.AlphaType.Unpremul,colorSpace:a.ColorSpace.SRGB}))?new C(new Uint8ClampedArray(k.buffer),w,A):null};this.getLineDash=function(){return this.ne.slice()};this.ff=function(k){var n=a.Matrix.invert(this.Id);a.Matrix.mapPoints(n,\nk);return k};this.isPointInPath=function(k,n,w){var A=arguments;if(3===A.length)var B=this.Hd;else if(4===A.length)B=A[0],k=A[1],n=A[2],w=A[3];else throw\"invalid arg count, need 3 or 4, got \"+A.length;if(!isFinite(k)||!isFinite(n))return!1;w=w||\"nonzero\";if(\"nonzero\"!==w&&\"evenodd\"!==w)return!1;A=this.ff([k,n]);k=A[0];n=A[1];B.setFillType(\"nonzero\"===w?a.FillType.Winding:a.FillType.EvenOdd);return B.contains(k,n)};this.isPointInStroke=function(k,n){var w=arguments;if(2===w.length)var A=this.Hd;else if(3===\nw.length)A=w[0],k=w[1],n=w[2];else throw\"invalid arg count, need 2 or 3, got \"+w.length;if(!isFinite(k)||!isFinite(n))return!1;w=this.ff([k,n]);k=w[0];n=w[1];A=A.copy();A.setFillType(a.FillType.Winding);A.stroke({width:this.lineWidth,miter_limit:this.miterLimit,cap:this.Fd.getStrokeCap(),join:this.Fd.getStrokeJoin(),precision:.3});w=A.contains(k,n);A.delete();return w};this.lineTo=function(k,n){ea(this.Hd,k,n)};this.measureText=function(){throw Error(\"Clients wishing to properly measure text should use the Paragraph API\");\n};this.moveTo=function(k,n){var w=this.Hd;e([k,n])&&w.moveTo(k,n)};this.putImageData=function(k,n,w,A,B,D,I){if(e([n,w,A,B,D,I]))if(void 0===A)this.Dd.writePixels(k.data,k.width,k.height,n,w);else if(A=A||0,B=B||0,D=D||k.width,I=I||k.height,0>D&&(A+=D,D=Math.abs(D)),0>I&&(B+=I,I=Math.abs(I)),0>A&&(D+=A,A=0),0>B&&(I+=B,B=0),!(0>=D||0>=I)){k=a.MakeImage({width:k.width,height:k.height,alphaType:a.AlphaType.Unpremul,colorType:a.ColorType.RGBA_8888,colorSpace:a.ColorSpace.SRGB},k.data,4*k.width);var U=\na.XYWHRect(A,B,D,I);n=a.XYWHRect(n+A,w+B,D,I);w=a.Matrix.invert(this.Id);this.Dd.save();this.Dd.concat(w);this.Dd.drawImageRect(k,U,n,null,!1);this.Dd.restore();k.delete()}};this.quadraticCurveTo=function(k,n,w,A){var B=this.Hd;e([k,n,w,A])&&(B.isEmpty()&&B.moveTo(k,n),B.quadTo(k,n,w,A))};this.rect=function(k,n,w,A){var B=this.Hd;k=a.XYWHRect(k,n,w,A);e(k)&&B.addRect(k)};this.resetTransform=function(){this.Hd.transform(this.Id);var k=a.Matrix.invert(this.Id);this.Dd.concat(k);this.Id=this.Dd.getTotalMatrix()};\nthis.restore=function(){var k=this.ef.pop();if(k){var n=a.Matrix.multiply(this.Id,a.Matrix.invert(k.wf));this.Hd.transform(n);this.Fd.delete();this.Fd=k.Pf;this.ne=k.Nf;this.Ee=k.bg;this.Xd=k.ag;this.Sd=k.fs;this.pe=k.Zf;this.qe=k.$f;this.oe=k.Tf;this.De=k.Yf;this.$d=k.Cf;this.Ed=k.Df;this.Ce=k.Of;this.Ke=k.Bf;this.Dd.restore();this.Id=this.Dd.getTotalMatrix()}};this.rotate=function(k){if(isFinite(k)){var n=a.Matrix.rotated(-k);this.Hd.transform(n);this.Dd.rotate(k/Math.PI*180,0,0);this.Id=this.Dd.getTotalMatrix()}};\nthis.save=function(){if(this.Sd.ke){var k=this.Sd.ke();this.ue.push(k)}else k=this.Sd;if(this.Xd.ke){var n=this.Xd.ke();this.ue.push(n)}else n=this.Xd;this.ef.push({wf:this.Id.slice(),Nf:this.ne.slice(),bg:this.Ee,ag:n,fs:k,Zf:this.pe,$f:this.qe,Tf:this.oe,Yf:this.De,Cf:this.$d,Of:this.Ce,Df:this.Ed,Pf:this.Fd.copy(),Bf:this.Ke});this.Dd.save()};this.scale=function(k,n){if(e(arguments)){var w=a.Matrix.scaled(1/k,1/n);this.Hd.transform(w);this.Dd.scale(k,n);this.Id=this.Dd.getTotalMatrix()}};this.setLineDash=\nfunction(k){for(var n=0;n<k.length;n++)if(!isFinite(k[n])||0>k[n])return;1===k.length%2&&Array.prototype.push.apply(k,k);this.ne=k};this.setTransform=function(k,n,w,A,B,D){e(arguments)&&(this.resetTransform(),this.transform(k,n,w,A,B,D))};this.je=function(){var k=a.Matrix.invert(this.Id);this.Dd.concat(k);this.Dd.concat(a.Matrix.translated(this.pe,this.qe));this.Dd.concat(this.Id)};this.re=function(k){var n=a.multiplyByAlpha(this.De,this.$d);if(!a.getColorComponents(n)[3]||!(this.oe||this.qe||this.pe))return null;\nk=k.copy();k.setColor(n);var w=a.MaskFilter.MakeBlur(a.BlurStyle.Normal,this.oe/2,!1);k.setMaskFilter(w);k.dispose=function(){w.delete();this.delete()};return k};this.Ve=function(){var k=this.Fd.copy();k.setStyle(a.PaintStyle.Stroke);if(f(this.Xd)){var n=a.multiplyByAlpha(this.Xd,this.$d);k.setColor(n)}else n=this.Xd.me(this.Id),k.setColor(a.Color(0,0,0,this.$d)),k.setShader(n);k.setStrokeWidth(this.Ee);if(this.ne.length){var w=a.PathEffect.MakeDash(this.ne,this.Ce);k.setPathEffect(w)}k.dispose=function(){w&&\nw.delete();this.delete()};return k};this.stroke=function(k){k=k?k.Ld:this.Hd;var n=this.Ve(),w=this.re(n);w&&(this.Dd.save(),this.je(),this.Dd.drawPath(k,w),this.Dd.restore(),w.dispose());this.Dd.drawPath(k,n);n.dispose()};this.strokeRect=function(k,n,w,A){var B=this.Ve(),D=this.re(B);D&&(this.Dd.save(),this.je(),this.Dd.drawRect(a.XYWHRect(k,n,w,A),D),this.Dd.restore(),D.dispose());this.Dd.drawRect(a.XYWHRect(k,n,w,A),B);B.dispose()};this.strokeText=function(k,n,w){var A=this.Ve();k=a.TextBlob.MakeFromText(k,\nthis.le);var B=this.re(A);B&&(this.Dd.save(),this.je(),this.Dd.drawTextBlob(k,n,w,B),this.Dd.restore(),B.dispose());this.Dd.drawTextBlob(k,n,w,A);k.delete();A.dispose()};this.translate=function(k,n){if(e(arguments)){var w=a.Matrix.translated(-k,-n);this.Hd.transform(w);this.Dd.translate(k,n);this.Id=this.Dd.getTotalMatrix()}};this.transform=function(k,n,w,A,B,D){k=[k,w,B,n,A,D,0,0,1];n=a.Matrix.invert(k);this.Hd.transform(n);this.Dd.concat(k);this.Id=this.Dd.getTotalMatrix()};this.addHitRegion=function(){};\nthis.clearHitRegions=function(){};this.drawFocusIfNeeded=function(){};this.removeHitRegion=function(){};this.scrollPathIntoView=function(){};Object.defineProperty(this,\"canvas\",{value:null,writable:!1})}function z(E){this.We=E;this.de=new r(E.getCanvas());this.Le=[];this.qf=a.FontMgr.RefDefault();this.decodeImage=function(k){k=a.MakeImageFromEncoded(k);if(!k)throw\"Invalid input\";this.Le.push(k);return k};this.loadFont=function(k,n){k=this.qf.MakeTypefaceFromData(k);if(!k)return null;this.Le.push(k);\nvar w=(n.style||\"normal\")+\"|\"+(n.variant||\"normal\")+\"|\"+(n.weight||\"normal\");n=n.family;pa[n]||(pa[n]={\"*\":k});pa[n][w]=k};this.makePath2D=function(k){k=new oa(k);this.Le.push(k.Ld);return k};this.getContext=function(k){return\"2d\"===k?this.de:null};this.toDataURL=function(k,n){this.We.flush();var w=this.We.makeImageSnapshot();if(w){k=k||\"image/png\";var A=a.ImageFormat.PNG;\"image/jpeg\"===k&&(A=a.ImageFormat.JPEG);if(n=w.encodeToBytes(A,n||.92)){w.delete();k=\"data:\"+k+\";base64,\";if(wd)n=Buffer.from(n).toString(\"base64\");\nelse{w=0;A=n.length;for(var B=\"\",D;w<A;)D=n.slice(w,Math.min(w+32768,A)),B+=String.fromCharCode.apply(null,D),w+=32768;n=btoa(B)}return k+n}}};this.dispose=function(){this.de.be();this.Le.forEach(function(k){k.delete()});this.We.dispose()}}function C(E,k,n){if(!k||0===n)throw\"invalid dimensions, width and height must be non-zero\";if(E.length%4)throw\"arr must be a multiple of 4\";n=n||E.length/(4*k);Object.defineProperty(this,\"data\",{value:E,writable:!1});Object.defineProperty(this,\"height\",{value:n,\nwritable:!1});Object.defineProperty(this,\"width\",{value:k,writable:!1})}function H(E,k,n,w){this.Nd=null;this.Td=[];this.Pd=[];this.addColorStop=function(A,B){if(0>A||1<A||!isFinite(A))throw\"offset must be between 0 and 1 inclusively\";B=h(B);var D=this.Pd.indexOf(A);if(-1!==D)this.Td[D]=B;else{for(D=0;D<this.Pd.length&&!(this.Pd[D]>A);D++);this.Pd.splice(D,0,A);this.Td.splice(D,0,B)}};this.ke=function(){var A=new H(E,k,n,w);A.Td=this.Td.slice();A.Pd=this.Pd.slice();return A};this.be=function(){this.Nd&&\n(this.Nd.delete(),this.Nd=null)};this.me=function(A){var B=[E,k,n,w];a.Matrix.mapPoints(A,B);A=B[0];var D=B[1],I=B[2];B=B[3];this.be();return this.Nd=a.Shader.MakeLinearGradient([A,D],[I,B],this.Td,this.Pd,a.TileMode.Clamp)}}function L(E,k,n,w,A,B){if(e([k,n,w,A,B])){if(0>B)throw\"radii cannot be negative\";E.isEmpty()&&E.moveTo(k,n);E.arcToTangent(k,n,w,A,B)}}function N(E){if(!E.isEmpty()){var k=E.getBounds();(k[3]-k[1]||k[2]-k[0])&&E.close()}}function R(E,k,n,w,A,B,D){D=(D-B)/Math.PI*180;B=B/Math.PI*\n180;k=a.LTRBRect(k-w,n-A,k+w,n+A);1E-5>Math.abs(Math.abs(D)-360)?(n=D/2,E.arcToOval(k,B,n,!1),E.arcToOval(k,B+n,n,!1)):E.arcToOval(k,B,D,!1)}function P(E,k,n,w,A,B,D,I,U){if(e([k,n,w,A,B,D,I])){if(0>w||0>A)throw\"radii cannot be negative\";var na=2*Math.PI,ca=D%na;0>ca&&(ca+=na);var ya=ca-D;D=ca;I+=ya;!U&&I-D>=na?I=D+na:U&&D-I>=na?I=D-na:!U&&D>I?I=D+(na-(D-I)%na):U&&D<I&&(I=D-(na-(I-D)%na));B?(U=a.Matrix.rotated(B,k,n),B=a.Matrix.rotated(-B,k,n),E.transform(B),R(E,k,n,w,A,D,I),E.transform(U)):R(E,k,\nn,w,A,D,I)}}function ea(E,k,n){e([k,n])&&(E.isEmpty()&&E.moveTo(k,n),E.lineTo(k,n))}function oa(E){this.Ld=null;this.Ld=\"string\"===typeof E?a.Path.MakeFromSVGString(E):E&&E.Te?E.Ld.copy():new a.Path;this.Te=function(){return this.Ld};this.addPath=function(k,n){n||(n={a:1,c:0,e:0,b:0,d:1,f:0});this.Ld.addPath(k.Ld,[n.a,n.c,n.e,n.b,n.d,n.f])};this.arc=function(k,n,w,A,B,D){P(this.Ld,k,n,w,w,0,A,B,D)};this.arcTo=function(k,n,w,A,B){L(this.Ld,k,n,w,A,B)};this.bezierCurveTo=function(k,n,w,A,B,D){var I=\nthis.Ld;e([k,n,w,A,B,D])&&(I.isEmpty()&&I.moveTo(k,n),I.cubicTo(k,n,w,A,B,D))};this.closePath=function(){N(this.Ld)};this.ellipse=function(k,n,w,A,B,D,I,U){P(this.Ld,k,n,w,A,B,D,I,U)};this.lineTo=function(k,n){ea(this.Ld,k,n)};this.moveTo=function(k,n){var w=this.Ld;e([k,n])&&w.moveTo(k,n)};this.quadraticCurveTo=function(k,n,w,A){var B=this.Ld;e([k,n,w,A])&&(B.isEmpty()&&B.moveTo(k,n),B.quadTo(k,n,w,A))};this.rect=function(k,n,w,A){var B=this.Ld;k=a.XYWHRect(k,n,w,A);e(k)&&B.addRect(k)}}function Ca(E,\nk){this.Nd=null;this.sf=E;this._transform=a.Matrix.identity();\"\"===k&&(k=\"repeat\");switch(k){case \"repeat-x\":this.se=a.TileMode.Repeat;this.te=a.TileMode.Decal;break;case \"repeat-y\":this.se=a.TileMode.Decal;this.te=a.TileMode.Repeat;break;case \"repeat\":this.te=this.se=a.TileMode.Repeat;break;case \"no-repeat\":this.te=this.se=a.TileMode.Decal;break;default:throw\"invalid repetition mode \"+k;}this.setTransform=function(n){n=[n.a,n.c,n.e,n.b,n.d,n.f,0,0,1];e(n)&&(this._transform=n)};this.ke=function(){var n=\nnew Ca;n.se=this.se;n.te=this.te;return n};this.be=function(){this.Nd&&(this.Nd.delete(),this.Nd=null)};this.me=function(){this.be();return this.Nd=this.sf.makeShaderCubic(this.se,this.te,1/3,1/3,this._transform)}}function Da(E,k,n,w,A,B){this.Nd=null;this.Td=[];this.Pd=[];this.addColorStop=function(D,I){if(0>D||1<D||!isFinite(D))throw\"offset must be between 0 and 1 inclusively\";I=h(I);var U=this.Pd.indexOf(D);if(-1!==U)this.Td[U]=I;else{for(U=0;U<this.Pd.length&&!(this.Pd[U]>D);U++);this.Pd.splice(U,\n0,D);this.Td.splice(U,0,I)}};this.ke=function(){var D=new Da(E,k,n,w,A,B);D.Td=this.Td.slice();D.Pd=this.Pd.slice();return D};this.be=function(){this.Nd&&(this.Nd.delete(),this.Nd=null)};this.me=function(D){var I=[E,k,w,A];a.Matrix.mapPoints(D,I);var U=I[0],na=I[1],ca=I[2];I=I[3];var ya=(Math.abs(D[0])+Math.abs(D[4]))/2;D=n*ya;ya*=B;this.be();return this.Nd=a.Shader.MakeTwoPointConicalGradient([U,na],D,[ca,I],ya,this.Td,this.Pd,a.TileMode.Clamp)}}a._testing={};var Ja={aliceblue:Float32Array.of(.941,\n.973,1,1),antiquewhite:Float32Array.of(.98,.922,.843,1),aqua:Float32Array.of(0,1,1,1),aquamarine:Float32Array.of(.498,1,.831,1),azure:Float32Array.of(.941,1,1,1),beige:Float32Array.of(.961,.961,.863,1),bisque:Float32Array.of(1,.894,.769,1),black:Float32Array.of(0,0,0,1),blanchedalmond:Float32Array.of(1,.922,.804,1),blue:Float32Array.of(0,0,1,1),blueviolet:Float32Array.of(.541,.169,.886,1),brown:Float32Array.of(.647,.165,.165,1),burlywood:Float32Array.of(.871,.722,.529,1),cadetblue:Float32Array.of(.373,\n.62,.627,1),chartreuse:Float32Array.of(.498,1,0,1),chocolate:Float32Array.of(.824,.412,.118,1),coral:Float32Array.of(1,.498,.314,1),cornflowerblue:Float32Array.of(.392,.584,.929,1),cornsilk:Float32Array.of(1,.973,.863,1),crimson:Float32Array.of(.863,.078,.235,1),cyan:Float32Array.of(0,1,1,1),darkblue:Float32Array.of(0,0,.545,1),darkcyan:Float32Array.of(0,.545,.545,1),darkgoldenrod:Float32Array.of(.722,.525,.043,1),darkgray:Float32Array.of(.663,.663,.663,1),darkgreen:Float32Array.of(0,.392,0,1),darkgrey:Float32Array.of(.663,\n.663,.663,1),darkkhaki:Float32Array.of(.741,.718,.42,1),darkmagenta:Float32Array.of(.545,0,.545,1),darkolivegreen:Float32Array.of(.333,.42,.184,1),darkorange:Float32Array.of(1,.549,0,1),darkorchid:Float32Array.of(.6,.196,.8,1),darkred:Float32Array.of(.545,0,0,1),darksalmon:Float32Array.of(.914,.588,.478,1),darkseagreen:Float32Array.of(.561,.737,.561,1),darkslateblue:Float32Array.of(.282,.239,.545,1),darkslategray:Float32Array.of(.184,.31,.31,1),darkslategrey:Float32Array.of(.184,.31,.31,1),darkturquoise:Float32Array.of(0,\n.808,.82,1),darkviolet:Float32Array.of(.58,0,.827,1),deeppink:Float32Array.of(1,.078,.576,1),deepskyblue:Float32Array.of(0,.749,1,1),dimgray:Float32Array.of(.412,.412,.412,1),dimgrey:Float32Array.of(.412,.412,.412,1),dodgerblue:Float32Array.of(.118,.565,1,1),firebrick:Float32Array.of(.698,.133,.133,1),floralwhite:Float32Array.of(1,.98,.941,1),forestgreen:Float32Array.of(.133,.545,.133,1),fuchsia:Float32Array.of(1,0,1,1),gainsboro:Float32Array.of(.863,.863,.863,1),ghostwhite:Float32Array.of(.973,.973,\n1,1),gold:Float32Array.of(1,.843,0,1),goldenrod:Float32Array.of(.855,.647,.125,1),gray:Float32Array.of(.502,.502,.502,1),green:Float32Array.of(0,.502,0,1),greenyellow:Float32Array.of(.678,1,.184,1),grey:Float32Array.of(.502,.502,.502,1),honeydew:Float32Array.of(.941,1,.941,1),hotpink:Float32Array.of(1,.412,.706,1),indianred:Float32Array.of(.804,.361,.361,1),indigo:Float32Array.of(.294,0,.51,1),ivory:Float32Array.of(1,1,.941,1),khaki:Float32Array.of(.941,.902,.549,1),lavender:Float32Array.of(.902,\n.902,.98,1),lavenderblush:Float32Array.of(1,.941,.961,1),lawngreen:Float32Array.of(.486,.988,0,1),lemonchiffon:Float32Array.of(1,.98,.804,1),lightblue:Float32Array.of(.678,.847,.902,1),lightcoral:Float32Array.of(.941,.502,.502,1),lightcyan:Float32Array.of(.878,1,1,1),lightgoldenrodyellow:Float32Array.of(.98,.98,.824,1),lightgray:Float32Array.of(.827,.827,.827,1),lightgreen:Float32Array.of(.565,.933,.565,1),lightgrey:Float32Array.of(.827,.827,.827,1),lightpink:Float32Array.of(1,.714,.757,1),lightsalmon:Float32Array.of(1,\n.627,.478,1),lightseagreen:Float32Array.of(.125,.698,.667,1),lightskyblue:Float32Array.of(.529,.808,.98,1),lightslategray:Float32Array.of(.467,.533,.6,1),lightslategrey:Float32Array.of(.467,.533,.6,1),lightsteelblue:Float32Array.of(.69,.769,.871,1),lightyellow:Float32Array.of(1,1,.878,1),lime:Float32Array.of(0,1,0,1),limegreen:Float32Array.of(.196,.804,.196,1),linen:Float32Array.of(.98,.941,.902,1),magenta:Float32Array.of(1,0,1,1),maroon:Float32Array.of(.502,0,0,1),mediumaquamarine:Float32Array.of(.4,\n.804,.667,1),mediumblue:Float32Array.of(0,0,.804,1),mediumorchid:Float32Array.of(.729,.333,.827,1),mediumpurple:Float32Array.of(.576,.439,.859,1),mediumseagreen:Float32Array.of(.235,.702,.443,1),mediumslateblue:Float32Array.of(.482,.408,.933,1),mediumspringgreen:Float32Array.of(0,.98,.604,1),mediumturquoise:Float32Array.of(.282,.82,.8,1),mediumvioletred:Float32Array.of(.78,.082,.522,1),midnightblue:Float32Array.of(.098,.098,.439,1),mintcream:Float32Array.of(.961,1,.98,1),mistyrose:Float32Array.of(1,\n.894,.882,1),moccasin:Float32Array.of(1,.894,.71,1),navajowhite:Float32Array.of(1,.871,.678,1),navy:Float32Array.of(0,0,.502,1),oldlace:Float32Array.of(.992,.961,.902,1),olive:Float32Array.of(.502,.502,0,1),olivedrab:Float32Array.of(.42,.557,.137,1),orange:Float32Array.of(1,.647,0,1),orangered:Float32Array.of(1,.271,0,1),orchid:Float32Array.of(.855,.439,.839,1),palegoldenrod:Float32Array.of(.933,.91,.667,1),palegreen:Float32Array.of(.596,.984,.596,1),paleturquoise:Float32Array.of(.686,.933,.933,1),\npalevioletred:Float32Array.of(.859,.439,.576,1),papayawhip:Float32Array.of(1,.937,.835,1),peachpuff:Float32Array.of(1,.855,.725,1),peru:Float32Array.of(.804,.522,.247,1),pink:Float32Array.of(1,.753,.796,1),plum:Float32Array.of(.867,.627,.867,1),powderblue:Float32Array.of(.69,.878,.902,1),purple:Float32Array.of(.502,0,.502,1),rebeccapurple:Float32Array.of(.4,.2,.6,1),red:Float32Array.of(1,0,0,1),rosybrown:Float32Array.of(.737,.561,.561,1),royalblue:Float32Array.of(.255,.412,.882,1),saddlebrown:Float32Array.of(.545,\n.271,.075,1),salmon:Float32Array.of(.98,.502,.447,1),sandybrown:Float32Array.of(.957,.643,.376,1),seagreen:Float32Array.of(.18,.545,.341,1),seashell:Float32Array.of(1,.961,.933,1),sienna:Float32Array.of(.627,.322,.176,1),silver:Float32Array.of(.753,.753,.753,1),skyblue:Float32Array.of(.529,.808,.922,1),slateblue:Float32Array.of(.416,.353,.804,1),slategray:Float32Array.of(.439,.502,.565,1),slategrey:Float32Array.of(.439,.502,.565,1),snow:Float32Array.of(1,.98,.98,1),springgreen:Float32Array.of(0,1,\n.498,1),steelblue:Float32Array.of(.275,.51,.706,1),tan:Float32Array.of(.824,.706,.549,1),teal:Float32Array.of(0,.502,.502,1),thistle:Float32Array.of(.847,.749,.847,1),tomato:Float32Array.of(1,.388,.278,1),transparent:Float32Array.of(0,0,0,0),turquoise:Float32Array.of(.251,.878,.816,1),violet:Float32Array.of(.933,.51,.933,1),wheat:Float32Array.of(.961,.871,.702,1),white:Float32Array.of(1,1,1,1),whitesmoke:Float32Array.of(.961,.961,.961,1),yellow:Float32Array.of(1,1,0,1),yellowgreen:Float32Array.of(.604,\n.804,.196,1)};a._testing.parseColor=h;a._testing.colorToString=d;var Ka=RegExp(\"(italic|oblique|normal|)\\\\s*(small-caps|normal|)\\\\s*(bold|bolder|lighter|[1-9]00|normal|)\\\\s*([\\\\d\\\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q)(.+)\"),pa={\"Noto Mono\":{\"*\":null},monospace:{\"*\":null}};a._testing.parseFontString=l;a.MakeCanvas=function(E,k){return(E=a.MakeSurface(E,k))?new z(E):null};a.ImageData=function(){if(2===arguments.length){var E=arguments[0],k=arguments[1];return new C(new Uint8ClampedArray(4*E*k),E,\nk)}if(3===arguments.length){var n=arguments[0];if(n.prototype.constructor!==Uint8ClampedArray)throw\"bytes must be given as a Uint8ClampedArray\";E=arguments[1];k=arguments[2];if(n%4)throw\"bytes must be given in a multiple of 4\";if(n%E)throw\"bytes must divide evenly by width\";if(k&&k!==n/(4*E))throw\"invalid height given\";return new C(n,E,n/(4*E))}throw\"invalid number of arguments - takes 2 or 3, saw \"+arguments.length;}})()})(t);\nvar qa=Object.assign({},t),ra=\"./this.program\",sa=(a,b)=>{throw b;},ta=\"object\"==typeof window,ua=\"function\"==typeof importScripts,va=\"object\"==typeof process&&\"object\"==typeof process.versions&&\"string\"==typeof process.versions.node,wa=\"\",za,Aa,Ba;\nif(va){var fs=require(\"fs\"),Ea=require(\"path\");wa=ua?Ea.dirname(wa)+\"/\":__dirname+\"/\";za=(a,b)=>{a=a.startsWith(\"file://\")?new URL(a):Ea.normalize(a);return fs.readFileSync(a,b?void 0:\"utf8\")};Ba=a=>{a=za(a,!0);a.buffer||(a=new Uint8Array(a));return a};Aa=(a,b,c)=>{a=a.startsWith(\"file://\")?new URL(a):Ea.normalize(a);fs.readFile(a,function(f,g){f?c(f):b(g.buffer)})};1<process.argv.length&&(ra=process.argv[1].replace(/\\\\/g,\"/\"));process.argv.slice(2);process.on(\"uncaughtException\",function(a){if(!(a instanceof\nFa))throw a;});if(15>process.version.match(/^v(\\d+)\\./)[1])process.on(\"unhandledRejection\",function(a){throw a;});sa=(a,b)=>{if(noExitRuntime)throw process.exitCode=a,b;b instanceof Fa||Ga(\"exiting due to exception: \"+b);process.exit(a)};t.inspect=function(){return\"[Emscripten Module object]\"}}else if(ta||ua)ua?wa=self.location.href:\"undefined\"!=typeof document&&document.currentScript&&(wa=document.currentScript.src),_scriptDir&&(wa=_scriptDir),0!==wa.indexOf(\"blob:\")?wa=wa.substr(0,wa.replace(/[?#].*/,\n\"\").lastIndexOf(\"/\")+1):wa=\"\",za=a=>{var b=new XMLHttpRequest;b.open(\"GET\",a,!1);b.send(null);return b.responseText},ua&&(Ba=a=>{var b=new XMLHttpRequest;b.open(\"GET\",a,!1);b.responseType=\"arraybuffer\";b.send(null);return new Uint8Array(b.response)}),Aa=(a,b,c)=>{var f=new XMLHttpRequest;f.open(\"GET\",a,!0);f.responseType=\"arraybuffer\";f.onload=()=>{200==f.status||0==f.status&&f.response?b(f.response):c()};f.onerror=c;f.send(null)};var La=t.print||console.log.bind(console),Ga=t.printErr||console.warn.bind(console);\nObject.assign(t,qa);qa=null;t.thisProgram&&(ra=t.thisProgram);t.quit&&(sa=t.quit);var Ma;t.wasmBinary&&(Ma=t.wasmBinary);var noExitRuntime=t.noExitRuntime||!0;\"object\"!=typeof WebAssembly&&Na(\"no native wasm support detected\");var Oa,Pa=!1,Ra=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf8\"):void 0;\nfunction Sa(a,b,c){var f=b+c;for(c=b;a[c]&&!(c>=f);)++c;if(16<c-b&&a.buffer&&Ra)return Ra.decode(a.subarray(b,c));for(f=\"\";b<c;){var g=a[b++];if(g&128){var m=a[b++]&63;if(192==(g&224))f+=String.fromCharCode((g&31)<<6|m);else{var q=a[b++]&63;g=224==(g&240)?(g&15)<<12|m<<6|q:(g&7)<<18|m<<12|q<<6|a[b++]&63;65536>g?f+=String.fromCharCode(g):(g-=65536,f+=String.fromCharCode(55296|g>>10,56320|g&1023))}}else f+=String.fromCharCode(g)}return f}function Ta(a,b){return a?Sa(F,a,b):\"\"}\nfunction la(a,b,c,f){if(!(0<f))return 0;var g=c;f=c+f-1;for(var m=0;m<a.length;++m){var q=a.charCodeAt(m);if(55296<=q&&57343>=q){var p=a.charCodeAt(++m);q=65536+((q&1023)<<10)|p&1023}if(127>=q){if(c>=f)break;b[c++]=q}else{if(2047>=q){if(c+1>=f)break;b[c++]=192|q>>6}else{if(65535>=q){if(c+2>=f)break;b[c++]=224|q>>12}else{if(c+3>=f)break;b[c++]=240|q>>18;b[c++]=128|q>>12&63}b[c++]=128|q>>6&63}b[c++]=128|q&63}}b[c]=0;return c-g}\nfunction ka(a){for(var b=0,c=0;c<a.length;++c){var f=a.charCodeAt(c);127>=f?b++:2047>=f?b+=2:55296<=f&&57343>=f?(b+=4,++c):b+=3}return b}var Ua,F,Va,Wa,M,Xa,S,Ya;function Za(){var a=Oa.buffer;t.HEAP8=Ua=new Int8Array(a);t.HEAP16=Va=new Int16Array(a);t.HEAP32=M=new Int32Array(a);t.HEAPU8=F=new Uint8Array(a);t.HEAPU16=Wa=new Uint16Array(a);t.HEAPU32=Xa=new Uint32Array(a);t.HEAPF32=S=new Float32Array(a);t.HEAPF64=Ya=new Float64Array(a)}var $a,ab=[],bb=[],cb=[];\nfunction hb(){var a=t.preRun.shift();ab.unshift(a)}var ib=0,jb=null,kb=null;function Na(a){if(t.onAbort)t.onAbort(a);a=\"Aborted(\"+a+\")\";Ga(a);Pa=!0;a=new WebAssembly.RuntimeError(a+\". Build with -sASSERTIONS for more info.\");ba(a);throw a;}function lb(){return mb.startsWith(\"data:application/octet-stream;base64,\")}var mb;mb=\"canvaskit.wasm\";if(!lb()){var nb=mb;mb=t.locateFile?t.locateFile(nb,wa):wa+nb}\nfunction ob(){var a=mb;try{if(a==mb&&Ma)return new Uint8Array(Ma);if(Ba)return Ba(a);throw\"both async and sync fetching of the wasm failed\";}catch(b){Na(b)}}\nfunction pb(){if(!Ma&&(ta||ua)){if(\"function\"==typeof fetch&&!mb.startsWith(\"file://\"))return fetch(mb,{credentials:\"same-origin\"}).then(function(a){if(!a.ok)throw\"failed to load wasm binary file at '\"+mb+\"'\";return a.arrayBuffer()}).catch(function(){return ob()});if(Aa)return new Promise(function(a,b){Aa(mb,function(c){a(new Uint8Array(c))},b)})}return Promise.resolve().then(function(){return ob()})}\nfunction Fa(a){this.name=\"ExitStatus\";this.message=\"Program terminated with exit(\"+a+\")\";this.status=a}function qb(a){for(;0<a.length;)a.shift()(t)}var rb={};function sb(a){for(;a.length;){var b=a.pop();a.pop()(b)}}function tb(a){return this.fromWireType(M[a>>2])}var ub={},vb={},wb={};function yb(a){if(void 0===a)return\"_unknown\";a=a.replace(/[^a-zA-Z0-9_]/g,\"$\");var b=a.charCodeAt(0);return 48<=b&&57>=b?\"_\"+a:a}\nfunction zb(a,b){a=yb(a);return(new Function(\"body\",\"return function \"+a+'() {\\n    \"use strict\";    return body.apply(this, arguments);\\n};\\n'))(b)}function Ab(a){var b=Error,c=zb(a,function(f){this.name=a;this.message=f;f=Error(f).stack;void 0!==f&&(this.stack=this.toString()+\"\\n\"+f.replace(/^Error(:[^\\n]*)?\\n/,\"\"))});c.prototype=Object.create(b.prototype);c.prototype.constructor=c;c.prototype.toString=function(){return void 0===this.message?this.name:this.name+\": \"+this.message};return c}\nvar Bb=void 0;function Cb(a){throw new Bb(a);}function Db(a,b,c){function f(p){p=c(p);p.length!==a.length&&Cb(\"Mismatched type converter count\");for(var x=0;x<a.length;++x)Eb(a[x],p[x])}a.forEach(function(p){wb[p]=b});var g=Array(b.length),m=[],q=0;b.forEach((p,x)=>{vb.hasOwnProperty(p)?g[x]=vb[p]:(m.push(p),ub.hasOwnProperty(p)||(ub[p]=[]),ub[p].push(()=>{g[x]=vb[p];++q;q===m.length&&f(g)}))});0===m.length&&f(g)}\nfunction Fb(a){switch(a){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(\"Unknown type size: \"+a);}}var Gb=void 0;function Hb(a){for(var b=\"\";F[a];)b+=Gb[F[a++]];return b}var Ib=void 0;function T(a){throw new Ib(a);}\nfunction Eb(a,b,c={}){if(!(\"argPackAdvance\"in b))throw new TypeError(\"registerType registeredInstance requires argPackAdvance\");var f=b.name;a||T('type \"'+f+'\" must have a positive integer typeid pointer');if(vb.hasOwnProperty(a)){if(c.Kf)return;T(\"Cannot register type '\"+f+\"' twice\")}vb[a]=b;delete wb[a];ub.hasOwnProperty(a)&&(b=ub[a],delete ub[a],b.forEach(g=>g()))}function Jb(a){T(a.Cd.Md.Gd.name+\" instance already deleted\")}var Kb=!1;function Lb(){}\nfunction Mb(a){--a.count.value;0===a.count.value&&(a.Rd?a.Wd.ae(a.Rd):a.Md.Gd.ae(a.Kd))}function Nb(a,b,c){if(b===c)return a;if(void 0===c.Yd)return null;a=Nb(a,b,c.Yd);return null===a?null:c.yf(a)}var Ob={},Pb=[];function Qb(){for(;Pb.length;){var a=Pb.pop();a.Cd.xe=!1;a[\"delete\"]()}}var Rb=void 0,Sb={};function $b(a,b){for(void 0===b&&T(\"ptr should not be undefined\");a.Yd;)b=a.Ie(b),a=a.Yd;return Sb[b]}\nfunction ac(a,b){b.Md&&b.Kd||Cb(\"makeClassHandle requires ptr and ptrType\");!!b.Wd!==!!b.Rd&&Cb(\"Both smartPtrType and smartPtr must be specified\");b.count={value:1};return bc(Object.create(a,{Cd:{value:b}}))}function bc(a){if(\"undefined\"===typeof FinalizationRegistry)return bc=b=>b,a;Kb=new FinalizationRegistry(b=>{Mb(b.Cd)});bc=b=>{var c=b.Cd;c.Rd&&Kb.register(b,{Cd:c},b);return b};Lb=b=>{Kb.unregister(b)};return bc(a)}function cc(){}\nfunction dc(a,b,c){if(void 0===a[b].Od){var f=a[b];a[b]=function(){a[b].Od.hasOwnProperty(arguments.length)||T(\"Function '\"+c+\"' called with an invalid number of arguments (\"+arguments.length+\") - expects one of (\"+a[b].Od+\")!\");return a[b].Od[arguments.length].apply(this,arguments)};a[b].Od=[];a[b].Od[f.ve]=f}}\nfunction ec(a,b,c){t.hasOwnProperty(a)?((void 0===c||void 0!==t[a].Od&&void 0!==t[a].Od[c])&&T(\"Cannot register public name '\"+a+\"' twice\"),dc(t,a,a),t.hasOwnProperty(c)&&T(\"Cannot register multiple overloads of a function with the same number of arguments (\"+c+\")!\"),t[a].Od[c]=b):(t[a]=b,void 0!==c&&(t[a].ig=c))}function fc(a,b,c,f,g,m,q,p){this.name=a;this.constructor=b;this.ye=c;this.ae=f;this.Yd=g;this.Ef=m;this.Ie=q;this.yf=p;this.Rf=[]}\nfunction gc(a,b,c){for(;b!==c;)b.Ie||T(\"Expected null or instance of \"+c.name+\", got an instance of \"+b.name),a=b.Ie(a),b=b.Yd;return a}function hc(a,b){if(null===b)return this.Ye&&T(\"null is not a valid \"+this.name),0;b.Cd||T('Cannot pass \"'+ic(b)+'\" as a '+this.name);b.Cd.Kd||T(\"Cannot pass deleted object as a pointer of type \"+this.name);return gc(b.Cd.Kd,b.Cd.Md.Gd,this.Gd)}\nfunction jc(a,b){if(null===b){this.Ye&&T(\"null is not a valid \"+this.name);if(this.Ne){var c=this.Ze();null!==a&&a.push(this.ae,c);return c}return 0}b.Cd||T('Cannot pass \"'+ic(b)+'\" as a '+this.name);b.Cd.Kd||T(\"Cannot pass deleted object as a pointer of type \"+this.name);!this.Me&&b.Cd.Md.Me&&T(\"Cannot convert argument of type \"+(b.Cd.Wd?b.Cd.Wd.name:b.Cd.Md.name)+\" to parameter type \"+this.name);c=gc(b.Cd.Kd,b.Cd.Md.Gd,this.Gd);if(this.Ne)switch(void 0===b.Cd.Rd&&T(\"Passing raw pointer to smart pointer is illegal\"),\nthis.Xf){case 0:b.Cd.Wd===this?c=b.Cd.Rd:T(\"Cannot convert argument of type \"+(b.Cd.Wd?b.Cd.Wd.name:b.Cd.Md.name)+\" to parameter type \"+this.name);break;case 1:c=b.Cd.Rd;break;case 2:if(b.Cd.Wd===this)c=b.Cd.Rd;else{var f=b.clone();c=this.Sf(c,kc(function(){f[\"delete\"]()}));null!==a&&a.push(this.ae,c)}break;default:T(\"Unsupporting sharing policy\")}return c}\nfunction lc(a,b){if(null===b)return this.Ye&&T(\"null is not a valid \"+this.name),0;b.Cd||T('Cannot pass \"'+ic(b)+'\" as a '+this.name);b.Cd.Kd||T(\"Cannot pass deleted object as a pointer of type \"+this.name);b.Cd.Md.Me&&T(\"Cannot convert argument of type \"+b.Cd.Md.name+\" to parameter type \"+this.name);return gc(b.Cd.Kd,b.Cd.Md.Gd,this.Gd)}\nfunction mc(a,b,c,f,g,m,q,p,x,v,G){this.name=a;this.Gd=b;this.Ye=c;this.Me=f;this.Ne=g;this.Qf=m;this.Xf=q;this.mf=p;this.Ze=x;this.Sf=v;this.ae=G;g||void 0!==b.Yd?this.toWireType=jc:(this.toWireType=f?hc:lc,this.Vd=null)}function nc(a,b,c){t.hasOwnProperty(a)||Cb(\"Replacing nonexistant public symbol\");void 0!==t[a].Od&&void 0!==c?t[a].Od[c]=b:(t[a]=b,t[a].ve=c)}function oc(a){return $a.get(a)}\nfunction pc(a,b){var c=[];return function(){c.length=0;Object.assign(c,arguments);if(a.includes(\"j\")){var f=t[\"dynCall_\"+a];f=c&&c.length?f.apply(null,[b].concat(c)):f.call(null,b)}else f=oc(b).apply(null,c);return f}}function qc(a,b){a=Hb(a);var c=a.includes(\"j\")?pc(a,b):oc(b);\"function\"!=typeof c&&T(\"unknown function pointer with signature \"+a+\": \"+b);return c}var rc=void 0;function sc(a){a=tc(a);var b=Hb(a);uc(a);return b}\nfunction vc(a,b){function c(m){g[m]||vb[m]||(wb[m]?wb[m].forEach(c):(f.push(m),g[m]=!0))}var f=[],g={};b.forEach(c);throw new rc(a+\": \"+f.map(sc).join([\", \"]));}function wc(a){var b=Function;if(!(b instanceof Function))throw new TypeError(\"new_ called with constructor type \"+typeof b+\" which is not a function\");var c=zb(b.name||\"unknownFunctionName\",function(){});c.prototype=b.prototype;c=new c;a=b.apply(c,a);return a instanceof Object?a:c}\nfunction xc(a,b,c,f,g){var m=b.length;2>m&&T(\"argTypes array size mismatch! Must at least get return value and 'this' types!\");var q=null!==b[1]&&null!==c,p=!1;for(c=1;c<b.length;++c)if(null!==b[c]&&void 0===b[c].Vd){p=!0;break}var x=\"void\"!==b[0].name,v=\"\",G=\"\";for(c=0;c<m-2;++c)v+=(0!==c?\", \":\"\")+\"arg\"+c,G+=(0!==c?\", \":\"\")+\"arg\"+c+\"Wired\";a=\"return function \"+yb(a)+\"(\"+v+\") {\\nif (arguments.length !== \"+(m-2)+\") {\\nthrowBindingError('function \"+a+\" called with ' + arguments.length + ' arguments, expected \"+\n(m-2)+\" args!');\\n}\\n\";p&&(a+=\"var destructors = [];\\n\");var J=p?\"destructors\":\"null\";v=\"throwBindingError invoker fn runDestructors retType classParam\".split(\" \");f=[T,f,g,sb,b[0],b[1]];q&&(a+=\"var thisWired = classParam.toWireType(\"+J+\", this);\\n\");for(c=0;c<m-2;++c)a+=\"var arg\"+c+\"Wired = argType\"+c+\".toWireType(\"+J+\", arg\"+c+\"); // \"+b[c+2].name+\"\\n\",v.push(\"argType\"+c),f.push(b[c+2]);q&&(G=\"thisWired\"+(0<G.length?\", \":\"\")+G);a+=(x?\"var rv = \":\"\")+\"invoker(fn\"+(0<G.length?\", \":\"\")+G+\");\\n\";if(p)a+=\n\"runDestructors(destructors);\\n\";else for(c=q?1:2;c<b.length;++c)m=1===c?\"thisWired\":\"arg\"+(c-2)+\"Wired\",null!==b[c].Vd&&(a+=m+\"_dtor(\"+m+\"); // \"+b[c].name+\"\\n\",v.push(m+\"_dtor\"),f.push(b[c].Vd));x&&(a+=\"var ret = retType.fromWireType(rv);\\nreturn ret;\\n\");v.push(a+\"}\\n\");return wc(v).apply(null,f)}function yc(a,b){for(var c=[],f=0;f<a;f++)c.push(Xa[b+4*f>>2]);return c}var zc=[],Ic=[{},{value:void 0},{value:null},{value:!0},{value:!1}];\nfunction Jc(a){4<a&&0===--Ic[a].$e&&(Ic[a]=void 0,zc.push(a))}var Kc=a=>{a||T(\"Cannot use deleted val. handle = \"+a);return Ic[a].value},kc=a=>{switch(a){case void 0:return 1;case null:return 2;case !0:return 3;case !1:return 4;default:var b=zc.length?zc.pop():Ic.length;Ic[b]={$e:1,value:a};return b}};\nfunction Lc(a,b,c){switch(b){case 0:return function(f){return this.fromWireType((c?Ua:F)[f])};case 1:return function(f){return this.fromWireType((c?Va:Wa)[f>>1])};case 2:return function(f){return this.fromWireType((c?M:Xa)[f>>2])};default:throw new TypeError(\"Unknown integer type: \"+a);}}function Mc(a,b){var c=vb[a];void 0===c&&T(b+\" has unknown type \"+sc(a));return c}function ic(a){if(null===a)return\"null\";var b=typeof a;return\"object\"===b||\"array\"===b||\"function\"===b?a.toString():\"\"+a}\nfunction Nc(a,b){switch(b){case 2:return function(c){return this.fromWireType(S[c>>2])};case 3:return function(c){return this.fromWireType(Ya[c>>3])};default:throw new TypeError(\"Unknown float type: \"+a);}}\nfunction Oc(a,b,c){switch(b){case 0:return c?function(f){return Ua[f]}:function(f){return F[f]};case 1:return c?function(f){return Va[f>>1]}:function(f){return Wa[f>>1]};case 2:return c?function(f){return M[f>>2]}:function(f){return Xa[f>>2]};default:throw new TypeError(\"Unknown integer type: \"+a);}}var Pc=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf-16le\"):void 0;\nfunction Qc(a,b){var c=a>>1;for(var f=c+b/2;!(c>=f)&&Wa[c];)++c;c<<=1;if(32<c-a&&Pc)return Pc.decode(F.subarray(a,c));c=\"\";for(f=0;!(f>=b/2);++f){var g=Va[a+2*f>>1];if(0==g)break;c+=String.fromCharCode(g)}return c}function Rc(a,b,c){void 0===c&&(c=2147483647);if(2>c)return 0;c-=2;var f=b;c=c<2*a.length?c/2:a.length;for(var g=0;g<c;++g)Va[b>>1]=a.charCodeAt(g),b+=2;Va[b>>1]=0;return b-f}function Sc(a){return 2*a.length}\nfunction Tc(a,b){for(var c=0,f=\"\";!(c>=b/4);){var g=M[a+4*c>>2];if(0==g)break;++c;65536<=g?(g-=65536,f+=String.fromCharCode(55296|g>>10,56320|g&1023)):f+=String.fromCharCode(g)}return f}function Uc(a,b,c){void 0===c&&(c=2147483647);if(4>c)return 0;var f=b;c=f+c-4;for(var g=0;g<a.length;++g){var m=a.charCodeAt(g);if(55296<=m&&57343>=m){var q=a.charCodeAt(++g);m=65536+((m&1023)<<10)|q&1023}M[b>>2]=m;b+=4;if(b+4>c)break}M[b>>2]=0;return b-f}\nfunction Vc(a){for(var b=0,c=0;c<a.length;++c){var f=a.charCodeAt(c);55296<=f&&57343>=f&&++c;b+=4}return b}var Wc={};function Xc(a){var b=Wc[a];return void 0===b?Hb(a):b}var Yc=[];function Zc(a){var b=Yc.length;Yc.push(a);return b}function $c(a,b){for(var c=Array(a),f=0;f<a;++f)c[f]=Mc(Xa[b+4*f>>2],\"parameter \"+f);return c}var ad=[],bd;bd=va?()=>{var a=process.hrtime();return 1E3*a[0]+a[1]/1E6}:()=>performance.now();\nfunction cd(a){var b=a.getExtension(\"ANGLE_instanced_arrays\");b&&(a.vertexAttribDivisor=function(c,f){b.vertexAttribDivisorANGLE(c,f)},a.drawArraysInstanced=function(c,f,g,m){b.drawArraysInstancedANGLE(c,f,g,m)},a.drawElementsInstanced=function(c,f,g,m,q){b.drawElementsInstancedANGLE(c,f,g,m,q)})}\nfunction dd(a){var b=a.getExtension(\"OES_vertex_array_object\");b&&(a.createVertexArray=function(){return b.createVertexArrayOES()},a.deleteVertexArray=function(c){b.deleteVertexArrayOES(c)},a.bindVertexArray=function(c){b.bindVertexArrayOES(c)},a.isVertexArray=function(c){return b.isVertexArrayOES(c)})}function ed(a){var b=a.getExtension(\"WEBGL_draw_buffers\");b&&(a.drawBuffers=function(c,f){b.drawBuffersWEBGL(c,f)})}\nvar fd=1,gd=[],hd=[],jd=[],kd=[],ld=[],md=[],nd=[],ja=[],od=[],pd=[],qd={},rd={},sd=4;function V(a){td||(td=a)}function ud(a){for(var b=fd++,c=a.length;c<b;c++)a[c]=null;return b}function fa(a,b){a.cf||(a.cf=a.getContext,a.getContext=function(f,g){g=a.cf(f,g);return\"webgl\"==f==g instanceof WebGLRenderingContext?g:null});var c=1<b.majorVersion?a.getContext(\"webgl2\",b):a.getContext(\"webgl\",b);return c?yd(c,b):0}\nfunction yd(a,b){var c=ud(ja),f={Jf:c,attributes:b,version:b.majorVersion,ze:a};a.canvas&&(a.canvas.df=f);ja[c]=f;(\"undefined\"==typeof b.zf||b.zf)&&zd(f);return c}function ia(a){u=ja[a];t.gg=W=u&&u.ze;return!(a&&!W)}\nfunction zd(a){a||(a=u);if(!a.Lf){a.Lf=!0;var b=a.ze;cd(b);dd(b);ed(b);b.hf=b.getExtension(\"WEBGL_draw_instanced_base_vertex_base_instance\");b.lf=b.getExtension(\"WEBGL_multi_draw_instanced_base_vertex_base_instance\");2<=a.version&&(b.jf=b.getExtension(\"EXT_disjoint_timer_query_webgl2\"));if(2>a.version||!b.jf)b.jf=b.getExtension(\"EXT_disjoint_timer_query\");b.hg=b.getExtension(\"WEBGL_multi_draw\");(b.getSupportedExtensions()||[]).forEach(function(c){c.includes(\"lose_context\")||c.includes(\"debug\")||b.getExtension(c)})}}\nvar td,u,Ad=[];function Bd(a,b,c,f){for(var g=0;g<a;g++){var m=W[c](),q=m&&ud(f);m?(m.name=q,f[q]=m):V(1282);M[b+4*g>>2]=q}}\nfunction Cd(a,b){if(b){var c=void 0;switch(a){case 36346:c=1;break;case 36344:return;case 34814:case 36345:c=0;break;case 34466:var f=W.getParameter(34467);c=f?f.length:0;break;case 33309:if(2>u.version){V(1282);return}c=2*(W.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>u.version){V(1280);return}c=33307==a?3:0}if(void 0===c)switch(f=W.getParameter(a),typeof f){case \"number\":c=f;break;case \"boolean\":c=f?1:0;break;case \"string\":V(1280);return;case \"object\":if(null===f)switch(a){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:c=\n0;break;default:V(1280);return}else{if(f instanceof Float32Array||f instanceof Uint32Array||f instanceof Int32Array||f instanceof Array){for(a=0;a<f.length;++a)M[b+4*a>>2]=f[a];return}try{c=f.name|0}catch(g){V(1280);Ga(\"GL_INVALID_ENUM in glGet0v: Unknown object returned from WebGL getParameter(\"+a+\")! (error: \"+g+\")\");return}}break;default:V(1280);Ga(\"GL_INVALID_ENUM in glGet0v: Native code calling glGet0v(\"+a+\") and it returns \"+f+\" of type \"+typeof f+\"!\");return}M[b>>2]=c}else V(1281)}\nfunction Dd(a){var b=ka(a)+1,c=Ed(b);la(a,F,c,b);return c}function Fd(a){return\"]\"==a.slice(-1)&&a.lastIndexOf(\"[\")}function Gd(a){a-=5120;return 0==a?Ua:1==a?F:2==a?Va:4==a?M:6==a?S:5==a||28922==a||28520==a||30779==a||30782==a?Xa:Wa}function Hd(a,b,c,f,g){a=Gd(a);var m=31-Math.clz32(a.BYTES_PER_ELEMENT),q=sd;return a.subarray(g>>m,g+f*(c*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[b-6402]||1)*(1<<m)+q-1&-q)>>m)}\nfunction Y(a){var b=W.xf;if(b){var c=b.He[a];\"number\"==typeof c&&(b.He[a]=c=W.getUniformLocation(b,b.nf[a]+(0<c?\"[\"+c+\"]\":\"\")));return c}V(1282)}var Id=[],Jd=[],Kd={};\nfunction Ld(){if(!Md){var a={USER:\"web_user\",LOGNAME:\"web_user\",PATH:\"/\",PWD:\"/\",HOME:\"/home/web_user\",LANG:(\"object\"==typeof navigator&&navigator.languages&&navigator.languages[0]||\"C\").replace(\"-\",\"_\")+\".UTF-8\",_:ra||\"./this.program\"},b;for(b in Kd)void 0===Kd[b]?delete a[b]:a[b]=Kd[b];var c=[];for(b in a)c.push(b+\"=\"+a[b]);Md=c}return Md}var Md,Nd=[null,[],[]];function Od(a){return 0===a%4&&(0!==a%100||0===a%400)}\nvar Pd=[31,29,31,30,31,30,31,31,30,31,30,31],Qd=[31,28,31,30,31,30,31,31,30,31,30,31];function Rd(a){var b=Array(ka(a)+1);la(a,b,0,b.length);return b}\nfunction Sd(a,b,c,f){function g(y,K,Q){for(y=\"number\"==typeof y?y.toString():y||\"\";y.length<K;)y=Q[0]+y;return y}function m(y,K){return g(y,K,\"0\")}function q(y,K){function Q(X){return 0>X?-1:0<X?1:0}var Z;0===(Z=Q(y.getFullYear()-K.getFullYear()))&&0===(Z=Q(y.getMonth()-K.getMonth()))&&(Z=Q(y.getDate()-K.getDate()));return Z}function p(y){switch(y.getDay()){case 0:return new Date(y.getFullYear()-1,11,29);case 1:return y;case 2:return new Date(y.getFullYear(),0,3);case 3:return new Date(y.getFullYear(),\n0,2);case 4:return new Date(y.getFullYear(),0,1);case 5:return new Date(y.getFullYear()-1,11,31);case 6:return new Date(y.getFullYear()-1,11,30)}}function x(y){var K=y.fe;for(y=new Date((new Date(y.ge+1900,0,1)).getTime());0<K;){var Q=y.getMonth(),Z=(Od(y.getFullYear())?Pd:Qd)[Q];if(K>Z-y.getDate())K-=Z-y.getDate()+1,y.setDate(1),11>Q?y.setMonth(Q+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1));else{y.setDate(y.getDate()+K);break}}Q=new Date(y.getFullYear()+1,0,4);K=p(new Date(y.getFullYear(),\n0,4));Q=p(Q);return 0>=q(K,y)?0>=q(Q,y)?y.getFullYear()+1:y.getFullYear():y.getFullYear()-1}var v=M[f+40>>2];f={eg:M[f>>2],dg:M[f+4>>2],Re:M[f+8>>2],af:M[f+12>>2],Se:M[f+16>>2],ge:M[f+20>>2],Zd:M[f+24>>2],fe:M[f+28>>2],kg:M[f+32>>2],cg:M[f+36>>2],fg:v?Ta(v):\"\"};c=Ta(c);v={\"%c\":\"%a %b %d %H:%M:%S %Y\",\"%D\":\"%m/%d/%y\",\"%F\":\"%Y-%m-%d\",\"%h\":\"%b\",\"%r\":\"%I:%M:%S %p\",\"%R\":\"%H:%M\",\"%T\":\"%H:%M:%S\",\"%x\":\"%m/%d/%y\",\"%X\":\"%H:%M:%S\",\"%Ec\":\"%c\",\"%EC\":\"%C\",\"%Ex\":\"%m/%d/%y\",\"%EX\":\"%H:%M:%S\",\"%Ey\":\"%y\",\"%EY\":\"%Y\",\n\"%Od\":\"%d\",\"%Oe\":\"%e\",\"%OH\":\"%H\",\"%OI\":\"%I\",\"%Om\":\"%m\",\"%OM\":\"%M\",\"%OS\":\"%S\",\"%Ou\":\"%u\",\"%OU\":\"%U\",\"%OV\":\"%V\",\"%Ow\":\"%w\",\"%OW\":\"%W\",\"%Oy\":\"%y\"};for(var G in v)c=c.replace(new RegExp(G,\"g\"),v[G]);var J=\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday\".split(\" \"),O=\"January February March April May June July August September October November December\".split(\" \");v={\"%a\":function(y){return J[y.Zd].substring(0,3)},\"%A\":function(y){return J[y.Zd]},\"%b\":function(y){return O[y.Se].substring(0,3)},\n\"%B\":function(y){return O[y.Se]},\"%C\":function(y){return m((y.ge+1900)/100|0,2)},\"%d\":function(y){return m(y.af,2)},\"%e\":function(y){return g(y.af,2,\" \")},\"%g\":function(y){return x(y).toString().substring(2)},\"%G\":function(y){return x(y)},\"%H\":function(y){return m(y.Re,2)},\"%I\":function(y){y=y.Re;0==y?y=12:12<y&&(y-=12);return m(y,2)},\"%j\":function(y){for(var K=0,Q=0;Q<=y.Se-1;K+=(Od(y.ge+1900)?Pd:Qd)[Q++]);return m(y.af+K,3)},\"%m\":function(y){return m(y.Se+1,2)},\"%M\":function(y){return m(y.dg,2)},\n\"%n\":function(){return\"\\n\"},\"%p\":function(y){return 0<=y.Re&&12>y.Re?\"AM\":\"PM\"},\"%S\":function(y){return m(y.eg,2)},\"%t\":function(){return\"\\t\"},\"%u\":function(y){return y.Zd||7},\"%U\":function(y){return m(Math.floor((y.fe+7-y.Zd)/7),2)},\"%V\":function(y){var K=Math.floor((y.fe+7-(y.Zd+6)%7)/7);2>=(y.Zd+371-y.fe-2)%7&&K++;if(K)53==K&&(Q=(y.Zd+371-y.fe)%7,4==Q||3==Q&&Od(y.ge)||(K=1));else{K=52;var Q=(y.Zd+7-y.fe-1)%7;(4==Q||5==Q&&Od(y.ge%400-1))&&K++}return m(K,2)},\"%w\":function(y){return y.Zd},\"%W\":function(y){return m(Math.floor((y.fe+\n7-(y.Zd+6)%7)/7),2)},\"%y\":function(y){return(y.ge+1900).toString().substring(2)},\"%Y\":function(y){return y.ge+1900},\"%z\":function(y){y=y.cg;var K=0<=y;y=Math.abs(y)/60;return(K?\"+\":\"-\")+String(\"0000\"+(y/60*100+y%60)).slice(-4)},\"%Z\":function(y){return y.fg},\"%%\":function(){return\"%\"}};c=c.replace(/%%/g,\"\\x00\\x00\");for(G in v)c.includes(G)&&(c=c.replace(new RegExp(G,\"g\"),v[G](f)));c=c.replace(/\\0\\0/g,\"%\");G=Rd(c);if(G.length>b)return 0;Ua.set(G,a);return G.length-1}Bb=t.InternalError=Ab(\"InternalError\");\nfor(var Td=Array(256),Ud=0;256>Ud;++Ud)Td[Ud]=String.fromCharCode(Ud);Gb=Td;Ib=t.BindingError=Ab(\"BindingError\");cc.prototype.isAliasOf=function(a){if(!(this instanceof cc&&a instanceof cc))return!1;var b=this.Cd.Md.Gd,c=this.Cd.Kd,f=a.Cd.Md.Gd;for(a=a.Cd.Kd;b.Yd;)c=b.Ie(c),b=b.Yd;for(;f.Yd;)a=f.Ie(a),f=f.Yd;return b===f&&c===a};\ncc.prototype.clone=function(){this.Cd.Kd||Jb(this);if(this.Cd.Ge)return this.Cd.count.value+=1,this;var a=bc,b=Object,c=b.create,f=Object.getPrototypeOf(this),g=this.Cd;a=a(c.call(b,f,{Cd:{value:{count:g.count,xe:g.xe,Ge:g.Ge,Kd:g.Kd,Md:g.Md,Rd:g.Rd,Wd:g.Wd}}}));a.Cd.count.value+=1;a.Cd.xe=!1;return a};cc.prototype[\"delete\"]=function(){this.Cd.Kd||Jb(this);this.Cd.xe&&!this.Cd.Ge&&T(\"Object already scheduled for deletion\");Lb(this);Mb(this.Cd);this.Cd.Ge||(this.Cd.Rd=void 0,this.Cd.Kd=void 0)};\ncc.prototype.isDeleted=function(){return!this.Cd.Kd};cc.prototype.deleteLater=function(){this.Cd.Kd||Jb(this);this.Cd.xe&&!this.Cd.Ge&&T(\"Object already scheduled for deletion\");Pb.push(this);1===Pb.length&&Rb&&Rb(Qb);this.Cd.xe=!0;return this};t.getInheritedInstanceCount=function(){return Object.keys(Sb).length};t.getLiveInheritedInstances=function(){var a=[],b;for(b in Sb)Sb.hasOwnProperty(b)&&a.push(Sb[b]);return a};t.flushPendingDeletes=Qb;t.setDelayFunction=function(a){Rb=a;Pb.length&&Rb&&Rb(Qb)};\nmc.prototype.Ff=function(a){this.mf&&(a=this.mf(a));return a};mc.prototype.gf=function(a){this.ae&&this.ae(a)};mc.prototype.argPackAdvance=8;mc.prototype.readValueFromPointer=tb;mc.prototype.deleteObject=function(a){if(null!==a)a[\"delete\"]()};\nmc.prototype.fromWireType=function(a){function b(){return this.Ne?ac(this.Gd.ye,{Md:this.Qf,Kd:c,Wd:this,Rd:a}):ac(this.Gd.ye,{Md:this,Kd:a})}var c=this.Ff(a);if(!c)return this.gf(a),null;var f=$b(this.Gd,c);if(void 0!==f){if(0===f.Cd.count.value)return f.Cd.Kd=c,f.Cd.Rd=a,f.clone();f=f.clone();this.gf(a);return f}f=this.Gd.Ef(c);f=Ob[f];if(!f)return b.call(this);f=this.Me?f.vf:f.pointerType;var g=Nb(c,this.Gd,f.Gd);return null===g?b.call(this):this.Ne?ac(f.Gd.ye,{Md:f,Kd:g,Wd:this,Rd:a}):ac(f.Gd.ye,\n{Md:f,Kd:g})};rc=t.UnboundTypeError=Ab(\"UnboundTypeError\");t.count_emval_handles=function(){for(var a=0,b=5;b<Ic.length;++b)void 0!==Ic[b]&&++a;return a};t.get_first_emval=function(){for(var a=5;a<Ic.length;++a)if(void 0!==Ic[a])return Ic[a];return null};for(var W,Vd=0;32>Vd;++Vd)Ad.push(Array(Vd));var Wd=new Float32Array(288);for(Vd=0;288>Vd;++Vd)Id[Vd]=Wd.subarray(0,Vd+1);var Xd=new Int32Array(288);for(Vd=0;288>Vd;++Vd)Jd[Vd]=Xd.subarray(0,Vd+1);\nvar me={H:function(){return 0},xb:function(){},zb:function(){return 0},ub:function(){},Ab:function(){},vb:function(){},P:function(a){var b=rb[a];delete rb[a];var c=b.Ze,f=b.ae,g=b.kf,m=g.map(q=>q.If).concat(g.map(q=>q.Vf));Db([a],m,q=>{var p={};g.forEach((x,v)=>{var G=q[v],J=x.Gf,O=x.Hf,y=q[v+g.length],K=x.Uf,Q=x.Wf;p[x.Af]={read:Z=>G.fromWireType(J(O,Z)),write:(Z,X)=>{var ma=[];K(Q,Z,y.toWireType(ma,X));sb(ma)}}});return[{name:b.name,fromWireType:function(x){var v={},G;for(G in p)v[G]=p[G].read(x);\nf(x);return v},toWireType:function(x,v){for(var G in p)if(!(G in v))throw new TypeError('Missing field:  \"'+G+'\"');var J=c();for(G in p)p[G].write(J,v[G]);null!==x&&x.push(f,J);return J},argPackAdvance:8,readValueFromPointer:tb,Vd:f}]})},kb:function(){},Cb:function(a,b,c,f,g){var m=Fb(c);b=Hb(b);Eb(a,{name:b,fromWireType:function(q){return!!q},toWireType:function(q,p){return p?f:g},argPackAdvance:8,readValueFromPointer:function(q){if(1===c)var p=Ua;else if(2===c)p=Va;else if(4===c)p=M;else throw new TypeError(\"Unknown boolean type size: \"+\nb);return this.fromWireType(p[q>>m])},Vd:null})},i:function(a,b,c,f,g,m,q,p,x,v,G,J,O){G=Hb(G);m=qc(g,m);p&&(p=qc(q,p));v&&(v=qc(x,v));O=qc(J,O);var y=yb(G);ec(y,function(){vc(\"Cannot construct \"+G+\" due to unbound types\",[f])});Db([a,b,c],f?[f]:[],function(K){K=K[0];if(f){var Q=K.Gd;var Z=Q.ye}else Z=cc.prototype;K=zb(y,function(){if(Object.getPrototypeOf(this)!==X)throw new Ib(\"Use 'new' to construct \"+G);if(void 0===ma.ee)throw new Ib(G+\" has no accessible constructor\");var fb=ma.ee[arguments.length];\nif(void 0===fb)throw new Ib(\"Tried to invoke ctor of \"+G+\" with invalid number of parameters (\"+arguments.length+\") - expected (\"+Object.keys(ma.ee).toString()+\") parameters instead!\");return fb.apply(this,arguments)});var X=Object.create(Z,{constructor:{value:K}});K.prototype=X;var ma=new fc(G,K,X,O,Q,m,p,v);Q=new mc(G,ma,!0,!1,!1);Z=new mc(G+\"*\",ma,!1,!1,!1);var eb=new mc(G+\" const*\",ma,!1,!0,!1);Ob[a]={pointerType:Z,vf:eb};nc(y,K);return[Q,Z,eb]})},g:function(a,b,c,f,g,m,q){var p=yc(c,f);b=Hb(b);\nm=qc(g,m);Db([],[a],function(x){function v(){vc(\"Cannot call \"+G+\" due to unbound types\",p)}x=x[0];var G=x.name+\".\"+b;b.startsWith(\"@@\")&&(b=Symbol[b.substring(2)]);var J=x.Gd.constructor;void 0===J[b]?(v.ve=c-1,J[b]=v):(dc(J,b,G),J[b].Od[c-1]=v);Db([],p,function(O){O=[O[0],null].concat(O.slice(1));O=xc(G,O,null,m,q);void 0===J[b].Od?(O.ve=c-1,J[b]=O):J[b].Od[c-1]=O;return[]});return[]})},r:function(a,b,c,f,g,m){0<b||Na();var q=yc(b,c);g=qc(f,g);Db([],[a],function(p){p=p[0];var x=\"constructor \"+p.name;\nvoid 0===p.Gd.ee&&(p.Gd.ee=[]);if(void 0!==p.Gd.ee[b-1])throw new Ib(\"Cannot register multiple constructors with identical number of parameters (\"+(b-1)+\") for class '\"+p.name+\"'! Overload resolution is currently only performed using the parameter count, not actual type info!\");p.Gd.ee[b-1]=()=>{vc(\"Cannot construct \"+p.name+\" due to unbound types\",q)};Db([],q,function(v){v.splice(1,0,null);p.Gd.ee[b-1]=xc(x,v,null,g,m);return[]});return[]})},b:function(a,b,c,f,g,m,q,p){var x=yc(c,f);b=Hb(b);m=qc(g,\nm);Db([],[a],function(v){function G(){vc(\"Cannot call \"+J+\" due to unbound types\",x)}v=v[0];var J=v.name+\".\"+b;b.startsWith(\"@@\")&&(b=Symbol[b.substring(2)]);p&&v.Gd.Rf.push(b);var O=v.Gd.ye,y=O[b];void 0===y||void 0===y.Od&&y.className!==v.name&&y.ve===c-2?(G.ve=c-2,G.className=v.name,O[b]=G):(dc(O,b,J),O[b].Od[c-2]=G);Db([],x,function(K){K=xc(J,K,v,m,q);void 0===O[b].Od?(K.ve=c-2,O[b]=K):O[b].Od[c-2]=K;return[]});return[]})},O:function(a,b,c){a=Hb(a);Db([],[b],function(f){f=f[0];t[a]=f.fromWireType(c);\nreturn[]})},Bb:function(a,b){b=Hb(b);Eb(a,{name:b,fromWireType:function(c){var f=Kc(c);Jc(c);return f},toWireType:function(c,f){return kc(f)},argPackAdvance:8,readValueFromPointer:tb,Vd:null})},k:function(a,b,c,f){function g(){}c=Fb(c);b=Hb(b);g.values={};Eb(a,{name:b,constructor:g,fromWireType:function(m){return this.constructor.values[m]},toWireType:function(m,q){return q.value},argPackAdvance:8,readValueFromPointer:Lc(b,c,f),Vd:null});ec(b,g)},c:function(a,b,c){var f=Mc(a,\"enum\");b=Hb(b);a=f.constructor;\nf=Object.create(f.constructor.prototype,{value:{value:c},constructor:{value:zb(f.name+\"_\"+b,function(){})}});a.values[c]=f;a[b]=f},L:function(a,b,c){c=Fb(c);b=Hb(b);Eb(a,{name:b,fromWireType:function(f){return f},toWireType:function(f,g){return g},argPackAdvance:8,readValueFromPointer:Nc(b,c),Vd:null})},q:function(a,b,c,f,g,m){var q=yc(b,c);a=Hb(a);g=qc(f,g);ec(a,function(){vc(\"Cannot call \"+a+\" due to unbound types\",q)},b-1);Db([],q,function(p){p=[p[0],null].concat(p.slice(1));nc(a,xc(a,p,null,g,\nm),b-1);return[]})},s:function(a,b,c,f,g){b=Hb(b);-1===g&&(g=4294967295);g=Fb(c);var m=p=>p;if(0===f){var q=32-8*c;m=p=>p<<q>>>q}c=b.includes(\"unsigned\")?function(p,x){return x>>>0}:function(p,x){return x};Eb(a,{name:b,fromWireType:m,toWireType:c,argPackAdvance:8,readValueFromPointer:Oc(b,g,0!==f),Vd:null})},n:function(a,b,c){function f(m){m>>=2;var q=Xa;return new g(q.buffer,q[m+1],q[m])}var g=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][b];c=Hb(c);\nEb(a,{name:c,fromWireType:f,argPackAdvance:8,readValueFromPointer:f},{Kf:!0})},o:function(a,b,c,f,g,m,q,p,x,v,G,J){c=Hb(c);m=qc(g,m);p=qc(q,p);v=qc(x,v);J=qc(G,J);Db([a],[b],function(O){O=O[0];return[new mc(c,O.Gd,!1,!1,!0,O,f,m,p,v,J)]})},K:function(a,b){b=Hb(b);var c=\"std::string\"===b;Eb(a,{name:b,fromWireType:function(f){var g=Xa[f>>2],m=f+4;if(c)for(var q=m,p=0;p<=g;++p){var x=m+p;if(p==g||0==F[x]){q=Ta(q,x-q);if(void 0===v)var v=q;else v+=String.fromCharCode(0),v+=q;q=x+1}}else{v=Array(g);for(p=\n0;p<g;++p)v[p]=String.fromCharCode(F[m+p]);v=v.join(\"\")}uc(f);return v},toWireType:function(f,g){g instanceof ArrayBuffer&&(g=new Uint8Array(g));var m,q=\"string\"==typeof g;q||g instanceof Uint8Array||g instanceof Uint8ClampedArray||g instanceof Int8Array||T(\"Cannot pass non-string to std::string\");c&&q?m=ka(g):m=g.length;var p=Ed(4+m+1),x=p+4;Xa[p>>2]=m;if(c&&q)la(g,F,x,m+1);else if(q)for(q=0;q<m;++q){var v=g.charCodeAt(q);255<v&&(uc(x),T(\"String has UTF-16 code units that do not fit in 8 bits\"));\nF[x+q]=v}else for(q=0;q<m;++q)F[x+q]=g[q];null!==f&&f.push(uc,p);return p},argPackAdvance:8,readValueFromPointer:tb,Vd:function(f){uc(f)}})},B:function(a,b,c){c=Hb(c);if(2===b){var f=Qc;var g=Rc;var m=Sc;var q=()=>Wa;var p=1}else 4===b&&(f=Tc,g=Uc,m=Vc,q=()=>Xa,p=2);Eb(a,{name:c,fromWireType:function(x){for(var v=Xa[x>>2],G=q(),J,O=x+4,y=0;y<=v;++y){var K=x+4+y*b;if(y==v||0==G[K>>p])O=f(O,K-O),void 0===J?J=O:(J+=String.fromCharCode(0),J+=O),O=K+b}uc(x);return J},toWireType:function(x,v){\"string\"!=\ntypeof v&&T(\"Cannot pass non-string to C++ string type \"+c);var G=m(v),J=Ed(4+G+b);Xa[J>>2]=G>>p;g(v,J+4,G+b);null!==x&&x.push(uc,J);return J},argPackAdvance:8,readValueFromPointer:tb,Vd:function(x){uc(x)}})},J:function(a,b,c,f,g,m){rb[a]={name:Hb(b),Ze:qc(c,f),ae:qc(g,m),kf:[]}},v:function(a,b,c,f,g,m,q,p,x,v){rb[a].kf.push({Af:Hb(b),If:c,Gf:qc(f,g),Hf:m,Vf:q,Uf:qc(p,x),Wf:v})},Db:function(a,b){b=Hb(b);Eb(a,{Mf:!0,name:b,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},rb:function(){return!0},\nmb:function(){throw Infinity;},gb:function(a,b,c,f,g){a=Yc[a];b=Kc(b);c=Xc(c);var m=[];Xa[f>>2]=kc(m);return a(b,c,m,g)},w:function(a,b,c,f){a=Yc[a];b=Kc(b);c=Xc(c);a(b,c,null,f)},p:Jc,u:function(a,b){var c=$c(a,b),f=c[0];b=f.name+\"_$\"+c.slice(1).map(function(G){return G.name}).join(\"_\")+\"$\";var g=ad[b];if(void 0!==g)return g;g=[\"retType\"];for(var m=[f],q=\"\",p=0;p<a-1;++p)q+=(0!==p?\", \":\"\")+\"arg\"+p,g.push(\"argType\"+p),m.push(c[1+p]);var x=\"return function \"+yb(\"methodCaller_\"+b)+\"(handle, name, destructors, args) {\\n\",\nv=0;for(p=0;p<a-1;++p)x+=\"    var arg\"+p+\" = argType\"+p+\".readValueFromPointer(args\"+(v?\"+\"+v:\"\")+\");\\n\",v+=c[p+1].argPackAdvance;x+=\"    var rv = handle[name](\"+q+\");\\n\";for(p=0;p<a-1;++p)c[p+1].deleteObject&&(x+=\"    argType\"+p+\".deleteObject(arg\"+p+\");\\n\");f.Mf||(x+=\"    return retType.toWireType(destructors, rv);\\n\");g.push(x+\"};\\n\");a=wc(g).apply(null,m);g=Zc(a);return ad[b]=g},t:function(a){4<a&&(Ic[a].$e+=1)},D:function(){return kc([])},x:function(a){return kc(Xc(a))},hb:function(){return kc({})},\nfb:function(a){var b=Kc(a);sb(b);Jc(a)},A:function(a,b,c){a=Kc(a);b=Kc(b);c=Kc(c);a[b]=c},y:function(a,b){a=Mc(a,\"_emval_take_value\");a=a.readValueFromPointer(b);return kc(a)},ob:function(){return-52},pb:function(){},a:function(){Na(\"\")},qb:bd,Xc:function(a){W.activeTexture(a)},R:function(a,b){W.attachShader(hd[a],md[b])},S:function(a,b,c){W.bindAttribLocation(hd[a],b,Ta(c))},T:function(a,b){35051==a?W.Xe=b:35052==a&&(W.we=b);W.bindBuffer(a,gd[b])},_b:function(a,b){W.bindFramebuffer(a,jd[b])},$b:function(a,\nb){W.bindRenderbuffer(a,kd[b])},Mb:function(a,b){W.bindSampler(a,od[b])},U:function(a,b){W.bindTexture(a,ld[b])},tc:function(a){W.bindVertexArray(nd[a])},wc:function(a){W.bindVertexArray(nd[a])},V:function(a,b,c,f){W.blendColor(a,b,c,f)},W:function(a){W.blendEquation(a)},X:function(a,b){W.blendFunc(a,b)},Tb:function(a,b,c,f,g,m,q,p,x,v){W.blitFramebuffer(a,b,c,f,g,m,q,p,x,v)},Y:function(a,b,c,f){2<=u.version?c&&b?W.bufferData(a,F,f,c,b):W.bufferData(a,b,f):W.bufferData(a,c?F.subarray(c,c+b):b,f)},\nZ:function(a,b,c,f){2<=u.version?c&&W.bufferSubData(a,b,F,f,c):W.bufferSubData(a,b,F.subarray(f,f+c))},ac:function(a){return W.checkFramebufferStatus(a)},_:function(a){W.clear(a)},$:function(a,b,c,f){W.clearColor(a,b,c,f)},aa:function(a){W.clearStencil(a)},cb:function(a,b,c,f){return W.clientWaitSync(pd[a],b,(c>>>0)+4294967296*f)},ba:function(a,b,c,f){W.colorMask(!!a,!!b,!!c,!!f)},ca:function(a){W.compileShader(md[a])},da:function(a,b,c,f,g,m,q,p){2<=u.version?W.we||!q?W.compressedTexImage2D(a,b,\nc,f,g,m,q,p):W.compressedTexImage2D(a,b,c,f,g,m,F,p,q):W.compressedTexImage2D(a,b,c,f,g,m,p?F.subarray(p,p+q):null)},ea:function(a,b,c,f,g,m,q,p,x){2<=u.version?W.we||!p?W.compressedTexSubImage2D(a,b,c,f,g,m,q,p,x):W.compressedTexSubImage2D(a,b,c,f,g,m,q,F,x,p):W.compressedTexSubImage2D(a,b,c,f,g,m,q,x?F.subarray(x,x+p):null)},fa:function(a,b,c,f,g,m,q,p){W.copyTexSubImage2D(a,b,c,f,g,m,q,p)},ga:function(){var a=ud(hd),b=W.createProgram();b.name=a;b.Qe=b.Oe=b.Pe=0;b.bf=1;hd[a]=b;return a},ha:function(a){var b=\nud(md);md[b]=W.createShader(a);return b},ia:function(a){W.cullFace(a)},ja:function(a,b){for(var c=0;c<a;c++){var f=M[b+4*c>>2],g=gd[f];g&&(W.deleteBuffer(g),g.name=0,gd[f]=null,f==W.Xe&&(W.Xe=0),f==W.we&&(W.we=0))}},bc:function(a,b){for(var c=0;c<a;++c){var f=M[b+4*c>>2],g=jd[f];g&&(W.deleteFramebuffer(g),g.name=0,jd[f]=null)}},ka:function(a){if(a){var b=hd[a];b?(W.deleteProgram(b),b.name=0,hd[a]=null):V(1281)}},cc:function(a,b){for(var c=0;c<a;c++){var f=M[b+4*c>>2],g=kd[f];g&&(W.deleteRenderbuffer(g),\ng.name=0,kd[f]=null)}},Nb:function(a,b){for(var c=0;c<a;c++){var f=M[b+4*c>>2],g=od[f];g&&(W.deleteSampler(g),g.name=0,od[f]=null)}},la:function(a){if(a){var b=md[a];b?(W.deleteShader(b),md[a]=null):V(1281)}},Vb:function(a){if(a){var b=pd[a];b?(W.deleteSync(b),b.name=0,pd[a]=null):V(1281)}},ma:function(a,b){for(var c=0;c<a;c++){var f=M[b+4*c>>2],g=ld[f];g&&(W.deleteTexture(g),g.name=0,ld[f]=null)}},uc:function(a,b){for(var c=0;c<a;c++){var f=M[b+4*c>>2];W.deleteVertexArray(nd[f]);nd[f]=null}},xc:function(a,\nb){for(var c=0;c<a;c++){var f=M[b+4*c>>2];W.deleteVertexArray(nd[f]);nd[f]=null}},na:function(a){W.depthMask(!!a)},oa:function(a){W.disable(a)},pa:function(a){W.disableVertexAttribArray(a)},qa:function(a,b,c){W.drawArrays(a,b,c)},rc:function(a,b,c,f){W.drawArraysInstanced(a,b,c,f)},pc:function(a,b,c,f,g){W.hf.drawArraysInstancedBaseInstanceWEBGL(a,b,c,f,g)},nc:function(a,b){for(var c=Ad[a],f=0;f<a;f++)c[f]=M[b+4*f>>2];W.drawBuffers(c)},ra:function(a,b,c,f){W.drawElements(a,b,c,f)},sc:function(a,b,\nc,f,g){W.drawElementsInstanced(a,b,c,f,g)},qc:function(a,b,c,f,g,m,q){W.hf.drawElementsInstancedBaseVertexBaseInstanceWEBGL(a,b,c,f,g,m,q)},hc:function(a,b,c,f,g,m){W.drawElements(a,f,g,m)},sa:function(a){W.enable(a)},ta:function(a){W.enableVertexAttribArray(a)},Rb:function(a,b){return(a=W.fenceSync(a,b))?(b=ud(pd),a.name=b,pd[b]=a,b):0},ua:function(){W.finish()},va:function(){W.flush()},dc:function(a,b,c,f){W.framebufferRenderbuffer(a,b,c,kd[f])},ec:function(a,b,c,f,g){W.framebufferTexture2D(a,b,\nc,ld[f],g)},wa:function(a){W.frontFace(a)},xa:function(a,b){Bd(a,b,\"createBuffer\",gd)},fc:function(a,b){Bd(a,b,\"createFramebuffer\",jd)},gc:function(a,b){Bd(a,b,\"createRenderbuffer\",kd)},Ob:function(a,b){Bd(a,b,\"createSampler\",od)},ya:function(a,b){Bd(a,b,\"createTexture\",ld)},vc:function(a,b){Bd(a,b,\"createVertexArray\",nd)},yc:function(a,b){Bd(a,b,\"createVertexArray\",nd)},Wb:function(a){W.generateMipmap(a)},za:function(a,b,c){c?M[c>>2]=W.getBufferParameter(a,b):V(1281)},Aa:function(){var a=W.getError()||\ntd;td=0;return a},Xb:function(a,b,c,f){a=W.getFramebufferAttachmentParameter(a,b,c);if(a instanceof WebGLRenderbuffer||a instanceof WebGLTexture)a=a.name|0;M[f>>2]=a},ab:function(a,b){Cd(a,b)},Ba:function(a,b,c,f){a=W.getProgramInfoLog(hd[a]);null===a&&(a=\"(unknown error)\");b=0<b&&f?la(a,F,f,b):0;c&&(M[c>>2]=b)},Ca:function(a,b,c){if(c)if(a>=fd)V(1281);else if(a=hd[a],35716==b)a=W.getProgramInfoLog(a),null===a&&(a=\"(unknown error)\"),M[c>>2]=a.length+1;else if(35719==b){if(!a.Qe)for(b=0;b<W.getProgramParameter(a,\n35718);++b)a.Qe=Math.max(a.Qe,W.getActiveUniform(a,b).name.length+1);M[c>>2]=a.Qe}else if(35722==b){if(!a.Oe)for(b=0;b<W.getProgramParameter(a,35721);++b)a.Oe=Math.max(a.Oe,W.getActiveAttrib(a,b).name.length+1);M[c>>2]=a.Oe}else if(35381==b){if(!a.Pe)for(b=0;b<W.getProgramParameter(a,35382);++b)a.Pe=Math.max(a.Pe,W.getActiveUniformBlockName(a,b).length+1);M[c>>2]=a.Pe}else M[c>>2]=W.getProgramParameter(a,b);else V(1281)},Yb:function(a,b,c){c?M[c>>2]=W.getRenderbufferParameter(a,b):V(1281)},Da:function(a,\nb,c,f){a=W.getShaderInfoLog(md[a]);null===a&&(a=\"(unknown error)\");b=0<b&&f?la(a,F,f,b):0;c&&(M[c>>2]=b)},Jb:function(a,b,c,f){a=W.getShaderPrecisionFormat(a,b);M[c>>2]=a.rangeMin;M[c+4>>2]=a.rangeMax;M[f>>2]=a.precision},Ea:function(a,b,c){c?35716==b?(a=W.getShaderInfoLog(md[a]),null===a&&(a=\"(unknown error)\"),M[c>>2]=a?a.length+1:0):35720==b?(a=W.getShaderSource(md[a]),M[c>>2]=a?a.length+1:0):M[c>>2]=W.getShaderParameter(md[a],b):V(1281)},F:function(a){var b=qd[a];if(!b){switch(a){case 7939:b=W.getSupportedExtensions()||\n[];b=b.concat(b.map(function(f){return\"GL_\"+f}));b=Dd(b.join(\" \"));break;case 7936:case 7937:case 37445:case 37446:(b=W.getParameter(a))||V(1280);b=b&&Dd(b);break;case 7938:b=W.getParameter(7938);b=2<=u.version?\"OpenGL ES 3.0 (\"+b+\")\":\"OpenGL ES 2.0 (\"+b+\")\";b=Dd(b);break;case 35724:b=W.getParameter(35724);var c=b.match(/^WebGL GLSL ES ([0-9]\\.[0-9][0-9]?)(?:$| .*)/);null!==c&&(3==c[1].length&&(c[1]+=\"0\"),b=\"OpenGL ES GLSL ES \"+c[1]+\" (\"+b+\")\");b=Dd(b);break;default:V(1280)}qd[a]=b}return b},bb:function(a,\nb){if(2>u.version)return V(1282),0;var c=rd[a];if(c)return 0>b||b>=c.length?(V(1281),0):c[b];switch(a){case 7939:return c=W.getSupportedExtensions()||[],c=c.concat(c.map(function(f){return\"GL_\"+f})),c=c.map(function(f){return Dd(f)}),c=rd[a]=c,0>b||b>=c.length?(V(1281),0):c[b];default:return V(1280),0}},Fa:function(a,b){b=Ta(b);if(a=hd[a]){var c=a,f=c.He,g=c.pf,m;if(!f)for(c.He=f={},c.nf={},m=0;m<W.getProgramParameter(c,35718);++m){var q=W.getActiveUniform(c,m);var p=q.name;q=q.size;var x=Fd(p);x=\n0<x?p.slice(0,x):p;var v=c.bf;c.bf+=q;g[x]=[q,v];for(p=0;p<q;++p)f[v]=p,c.nf[v++]=x}c=a.He;f=0;g=b;m=Fd(b);0<m&&(f=parseInt(b.slice(m+1))>>>0,g=b.slice(0,m));if((g=a.pf[g])&&f<g[0]&&(f+=g[1],c[f]=c[f]||W.getUniformLocation(a,b)))return f}else V(1281);return-1},Kb:function(a,b,c){for(var f=Ad[b],g=0;g<b;g++)f[g]=M[c+4*g>>2];W.invalidateFramebuffer(a,f)},Lb:function(a,b,c,f,g,m,q){for(var p=Ad[b],x=0;x<b;x++)p[x]=M[c+4*x>>2];W.invalidateSubFramebuffer(a,p,f,g,m,q)},Sb:function(a){return W.isSync(pd[a])},\nGa:function(a){return(a=ld[a])?W.isTexture(a):0},Ha:function(a){W.lineWidth(a)},Ia:function(a){a=hd[a];W.linkProgram(a);a.He=0;a.pf={}},lc:function(a,b,c,f,g,m){W.lf.multiDrawArraysInstancedBaseInstanceWEBGL(a,M,b>>2,M,c>>2,M,f>>2,Xa,g>>2,m)},mc:function(a,b,c,f,g,m,q,p){W.lf.multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL(a,M,b>>2,c,M,f>>2,M,g>>2,M,m>>2,Xa,q>>2,p)},Ja:function(a,b){3317==a&&(sd=b);W.pixelStorei(a,b)},oc:function(a){W.readBuffer(a)},Ka:function(a,b,c,f,g,m,q){if(2<=u.version)if(W.Xe)W.readPixels(a,\nb,c,f,g,m,q);else{var p=Gd(m);W.readPixels(a,b,c,f,g,m,p,q>>31-Math.clz32(p.BYTES_PER_ELEMENT))}else(q=Hd(m,g,c,f,q))?W.readPixels(a,b,c,f,g,m,q):V(1280)},Zb:function(a,b,c,f){W.renderbufferStorage(a,b,c,f)},Ub:function(a,b,c,f,g){W.renderbufferStorageMultisample(a,b,c,f,g)},Pb:function(a,b,c){W.samplerParameteri(od[a],b,c)},Qb:function(a,b,c){W.samplerParameteri(od[a],b,M[c>>2])},La:function(a,b,c,f){W.scissor(a,b,c,f)},Ma:function(a,b,c,f){for(var g=\"\",m=0;m<b;++m){var q=f?M[f+4*m>>2]:-1;g+=Ta(M[c+\n4*m>>2],0>q?void 0:q)}W.shaderSource(md[a],g)},Na:function(a,b,c){W.stencilFunc(a,b,c)},Oa:function(a,b,c,f){W.stencilFuncSeparate(a,b,c,f)},Pa:function(a){W.stencilMask(a)},Qa:function(a,b){W.stencilMaskSeparate(a,b)},Ra:function(a,b,c){W.stencilOp(a,b,c)},Sa:function(a,b,c,f){W.stencilOpSeparate(a,b,c,f)},Ta:function(a,b,c,f,g,m,q,p,x){if(2<=u.version)if(W.we)W.texImage2D(a,b,c,f,g,m,q,p,x);else if(x){var v=Gd(p);W.texImage2D(a,b,c,f,g,m,q,p,v,x>>31-Math.clz32(v.BYTES_PER_ELEMENT))}else W.texImage2D(a,\nb,c,f,g,m,q,p,null);else W.texImage2D(a,b,c,f,g,m,q,p,x?Hd(p,q,f,g,x):null)},Ua:function(a,b,c){W.texParameterf(a,b,c)},Va:function(a,b,c){W.texParameterf(a,b,S[c>>2])},Wa:function(a,b,c){W.texParameteri(a,b,c)},Ya:function(a,b,c){W.texParameteri(a,b,M[c>>2])},ic:function(a,b,c,f,g){W.texStorage2D(a,b,c,f,g)},Za:function(a,b,c,f,g,m,q,p,x){if(2<=u.version)if(W.we)W.texSubImage2D(a,b,c,f,g,m,q,p,x);else if(x){var v=Gd(p);W.texSubImage2D(a,b,c,f,g,m,q,p,v,x>>31-Math.clz32(v.BYTES_PER_ELEMENT))}else W.texSubImage2D(a,\nb,c,f,g,m,q,p,null);else v=null,x&&(v=Hd(p,q,g,m,x)),W.texSubImage2D(a,b,c,f,g,m,q,p,v)},_a:function(a,b){W.uniform1f(Y(a),b)},$a:function(a,b,c){if(2<=u.version)b&&W.uniform1fv(Y(a),S,c>>2,b);else{if(288>=b)for(var f=Id[b-1],g=0;g<b;++g)f[g]=S[c+4*g>>2];else f=S.subarray(c>>2,c+4*b>>2);W.uniform1fv(Y(a),f)}},Tc:function(a,b){W.uniform1i(Y(a),b)},Uc:function(a,b,c){if(2<=u.version)b&&W.uniform1iv(Y(a),M,c>>2,b);else{if(288>=b)for(var f=Jd[b-1],g=0;g<b;++g)f[g]=M[c+4*g>>2];else f=M.subarray(c>>2,c+\n4*b>>2);W.uniform1iv(Y(a),f)}},Vc:function(a,b,c){W.uniform2f(Y(a),b,c)},Wc:function(a,b,c){if(2<=u.version)b&&W.uniform2fv(Y(a),S,c>>2,2*b);else{if(144>=b)for(var f=Id[2*b-1],g=0;g<2*b;g+=2)f[g]=S[c+4*g>>2],f[g+1]=S[c+(4*g+4)>>2];else f=S.subarray(c>>2,c+8*b>>2);W.uniform2fv(Y(a),f)}},Sc:function(a,b,c){W.uniform2i(Y(a),b,c)},Rc:function(a,b,c){if(2<=u.version)b&&W.uniform2iv(Y(a),M,c>>2,2*b);else{if(144>=b)for(var f=Jd[2*b-1],g=0;g<2*b;g+=2)f[g]=M[c+4*g>>2],f[g+1]=M[c+(4*g+4)>>2];else f=M.subarray(c>>\n2,c+8*b>>2);W.uniform2iv(Y(a),f)}},Qc:function(a,b,c,f){W.uniform3f(Y(a),b,c,f)},Pc:function(a,b,c){if(2<=u.version)b&&W.uniform3fv(Y(a),S,c>>2,3*b);else{if(96>=b)for(var f=Id[3*b-1],g=0;g<3*b;g+=3)f[g]=S[c+4*g>>2],f[g+1]=S[c+(4*g+4)>>2],f[g+2]=S[c+(4*g+8)>>2];else f=S.subarray(c>>2,c+12*b>>2);W.uniform3fv(Y(a),f)}},Oc:function(a,b,c,f){W.uniform3i(Y(a),b,c,f)},Nc:function(a,b,c){if(2<=u.version)b&&W.uniform3iv(Y(a),M,c>>2,3*b);else{if(96>=b)for(var f=Jd[3*b-1],g=0;g<3*b;g+=3)f[g]=M[c+4*g>>2],f[g+\n1]=M[c+(4*g+4)>>2],f[g+2]=M[c+(4*g+8)>>2];else f=M.subarray(c>>2,c+12*b>>2);W.uniform3iv(Y(a),f)}},Mc:function(a,b,c,f,g){W.uniform4f(Y(a),b,c,f,g)},Lc:function(a,b,c){if(2<=u.version)b&&W.uniform4fv(Y(a),S,c>>2,4*b);else{if(72>=b){var f=Id[4*b-1],g=S;c>>=2;for(var m=0;m<4*b;m+=4){var q=c+m;f[m]=g[q];f[m+1]=g[q+1];f[m+2]=g[q+2];f[m+3]=g[q+3]}}else f=S.subarray(c>>2,c+16*b>>2);W.uniform4fv(Y(a),f)}},zc:function(a,b,c,f,g){W.uniform4i(Y(a),b,c,f,g)},Ac:function(a,b,c){if(2<=u.version)b&&W.uniform4iv(Y(a),\nM,c>>2,4*b);else{if(72>=b)for(var f=Jd[4*b-1],g=0;g<4*b;g+=4)f[g]=M[c+4*g>>2],f[g+1]=M[c+(4*g+4)>>2],f[g+2]=M[c+(4*g+8)>>2],f[g+3]=M[c+(4*g+12)>>2];else f=M.subarray(c>>2,c+16*b>>2);W.uniform4iv(Y(a),f)}},Bc:function(a,b,c,f){if(2<=u.version)b&&W.uniformMatrix2fv(Y(a),!!c,S,f>>2,4*b);else{if(72>=b)for(var g=Id[4*b-1],m=0;m<4*b;m+=4)g[m]=S[f+4*m>>2],g[m+1]=S[f+(4*m+4)>>2],g[m+2]=S[f+(4*m+8)>>2],g[m+3]=S[f+(4*m+12)>>2];else g=S.subarray(f>>2,f+16*b>>2);W.uniformMatrix2fv(Y(a),!!c,g)}},Cc:function(a,\nb,c,f){if(2<=u.version)b&&W.uniformMatrix3fv(Y(a),!!c,S,f>>2,9*b);else{if(32>=b)for(var g=Id[9*b-1],m=0;m<9*b;m+=9)g[m]=S[f+4*m>>2],g[m+1]=S[f+(4*m+4)>>2],g[m+2]=S[f+(4*m+8)>>2],g[m+3]=S[f+(4*m+12)>>2],g[m+4]=S[f+(4*m+16)>>2],g[m+5]=S[f+(4*m+20)>>2],g[m+6]=S[f+(4*m+24)>>2],g[m+7]=S[f+(4*m+28)>>2],g[m+8]=S[f+(4*m+32)>>2];else g=S.subarray(f>>2,f+36*b>>2);W.uniformMatrix3fv(Y(a),!!c,g)}},Dc:function(a,b,c,f){if(2<=u.version)b&&W.uniformMatrix4fv(Y(a),!!c,S,f>>2,16*b);else{if(18>=b){var g=Id[16*b-1],\nm=S;f>>=2;for(var q=0;q<16*b;q+=16){var p=f+q;g[q]=m[p];g[q+1]=m[p+1];g[q+2]=m[p+2];g[q+3]=m[p+3];g[q+4]=m[p+4];g[q+5]=m[p+5];g[q+6]=m[p+6];g[q+7]=m[p+7];g[q+8]=m[p+8];g[q+9]=m[p+9];g[q+10]=m[p+10];g[q+11]=m[p+11];g[q+12]=m[p+12];g[q+13]=m[p+13];g[q+14]=m[p+14];g[q+15]=m[p+15]}}else g=S.subarray(f>>2,f+64*b>>2);W.uniformMatrix4fv(Y(a),!!c,g)}},Ec:function(a){a=hd[a];W.useProgram(a);W.xf=a},Fc:function(a,b){W.vertexAttrib1f(a,b)},Gc:function(a,b){W.vertexAttrib2f(a,S[b>>2],S[b+4>>2])},Hc:function(a,\nb){W.vertexAttrib3f(a,S[b>>2],S[b+4>>2],S[b+8>>2])},Ic:function(a,b){W.vertexAttrib4f(a,S[b>>2],S[b+4>>2],S[b+8>>2],S[b+12>>2])},jc:function(a,b){W.vertexAttribDivisor(a,b)},kc:function(a,b,c,f,g){W.vertexAttribIPointer(a,b,c,f,g)},Jc:function(a,b,c,f,g,m){W.vertexAttribPointer(a,b,c,!!f,g,m)},Kc:function(a,b,c,f){W.viewport(a,b,c,f)},db:function(a,b,c,f){W.waitSync(pd[a],b,(c>>>0)+4294967296*f)},nb:function(a){var b=F.length;a>>>=0;if(2147483648<a)return!1;for(var c=1;4>=c;c*=2){var f=b*(1+.2/c);\nf=Math.min(f,a+100663296);var g=Math,m=g.min;f=Math.max(a,f);f+=(65536-f%65536)%65536;a:{var q=Oa.buffer;try{Oa.grow(m.call(g,2147483648,f)-q.byteLength+65535>>>16);Za();var p=1;break a}catch(x){}p=void 0}if(p)return!0}return!1},Yc:function(){return u?u.Jf:0},Q:function(a){return ia(a)?0:-5},sb:function(a,b){var c=0;Ld().forEach(function(f,g){var m=b+c;g=Xa[a+4*g>>2]=m;for(m=0;m<f.length;++m)Ua[g++>>0]=f.charCodeAt(m);Ua[g>>0]=0;c+=f.length+1});return 0},tb:function(a,b){var c=Ld();Xa[a>>2]=c.length;\nvar f=0;c.forEach(function(g){f+=g.length+1});Xa[b>>2]=f;return 0},Eb:function(a){if(!noExitRuntime){if(t.onExit)t.onExit(a);Pa=!0}sa(a,new Fa(a))},I:function(){return 52},ib:function(){return 52},yb:function(){return 52},jb:function(){return 70},G:function(a,b,c,f){for(var g=0,m=0;m<c;m++){var q=Xa[b>>2],p=Xa[b+4>>2];b+=8;for(var x=0;x<p;x++){var v=F[q+x],G=Nd[a];0===v||10===v?((1===a?La:Ga)(Sa(G,0)),G.length=0):G.push(v)}g+=p}Xa[f>>2]=g;return 0},Zc:function(a,b){W.bindFramebuffer(a,jd[b])},Xa:function(a){W.clear(a)},\nwb:function(a,b,c,f){W.clearColor(a,b,c,f)},eb:function(a){W.clearStencil(a)},E:function(a,b){Cd(a,b)},f:Yd,j:Zd,d:$d,z:ae,Ib:be,N:ce,M:de,C:ee,h:fe,m:ge,e:he,l:ie,Hb:je,Fb:ke,Gb:le,lb:function(a,b,c,f){return Sd(a,b,c,f)}};\n(function(){function a(g){t.asm=g.exports;Oa=t.asm._c;Za();$a=t.asm.ad;bb.unshift(t.asm.$c);ib--;t.monitorRunDependencies&&t.monitorRunDependencies(ib);0==ib&&(null!==jb&&(clearInterval(jb),jb=null),kb&&(g=kb,kb=null,g()))}function b(g){a(g.instance)}function c(g){return pb().then(function(m){return WebAssembly.instantiate(m,f)}).then(function(m){return m}).then(g,function(m){Ga(\"failed to asynchronously prepare wasm: \"+m);Na(m)})}var f={a:me};ib++;t.monitorRunDependencies&&t.monitorRunDependencies(ib);\nif(t.instantiateWasm)try{return t.instantiateWasm(f,a)}catch(g){Ga(\"Module.instantiateWasm callback failed with error: \"+g),ba(g)}(function(){return Ma||\"function\"!=typeof WebAssembly.instantiateStreaming||lb()||mb.startsWith(\"file://\")||va||\"function\"!=typeof fetch?c(b):fetch(mb,{credentials:\"same-origin\"}).then(function(g){return WebAssembly.instantiateStreaming(g,f).then(b,function(m){Ga(\"wasm streaming compile failed: \"+m);Ga(\"falling back to ArrayBuffer instantiation\");return c(b)})})})().catch(ba);\nreturn{}})();var uc=t._free=function(){return(uc=t._free=t.asm.bd).apply(null,arguments)},Ed=t._malloc=function(){return(Ed=t._malloc=t.asm.cd).apply(null,arguments)},tc=t.___getTypeName=function(){return(tc=t.___getTypeName=t.asm.dd).apply(null,arguments)};t.__embind_initialize_bindings=function(){return(t.__embind_initialize_bindings=t.asm.ed).apply(null,arguments)};function ne(){return(ne=t.asm.fd).apply(null,arguments)}function oe(){return(oe=t.asm.gd).apply(null,arguments)}\nfunction pe(){return(pe=t.asm.hd).apply(null,arguments)}t.dynCall_viji=function(){return(t.dynCall_viji=t.asm.id).apply(null,arguments)};t.dynCall_vijiii=function(){return(t.dynCall_vijiii=t.asm.jd).apply(null,arguments)};t.dynCall_viiiiij=function(){return(t.dynCall_viiiiij=t.asm.kd).apply(null,arguments)};t.dynCall_ji=function(){return(t.dynCall_ji=t.asm.ld).apply(null,arguments)};t.dynCall_jii=function(){return(t.dynCall_jii=t.asm.md).apply(null,arguments)};\nt.dynCall_iiij=function(){return(t.dynCall_iiij=t.asm.nd).apply(null,arguments)};t.dynCall_iiiij=function(){return(t.dynCall_iiiij=t.asm.od).apply(null,arguments)};t.dynCall_viij=function(){return(t.dynCall_viij=t.asm.pd).apply(null,arguments)};t.dynCall_viiij=function(){return(t.dynCall_viiij=t.asm.qd).apply(null,arguments)};t.dynCall_iij=function(){return(t.dynCall_iij=t.asm.rd).apply(null,arguments)};t.dynCall_vij=function(){return(t.dynCall_vij=t.asm.sd).apply(null,arguments)};\nt.dynCall_jiiii=function(){return(t.dynCall_jiiii=t.asm.td).apply(null,arguments)};t.dynCall_jiiiiii=function(){return(t.dynCall_jiiiiii=t.asm.ud).apply(null,arguments)};t.dynCall_jiiiiji=function(){return(t.dynCall_jiiiiji=t.asm.vd).apply(null,arguments)};t.dynCall_iijj=function(){return(t.dynCall_iijj=t.asm.wd).apply(null,arguments)};t.dynCall_jiji=function(){return(t.dynCall_jiji=t.asm.xd).apply(null,arguments)};t.dynCall_viijii=function(){return(t.dynCall_viijii=t.asm.yd).apply(null,arguments)};\nt.dynCall_iiiiij=function(){return(t.dynCall_iiiiij=t.asm.zd).apply(null,arguments)};t.dynCall_iiiiijj=function(){return(t.dynCall_iiiiijj=t.asm.Ad).apply(null,arguments)};t.dynCall_iiiiiijj=function(){return(t.dynCall_iiiiiijj=t.asm.Bd).apply(null,arguments)};function Yd(a,b){var c=oe();try{return oc(a)(b)}catch(f){pe(c);if(f!==f+0)throw f;ne(1,0)}}function Zd(a,b,c){var f=oe();try{return oc(a)(b,c)}catch(g){pe(f);if(g!==g+0)throw g;ne(1,0)}}\nfunction he(a,b,c,f){var g=oe();try{oc(a)(b,c,f)}catch(m){pe(g);if(m!==m+0)throw m;ne(1,0)}}function $d(a,b,c,f){var g=oe();try{return oc(a)(b,c,f)}catch(m){pe(g);if(m!==m+0)throw m;ne(1,0)}}function fe(a,b){var c=oe();try{oc(a)(b)}catch(f){pe(c);if(f!==f+0)throw f;ne(1,0)}}function ge(a,b,c){var f=oe();try{oc(a)(b,c)}catch(g){pe(f);if(g!==g+0)throw g;ne(1,0)}}function be(a,b,c,f,g,m){var q=oe();try{return oc(a)(b,c,f,g,m)}catch(p){pe(q);if(p!==p+0)throw p;ne(1,0)}}\nfunction ie(a,b,c,f,g){var m=oe();try{oc(a)(b,c,f,g)}catch(q){pe(m);if(q!==q+0)throw q;ne(1,0)}}function ce(a,b,c,f,g,m,q){var p=oe();try{return oc(a)(b,c,f,g,m,q)}catch(x){pe(p);if(x!==x+0)throw x;ne(1,0)}}function ae(a,b,c,f,g){var m=oe();try{return oc(a)(b,c,f,g)}catch(q){pe(m);if(q!==q+0)throw q;ne(1,0)}}function je(a,b,c,f,g,m){var q=oe();try{oc(a)(b,c,f,g,m)}catch(p){pe(q);if(p!==p+0)throw p;ne(1,0)}}\nfunction le(a,b,c,f,g,m,q,p,x,v){var G=oe();try{oc(a)(b,c,f,g,m,q,p,x,v)}catch(J){pe(G);if(J!==J+0)throw J;ne(1,0)}}function ee(a){var b=oe();try{oc(a)()}catch(c){pe(b);if(c!==c+0)throw c;ne(1,0)}}function ke(a,b,c,f,g,m,q){var p=oe();try{oc(a)(b,c,f,g,m,q)}catch(x){pe(p);if(x!==x+0)throw x;ne(1,0)}}function de(a,b,c,f,g,m,q,p,x,v){var G=oe();try{return oc(a)(b,c,f,g,m,q,p,x,v)}catch(J){pe(G);if(J!==J+0)throw J;ne(1,0)}}var qe;kb=function re(){qe||se();qe||(kb=re)};\nfunction se(){function a(){if(!qe&&(qe=!0,t.calledRun=!0,!Pa)){qb(bb);aa(t);if(t.onRuntimeInitialized)t.onRuntimeInitialized();if(t.postRun)for(\"function\"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var b=t.postRun.shift();cb.unshift(b)}qb(cb)}}if(!(0<ib)){if(t.preRun)for(\"function\"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)hb();qb(ab);0<ib||(t.setStatus?(t.setStatus(\"Running...\"),setTimeout(function(){setTimeout(function(){t.setStatus(\"\")},1);a()},1)):a())}}\nif(t.preInit)for(\"function\"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();se();\n\n\n  return CanvasKitInit.ready\n}\n);\n})();\nif (typeof exports === 'object' && typeof module === 'object')\n  module.exports = CanvasKitInit;\nelse if (typeof define === 'function' && define['amd'])\n  define([], function() { return CanvasKitInit; });\nelse if (typeof exports === 'object')\n  exports[\"CanvasKitInit\"] = CanvasKitInit;\n","// @ts-nocheck\nlet proj4 = require('proj4');\nproj4 = 'default' in proj4 ? proj4['default'] : proj4;\n\nmodule.exports = function (job) {\n  const tilePieceBoundingBox = JSON.parse(job.tilePieceBoundingBox);\n  const tileBoundingBox = JSON.parse(job.tileBoundingBox);\n  const height = job.height;\n  const width = job.width;\n  const imageData = new Uint8ClampedArray(width * height * 4);\n  const sourceImageData = new Uint8ClampedArray(job.sourceImageData);\n  let conversion;\n  try {\n    if (proj4.defs(job.projectionTo) == null) {\n      proj4.defs(job.projectionTo, job.projectionToDefinition)\n    }\n    if (proj4.defs(job.projectionFrom) == null) {\n      proj4.defs(job.projectionFrom, job.projectionFromDefinition)\n    }\n    conversion = proj4(job.projectionTo, job.projectionFrom);\n  } catch (e) {\n    throw new Error('Error creating projection conversion between ' + job.projectionTo + ' and ' + job.projectionFrom + '.');\n  }\n  let latitude;\n  for (let row = 0; row < height; row++) {\n    latitude = tileBoundingBox._maxLatitude - row * job.tileHeightUnitsPerPixel;\n    for (let column = 0; column < width; column++) {\n      // loop over all pixels in the target tile\n      // determine the position of the current pixel in the target tile\n      const longitude = tileBoundingBox._minLongitude + column * job.tileWidthUnitsPerPixel;\n      // project that lat/lng to the source coordinate system\n      const projected = conversion.forward([longitude, latitude]);\n      const projectedLongitude = projected[0];\n      const projectedLatitude = projected[1];\n      // now find the source pixel\n      const xPixel = job.tile_width - Math.round((tilePieceBoundingBox._maxLongitude - projectedLongitude) / job.pixel_x_size);\n      const yPixel = Math.round((tilePieceBoundingBox._maxLatitude - projectedLatitude) / job.pixel_y_size);\n      if (xPixel >= 0 && xPixel < job.tile_width && yPixel >= 0 && yPixel < job.tile_height) {\n        const sliceStart = yPixel * job.tile_width * 4 + xPixel * 4;\n        const color = sourceImageData.slice(sliceStart, sliceStart + 4);\n        imageData.set(color, row * width * 4 + column * 4);\n      }\n    }\n  }\n  return imageData.buffer;\n};\n","import { ProjectionConstants } from '../../projection/projectionConstants';\nimport { Projection } from '../../projection/projection';\n\nexport class TileUtilities {\n  static getPiecePosition (\n    tilePieceBoundingBox,\n    tileBoundingBox,\n    height,\n    width,\n    projectionTo,\n    projectionToDefinition,\n    projectionFrom,\n    projectionFromDefinition,\n    tileHeightUnitsPerPixel,\n    tileWidthUnitsPerPixel,\n    pixelXSize,\n    pixelYSize\n  ) {\n    let conversion;\n    try {\n      if (Projection.hasProjection(projectionTo) == null) {\n        Projection.loadProjection(projectionTo, projectionToDefinition)\n      }\n      if (Projection.hasProjection(projectionFrom) == null) {\n        Projection.loadProjection(projectionFrom, projectionFromDefinition)\n      }\n      conversion = Projection.getConverter(projectionTo, projectionFrom);\n    } catch (e) {\n      throw new Error('Error creating projection conversion between ' + projectionTo + ' and ' + projectionFrom + '.');\n    }\n\n    let maxLatitude = tilePieceBoundingBox.maxLatitude;\n    let minLatitude = tilePieceBoundingBox.minLatitude;\n    let minLongitude = tilePieceBoundingBox.minLongitude - pixelXSize;\n    let maxLongitude = tilePieceBoundingBox.maxLongitude + pixelXSize;\n\n    if (projectionTo.toUpperCase() === ProjectionConstants.EPSG_3857 && projectionFrom.toUpperCase() === ProjectionConstants.EPSG_4326) {\n      maxLatitude = maxLatitude > ProjectionConstants.WEB_MERCATOR_MAX_LAT_RANGE ? ProjectionConstants.WEB_MERCATOR_MAX_LAT_RANGE : maxLatitude;\n      minLatitude = minLatitude < ProjectionConstants.WEB_MERCATOR_MIN_LAT_RANGE ? ProjectionConstants.WEB_MERCATOR_MIN_LAT_RANGE : minLatitude;\n      minLongitude = minLongitude < ProjectionConstants.WEB_MERCATOR_MIN_LON_RANGE ? ProjectionConstants.WEB_MERCATOR_MIN_LON_RANGE : minLongitude;\n      maxLongitude = maxLongitude > ProjectionConstants.WEB_MERCATOR_MAX_LON_RANGE ? ProjectionConstants.WEB_MERCATOR_MAX_LON_RANGE : maxLongitude;\n    }\n\n    // ensure the projected longitude wont wrap around the world\n    const negative180 = Projection.convertCoordinates(ProjectionConstants.EPSG_4326, projectionTo, [-180, 0]);\n    const positive180 = Projection.convertCoordinates(ProjectionConstants.EPSG_4326, projectionTo, [180, 0]);\n    minLongitude = minLongitude < negative180[0] ? negative180[0] : minLongitude;\n    maxLongitude = maxLongitude > positive180[0] ? positive180[0] : maxLongitude;\n\n    const pieceBoundingBoxInTileProjectionSW = conversion.inverse([minLongitude, minLatitude]);\n    const pieceBoundingBoxInTileProjectionNE = conversion.inverse([maxLongitude, maxLatitude]);\n\n    const pieceBBProjected = {\n      minLatitude: isNaN(pieceBoundingBoxInTileProjectionSW[1])\n        ? tileBoundingBox.minLatitude\n        : pieceBoundingBoxInTileProjectionSW[1],\n      maxLatitude: isNaN(pieceBoundingBoxInTileProjectionNE[1])\n        ? tileBoundingBox.maxLatitude\n        : pieceBoundingBoxInTileProjectionNE[1],\n      minLongitude: pieceBoundingBoxInTileProjectionSW[0],\n      maxLongitude: pieceBoundingBoxInTileProjectionNE[0],\n    };\n\n    const startY = Math.max(\n      0,\n      Math.floor((tileBoundingBox.maxLatitude - pieceBBProjected.maxLatitude) / tileHeightUnitsPerPixel),\n    );\n    const startX = Math.max(\n      0,\n      Math.floor((pieceBBProjected.minLongitude - tileBoundingBox.minLongitude) / tileWidthUnitsPerPixel),\n    );\n\n    const endY = Math.min(\n      height,\n      height - Math.floor((pieceBBProjected.minLatitude - tileBoundingBox.minLatitude) / tileHeightUnitsPerPixel),\n    );\n    const endX = Math.min(\n      width,\n      width - Math.floor((tileBoundingBox.maxLongitude - pieceBBProjected.maxLongitude) / tileWidthUnitsPerPixel),\n    );\n\n    return {\n      startY: startY,\n      startX: startX,\n      endY: endY,\n      endX: endX,\n    };\n  }\n}\n","const ProjectTile = require('./projectTile');\n\nfunction tileWorker(e) {\n  const self = this;\n  const job = e.data;\n  const data = ProjectTile(job);\n  // @ts-ignore\n  self.postMessage(data);\n  self.close();\n}\n\nmodule.exports = function(self) {\n  self.onmessage = tileWorker;\n  self.onerror = function(e) {\n    console.log('error', e);\n  };\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar meta_1 = require(\"@turf/meta\");\n/**\n * Takes a set of features, calculates the bbox of all input features, and returns a bounding box.\n *\n * @name bbox\n * @param {GeoJSON} geojson any GeoJSON object\n * @returns {BBox} bbox extent in [minX, minY, maxX, maxY] order\n * @example\n * var line = turf.lineString([[-74, 40], [-78, 42], [-82, 35]]);\n * var bbox = turf.bbox(line);\n * var bboxPolygon = turf.bboxPolygon(bbox);\n *\n * //addToMap\n * var addToMap = [line, bboxPolygon]\n */\nfunction bbox(geojson) {\n    var result = [Infinity, Infinity, -Infinity, -Infinity];\n    meta_1.coordEach(geojson, function (coord) {\n        if (result[0] > coord[0]) {\n            result[0] = coord[0];\n        }\n        if (result[1] > coord[1]) {\n            result[1] = coord[1];\n        }\n        if (result[2] < coord[0]) {\n            result[2] = coord[0];\n        }\n        if (result[3] < coord[1]) {\n            result[3] = coord[1];\n        }\n    });\n    return result;\n}\nbbox[\"default\"] = bbox;\nexports.default = bbox;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar invariant_1 = require(\"@turf/invariant\");\n/**\n * Takes a ring and return true or false whether or not the ring is clockwise or counter-clockwise.\n *\n * @name booleanClockwise\n * @param {Feature<LineString>|LineString|Array<Array<number>>} line to be evaluated\n * @returns {boolean} true/false\n * @example\n * var clockwiseRing = turf.lineString([[0,0],[1,1],[1,0],[0,0]]);\n * var counterClockwiseRing = turf.lineString([[0,0],[1,0],[1,1],[0,0]]);\n *\n * turf.booleanClockwise(clockwiseRing)\n * //=true\n * turf.booleanClockwise(counterClockwiseRing)\n * //=false\n */\nfunction booleanClockwise(line) {\n    var ring = invariant_1.getCoords(line);\n    var sum = 0;\n    var i = 1;\n    var prev;\n    var cur;\n    while (i < ring.length) {\n        prev = cur || ring[0];\n        cur = ring[i];\n        sum += (cur[0] - prev[0]) * (cur[1] + prev[1]);\n        i++;\n    }\n    return sum > 0;\n}\nexports.default = booleanClockwise;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar invariant_1 = require(\"@turf/invariant\");\n// http://en.wikipedia.org/wiki/Even%E2%80%93odd_rule\n// modified from: https://github.com/substack/point-in-polygon/blob/master/index.js\n// which was modified from http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\n/**\n * Takes a {@link Point} and a {@link Polygon} or {@link MultiPolygon} and determines if the point\n * resides inside the polygon. The polygon can be convex or concave. The function accounts for holes.\n *\n * @name booleanPointInPolygon\n * @param {Coord} point input point\n * @param {Feature<Polygon|MultiPolygon>} polygon input polygon or multipolygon\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.ignoreBoundary=false] True if polygon boundary should be ignored when determining if\n * the point is inside the polygon otherwise false.\n * @returns {boolean} `true` if the Point is inside the Polygon; `false` if the Point is not inside the Polygon\n * @example\n * var pt = turf.point([-77, 44]);\n * var poly = turf.polygon([[\n *   [-81, 41],\n *   [-81, 47],\n *   [-72, 47],\n *   [-72, 41],\n *   [-81, 41]\n * ]]);\n *\n * turf.booleanPointInPolygon(pt, poly);\n * //= true\n */\nfunction booleanPointInPolygon(point, polygon, options) {\n    if (options === void 0) { options = {}; }\n    // validation\n    if (!point) {\n        throw new Error(\"point is required\");\n    }\n    if (!polygon) {\n        throw new Error(\"polygon is required\");\n    }\n    var pt = invariant_1.getCoord(point);\n    var geom = invariant_1.getGeom(polygon);\n    var type = geom.type;\n    var bbox = polygon.bbox;\n    var polys = geom.coordinates;\n    // Quick elimination if point is not inside bbox\n    if (bbox && inBBox(pt, bbox) === false) {\n        return false;\n    }\n    // normalize to multipolygon\n    if (type === \"Polygon\") {\n        polys = [polys];\n    }\n    var insidePoly = false;\n    for (var i = 0; i < polys.length && !insidePoly; i++) {\n        // check if it is in the outer ring first\n        if (inRing(pt, polys[i][0], options.ignoreBoundary)) {\n            var inHole = false;\n            var k = 1;\n            // check for the point in any of the holes\n            while (k < polys[i].length && !inHole) {\n                if (inRing(pt, polys[i][k], !options.ignoreBoundary)) {\n                    inHole = true;\n                }\n                k++;\n            }\n            if (!inHole) {\n                insidePoly = true;\n            }\n        }\n    }\n    return insidePoly;\n}\nexports.default = booleanPointInPolygon;\n/**\n * inRing\n *\n * @private\n * @param {Array<number>} pt [x,y]\n * @param {Array<Array<number>>} ring [[x,y], [x,y],..]\n * @param {boolean} ignoreBoundary ignoreBoundary\n * @returns {boolean} inRing\n */\nfunction inRing(pt, ring, ignoreBoundary) {\n    var isInside = false;\n    if (ring[0][0] === ring[ring.length - 1][0] &&\n        ring[0][1] === ring[ring.length - 1][1]) {\n        ring = ring.slice(0, ring.length - 1);\n    }\n    for (var i = 0, j = ring.length - 1; i < ring.length; j = i++) {\n        var xi = ring[i][0];\n        var yi = ring[i][1];\n        var xj = ring[j][0];\n        var yj = ring[j][1];\n        var onBoundary = pt[1] * (xi - xj) + yi * (xj - pt[0]) + yj * (pt[0] - xi) === 0 &&\n            (xi - pt[0]) * (xj - pt[0]) <= 0 &&\n            (yi - pt[1]) * (yj - pt[1]) <= 0;\n        if (onBoundary) {\n            return !ignoreBoundary;\n        }\n        var intersect = yi > pt[1] !== yj > pt[1] &&\n            pt[0] < ((xj - xi) * (pt[1] - yi)) / (yj - yi) + xi;\n        if (intersect) {\n            isInside = !isInside;\n        }\n    }\n    return isInside;\n}\n/**\n * inBBox\n *\n * @private\n * @param {Position} pt point [x,y]\n * @param {BBox} bbox BBox [west, south, east, north]\n * @returns {boolean} true/false if point is inside BBox\n */\nfunction inBBox(pt, bbox) {\n    return (bbox[0] <= pt[0] && bbox[1] <= pt[1] && bbox[2] >= pt[0] && bbox[3] >= pt[1]);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar invariant_1 = require(\"@turf/invariant\");\n/**\n * Returns true if a point is on a line. Accepts a optional parameter to ignore the\n * start and end vertices of the linestring.\n *\n * @name booleanPointOnLine\n * @param {Coord} pt GeoJSON Point\n * @param {Feature<LineString>} line GeoJSON LineString\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.ignoreEndVertices=false] whether to ignore the start and end vertices.\n * @param {number} [options.epsilon] Fractional number to compare with the cross product result. Useful for dealing with floating points such as lng/lat points\n * @returns {boolean} true/false\n * @example\n * var pt = turf.point([0, 0]);\n * var line = turf.lineString([[-1, -1],[1, 1],[1.5, 2.2]]);\n * var isPointOnLine = turf.booleanPointOnLine(pt, line);\n * //=true\n */\nfunction booleanPointOnLine(pt, line, options) {\n    if (options === void 0) { options = {}; }\n    // Normalize inputs\n    var ptCoords = invariant_1.getCoord(pt);\n    var lineCoords = invariant_1.getCoords(line);\n    // Main\n    for (var i = 0; i < lineCoords.length - 1; i++) {\n        var ignoreBoundary = false;\n        if (options.ignoreEndVertices) {\n            if (i === 0) {\n                ignoreBoundary = \"start\";\n            }\n            if (i === lineCoords.length - 2) {\n                ignoreBoundary = \"end\";\n            }\n            if (i === 0 && i + 1 === lineCoords.length - 1) {\n                ignoreBoundary = \"both\";\n            }\n        }\n        if (isPointOnLineSegment(lineCoords[i], lineCoords[i + 1], ptCoords, ignoreBoundary, typeof options.epsilon === \"undefined\" ? null : options.epsilon)) {\n            return true;\n        }\n    }\n    return false;\n}\n// See http://stackoverflow.com/a/4833823/1979085\n// See https://stackoverflow.com/a/328122/1048847\n/**\n * @private\n * @param {Position} lineSegmentStart coord pair of start of line\n * @param {Position} lineSegmentEnd coord pair of end of line\n * @param {Position} pt coord pair of point to check\n * @param {boolean|string} excludeBoundary whether the point is allowed to fall on the line ends.\n * @param {number} epsilon Fractional number to compare with the cross product result. Useful for dealing with floating points such as lng/lat points\n * If true which end to ignore.\n * @returns {boolean} true/false\n */\nfunction isPointOnLineSegment(lineSegmentStart, lineSegmentEnd, pt, excludeBoundary, epsilon) {\n    var x = pt[0];\n    var y = pt[1];\n    var x1 = lineSegmentStart[0];\n    var y1 = lineSegmentStart[1];\n    var x2 = lineSegmentEnd[0];\n    var y2 = lineSegmentEnd[1];\n    var dxc = pt[0] - x1;\n    var dyc = pt[1] - y1;\n    var dxl = x2 - x1;\n    var dyl = y2 - y1;\n    var cross = dxc * dyl - dyc * dxl;\n    if (epsilon !== null) {\n        if (Math.abs(cross) > epsilon) {\n            return false;\n        }\n    }\n    else if (cross !== 0) {\n        return false;\n    }\n    if (!excludeBoundary) {\n        if (Math.abs(dxl) >= Math.abs(dyl)) {\n            return dxl > 0 ? x1 <= x && x <= x2 : x2 <= x && x <= x1;\n        }\n        return dyl > 0 ? y1 <= y && y <= y2 : y2 <= y && y <= y1;\n    }\n    else if (excludeBoundary === \"start\") {\n        if (Math.abs(dxl) >= Math.abs(dyl)) {\n            return dxl > 0 ? x1 < x && x <= x2 : x2 <= x && x < x1;\n        }\n        return dyl > 0 ? y1 < y && y <= y2 : y2 <= y && y < y1;\n    }\n    else if (excludeBoundary === \"end\") {\n        if (Math.abs(dxl) >= Math.abs(dyl)) {\n            return dxl > 0 ? x1 <= x && x < x2 : x2 < x && x <= x1;\n        }\n        return dyl > 0 ? y1 <= y && y < y2 : y2 < y && y <= y1;\n    }\n    else if (excludeBoundary === \"both\") {\n        if (Math.abs(dxl) >= Math.abs(dyl)) {\n            return dxl > 0 ? x1 < x && x < x2 : x2 < x && x < x1;\n        }\n        return dyl > 0 ? y1 < y && y < y2 : y2 < y && y < y1;\n    }\n    return false;\n}\nexports.default = booleanPointOnLine;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar bbox_1 = __importDefault(require(\"@turf/bbox\"));\nvar boolean_point_on_line_1 = __importDefault(require(\"@turf/boolean-point-on-line\"));\nvar boolean_point_in_polygon_1 = __importDefault(require(\"@turf/boolean-point-in-polygon\"));\nvar invariant_1 = require(\"@turf/invariant\");\n/**\n * Boolean-within returns true if the first geometry is completely within the second geometry.\n * The interiors of both geometries must intersect and, the interior and boundary of the primary (geometry a)\n * must not intersect the exterior of the secondary (geometry b).\n * Boolean-within returns the exact opposite result of the `@turf/boolean-contains`.\n *\n * @name booleanWithin\n * @param {Geometry|Feature<any>} feature1 GeoJSON Feature or Geometry\n * @param {Geometry|Feature<any>} feature2 GeoJSON Feature or Geometry\n * @returns {boolean} true/false\n * @example\n * var line = turf.lineString([[1, 1], [1, 2], [1, 3], [1, 4]]);\n * var point = turf.point([1, 2]);\n *\n * turf.booleanWithin(point, line);\n * //=true\n */\nfunction booleanWithin(feature1, feature2) {\n    var geom1 = invariant_1.getGeom(feature1);\n    var geom2 = invariant_1.getGeom(feature2);\n    var type1 = geom1.type;\n    var type2 = geom2.type;\n    switch (type1) {\n        case \"Point\":\n            switch (type2) {\n                case \"MultiPoint\":\n                    return isPointInMultiPoint(geom1, geom2);\n                case \"LineString\":\n                    return boolean_point_on_line_1.default(geom1, geom2, { ignoreEndVertices: true });\n                case \"Polygon\":\n                case \"MultiPolygon\":\n                    return boolean_point_in_polygon_1.default(geom1, geom2, { ignoreBoundary: true });\n                default:\n                    throw new Error(\"feature2 \" + type2 + \" geometry not supported\");\n            }\n        case \"MultiPoint\":\n            switch (type2) {\n                case \"MultiPoint\":\n                    return isMultiPointInMultiPoint(geom1, geom2);\n                case \"LineString\":\n                    return isMultiPointOnLine(geom1, geom2);\n                case \"Polygon\":\n                case \"MultiPolygon\":\n                    return isMultiPointInPoly(geom1, geom2);\n                default:\n                    throw new Error(\"feature2 \" + type2 + \" geometry not supported\");\n            }\n        case \"LineString\":\n            switch (type2) {\n                case \"LineString\":\n                    return isLineOnLine(geom1, geom2);\n                case \"Polygon\":\n                case \"MultiPolygon\":\n                    return isLineInPoly(geom1, geom2);\n                default:\n                    throw new Error(\"feature2 \" + type2 + \" geometry not supported\");\n            }\n        case \"Polygon\":\n            switch (type2) {\n                case \"Polygon\":\n                case \"MultiPolygon\":\n                    return isPolyInPoly(geom1, geom2);\n                default:\n                    throw new Error(\"feature2 \" + type2 + \" geometry not supported\");\n            }\n        default:\n            throw new Error(\"feature1 \" + type1 + \" geometry not supported\");\n    }\n}\nfunction isPointInMultiPoint(point, multiPoint) {\n    var i;\n    var output = false;\n    for (i = 0; i < multiPoint.coordinates.length; i++) {\n        if (compareCoords(multiPoint.coordinates[i], point.coordinates)) {\n            output = true;\n            break;\n        }\n    }\n    return output;\n}\nfunction isMultiPointInMultiPoint(multiPoint1, multiPoint2) {\n    for (var i = 0; i < multiPoint1.coordinates.length; i++) {\n        var anyMatch = false;\n        for (var i2 = 0; i2 < multiPoint2.coordinates.length; i2++) {\n            if (compareCoords(multiPoint1.coordinates[i], multiPoint2.coordinates[i2])) {\n                anyMatch = true;\n            }\n        }\n        if (!anyMatch) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isMultiPointOnLine(multiPoint, lineString) {\n    var foundInsidePoint = false;\n    for (var i = 0; i < multiPoint.coordinates.length; i++) {\n        if (!boolean_point_on_line_1.default(multiPoint.coordinates[i], lineString)) {\n            return false;\n        }\n        if (!foundInsidePoint) {\n            foundInsidePoint = boolean_point_on_line_1.default(multiPoint.coordinates[i], lineString, { ignoreEndVertices: true });\n        }\n    }\n    return foundInsidePoint;\n}\nfunction isMultiPointInPoly(multiPoint, polygon) {\n    var output = true;\n    var oneInside = false;\n    var isInside = false;\n    for (var i = 0; i < multiPoint.coordinates.length; i++) {\n        isInside = boolean_point_in_polygon_1.default(multiPoint.coordinates[1], polygon);\n        if (!isInside) {\n            output = false;\n            break;\n        }\n        if (!oneInside) {\n            isInside = boolean_point_in_polygon_1.default(multiPoint.coordinates[1], polygon, {\n                ignoreBoundary: true,\n            });\n        }\n    }\n    return output && isInside;\n}\nfunction isLineOnLine(lineString1, lineString2) {\n    for (var i = 0; i < lineString1.coordinates.length; i++) {\n        if (!boolean_point_on_line_1.default(lineString1.coordinates[i], lineString2)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isLineInPoly(linestring, polygon) {\n    var polyBbox = bbox_1.default(polygon);\n    var lineBbox = bbox_1.default(linestring);\n    if (!doBBoxOverlap(polyBbox, lineBbox)) {\n        return false;\n    }\n    var foundInsidePoint = false;\n    for (var i = 0; i < linestring.coordinates.length - 1; i++) {\n        if (!boolean_point_in_polygon_1.default(linestring.coordinates[i], polygon)) {\n            return false;\n        }\n        if (!foundInsidePoint) {\n            foundInsidePoint = boolean_point_in_polygon_1.default(linestring.coordinates[i], polygon, { ignoreBoundary: true });\n        }\n        if (!foundInsidePoint) {\n            var midpoint = getMidpoint(linestring.coordinates[i], linestring.coordinates[i + 1]);\n            foundInsidePoint = boolean_point_in_polygon_1.default(midpoint, polygon, {\n                ignoreBoundary: true,\n            });\n        }\n    }\n    return foundInsidePoint;\n}\n/**\n * Is Polygon2 in Polygon1\n * Only takes into account outer rings\n *\n * @private\n * @param {Polygon} geometry1\n * @param {Polygon|MultiPolygon} geometry2\n * @returns {boolean} true/false\n */\nfunction isPolyInPoly(geometry1, geometry2) {\n    var poly1Bbox = bbox_1.default(geometry1);\n    var poly2Bbox = bbox_1.default(geometry2);\n    if (!doBBoxOverlap(poly2Bbox, poly1Bbox)) {\n        return false;\n    }\n    for (var i = 0; i < geometry1.coordinates[0].length; i++) {\n        if (!boolean_point_in_polygon_1.default(geometry1.coordinates[0][i], geometry2)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction doBBoxOverlap(bbox1, bbox2) {\n    if (bbox1[0] > bbox2[0])\n        return false;\n    if (bbox1[2] < bbox2[2])\n        return false;\n    if (bbox1[1] > bbox2[1])\n        return false;\n    if (bbox1[3] < bbox2[3])\n        return false;\n    return true;\n}\n/**\n * compareCoords\n *\n * @private\n * @param {Position} pair1 point [x,y]\n * @param {Position} pair2 point [x,y]\n * @returns {boolean} true/false if coord pairs match\n */\nfunction compareCoords(pair1, pair2) {\n    return pair1[0] === pair2[0] && pair1[1] === pair2[1];\n}\n/**\n * getMidpoint\n *\n * @private\n * @param {Position} pair1 point [x,y]\n * @param {Position} pair2 point [x,y]\n * @returns {Position} midpoint of pair1 and pair2\n */\nfunction getMidpoint(pair1, pair2) {\n    return [(pair1[0] + pair2[0]) / 2, (pair1[1] + pair2[1]) / 2];\n}\nexports.default = booleanWithin;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar meta_1 = require(\"@turf/meta\");\n/**\n * Takes a set of features, calculates the bbox of all input features, and returns a bounding box.\n *\n * @name bbox\n * @param {GeoJSON} geojson any GeoJSON object\n * @returns {BBox} bbox extent in [minX, minY, maxX, maxY] order\n * @example\n * var line = turf.lineString([[-74, 40], [-78, 42], [-82, 35]]);\n * var bbox = turf.bbox(line);\n * var bboxPolygon = turf.bboxPolygon(bbox);\n *\n * //addToMap\n * var addToMap = [line, bboxPolygon]\n */\nfunction bbox(geojson) {\n    var result = [Infinity, Infinity, -Infinity, -Infinity];\n    meta_1.coordEach(geojson, function (coord) {\n        if (result[0] > coord[0]) {\n            result[0] = coord[0];\n        }\n        if (result[1] > coord[1]) {\n            result[1] = coord[1];\n        }\n        if (result[2] < coord[0]) {\n            result[2] = coord[0];\n        }\n        if (result[3] < coord[1]) {\n            result[3] = coord[1];\n        }\n    });\n    return result;\n}\nbbox[\"default\"] = bbox;\nexports.default = bbox;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar invariant_1 = require(\"@turf/invariant\");\nvar helpers_1 = require(\"@turf/helpers\");\n//http://en.wikipedia.org/wiki/Haversine_formula\n//http://www.movable-type.co.uk/scripts/latlong.html\n/**\n * Calculates the distance between two {@link Point|points} in degrees, radians, miles, or kilometers.\n * This uses the [Haversine formula](http://en.wikipedia.org/wiki/Haversine_formula) to account for global curvature.\n *\n * @name distance\n * @param {Coord | Point} from origin point or coordinate\n * @param {Coord | Point} to destination point or coordinate\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @returns {number} distance between the two points\n * @example\n * var from = turf.point([-75.343, 39.984]);\n * var to = turf.point([-75.534, 39.123]);\n * var options = {units: 'miles'};\n *\n * var distance = turf.distance(from, to, options);\n *\n * //addToMap\n * var addToMap = [from, to];\n * from.properties.distance = distance;\n * to.properties.distance = distance;\n */\nfunction distance(from, to, options) {\n    if (options === void 0) { options = {}; }\n    var coordinates1 = invariant_1.getCoord(from);\n    var coordinates2 = invariant_1.getCoord(to);\n    var dLat = helpers_1.degreesToRadians(coordinates2[1] - coordinates1[1]);\n    var dLon = helpers_1.degreesToRadians(coordinates2[0] - coordinates1[0]);\n    var lat1 = helpers_1.degreesToRadians(coordinates1[1]);\n    var lat2 = helpers_1.degreesToRadians(coordinates2[1]);\n    var a = Math.pow(Math.sin(dLat / 2), 2) +\n        Math.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);\n    return helpers_1.radiansToLength(2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)), options.units);\n}\nexports.default = distance;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @module helpers\n */\n/**\n * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.\n *\n * @memberof helpers\n * @type {number}\n */\nexports.earthRadius = 6371008.8;\n/**\n * Unit of measurement factors using a spherical (non-ellipsoid) earth radius.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.factors = {\n    centimeters: exports.earthRadius * 100,\n    centimetres: exports.earthRadius * 100,\n    degrees: exports.earthRadius / 111325,\n    feet: exports.earthRadius * 3.28084,\n    inches: exports.earthRadius * 39.37,\n    kilometers: exports.earthRadius / 1000,\n    kilometres: exports.earthRadius / 1000,\n    meters: exports.earthRadius,\n    metres: exports.earthRadius,\n    miles: exports.earthRadius / 1609.344,\n    millimeters: exports.earthRadius * 1000,\n    millimetres: exports.earthRadius * 1000,\n    nauticalmiles: exports.earthRadius / 1852,\n    radians: 1,\n    yards: exports.earthRadius * 1.0936,\n};\n/**\n * Units of measurement factors based on 1 meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.unitsFactors = {\n    centimeters: 100,\n    centimetres: 100,\n    degrees: 1 / 111325,\n    feet: 3.28084,\n    inches: 39.37,\n    kilometers: 1 / 1000,\n    kilometres: 1 / 1000,\n    meters: 1,\n    metres: 1,\n    miles: 1 / 1609.344,\n    millimeters: 1000,\n    millimetres: 1000,\n    nauticalmiles: 1 / 1852,\n    radians: 1 / exports.earthRadius,\n    yards: 1.0936133,\n};\n/**\n * Area of measurement factors based on 1 square meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.areaFactors = {\n    acres: 0.000247105,\n    centimeters: 10000,\n    centimetres: 10000,\n    feet: 10.763910417,\n    hectares: 0.0001,\n    inches: 1550.003100006,\n    kilometers: 0.000001,\n    kilometres: 0.000001,\n    meters: 1,\n    metres: 1,\n    miles: 3.86e-7,\n    millimeters: 1000000,\n    millimetres: 1000000,\n    yards: 1.195990046,\n};\n/**\n * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.\n *\n * @name feature\n * @param {Geometry} geometry input geometry\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature} a GeoJSON Feature\n * @example\n * var geometry = {\n *   \"type\": \"Point\",\n *   \"coordinates\": [110, 50]\n * };\n *\n * var feature = turf.feature(geometry);\n *\n * //=feature\n */\nfunction feature(geom, properties, options) {\n    if (options === void 0) { options = {}; }\n    var feat = { type: \"Feature\" };\n    if (options.id === 0 || options.id) {\n        feat.id = options.id;\n    }\n    if (options.bbox) {\n        feat.bbox = options.bbox;\n    }\n    feat.properties = properties || {};\n    feat.geometry = geom;\n    return feat;\n}\nexports.feature = feature;\n/**\n * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.\n * For GeometryCollection type use `helpers.geometryCollection`\n *\n * @name geometry\n * @param {string} type Geometry Type\n * @param {Array<any>} coordinates Coordinates\n * @param {Object} [options={}] Optional Parameters\n * @returns {Geometry} a GeoJSON Geometry\n * @example\n * var type = \"Point\";\n * var coordinates = [110, 50];\n * var geometry = turf.geometry(type, coordinates);\n * // => geometry\n */\nfunction geometry(type, coordinates, _options) {\n    if (_options === void 0) { _options = {}; }\n    switch (type) {\n        case \"Point\":\n            return point(coordinates).geometry;\n        case \"LineString\":\n            return lineString(coordinates).geometry;\n        case \"Polygon\":\n            return polygon(coordinates).geometry;\n        case \"MultiPoint\":\n            return multiPoint(coordinates).geometry;\n        case \"MultiLineString\":\n            return multiLineString(coordinates).geometry;\n        case \"MultiPolygon\":\n            return multiPolygon(coordinates).geometry;\n        default:\n            throw new Error(type + \" is invalid\");\n    }\n}\nexports.geometry = geometry;\n/**\n * Creates a {@link Point} {@link Feature} from a Position.\n *\n * @name point\n * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Point>} a Point feature\n * @example\n * var point = turf.point([-75.343, 39.984]);\n *\n * //=point\n */\nfunction point(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (!coordinates) {\n        throw new Error(\"coordinates is required\");\n    }\n    if (!Array.isArray(coordinates)) {\n        throw new Error(\"coordinates must be an Array\");\n    }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be at least 2 numbers long\");\n    }\n    if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n        throw new Error(\"coordinates must contain numbers\");\n    }\n    var geom = {\n        type: \"Point\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.point = point;\n/**\n * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.\n *\n * @name points\n * @param {Array<Array<number>>} coordinates an array of Points\n * @param {Object} [properties={}] Translate these properties to each Feature\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Point>} Point Feature\n * @example\n * var points = turf.points([\n *   [-75, 39],\n *   [-80, 45],\n *   [-78, 50]\n * ]);\n *\n * //=points\n */\nfunction points(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return point(coords, properties);\n    }), options);\n}\nexports.points = points;\n/**\n * Creates a {@link Polygon} {@link Feature} from an Array of LinearRings.\n *\n * @name polygon\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Polygon>} Polygon Feature\n * @example\n * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });\n *\n * //=polygon\n */\nfunction polygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    for (var _i = 0, coordinates_1 = coordinates; _i < coordinates_1.length; _i++) {\n        var ring = coordinates_1[_i];\n        if (ring.length < 4) {\n            throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");\n        }\n        for (var j = 0; j < ring[ring.length - 1].length; j++) {\n            // Check if first point of Polygon contains two numbers\n            if (ring[ring.length - 1][j] !== ring[0][j]) {\n                throw new Error(\"First and last Position are not equivalent.\");\n            }\n        }\n    }\n    var geom = {\n        type: \"Polygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.polygon = polygon;\n/**\n * Creates a {@link Polygon} {@link FeatureCollection} from an Array of Polygon coordinates.\n *\n * @name polygons\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygon coordinates\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Polygon>} Polygon FeatureCollection\n * @example\n * var polygons = turf.polygons([\n *   [[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]],\n *   [[[-15, 42], [-14, 46], [-12, 41], [-17, 44], [-15, 42]]],\n * ]);\n *\n * //=polygons\n */\nfunction polygons(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return polygon(coords, properties);\n    }), options);\n}\nexports.polygons = polygons;\n/**\n * Creates a {@link LineString} {@link Feature} from an Array of Positions.\n *\n * @name lineString\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<LineString>} LineString Feature\n * @example\n * var linestring1 = turf.lineString([[-24, 63], [-23, 60], [-25, 65], [-20, 69]], {name: 'line 1'});\n * var linestring2 = turf.lineString([[-14, 43], [-13, 40], [-15, 45], [-10, 49]], {name: 'line 2'});\n *\n * //=linestring1\n * //=linestring2\n */\nfunction lineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be an array of two or more positions\");\n    }\n    var geom = {\n        type: \"LineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.lineString = lineString;\n/**\n * Creates a {@link LineString} {@link FeatureCollection} from an Array of LineString coordinates.\n *\n * @name lineStrings\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<LineString>} LineString FeatureCollection\n * @example\n * var linestrings = turf.lineStrings([\n *   [[-24, 63], [-23, 60], [-25, 65], [-20, 69]],\n *   [[-14, 43], [-13, 40], [-15, 45], [-10, 49]]\n * ]);\n *\n * //=linestrings\n */\nfunction lineStrings(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return lineString(coords, properties);\n    }), options);\n}\nexports.lineStrings = lineStrings;\n/**\n * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.\n *\n * @name featureCollection\n * @param {Feature[]} features input features\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {FeatureCollection} FeatureCollection of Features\n * @example\n * var locationA = turf.point([-75.343, 39.984], {name: 'Location A'});\n * var locationB = turf.point([-75.833, 39.284], {name: 'Location B'});\n * var locationC = turf.point([-75.534, 39.123], {name: 'Location C'});\n *\n * var collection = turf.featureCollection([\n *   locationA,\n *   locationB,\n *   locationC\n * ]);\n *\n * //=collection\n */\nfunction featureCollection(features, options) {\n    if (options === void 0) { options = {}; }\n    var fc = { type: \"FeatureCollection\" };\n    if (options.id) {\n        fc.id = options.id;\n    }\n    if (options.bbox) {\n        fc.bbox = options.bbox;\n    }\n    fc.features = features;\n    return fc;\n}\nexports.featureCollection = featureCollection;\n/**\n * Creates a {@link Feature<MultiLineString>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiLineString\n * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiLineString>} a MultiLineString feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);\n *\n * //=multiLine\n */\nfunction multiLineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiLineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiLineString = multiLineString;\n/**\n * Creates a {@link Feature<MultiPoint>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPoint\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPoint>} a MultiPoint feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPt = turf.multiPoint([[0,0],[10,10]]);\n *\n * //=multiPt\n */\nfunction multiPoint(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPoint\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiPoint = multiPoint;\n/**\n * Creates a {@link Feature<MultiPolygon>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPolygon\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPolygon>} a multipolygon feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);\n *\n * //=multiPoly\n *\n */\nfunction multiPolygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPolygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiPolygon = multiPolygon;\n/**\n * Creates a {@link Feature<GeometryCollection>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name geometryCollection\n * @param {Array<Geometry>} geometries an array of GeoJSON Geometries\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature\n * @example\n * var pt = turf.geometry(\"Point\", [100, 0]);\n * var line = turf.geometry(\"LineString\", [[101, 0], [102, 1]]);\n * var collection = turf.geometryCollection([pt, line]);\n *\n * // => collection\n */\nfunction geometryCollection(geometries, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"GeometryCollection\",\n        geometries: geometries,\n    };\n    return feature(geom, properties, options);\n}\nexports.geometryCollection = geometryCollection;\n/**\n * Round number to precision\n *\n * @param {number} num Number\n * @param {number} [precision=0] Precision\n * @returns {number} rounded number\n * @example\n * turf.round(120.4321)\n * //=120\n *\n * turf.round(120.4321, 2)\n * //=120.43\n */\nfunction round(num, precision) {\n    if (precision === void 0) { precision = 0; }\n    if (precision && !(precision >= 0)) {\n        throw new Error(\"precision must be a positive number\");\n    }\n    var multiplier = Math.pow(10, precision || 0);\n    return Math.round(num * multiplier) / multiplier;\n}\nexports.round = round;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name radiansToLength\n * @param {number} radians in radians across the sphere\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} distance\n */\nfunction radiansToLength(radians, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = exports.factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return radians * factor;\n}\nexports.radiansToLength = radiansToLength;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name lengthToRadians\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} radians\n */\nfunction lengthToRadians(distance, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = exports.factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return distance / factor;\n}\nexports.lengthToRadians = lengthToRadians;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet\n *\n * @name lengthToDegrees\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} degrees\n */\nfunction lengthToDegrees(distance, units) {\n    return radiansToDegrees(lengthToRadians(distance, units));\n}\nexports.lengthToDegrees = lengthToDegrees;\n/**\n * Converts any bearing angle from the north line direction (positive clockwise)\n * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line\n *\n * @name bearingToAzimuth\n * @param {number} bearing angle, between -180 and +180 degrees\n * @returns {number} angle between 0 and 360 degrees\n */\nfunction bearingToAzimuth(bearing) {\n    var angle = bearing % 360;\n    if (angle < 0) {\n        angle += 360;\n    }\n    return angle;\n}\nexports.bearingToAzimuth = bearingToAzimuth;\n/**\n * Converts an angle in radians to degrees\n *\n * @name radiansToDegrees\n * @param {number} radians angle in radians\n * @returns {number} degrees between 0 and 360 degrees\n */\nfunction radiansToDegrees(radians) {\n    var degrees = radians % (2 * Math.PI);\n    return (degrees * 180) / Math.PI;\n}\nexports.radiansToDegrees = radiansToDegrees;\n/**\n * Converts an angle in degrees to radians\n *\n * @name degreesToRadians\n * @param {number} degrees angle between 0 and 360 degrees\n * @returns {number} angle in radians\n */\nfunction degreesToRadians(degrees) {\n    var radians = degrees % 360;\n    return (radians * Math.PI) / 180;\n}\nexports.degreesToRadians = degreesToRadians;\n/**\n * Converts a length to the requested unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @param {number} length to be converted\n * @param {Units} [originalUnit=\"kilometers\"] of the length\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted length\n */\nfunction convertLength(length, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"kilometers\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(length >= 0)) {\n        throw new Error(\"length must be a positive number\");\n    }\n    return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\nexports.convertLength = convertLength;\n/**\n * Converts a area to the requested unit.\n * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeters, acres, miles, yards, feet, inches, hectares\n * @param {number} area to be converted\n * @param {Units} [originalUnit=\"meters\"] of the distance\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted area\n */\nfunction convertArea(area, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"meters\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(area >= 0)) {\n        throw new Error(\"area must be a positive number\");\n    }\n    var startFactor = exports.areaFactors[originalUnit];\n    if (!startFactor) {\n        throw new Error(\"invalid original units\");\n    }\n    var finalFactor = exports.areaFactors[finalUnit];\n    if (!finalFactor) {\n        throw new Error(\"invalid final units\");\n    }\n    return (area / startFactor) * finalFactor;\n}\nexports.convertArea = convertArea;\n/**\n * isNumber\n *\n * @param {*} num Number to validate\n * @returns {boolean} true/false\n * @example\n * turf.isNumber(123)\n * //=true\n * turf.isNumber('foo')\n * //=false\n */\nfunction isNumber(num) {\n    return !isNaN(num) && num !== null && !Array.isArray(num);\n}\nexports.isNumber = isNumber;\n/**\n * isObject\n *\n * @param {*} input variable to validate\n * @returns {boolean} true/false\n * @example\n * turf.isObject({elevation: 10})\n * //=true\n * turf.isObject('foo')\n * //=false\n */\nfunction isObject(input) {\n    return !!input && input.constructor === Object;\n}\nexports.isObject = isObject;\n/**\n * Validate BBox\n *\n * @private\n * @param {Array<number>} bbox BBox to validate\n * @returns {void}\n * @throws Error if BBox is not valid\n * @example\n * validateBBox([-180, -40, 110, 50])\n * //=OK\n * validateBBox([-180, -40])\n * //=Error\n * validateBBox('Foo')\n * //=Error\n * validateBBox(5)\n * //=Error\n * validateBBox(null)\n * //=Error\n * validateBBox(undefined)\n * //=Error\n */\nfunction validateBBox(bbox) {\n    if (!bbox) {\n        throw new Error(\"bbox is required\");\n    }\n    if (!Array.isArray(bbox)) {\n        throw new Error(\"bbox must be an Array\");\n    }\n    if (bbox.length !== 4 && bbox.length !== 6) {\n        throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n    }\n    bbox.forEach(function (num) {\n        if (!isNumber(num)) {\n            throw new Error(\"bbox must only contain numbers\");\n        }\n    });\n}\nexports.validateBBox = validateBBox;\n/**\n * Validate Id\n *\n * @private\n * @param {string|number} id Id to validate\n * @returns {void}\n * @throws Error if Id is not valid\n * @example\n * validateId([-180, -40, 110, 50])\n * //=Error\n * validateId([-180, -40])\n * //=Error\n * validateId('Foo')\n * //=OK\n * validateId(5)\n * //=OK\n * validateId(null)\n * //=Error\n * validateId(undefined)\n * //=Error\n */\nfunction validateId(id) {\n    if (!id) {\n        throw new Error(\"id is required\");\n    }\n    if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n        throw new Error(\"id must be a number or a string\");\n    }\n}\nexports.validateId = validateId;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar helpers_1 = require(\"@turf/helpers\");\nvar invariant_1 = require(\"@turf/invariant\");\nvar polygon_clipping_1 = __importDefault(require(\"polygon-clipping\"));\n/**\n * Takes two {@link Polygon|polygon} or {@link MultiPolygon|multi-polygon} geometries and\n * finds their polygonal intersection. If they don't intersect, returns null.\n *\n * @name intersect\n * @param {Feature<Polygon | MultiPolygon>} poly1 the first polygon or multipolygon\n * @param {Feature<Polygon | MultiPolygon>} poly2 the second polygon or multipolygon\n * @param {Object} [options={}] Optional Parameters\n * @param {Object} [options.properties={}] Translate GeoJSON Properties to Feature\n * @returns {Feature|null} returns a feature representing the area they share (either a {@link Polygon} or\n * {@link MultiPolygon}). If they do not share any area, returns `null`.\n * @example\n * var poly1 = turf.polygon([[\n *   [-122.801742, 45.48565],\n *   [-122.801742, 45.60491],\n *   [-122.584762, 45.60491],\n *   [-122.584762, 45.48565],\n *   [-122.801742, 45.48565]\n * ]]);\n *\n * var poly2 = turf.polygon([[\n *   [-122.520217, 45.535693],\n *   [-122.64038, 45.553967],\n *   [-122.720031, 45.526554],\n *   [-122.669906, 45.507309],\n *   [-122.723464, 45.446643],\n *   [-122.532577, 45.408574],\n *   [-122.487258, 45.477466],\n *   [-122.520217, 45.535693]\n * ]]);\n *\n * var intersection = turf.intersect(poly1, poly2);\n *\n * //addToMap\n * var addToMap = [poly1, poly2, intersection];\n */\nfunction intersect(poly1, poly2, options) {\n    if (options === void 0) { options = {}; }\n    var geom1 = invariant_1.getGeom(poly1);\n    var geom2 = invariant_1.getGeom(poly2);\n    var intersection = polygon_clipping_1.default.intersection(geom1.coordinates, geom2.coordinates);\n    if (intersection.length === 0)\n        return null;\n    if (intersection.length === 1)\n        return helpers_1.polygon(intersection[0], options.properties);\n    return helpers_1.multiPolygon(intersection, options.properties);\n}\nexports.default = intersect;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar helpers_1 = require(\"@turf/helpers\");\n/**\n * Unwrap a coordinate from a Point Feature, Geometry or a single coordinate.\n *\n * @name getCoord\n * @param {Array<number>|Geometry<Point>|Feature<Point>} coord GeoJSON Point or an Array of numbers\n * @returns {Array<number>} coordinates\n * @example\n * var pt = turf.point([10, 10]);\n *\n * var coord = turf.getCoord(pt);\n * //= [10, 10]\n */\nfunction getCoord(coord) {\n    if (!coord) {\n        throw new Error(\"coord is required\");\n    }\n    if (!Array.isArray(coord)) {\n        if (coord.type === \"Feature\" &&\n            coord.geometry !== null &&\n            coord.geometry.type === \"Point\") {\n            return coord.geometry.coordinates;\n        }\n        if (coord.type === \"Point\") {\n            return coord.coordinates;\n        }\n    }\n    if (Array.isArray(coord) &&\n        coord.length >= 2 &&\n        !Array.isArray(coord[0]) &&\n        !Array.isArray(coord[1])) {\n        return coord;\n    }\n    throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\n}\nexports.getCoord = getCoord;\n/**\n * Unwrap coordinates from a Feature, Geometry Object or an Array\n *\n * @name getCoords\n * @param {Array<any>|Geometry|Feature} coords Feature, Geometry Object or an Array\n * @returns {Array<any>} coordinates\n * @example\n * var poly = turf.polygon([[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]);\n *\n * var coords = turf.getCoords(poly);\n * //= [[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]\n */\nfunction getCoords(coords) {\n    if (Array.isArray(coords)) {\n        return coords;\n    }\n    // Feature\n    if (coords.type === \"Feature\") {\n        if (coords.geometry !== null) {\n            return coords.geometry.coordinates;\n        }\n    }\n    else {\n        // Geometry\n        if (coords.coordinates) {\n            return coords.coordinates;\n        }\n    }\n    throw new Error(\"coords must be GeoJSON Feature, Geometry Object or an Array\");\n}\nexports.getCoords = getCoords;\n/**\n * Checks if coordinates contains a number\n *\n * @name containsNumber\n * @param {Array<any>} coordinates GeoJSON Coordinates\n * @returns {boolean} true if Array contains a number\n */\nfunction containsNumber(coordinates) {\n    if (coordinates.length > 1 &&\n        helpers_1.isNumber(coordinates[0]) &&\n        helpers_1.isNumber(coordinates[1])) {\n        return true;\n    }\n    if (Array.isArray(coordinates[0]) && coordinates[0].length) {\n        return containsNumber(coordinates[0]);\n    }\n    throw new Error(\"coordinates must only contain numbers\");\n}\nexports.containsNumber = containsNumber;\n/**\n * Enforce expectations about types of GeoJSON objects for Turf.\n *\n * @name geojsonType\n * @param {GeoJSON} value any GeoJSON object\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nfunction geojsonType(value, type, name) {\n    if (!type || !name) {\n        throw new Error(\"type and name required\");\n    }\n    if (!value || value.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            value.type);\n    }\n}\nexports.geojsonType = geojsonType;\n/**\n * Enforce expectations about types of {@link Feature} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name featureOf\n * @param {Feature} feature a feature with an expected geometry type\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} error if value is not the expected type.\n */\nfunction featureOf(feature, type, name) {\n    if (!feature) {\n        throw new Error(\"No feature passed\");\n    }\n    if (!name) {\n        throw new Error(\".featureOf() requires a name\");\n    }\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n        throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n    }\n    if (!feature.geometry || feature.geometry.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            feature.geometry.type);\n    }\n}\nexports.featureOf = featureOf;\n/**\n * Enforce expectations about types of {@link FeatureCollection} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name collectionOf\n * @param {FeatureCollection} featureCollection a FeatureCollection for which features will be judged\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nfunction collectionOf(featureCollection, type, name) {\n    if (!featureCollection) {\n        throw new Error(\"No featureCollection passed\");\n    }\n    if (!name) {\n        throw new Error(\".collectionOf() requires a name\");\n    }\n    if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\n        throw new Error(\"Invalid input to \" + name + \", FeatureCollection required\");\n    }\n    for (var _i = 0, _a = featureCollection.features; _i < _a.length; _i++) {\n        var feature = _a[_i];\n        if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n            throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n        }\n        if (!feature.geometry || feature.geometry.type !== type) {\n            throw new Error(\"Invalid input to \" +\n                name +\n                \": must be a \" +\n                type +\n                \", given \" +\n                feature.geometry.type);\n        }\n    }\n}\nexports.collectionOf = collectionOf;\n/**\n * Get Geometry from Feature or Geometry Object\n *\n * @param {Feature|Geometry} geojson GeoJSON Feature or Geometry Object\n * @returns {Geometry|null} GeoJSON Geometry Object\n * @throws {Error} if geojson is not a Feature or Geometry Object\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getGeom(point)\n * //={\"type\": \"Point\", \"coordinates\": [110, 40]}\n */\nfunction getGeom(geojson) {\n    if (geojson.type === \"Feature\") {\n        return geojson.geometry;\n    }\n    return geojson;\n}\nexports.getGeom = getGeom;\n/**\n * Get GeoJSON object's type, Geometry type is prioritize.\n *\n * @param {GeoJSON} geojson GeoJSON object\n * @param {string} [name=\"geojson\"] name of the variable to display in error message (unused)\n * @returns {string} GeoJSON type\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getType(point)\n * //=\"Point\"\n */\nfunction getType(geojson, _name) {\n    if (geojson.type === \"FeatureCollection\") {\n        return \"FeatureCollection\";\n    }\n    if (geojson.type === \"GeometryCollection\") {\n        return \"GeometryCollection\";\n    }\n    if (geojson.type === \"Feature\" && geojson.geometry !== null) {\n        return geojson.geometry.type;\n    }\n    return geojson.type;\n}\nexports.getType = getType;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar helpers_1 = require(\"@turf/helpers\");\nvar invariant_1 = require(\"@turf/invariant\");\nvar line_segment_1 = __importDefault(require(\"@turf/line-segment\"));\nvar meta_1 = require(\"@turf/meta\");\nvar geojson_rbush_1 = __importDefault(require(\"geojson-rbush\"));\n/**\n * Takes any LineString or Polygon GeoJSON and returns the intersecting point(s).\n *\n * @name lineIntersect\n * @param {GeoJSON} line1 any LineString or Polygon\n * @param {GeoJSON} line2 any LineString or Polygon\n * @returns {FeatureCollection<Point>} point(s) that intersect both\n * @example\n * var line1 = turf.lineString([[126, -11], [129, -21]]);\n * var line2 = turf.lineString([[123, -18], [131, -14]]);\n * var intersects = turf.lineIntersect(line1, line2);\n *\n * //addToMap\n * var addToMap = [line1, line2, intersects]\n */\nfunction lineIntersect(line1, line2) {\n    var unique = {};\n    var results = [];\n    // First, normalize geometries to features\n    // Then, handle simple 2-vertex segments\n    if (line1.type === \"LineString\") {\n        line1 = helpers_1.feature(line1);\n    }\n    if (line2.type === \"LineString\") {\n        line2 = helpers_1.feature(line2);\n    }\n    if (line1.type === \"Feature\" &&\n        line2.type === \"Feature\" &&\n        line1.geometry !== null &&\n        line2.geometry !== null &&\n        line1.geometry.type === \"LineString\" &&\n        line2.geometry.type === \"LineString\" &&\n        line1.geometry.coordinates.length === 2 &&\n        line2.geometry.coordinates.length === 2) {\n        var intersect = intersects(line1, line2);\n        if (intersect) {\n            results.push(intersect);\n        }\n        return helpers_1.featureCollection(results);\n    }\n    // Handles complex GeoJSON Geometries\n    var tree = geojson_rbush_1.default();\n    tree.load(line_segment_1.default(line2));\n    meta_1.featureEach(line_segment_1.default(line1), function (segment) {\n        meta_1.featureEach(tree.search(segment), function (match) {\n            var intersect = intersects(segment, match);\n            if (intersect) {\n                // prevent duplicate points https://github.com/Turfjs/turf/issues/688\n                var key = invariant_1.getCoords(intersect).join(\",\");\n                if (!unique[key]) {\n                    unique[key] = true;\n                    results.push(intersect);\n                }\n            }\n        });\n    });\n    return helpers_1.featureCollection(results);\n}\n/**\n * Find a point that intersects LineStrings with two coordinates each\n *\n * @private\n * @param {Feature<LineString>} line1 GeoJSON LineString (Must only contain 2 coordinates)\n * @param {Feature<LineString>} line2 GeoJSON LineString (Must only contain 2 coordinates)\n * @returns {Feature<Point>} intersecting GeoJSON Point\n */\nfunction intersects(line1, line2) {\n    var coords1 = invariant_1.getCoords(line1);\n    var coords2 = invariant_1.getCoords(line2);\n    if (coords1.length !== 2) {\n        throw new Error(\"<intersects> line1 must only contain 2 coordinates\");\n    }\n    if (coords2.length !== 2) {\n        throw new Error(\"<intersects> line2 must only contain 2 coordinates\");\n    }\n    var x1 = coords1[0][0];\n    var y1 = coords1[0][1];\n    var x2 = coords1[1][0];\n    var y2 = coords1[1][1];\n    var x3 = coords2[0][0];\n    var y3 = coords2[0][1];\n    var x4 = coords2[1][0];\n    var y4 = coords2[1][1];\n    var denom = (y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1);\n    var numeA = (x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3);\n    var numeB = (x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3);\n    if (denom === 0) {\n        if (numeA === 0 && numeB === 0) {\n            return null;\n        }\n        return null;\n    }\n    var uA = numeA / denom;\n    var uB = numeB / denom;\n    if (uA >= 0 && uA <= 1 && uB >= 0 && uB <= 1) {\n        var x = x1 + uA * (x2 - x1);\n        var y = y1 + uA * (y2 - y1);\n        return helpers_1.point([x, y]);\n    }\n    return null;\n}\nexports.default = lineIntersect;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar helpers_1 = require(\"@turf/helpers\");\nvar invariant_1 = require(\"@turf/invariant\");\nvar meta_1 = require(\"@turf/meta\");\n/**\n * Creates a {@link FeatureCollection} of 2-vertex {@link LineString} segments from a\n * {@link LineString|(Multi)LineString} or {@link Polygon|(Multi)Polygon}.\n *\n * @name lineSegment\n * @param {GeoJSON} geojson GeoJSON Polygon or LineString\n * @returns {FeatureCollection<LineString>} 2-vertex line segments\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n * var segments = turf.lineSegment(polygon);\n *\n * //addToMap\n * var addToMap = [polygon, segments]\n */\nfunction lineSegment(geojson) {\n    if (!geojson) {\n        throw new Error(\"geojson is required\");\n    }\n    var results = [];\n    meta_1.flattenEach(geojson, function (feature) {\n        lineSegmentFeature(feature, results);\n    });\n    return helpers_1.featureCollection(results);\n}\n/**\n * Line Segment\n *\n * @private\n * @param {Feature<LineString|Polygon>} geojson Line or polygon feature\n * @param {Array} results push to results\n * @returns {void}\n */\nfunction lineSegmentFeature(geojson, results) {\n    var coords = [];\n    var geometry = geojson.geometry;\n    if (geometry !== null) {\n        switch (geometry.type) {\n            case \"Polygon\":\n                coords = invariant_1.getCoords(geometry);\n                break;\n            case \"LineString\":\n                coords = [invariant_1.getCoords(geometry)];\n        }\n        coords.forEach(function (coord) {\n            var segments = createSegments(coord, geojson.properties);\n            segments.forEach(function (segment) {\n                segment.id = results.length;\n                results.push(segment);\n            });\n        });\n    }\n}\n/**\n * Create Segments from LineString coordinates\n *\n * @private\n * @param {Array<Array<number>>} coords LineString coordinates\n * @param {*} properties GeoJSON properties\n * @returns {Array<Feature<LineString>>} line segments\n */\nfunction createSegments(coords, properties) {\n    var segments = [];\n    coords.reduce(function (previousCoords, currentCoords) {\n        var segment = helpers_1.lineString([previousCoords, currentCoords], properties);\n        segment.bbox = bbox(previousCoords, currentCoords);\n        segments.push(segment);\n        return currentCoords;\n    });\n    return segments;\n}\n/**\n * Create BBox between two coordinates (faster than @turf/bbox)\n *\n * @private\n * @param {Array<number>} coords1 Point coordinate\n * @param {Array<number>} coords2 Point coordinate\n * @returns {BBox} [west, south, east, north]\n */\nfunction bbox(coords1, coords2) {\n    var x1 = coords1[0];\n    var y1 = coords1[1];\n    var x2 = coords2[0];\n    var y2 = coords2[1];\n    var west = x1 < x2 ? x1 : x2;\n    var south = y1 < y2 ? y1 : y2;\n    var east = x1 > x2 ? x1 : x2;\n    var north = y1 > y2 ? y1 : y2;\n    return [west, south, east, north];\n}\nexports.default = lineSegment;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar helpers = require('@turf/helpers');\n\n/**\n * Callback for coordEach\n *\n * @callback coordEachCallback\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()\n *\n * @name coordEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentCoord, coordIndex, featureIndex, multiFeatureIndex)\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordEach(features, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n  // Handles null Geometry -- Skips this GeoJSON\n  if (geojson === null) return;\n  var j,\n    k,\n    l,\n    geometry,\n    stopG,\n    coords,\n    geometryMaybeCollection,\n    wrapShrink = 0,\n    coordIndex = 0,\n    isGeometryCollection,\n    type = geojson.type,\n    isFeatureCollection = type === \"FeatureCollection\",\n    isFeature = type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[featureIndex].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n      var multiFeatureIndex = 0;\n      var geometryIndex = 0;\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[geomIndex]\n        : geometryMaybeCollection;\n\n      // Handles null Geometry -- Skips this geometry\n      if (geometry === null) continue;\n      coords = geometry.coordinates;\n      var geomType = geometry.type;\n\n      wrapShrink =\n        excludeWrapCoord &&\n        (geomType === \"Polygon\" || geomType === \"MultiPolygon\")\n          ? 1\n          : 0;\n\n      switch (geomType) {\n        case null:\n          break;\n        case \"Point\":\n          if (\n            callback(\n              coords,\n              coordIndex,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n          coordIndex++;\n          multiFeatureIndex++;\n          break;\n        case \"LineString\":\n        case \"MultiPoint\":\n          for (j = 0; j < coords.length; j++) {\n            if (\n              callback(\n                coords[j],\n                coordIndex,\n                featureIndex,\n                multiFeatureIndex,\n                geometryIndex\n              ) === false\n            )\n              return false;\n            coordIndex++;\n            if (geomType === \"MultiPoint\") multiFeatureIndex++;\n          }\n          if (geomType === \"LineString\") multiFeatureIndex++;\n          break;\n        case \"Polygon\":\n        case \"MultiLineString\":\n          for (j = 0; j < coords.length; j++) {\n            for (k = 0; k < coords[j].length - wrapShrink; k++) {\n              if (\n                callback(\n                  coords[j][k],\n                  coordIndex,\n                  featureIndex,\n                  multiFeatureIndex,\n                  geometryIndex\n                ) === false\n              )\n                return false;\n              coordIndex++;\n            }\n            if (geomType === \"MultiLineString\") multiFeatureIndex++;\n            if (geomType === \"Polygon\") geometryIndex++;\n          }\n          if (geomType === \"Polygon\") multiFeatureIndex++;\n          break;\n        case \"MultiPolygon\":\n          for (j = 0; j < coords.length; j++) {\n            geometryIndex = 0;\n            for (k = 0; k < coords[j].length; k++) {\n              for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                if (\n                  callback(\n                    coords[j][k][l],\n                    coordIndex,\n                    featureIndex,\n                    multiFeatureIndex,\n                    geometryIndex\n                  ) === false\n                )\n                  return false;\n                coordIndex++;\n              }\n              geometryIndex++;\n            }\n            multiFeatureIndex++;\n          }\n          break;\n        case \"GeometryCollection\":\n          for (j = 0; j < geometry.geometries.length; j++)\n            if (\n              coordEach(geometry.geometries[j], callback, excludeWrapCoord) ===\n              false\n            )\n              return false;\n          break;\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n  }\n}\n\n/**\n * Callback for coordReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback coordReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Reduce coordinates in any GeoJSON object, similar to Array.reduce()\n *\n * @name coordReduce\n * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentCoord;\n * });\n */\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n  var previousValue = initialValue;\n  coordEach(\n    geojson,\n    function (\n      currentCoord,\n      coordIndex,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex\n    ) {\n      if (coordIndex === 0 && initialValue === undefined)\n        previousValue = currentCoord;\n      else\n        previousValue = callback(\n          previousValue,\n          currentCoord,\n          coordIndex,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    },\n    excludeWrapCoord\n  );\n  return previousValue;\n}\n\n/**\n * Callback for propEach\n *\n * @callback propEachCallback\n * @param {Object} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over properties in any GeoJSON object, similar to Array.forEach()\n *\n * @name propEach\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentProperties, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propEach(features, function (currentProperties, featureIndex) {\n *   //=currentProperties\n *   //=featureIndex\n * });\n */\nfunction propEach(geojson, callback) {\n  var i;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      for (i = 0; i < geojson.features.length; i++) {\n        if (callback(geojson.features[i].properties, i) === false) break;\n      }\n      break;\n    case \"Feature\":\n      callback(geojson.properties, 0);\n      break;\n  }\n}\n\n/**\n * Callback for propReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback propReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {*} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce properties in any GeoJSON object into a single value,\n * similar to how Array.reduce works. However, in this case we lazily run\n * the reduction, so an array of all properties is unnecessary.\n *\n * @name propReduce\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentProperties, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propReduce(features, function (previousValue, currentProperties, featureIndex) {\n *   //=previousValue\n *   //=currentProperties\n *   //=featureIndex\n *   return currentProperties\n * });\n */\nfunction propReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  propEach(geojson, function (currentProperties, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentProperties;\n    else\n      previousValue = callback(previousValue, currentProperties, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Callback for featureEach\n *\n * @callback featureEachCallback\n * @param {Feature<any>} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name featureEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.featureEach(features, function (currentFeature, featureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n * });\n */\nfunction featureEach(geojson, callback) {\n  if (geojson.type === \"Feature\") {\n    callback(geojson, 0);\n  } else if (geojson.type === \"FeatureCollection\") {\n    for (var i = 0; i < geojson.features.length; i++) {\n      if (callback(geojson.features[i], i) === false) break;\n    }\n  }\n}\n\n/**\n * Callback for featureReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback featureReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name featureReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.featureReduce(features, function (previousValue, currentFeature, featureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   return currentFeature\n * });\n */\nfunction featureReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  featureEach(geojson, function (currentFeature, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentFeature;\n    else previousValue = callback(previousValue, currentFeature, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Get all coordinates from any GeoJSON object.\n *\n * @name coordAll\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @returns {Array<Array<number>>} coordinate position array\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * var coords = turf.coordAll(features);\n * //= [[26, 37], [36, 53]]\n */\nfunction coordAll(geojson) {\n  var coords = [];\n  coordEach(geojson, function (coord) {\n    coords.push(coord);\n  });\n  return coords;\n}\n\n/**\n * Callback for geomEach\n *\n * @callback geomEachCallback\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()\n *\n * @name geomEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomEach(features, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n * });\n */\nfunction geomEach(geojson, callback) {\n  var i,\n    j,\n    g,\n    geometry,\n    stopG,\n    geometryMaybeCollection,\n    isGeometryCollection,\n    featureProperties,\n    featureBBox,\n    featureId,\n    featureIndex = 0,\n    isFeatureCollection = geojson.type === \"FeatureCollection\",\n    isFeature = geojson.type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (i = 0; i < stop; i++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[i].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    featureProperties = isFeatureCollection\n      ? geojson.features[i].properties\n      : isFeature\n      ? geojson.properties\n      : {};\n    featureBBox = isFeatureCollection\n      ? geojson.features[i].bbox\n      : isFeature\n      ? geojson.bbox\n      : undefined;\n    featureId = isFeatureCollection\n      ? geojson.features[i].id\n      : isFeature\n      ? geojson.id\n      : undefined;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (g = 0; g < stopG; g++) {\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[g]\n        : geometryMaybeCollection;\n\n      // Handle null Geometry\n      if (geometry === null) {\n        if (\n          callback(\n            null,\n            featureIndex,\n            featureProperties,\n            featureBBox,\n            featureId\n          ) === false\n        )\n          return false;\n        continue;\n      }\n      switch (geometry.type) {\n        case \"Point\":\n        case \"LineString\":\n        case \"MultiPoint\":\n        case \"Polygon\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\": {\n          if (\n            callback(\n              geometry,\n              featureIndex,\n              featureProperties,\n              featureBBox,\n              featureId\n            ) === false\n          )\n            return false;\n          break;\n        }\n        case \"GeometryCollection\": {\n          for (j = 0; j < geometry.geometries.length; j++) {\n            if (\n              callback(\n                geometry.geometries[j],\n                featureIndex,\n                featureProperties,\n                featureBBox,\n                featureId\n              ) === false\n            )\n              return false;\n          }\n          break;\n        }\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n    // Only increase `featureIndex` per each feature\n    featureIndex++;\n  }\n}\n\n/**\n * Callback for geomReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback geomReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Reduce geometry in any GeoJSON object, similar to Array.reduce().\n *\n * @name geomReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomReduce(features, function (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=previousValue\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n *   return currentGeometry\n * });\n */\nfunction geomReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  geomEach(\n    geojson,\n    function (\n      currentGeometry,\n      featureIndex,\n      featureProperties,\n      featureBBox,\n      featureId\n    ) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentGeometry;\n      else\n        previousValue = callback(\n          previousValue,\n          currentGeometry,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for flattenEach\n *\n * @callback flattenEachCallback\n * @param {Feature} currentFeature The current flattened feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Iterate over flattened features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name flattenEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex, multiFeatureIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenEach(features, function (currentFeature, featureIndex, multiFeatureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n * });\n */\nfunction flattenEach(geojson, callback) {\n  geomEach(geojson, function (geometry, featureIndex, properties, bbox, id) {\n    // Callback for single geometry\n    var type = geometry === null ? null : geometry.type;\n    switch (type) {\n      case null:\n      case \"Point\":\n      case \"LineString\":\n      case \"Polygon\":\n        if (\n          callback(\n            helpers.feature(geometry, properties, { bbox: bbox, id: id }),\n            featureIndex,\n            0\n          ) === false\n        )\n          return false;\n        return;\n    }\n\n    var geomType;\n\n    // Callback for multi-geometry\n    switch (type) {\n      case \"MultiPoint\":\n        geomType = \"Point\";\n        break;\n      case \"MultiLineString\":\n        geomType = \"LineString\";\n        break;\n      case \"MultiPolygon\":\n        geomType = \"Polygon\";\n        break;\n    }\n\n    for (\n      var multiFeatureIndex = 0;\n      multiFeatureIndex < geometry.coordinates.length;\n      multiFeatureIndex++\n    ) {\n      var coordinate = geometry.coordinates[multiFeatureIndex];\n      var geom = {\n        type: geomType,\n        coordinates: coordinate,\n      };\n      if (\n        callback(helpers.feature(geom, properties), featureIndex, multiFeatureIndex) ===\n        false\n      )\n        return false;\n    }\n  });\n}\n\n/**\n * Callback for flattenReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback flattenReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Reduce flattened features in any GeoJSON object, similar to Array.reduce().\n *\n * @name flattenReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex, multiFeatureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenReduce(features, function (previousValue, currentFeature, featureIndex, multiFeatureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   return currentFeature\n * });\n */\nfunction flattenReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  flattenEach(\n    geojson,\n    function (currentFeature, featureIndex, multiFeatureIndex) {\n      if (\n        featureIndex === 0 &&\n        multiFeatureIndex === 0 &&\n        initialValue === undefined\n      )\n        previousValue = currentFeature;\n      else\n        previousValue = callback(\n          previousValue,\n          currentFeature,\n          featureIndex,\n          multiFeatureIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for segmentEach\n *\n * @callback segmentEachCallback\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n * @returns {void}\n */\n\n/**\n * Iterate over 2-vertex line segment in any GeoJSON object, similar to Array.forEach()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex)\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentEach(polygon, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //=currentSegment\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   //=segmentIndex\n * });\n *\n * // Calculate the total number of segments\n * var total = 0;\n * turf.segmentEach(polygon, function () {\n *     total++;\n * });\n */\nfunction segmentEach(geojson, callback) {\n  flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n    var segmentIndex = 0;\n\n    // Exclude null Geometries\n    if (!feature.geometry) return;\n    // (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n    var type = feature.geometry.type;\n    if (type === \"Point\" || type === \"MultiPoint\") return;\n\n    // Generate 2-vertex line segments\n    var previousCoords;\n    var previousFeatureIndex = 0;\n    var previousMultiIndex = 0;\n    var prevGeomIndex = 0;\n    if (\n      coordEach(\n        feature,\n        function (\n          currentCoord,\n          coordIndex,\n          featureIndexCoord,\n          multiPartIndexCoord,\n          geometryIndex\n        ) {\n          // Simulating a meta.coordReduce() since `reduce` operations cannot be stopped by returning `false`\n          if (\n            previousCoords === undefined ||\n            featureIndex > previousFeatureIndex ||\n            multiPartIndexCoord > previousMultiIndex ||\n            geometryIndex > prevGeomIndex\n          ) {\n            previousCoords = currentCoord;\n            previousFeatureIndex = featureIndex;\n            previousMultiIndex = multiPartIndexCoord;\n            prevGeomIndex = geometryIndex;\n            segmentIndex = 0;\n            return;\n          }\n          var currentSegment = helpers.lineString(\n            [previousCoords, currentCoord],\n            feature.properties\n          );\n          if (\n            callback(\n              currentSegment,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex,\n              segmentIndex\n            ) === false\n          )\n            return false;\n          segmentIndex++;\n          previousCoords = currentCoord;\n        }\n      ) === false\n    )\n      return false;\n  });\n}\n\n/**\n * Callback for segmentReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback segmentReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n */\n\n/**\n * Reduce 2-vertex line segment in any GeoJSON object, similar to Array.reduce()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (previousValue, currentSegment, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentReduce(polygon, function (previousSegment, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //= previousSegment\n *   //= currentSegment\n *   //= featureIndex\n *   //= multiFeatureIndex\n *   //= geometryIndex\n *   //= segmentIndex\n *   return currentSegment\n * });\n *\n * // Calculate the total number of segments\n * var initialValue = 0\n * var total = turf.segmentReduce(polygon, function (previousValue) {\n *     previousValue++;\n *     return previousValue;\n * }, initialValue);\n */\nfunction segmentReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  var started = false;\n  segmentEach(\n    geojson,\n    function (\n      currentSegment,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex,\n      segmentIndex\n    ) {\n      if (started === false && initialValue === undefined)\n        previousValue = currentSegment;\n      else\n        previousValue = callback(\n          previousValue,\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        );\n      started = true;\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for lineEach\n *\n * @callback lineEachCallback\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Iterate over line or ring coordinates in LineString, Polygon, MultiLineString, MultiPolygon Features or Geometries,\n * similar to Array.forEach.\n *\n * @name lineEach\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @example\n * var multiLine = turf.multiLineString([\n *   [[26, 37], [35, 45]],\n *   [[36, 53], [38, 50], [41, 55]]\n * ]);\n *\n * turf.lineEach(multiLine, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction lineEach(geojson, callback) {\n  // validation\n  if (!geojson) throw new Error(\"geojson is required\");\n\n  flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n    if (feature.geometry === null) return;\n    var type = feature.geometry.type;\n    var coords = feature.geometry.coordinates;\n    switch (type) {\n      case \"LineString\":\n        if (callback(feature, featureIndex, multiFeatureIndex, 0, 0) === false)\n          return false;\n        break;\n      case \"Polygon\":\n        for (\n          var geometryIndex = 0;\n          geometryIndex < coords.length;\n          geometryIndex++\n        ) {\n          if (\n            callback(\n              helpers.lineString(coords[geometryIndex], feature.properties),\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n        }\n        break;\n    }\n  });\n}\n\n/**\n * Callback for lineReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback lineReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name lineReduce\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var multiPoly = turf.multiPolygon([\n *   turf.polygon([[[12,48],[2,41],[24,38],[12,48]], [[9,44],[13,41],[13,45],[9,44]]]),\n *   turf.polygon([[[5, 5], [0, 0], [2, 2], [4, 4], [5, 5]]])\n * ]);\n *\n * turf.lineReduce(multiPoly, function (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentLine\n * });\n */\nfunction lineReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  lineEach(\n    geojson,\n    function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentLine;\n      else\n        previousValue = callback(\n          previousValue,\n          currentLine,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Finds a particular 2-vertex LineString Segment from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n * Point & MultiPoint will always return null.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.segmentIndex=0] Segment Index\n * @param {Object} [options.properties={}] Translate Properties to output LineString\n * @param {BBox} [options.bbox={}] Translate BBox to output LineString\n * @param {number|string} [options.id={}] Translate Id to output LineString\n * @returns {Feature<LineString>} 2-vertex GeoJSON Feature LineString\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findSegment(multiLine);\n * // => Feature<LineString<[[10, 10], [50, 30]]>>\n *\n * // First Segment of 2nd Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: 1});\n * // => Feature<LineString<[[-10, -10], [-50, -30]]>>\n *\n * // Last Segment of Last Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: -1, segmentIndex: -1});\n * // => Feature<LineString<[[-50, -30], [-30, -40]]>>\n */\nfunction findSegment(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!helpers.isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var segmentIndex = options.segmentIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find SegmentIndex\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n      if (segmentIndex < 0) segmentIndex = coords.length + segmentIndex - 1;\n      return helpers.lineString(\n        [coords[segmentIndex], coords[segmentIndex + 1]],\n        properties,\n        options\n      );\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[geometryIndex].length + segmentIndex - 1;\n      return helpers.lineString(\n        [\n          coords[geometryIndex][segmentIndex],\n          coords[geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;\n      return helpers.lineString(\n        [\n          coords[multiFeatureIndex][segmentIndex],\n          coords[multiFeatureIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex =\n          coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;\n      return helpers.lineString(\n        [\n          coords[multiFeatureIndex][geometryIndex][segmentIndex],\n          coords[multiFeatureIndex][geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\n/**\n * Finds a particular Point from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.coordIndex=0] Coord Index\n * @param {Object} [options.properties={}] Translate Properties to output Point\n * @param {BBox} [options.bbox={}] Translate BBox to output Point\n * @param {number|string} [options.id={}] Translate Id to output Point\n * @returns {Feature<Point>} 2-vertex GeoJSON Feature Point\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findPoint(multiLine);\n * // => Feature<Point<[10, 10]>>\n *\n * // First Segment of the 2nd Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: 1});\n * // => Feature<Point<[-10, -10]>>\n *\n * // Last Segment of last Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: -1, coordIndex: -1});\n * // => Feature<Point<[-30, -40]>>\n */\nfunction findPoint(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!helpers.isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var coordIndex = options.coordIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find Coord Index\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n      return helpers.point(coords, properties, options);\n    case \"MultiPoint\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      return helpers.point(coords[multiFeatureIndex], properties, options);\n    case \"LineString\":\n      if (coordIndex < 0) coordIndex = coords.length + coordIndex;\n      return helpers.point(coords[coordIndex], properties, options);\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[geometryIndex].length + coordIndex;\n      return helpers.point(coords[geometryIndex][coordIndex], properties, options);\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex].length + coordIndex;\n      return helpers.point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex =\n          coords[multiFeatureIndex][geometryIndex].length - coordIndex;\n      return helpers.point(\n        coords[multiFeatureIndex][geometryIndex][coordIndex],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\nexports.coordAll = coordAll;\nexports.coordEach = coordEach;\nexports.coordReduce = coordReduce;\nexports.featureEach = featureEach;\nexports.featureReduce = featureReduce;\nexports.findPoint = findPoint;\nexports.findSegment = findSegment;\nexports.flattenEach = flattenEach;\nexports.flattenReduce = flattenReduce;\nexports.geomEach = geomEach;\nexports.geomReduce = geomReduce;\nexports.lineEach = lineEach;\nexports.lineReduce = lineReduce;\nexports.propEach = propEach;\nexports.propReduce = propReduce;\nexports.segmentEach = segmentEach;\nexports.segmentReduce = segmentReduce;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Taken from http://geomalgorithms.com/a02-_lines.html\nvar distance_1 = __importDefault(require(\"@turf/distance\"));\nvar helpers_1 = require(\"@turf/helpers\");\nvar invariant_1 = require(\"@turf/invariant\");\nvar meta_1 = require(\"@turf/meta\");\nvar rhumb_distance_1 = __importDefault(require(\"@turf/rhumb-distance\"));\n/**\n * Returns the minimum distance between a {@link Point} and a {@link LineString}, being the distance from a line the\n * minimum distance between the point and any segment of the `LineString`.\n *\n * @name pointToLineDistance\n * @param {Feature<Point>|Array<number>} pt Feature or Geometry\n * @param {Feature<LineString>} line GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units=\"kilometers\"] can be anything supported by turf/convertLength\n * (ex: degrees, radians, miles, or kilometers)\n * @param {string} [options.method=\"geodesic\"] wether to calculate the distance based on geodesic (spheroid) or\n * planar (flat) method. Valid options are 'geodesic' or 'planar'.\n * @returns {number} distance between point and line\n * @example\n * var pt = turf.point([0, 0]);\n * var line = turf.lineString([[1, 1],[-1, 1]]);\n *\n * var distance = turf.pointToLineDistance(pt, line, {units: 'miles'});\n * //=69.11854715938406\n */\nfunction pointToLineDistance(pt, line, options) {\n    if (options === void 0) { options = {}; }\n    // Optional parameters\n    if (!options.method) {\n        options.method = \"geodesic\";\n    }\n    if (!options.units) {\n        options.units = \"kilometers\";\n    }\n    // validation\n    if (!pt) {\n        throw new Error(\"pt is required\");\n    }\n    if (Array.isArray(pt)) {\n        pt = helpers_1.point(pt);\n    }\n    else if (pt.type === \"Point\") {\n        pt = helpers_1.feature(pt);\n    }\n    else {\n        invariant_1.featureOf(pt, \"Point\", \"point\");\n    }\n    if (!line) {\n        throw new Error(\"line is required\");\n    }\n    if (Array.isArray(line)) {\n        line = helpers_1.lineString(line);\n    }\n    else if (line.type === \"LineString\") {\n        line = helpers_1.feature(line);\n    }\n    else {\n        invariant_1.featureOf(line, \"LineString\", \"line\");\n    }\n    var distance = Infinity;\n    var p = pt.geometry.coordinates;\n    meta_1.segmentEach(line, function (segment) {\n        var a = segment.geometry.coordinates[0];\n        var b = segment.geometry.coordinates[1];\n        var d = distanceToSegment(p, a, b, options);\n        if (d < distance) {\n            distance = d;\n        }\n    });\n    return helpers_1.convertLength(distance, \"degrees\", options.units);\n}\n/**\n * Returns the distance between a point P on a segment AB.\n *\n * @private\n * @param {Array<number>} p external point\n * @param {Array<number>} a first segment point\n * @param {Array<number>} b second segment point\n * @param {Object} [options={}] Optional parameters\n * @returns {number} distance\n */\nfunction distanceToSegment(p, a, b, options) {\n    var v = [b[0] - a[0], b[1] - a[1]];\n    var w = [p[0] - a[0], p[1] - a[1]];\n    var c1 = dot(w, v);\n    if (c1 <= 0) {\n        return calcDistance(p, a, { method: options.method, units: \"degrees\" });\n    }\n    var c2 = dot(v, v);\n    if (c2 <= c1) {\n        return calcDistance(p, b, { method: options.method, units: \"degrees\" });\n    }\n    var b2 = c1 / c2;\n    var Pb = [a[0] + b2 * v[0], a[1] + b2 * v[1]];\n    return calcDistance(p, Pb, { method: options.method, units: \"degrees\" });\n}\nfunction dot(u, v) {\n    return u[0] * v[0] + u[1] * v[1];\n}\nfunction calcDistance(a, b, options) {\n    return options.method === \"planar\"\n        ? rhumb_distance_1.default(a, b, options)\n        : distance_1.default(a, b, options);\n}\nexports.default = pointToLineDistance;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar helpers_1 = require(\"@turf/helpers\");\nvar invariant_1 = require(\"@turf/invariant\");\n/**\n * Converts a {@link Polygon} to {@link LineString|(Multi)LineString} or {@link MultiPolygon} to a\n * {@link FeatureCollection} of {@link LineString|(Multi)LineString}.\n *\n * @name polygonToLine\n * @param {Feature<Polygon|MultiPolygon>} poly Feature to convert\n * @param {Object} [options={}] Optional parameters\n * @param {Object} [options.properties={}] translates GeoJSON properties to Feature\n * @returns {FeatureCollection|Feature<LineString|MultiLinestring>} converted (Multi)Polygon to (Multi)LineString\n * @example\n * var poly = turf.polygon([[[125, -30], [145, -30], [145, -20], [125, -20], [125, -30]]]);\n *\n * var line = turf.polygonToLine(poly);\n *\n * //addToMap\n * var addToMap = [line];\n */\nfunction default_1(poly, options) {\n    if (options === void 0) { options = {}; }\n    var geom = invariant_1.getGeom(poly);\n    if (!options.properties && poly.type === \"Feature\") {\n        options.properties = poly.properties;\n    }\n    switch (geom.type) {\n        case \"Polygon\":\n            return polygonToLine(geom, options);\n        case \"MultiPolygon\":\n            return multiPolygonToLine(geom, options);\n        default:\n            throw new Error(\"invalid poly\");\n    }\n}\nexports.default = default_1;\n/**\n * @private\n */\nfunction polygonToLine(poly, options) {\n    if (options === void 0) { options = {}; }\n    var geom = invariant_1.getGeom(poly);\n    var coords = geom.coordinates;\n    var properties = options.properties\n        ? options.properties\n        : poly.type === \"Feature\"\n            ? poly.properties\n            : {};\n    return coordsToLine(coords, properties);\n}\nexports.polygonToLine = polygonToLine;\n/**\n * @private\n */\nfunction multiPolygonToLine(multiPoly, options) {\n    if (options === void 0) { options = {}; }\n    var geom = invariant_1.getGeom(multiPoly);\n    var coords = geom.coordinates;\n    var properties = options.properties\n        ? options.properties\n        : multiPoly.type === \"Feature\"\n            ? multiPoly.properties\n            : {};\n    var lines = [];\n    coords.forEach(function (coord) {\n        lines.push(coordsToLine(coord, properties));\n    });\n    return helpers_1.featureCollection(lines);\n}\nexports.multiPolygonToLine = multiPolygonToLine;\n/**\n * @private\n */\nfunction coordsToLine(coords, properties) {\n    if (coords.length > 1) {\n        return helpers_1.multiLineString(coords, properties);\n    }\n    return helpers_1.lineString(coords[0], properties);\n}\nexports.coordsToLine = coordsToLine;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://en.wikipedia.org/wiki/Rhumb_line\nvar helpers_1 = require(\"@turf/helpers\");\nvar invariant_1 = require(\"@turf/invariant\");\n/**\n * Calculates the distance along a rhumb line between two {@link Point|points} in degrees, radians,\n * miles, or kilometers.\n *\n * @name rhumbDistance\n * @param {Coord} from origin point\n * @param {Coord} to destination point\n * @param {Object} [options] Optional parameters\n * @param {string} [options.units=\"kilometers\"] can be degrees, radians, miles, or kilometers\n * @returns {number} distance between the two points\n * @example\n * var from = turf.point([-75.343, 39.984]);\n * var to = turf.point([-75.534, 39.123]);\n * var options = {units: 'miles'};\n *\n * var distance = turf.rhumbDistance(from, to, options);\n *\n * //addToMap\n * var addToMap = [from, to];\n * from.properties.distance = distance;\n * to.properties.distance = distance;\n */\nfunction rhumbDistance(from, to, options) {\n    if (options === void 0) { options = {}; }\n    var origin = invariant_1.getCoord(from);\n    var destination = invariant_1.getCoord(to);\n    // compensate the crossing of the 180th meridian (https://macwright.org/2016/09/26/the-180th-meridian.html)\n    // solution from https://github.com/mapbox/mapbox-gl-js/issues/3250#issuecomment-294887678\n    destination[0] +=\n        destination[0] - origin[0] > 180\n            ? -360\n            : origin[0] - destination[0] > 180\n                ? 360\n                : 0;\n    var distanceInMeters = calculateRhumbDistance(origin, destination);\n    var distance = helpers_1.convertLength(distanceInMeters, \"meters\", options.units);\n    return distance;\n}\n/**\n * Returns the distance travelling from this point to destination point along a rhumb line.\n * Adapted from Geodesy: https://github.com/chrisveness/geodesy/blob/master/latlon-spherical.js\n *\n * @private\n * @param   {Array<number>} origin point.\n * @param   {Array<number>} destination point.\n * @param   {number} [radius=6371e3] - (Mean) radius of earth (defaults to radius in metres).\n * @returns {number} Distance in km between this point and destination point (same units as radius).\n *\n * @example\n *     var p1 = new LatLon(51.127, 1.338);\n *     var p2 = new LatLon(50.964, 1.853);\n *     var d = p1.distanceTo(p2); // 40.31 km\n */\nfunction calculateRhumbDistance(origin, destination, radius) {\n    //  => phi\n    //  => lambda\n    //  => psi\n    //  => Delta\n    //  => delta\n    //  => theta\n    radius = radius === undefined ? helpers_1.earthRadius : Number(radius);\n    // see www.edwilliams.org/avform.htm#Rhumb\n    var R = radius;\n    var phi1 = (origin[1] * Math.PI) / 180;\n    var phi2 = (destination[1] * Math.PI) / 180;\n    var DeltaPhi = phi2 - phi1;\n    var DeltaLambda = (Math.abs(destination[0] - origin[0]) * Math.PI) / 180;\n    // if dLon over 180 take shorter rhumb line across the anti-meridian:\n    if (DeltaLambda > Math.PI) {\n        DeltaLambda -= 2 * Math.PI;\n    }\n    // on Mercator projection, longitude distances shrink by latitude; q is the 'stretch factor'\n    // q becomes ill-conditioned along E-W line (0/0); use empirical tolerance to avoid it\n    var DeltaPsi = Math.log(Math.tan(phi2 / 2 + Math.PI / 4) / Math.tan(phi1 / 2 + Math.PI / 4));\n    var q = Math.abs(DeltaPsi) > 10e-12 ? DeltaPhi / DeltaPsi : Math.cos(phi1);\n    // distance is pythagoras on 'stretched' Mercator projection\n    var delta = Math.sqrt(DeltaPhi * DeltaPhi + q * q * DeltaLambda * DeltaLambda); // angular distance in radians\n    var dist = delta * R;\n    return dist;\n}\nexports.default = rhumbDistance;\n","'use strict';\n\nvar objectAssign = require('object-assign');\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n// NB: The URL to the CommonJS spec is kept just for tradition.\n//     node-assert has evolved a lot since then, both in API and behavior.\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = require('util/');\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\n// Expose a strict only variant of assert\nfunction strict(value, message) {\n  if (!value) fail(value, true, message, '==', strict);\n}\nassert.strict = objectAssign(strict, assert, {\n  equal: assert.strictEqual,\n  deepEqual: assert.deepStrictEqual,\n  notEqual: assert.notStrictEqual,\n  notDeepEqual: assert.notDeepStrictEqual\n});\nassert.strict.strict = assert.strict;\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n","module.exports = {\n  \"100\": \"Continue\",\n  \"101\": \"Switching Protocols\",\n  \"102\": \"Processing\",\n  \"200\": \"OK\",\n  \"201\": \"Created\",\n  \"202\": \"Accepted\",\n  \"203\": \"Non-Authoritative Information\",\n  \"204\": \"No Content\",\n  \"205\": \"Reset Content\",\n  \"206\": \"Partial Content\",\n  \"207\": \"Multi-Status\",\n  \"208\": \"Already Reported\",\n  \"226\": \"IM Used\",\n  \"300\": \"Multiple Choices\",\n  \"301\": \"Moved Permanently\",\n  \"302\": \"Found\",\n  \"303\": \"See Other\",\n  \"304\": \"Not Modified\",\n  \"305\": \"Use Proxy\",\n  \"307\": \"Temporary Redirect\",\n  \"308\": \"Permanent Redirect\",\n  \"400\": \"Bad Request\",\n  \"401\": \"Unauthorized\",\n  \"402\": \"Payment Required\",\n  \"403\": \"Forbidden\",\n  \"404\": \"Not Found\",\n  \"405\": \"Method Not Allowed\",\n  \"406\": \"Not Acceptable\",\n  \"407\": \"Proxy Authentication Required\",\n  \"408\": \"Request Timeout\",\n  \"409\": \"Conflict\",\n  \"410\": \"Gone\",\n  \"411\": \"Length Required\",\n  \"412\": \"Precondition Failed\",\n  \"413\": \"Payload Too Large\",\n  \"414\": \"URI Too Long\",\n  \"415\": \"Unsupported Media Type\",\n  \"416\": \"Range Not Satisfiable\",\n  \"417\": \"Expectation Failed\",\n  \"418\": \"I'm a teapot\",\n  \"421\": \"Misdirected Request\",\n  \"422\": \"Unprocessable Entity\",\n  \"423\": \"Locked\",\n  \"424\": \"Failed Dependency\",\n  \"425\": \"Unordered Collection\",\n  \"426\": \"Upgrade Required\",\n  \"428\": \"Precondition Required\",\n  \"429\": \"Too Many Requests\",\n  \"431\": \"Request Header Fields Too Large\",\n  \"451\": \"Unavailable For Legal Reasons\",\n  \"500\": \"Internal Server Error\",\n  \"501\": \"Not Implemented\",\n  \"502\": \"Bad Gateway\",\n  \"503\": \"Service Unavailable\",\n  \"504\": \"Gateway Timeout\",\n  \"505\": \"HTTP Version Not Supported\",\n  \"506\": \"Variant Also Negotiates\",\n  \"507\": \"Insufficient Storage\",\n  \"508\": \"Loop Detected\",\n  \"509\": \"Bandwidth Limit Exceeded\",\n  \"510\": \"Not Extended\",\n  \"511\": \"Network Authentication Required\"\n}\n","/*global window, global*/\nvar util = require(\"util\")\nvar assert = require(\"assert\")\nfunction now() { return new Date().getTime() }\n\nvar slice = Array.prototype.slice\nvar console\nvar times = {}\n\nif (typeof global !== \"undefined\" && global.console) {\n    console = global.console\n} else if (typeof window !== \"undefined\" && window.console) {\n    console = window.console\n} else {\n    console = {}\n}\n\nvar functions = [\n    [log, \"log\"],\n    [info, \"info\"],\n    [warn, \"warn\"],\n    [error, \"error\"],\n    [time, \"time\"],\n    [timeEnd, \"timeEnd\"],\n    [trace, \"trace\"],\n    [dir, \"dir\"],\n    [consoleAssert, \"assert\"]\n]\n\nfor (var i = 0; i < functions.length; i++) {\n    var tuple = functions[i]\n    var f = tuple[0]\n    var name = tuple[1]\n\n    if (!console[name]) {\n        console[name] = f\n    }\n}\n\nmodule.exports = console\n\nfunction log() {}\n\nfunction info() {\n    console.log.apply(console, arguments)\n}\n\nfunction warn() {\n    console.log.apply(console, arguments)\n}\n\nfunction error() {\n    console.warn.apply(console, arguments)\n}\n\nfunction time(label) {\n    times[label] = now()\n}\n\nfunction timeEnd(label) {\n    var time = times[label]\n    if (!time) {\n        throw new Error(\"No such label: \" + label)\n    }\n\n    delete times[label]\n    var duration = now() - time\n    console.log(label + \": \" + duration + \"ms\")\n}\n\nfunction trace() {\n    var err = new Error()\n    err.name = \"Trace\"\n    err.message = util.format.apply(null, arguments)\n    console.error(err.stack)\n}\n\nfunction dir(object) {\n    console.log(util.inspect(object) + \"\\n\")\n}\n\nfunction consoleAssert(expression) {\n    if (!expression) {\n        var arr = slice.call(arguments, 1)\n        assert.ok(false, util.format.apply(null, arr))\n    }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar objectCreate = Object.create || objectCreatePolyfill\nvar objectKeys = Object.keys || objectKeysPolyfill\nvar bind = Function.prototype.bind || functionBindPolyfill\n\nfunction EventEmitter() {\n  if (!this._events || !Object.prototype.hasOwnProperty.call(this, '_events')) {\n    this._events = objectCreate(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nvar hasDefineProperty;\ntry {\n  var o = {};\n  if (Object.defineProperty) Object.defineProperty(o, 'x', { value: 0 });\n  hasDefineProperty = o.x === 0;\n} catch (err) { hasDefineProperty = false }\nif (hasDefineProperty) {\n  Object.defineProperty(EventEmitter, 'defaultMaxListeners', {\n    enumerable: true,\n    get: function() {\n      return defaultMaxListeners;\n    },\n    set: function(arg) {\n      // check whether the input is a positive number (whose value is zero or\n      // greater and not a NaN).\n      if (typeof arg !== 'number' || arg < 0 || arg !== arg)\n        throw new TypeError('\"defaultMaxListeners\" must be a positive number');\n      defaultMaxListeners = arg;\n    }\n  });\n} else {\n  EventEmitter.defaultMaxListeners = defaultMaxListeners;\n}\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    if (arguments.length > 1)\n      er = arguments[1];\n    if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Unhandled \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n      // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n      // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = objectCreate(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n          listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n          prepend ? [listener, existing] : [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n            existing.length + ' \"' + String(type) + '\" listeners ' +\n            'added. Use emitter.setMaxListeners() to ' +\n            'increase limit.');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        if (typeof console === 'object' && console.warn) {\n          console.warn('%s: %s', w.name, w.message);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    switch (arguments.length) {\n      case 0:\n        return this.listener.call(this.target);\n      case 1:\n        return this.listener.call(this.target, arguments[0]);\n      case 2:\n        return this.listener.call(this.target, arguments[0], arguments[1]);\n      case 3:\n        return this.listener.call(this.target, arguments[0], arguments[1],\n            arguments[2]);\n      default:\n        var args = new Array(arguments.length);\n        for (var i = 0; i < args.length; ++i)\n          args[i] = arguments[i];\n        this.listener.apply(this.target, args);\n    }\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = bind.call(onceWrapper, state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = objectCreate(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else\n          spliceOne(list, position);\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = objectCreate(null);\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = objectCreate(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = objectKeys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = objectCreate(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (!events)\n    return [];\n\n  var evlistener = events[type];\n  if (!evlistener)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction objectCreatePolyfill(proto) {\n  var F = function() {};\n  F.prototype = proto;\n  return new F;\n}\nfunction objectKeysPolyfill(obj) {\n  var keys = [];\n  for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k)) {\n    keys.push(k);\n  }\n  return k;\n}\nfunction functionBindPolyfill(context) {\n  var fn = this;\n  return function () {\n    return fn.apply(context, arguments);\n  };\n}\n","'use strict';\nconst Token = require('token-types');\nconst strtok3 = require('strtok3/lib/core');\nconst {\n\tstringToBytes,\n\ttarHeaderChecksumMatches,\n\tuint32SyncSafeToken\n} = require('./util');\nconst supported = require('./supported');\n\nconst minimumBytes = 4100; // A fair amount of file-types are detectable within this range\n\nasync function fromStream(stream) {\n\tconst tokenizer = await strtok3.fromStream(stream);\n\ttry {\n\t\treturn await fromTokenizer(tokenizer);\n\t} finally {\n\t\tawait tokenizer.close();\n\t}\n}\n\nasync function fromBuffer(input) {\n\tif (!(input instanceof Uint8Array || input instanceof ArrayBuffer || Buffer.isBuffer(input))) {\n\t\tthrow new TypeError(`Expected the \\`input\\` argument to be of type \\`Uint8Array\\` or \\`Buffer\\` or \\`ArrayBuffer\\`, got \\`${typeof input}\\``);\n\t}\n\n\tconst buffer = input instanceof Buffer ? input : Buffer.from(input);\n\n\tif (!(buffer && buffer.length > 1)) {\n\t\treturn;\n\t}\n\n\tconst tokenizer = strtok3.fromBuffer(buffer);\n\treturn fromTokenizer(tokenizer);\n}\n\nfunction _check(buffer, headers, options) {\n\toptions = {\n\t\toffset: 0,\n\t\t...options\n\t};\n\n\tfor (const [index, header] of headers.entries()) {\n\t\t// If a bitmask is set\n\t\tif (options.mask) {\n\t\t\t// If header doesn't equal `buf` with bits masked off\n\t\t\tif (header !== (options.mask[index] & buffer[index + options.offset])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (header !== buffer[index + options.offset]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nasync function fromTokenizer(tokenizer) {\n\ttry {\n\t\treturn _fromTokenizer(tokenizer);\n\t} catch (error) {\n\t\tif (!(error instanceof strtok3.EndOfStreamError)) {\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n\nasync function _fromTokenizer(tokenizer) {\n\tlet buffer = Buffer.alloc(minimumBytes);\n\tconst bytesRead = 12;\n\tconst check = (header, options) => _check(buffer, header, options);\n\tconst checkString = (header, options) => check(stringToBytes(header), options);\n\n\t// Keep reading until EOF if the file size is unknown.\n\tif (!tokenizer.fileInfo.size) {\n\t\ttokenizer.fileInfo.size = Number.MAX_SAFE_INTEGER;\n\t}\n\n\tawait tokenizer.peekBuffer(buffer, {length: bytesRead, mayBeLess: true});\n\n\t// -- 2-byte signatures --\n\n\tif (check([0x42, 0x4D])) {\n\t\treturn {\n\t\t\text: 'bmp',\n\t\t\tmime: 'image/bmp'\n\t\t};\n\t}\n\n\tif (check([0x0B, 0x77])) {\n\t\treturn {\n\t\t\text: 'ac3',\n\t\t\tmime: 'audio/vnd.dolby.dd-raw'\n\t\t};\n\t}\n\n\tif (check([0x78, 0x01])) {\n\t\treturn {\n\t\t\text: 'dmg',\n\t\t\tmime: 'application/x-apple-diskimage'\n\t\t};\n\t}\n\n\tif (check([0x4D, 0x5A])) {\n\t\treturn {\n\t\t\text: 'exe',\n\t\t\tmime: 'application/x-msdownload'\n\t\t};\n\t}\n\n\tif (check([0x25, 0x21])) {\n\t\tawait tokenizer.peekBuffer(buffer, {length: 24, mayBeLess: true});\n\n\t\tif (checkString('PS-Adobe-', {offset: 2}) &&\n\t\t\tcheckString(' EPSF-', {offset: 14})) {\n\t\t\treturn {\n\t\t\t\text: 'eps',\n\t\t\t\tmime: 'application/eps'\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\text: 'ps',\n\t\t\tmime: 'application/postscript'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x1F, 0xA0]) ||\n\t\tcheck([0x1F, 0x9D])\n\t) {\n\t\treturn {\n\t\t\text: 'Z',\n\t\t\tmime: 'application/x-compress'\n\t\t};\n\t}\n\n\t// -- 3-byte signatures --\n\n\tif (check([0xFF, 0xD8, 0xFF])) {\n\t\treturn {\n\t\t\text: 'jpg',\n\t\t\tmime: 'image/jpeg'\n\t\t};\n\t}\n\n\tif (check([0x49, 0x49, 0xBC])) {\n\t\treturn {\n\t\t\text: 'jxr',\n\t\t\tmime: 'image/vnd.ms-photo'\n\t\t};\n\t}\n\n\tif (check([0x1F, 0x8B, 0x8])) {\n\t\treturn {\n\t\t\text: 'gz',\n\t\t\tmime: 'application/gzip'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x5A, 0x68])) {\n\t\treturn {\n\t\t\text: 'bz2',\n\t\t\tmime: 'application/x-bzip2'\n\t\t};\n\t}\n\n\tif (checkString('ID3')) {\n\t\tawait tokenizer.ignore(6); // Skip ID3 header until the header size\n\t\tconst id3HeaderLen = await tokenizer.readToken(uint32SyncSafeToken);\n\t\tif (tokenizer.position + id3HeaderLen > tokenizer.fileInfo.size) {\n\t\t\t// Guess file type based on ID3 header for backward compatibility\n\t\t\treturn {\n\t\t\t\text: 'mp3',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\tawait tokenizer.ignore(id3HeaderLen);\n\t\treturn fromTokenizer(tokenizer); // Skip ID3 header, recursion\n\t}\n\n\t// Musepack, SV7\n\tif (checkString('MP+')) {\n\t\treturn {\n\t\t\text: 'mpc',\n\t\t\tmime: 'audio/x-musepack'\n\t\t};\n\t}\n\n\tif (\n\t\t(buffer[0] === 0x43 || buffer[0] === 0x46) &&\n\t\tcheck([0x57, 0x53], {offset: 1})\n\t) {\n\t\treturn {\n\t\t\text: 'swf',\n\t\t\tmime: 'application/x-shockwave-flash'\n\t\t};\n\t}\n\n\t// -- 4-byte signatures --\n\n\tif (check([0x47, 0x49, 0x46])) {\n\t\treturn {\n\t\t\text: 'gif',\n\t\t\tmime: 'image/gif'\n\t\t};\n\t}\n\n\tif (checkString('FLIF')) {\n\t\treturn {\n\t\t\text: 'flif',\n\t\t\tmime: 'image/flif'\n\t\t};\n\t}\n\n\tif (checkString('8BPS')) {\n\t\treturn {\n\t\t\text: 'psd',\n\t\t\tmime: 'image/vnd.adobe.photoshop'\n\t\t};\n\t}\n\n\tif (checkString('WEBP', {offset: 8})) {\n\t\treturn {\n\t\t\text: 'webp',\n\t\t\tmime: 'image/webp'\n\t\t};\n\t}\n\n\t// Musepack, SV8\n\tif (checkString('MPCK')) {\n\t\treturn {\n\t\t\text: 'mpc',\n\t\t\tmime: 'audio/x-musepack'\n\t\t};\n\t}\n\n\tif (checkString('FORM')) {\n\t\treturn {\n\t\t\text: 'aif',\n\t\t\tmime: 'audio/aiff'\n\t\t};\n\t}\n\n\tif (checkString('icns', {offset: 0})) {\n\t\treturn {\n\t\t\text: 'icns',\n\t\t\tmime: 'image/icns'\n\t\t};\n\t}\n\n\t// Zip-based file formats\n\t// Need to be before the `zip` check\n\tif (check([0x50, 0x4B, 0x3, 0x4])) { // Local file header signature\n\t\ttry {\n\t\t\twhile (tokenizer.position + 30 < tokenizer.fileInfo.size) {\n\t\t\t\tawait tokenizer.readBuffer(buffer, {length: 30});\n\n\t\t\t\t// https://en.wikipedia.org/wiki/Zip_(file_format)#File_headers\n\t\t\t\tconst zipHeader = {\n\t\t\t\t\tcompressedSize: buffer.readUInt32LE(18),\n\t\t\t\t\tuncompressedSize: buffer.readUInt32LE(22),\n\t\t\t\t\tfilenameLength: buffer.readUInt16LE(26),\n\t\t\t\t\textraFieldLength: buffer.readUInt16LE(28)\n\t\t\t\t};\n\n\t\t\t\tzipHeader.filename = await tokenizer.readToken(new Token.StringType(zipHeader.filenameLength, 'utf-8'));\n\t\t\t\tawait tokenizer.ignore(zipHeader.extraFieldLength);\n\n\t\t\t\t// Assumes signed `.xpi` from addons.mozilla.org\n\t\t\t\tif (zipHeader.filename === 'META-INF/mozilla.rsa') {\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'xpi',\n\t\t\t\t\t\tmime: 'application/x-xpinstall'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (zipHeader.filename.endsWith('.rels') || zipHeader.filename.endsWith('.xml')) {\n\t\t\t\t\tconst type = zipHeader.filename.split('/')[0];\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase '_rels':\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'word':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\text: 'docx',\n\t\t\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tcase 'ppt':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\text: 'pptx',\n\t\t\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.presentationml.presentation'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tcase 'xl':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\text: 'xlsx',\n\t\t\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (zipHeader.filename.startsWith('xl/')) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'xlsx',\n\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (zipHeader.filename.startsWith('3D/') && zipHeader.filename.endsWith('.model')) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: '3mf',\n\t\t\t\t\t\tmime: 'model/3mf'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// The docx, xlsx and pptx file types extend the Office Open XML file format:\n\t\t\t\t// https://en.wikipedia.org/wiki/Office_Open_XML_file_formats\n\t\t\t\t// We look for:\n\t\t\t\t// - one entry named '[Content_Types].xml' or '_rels/.rels',\n\t\t\t\t// - one entry indicating specific type of file.\n\t\t\t\t// MS Office, OpenOffice and LibreOffice may put the parts in different order, so the check should not rely on it.\n\t\t\t\tif (zipHeader.filename === 'mimetype' && zipHeader.compressedSize === zipHeader.uncompressedSize) {\n\t\t\t\t\tconst mimeType = await tokenizer.readToken(new Token.StringType(zipHeader.compressedSize, 'utf-8'));\n\n\t\t\t\t\tswitch (mimeType) {\n\t\t\t\t\t\tcase 'application/epub+zip':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\text: 'epub',\n\t\t\t\t\t\t\t\tmime: 'application/epub+zip'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tcase 'application/vnd.oasis.opendocument.text':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\text: 'odt',\n\t\t\t\t\t\t\t\tmime: 'application/vnd.oasis.opendocument.text'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tcase 'application/vnd.oasis.opendocument.spreadsheet':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\text: 'ods',\n\t\t\t\t\t\t\t\tmime: 'application/vnd.oasis.opendocument.spreadsheet'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tcase 'application/vnd.oasis.opendocument.presentation':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\text: 'odp',\n\t\t\t\t\t\t\t\tmime: 'application/vnd.oasis.opendocument.presentation'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Try to find next header manually when current one is corrupted\n\t\t\t\tif (zipHeader.compressedSize === 0) {\n\t\t\t\t\tlet nextHeaderIndex = -1;\n\n\t\t\t\t\twhile (nextHeaderIndex < 0 && (tokenizer.position < tokenizer.fileInfo.size)) {\n\t\t\t\t\t\tawait tokenizer.peekBuffer(buffer, {mayBeLess: true});\n\n\t\t\t\t\t\tnextHeaderIndex = buffer.indexOf('504B0304', 0, 'hex');\n\t\t\t\t\t\t// Move position to the next header if found, skip the whole buffer otherwise\n\t\t\t\t\t\tawait tokenizer.ignore(nextHeaderIndex >= 0 ? nextHeaderIndex : buffer.length);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tawait tokenizer.ignore(zipHeader.compressedSize);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tif (!(error instanceof strtok3.EndOfStreamError)) {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\text: 'zip',\n\t\t\tmime: 'application/zip'\n\t\t};\n\t}\n\n\tif (checkString('OggS')) {\n\t\t// This is an OGG container\n\t\tawait tokenizer.ignore(28);\n\t\tconst type = Buffer.alloc(8);\n\t\tawait tokenizer.readBuffer(type);\n\n\t\t// Needs to be before `ogg` check\n\t\tif (_check(type, [0x4F, 0x70, 0x75, 0x73, 0x48, 0x65, 0x61, 0x64])) {\n\t\t\treturn {\n\t\t\t\text: 'opus',\n\t\t\t\tmime: 'audio/opus'\n\t\t\t};\n\t\t}\n\n\t\t// If ' theora' in header.\n\t\tif (_check(type, [0x80, 0x74, 0x68, 0x65, 0x6F, 0x72, 0x61])) {\n\t\t\treturn {\n\t\t\t\text: 'ogv',\n\t\t\t\tmime: 'video/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If '\\x01video' in header.\n\t\tif (_check(type, [0x01, 0x76, 0x69, 0x64, 0x65, 0x6F, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'ogm',\n\t\t\t\tmime: 'video/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If ' FLAC' in header  https://xiph.org/flac/faq.html\n\t\tif (_check(type, [0x7F, 0x46, 0x4C, 0x41, 0x43])) {\n\t\t\treturn {\n\t\t\t\text: 'oga',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// 'Speex  ' in header https://en.wikipedia.org/wiki/Speex\n\t\tif (_check(type, [0x53, 0x70, 0x65, 0x65, 0x78, 0x20, 0x20])) {\n\t\t\treturn {\n\t\t\t\text: 'spx',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If '\\x01vorbis' in header\n\t\tif (_check(type, [0x01, 0x76, 0x6F, 0x72, 0x62, 0x69, 0x73])) {\n\t\t\treturn {\n\t\t\t\text: 'ogg',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// Default OGG container https://www.iana.org/assignments/media-types/application/ogg\n\t\treturn {\n\t\t\text: 'ogx',\n\t\t\tmime: 'application/ogg'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x50, 0x4B]) &&\n\t\t(buffer[2] === 0x3 || buffer[2] === 0x5 || buffer[2] === 0x7) &&\n\t\t(buffer[3] === 0x4 || buffer[3] === 0x6 || buffer[3] === 0x8)\n\t) {\n\t\treturn {\n\t\t\text: 'zip',\n\t\t\tmime: 'application/zip'\n\t\t};\n\t}\n\n\t//\n\n\t// File Type Box (https://en.wikipedia.org/wiki/ISO_base_media_file_format)\n\t// It's not required to be first, but it's recommended to be. Almost all ISO base media files start with `ftyp` box.\n\t// `ftyp` box must contain a brand major identifier, which must consist of ISO 8859-1 printable characters.\n\t// Here we check for 8859-1 printable characters (for simplicity, it's a mask which also catches one non-printable character).\n\tif (\n\t\tcheckString('ftyp', {offset: 4}) &&\n\t\t(buffer[8] & 0x60) !== 0x00 // Brand major, first character ASCII?\n\t) {\n\t\t// They all can have MIME `video/mp4` except `application/mp4` special-case which is hard to detect.\n\t\t// For some cases, we're specific, everything else falls to `video/mp4` with `mp4` extension.\n\t\tconst brandMajor = buffer.toString('binary', 8, 12).replace('\\0', ' ').trim();\n\t\tswitch (brandMajor) {\n\t\t\tcase 'avif':\n\t\t\t\treturn {ext: 'avif', mime: 'image/avif'};\n\t\t\tcase 'mif1':\n\t\t\t\treturn {ext: 'heic', mime: 'image/heif'};\n\t\t\tcase 'msf1':\n\t\t\t\treturn {ext: 'heic', mime: 'image/heif-sequence'};\n\t\t\tcase 'heic':\n\t\t\tcase 'heix':\n\t\t\t\treturn {ext: 'heic', mime: 'image/heic'};\n\t\t\tcase 'hevc':\n\t\t\tcase 'hevx':\n\t\t\t\treturn {ext: 'heic', mime: 'image/heic-sequence'};\n\t\t\tcase 'qt':\n\t\t\t\treturn {ext: 'mov', mime: 'video/quicktime'};\n\t\t\tcase 'M4V':\n\t\t\tcase 'M4VH':\n\t\t\tcase 'M4VP':\n\t\t\t\treturn {ext: 'm4v', mime: 'video/x-m4v'};\n\t\t\tcase 'M4P':\n\t\t\t\treturn {ext: 'm4p', mime: 'video/mp4'};\n\t\t\tcase 'M4B':\n\t\t\t\treturn {ext: 'm4b', mime: 'audio/mp4'};\n\t\t\tcase 'M4A':\n\t\t\t\treturn {ext: 'm4a', mime: 'audio/x-m4a'};\n\t\t\tcase 'F4V':\n\t\t\t\treturn {ext: 'f4v', mime: 'video/mp4'};\n\t\t\tcase 'F4P':\n\t\t\t\treturn {ext: 'f4p', mime: 'video/mp4'};\n\t\t\tcase 'F4A':\n\t\t\t\treturn {ext: 'f4a', mime: 'audio/mp4'};\n\t\t\tcase 'F4B':\n\t\t\t\treturn {ext: 'f4b', mime: 'audio/mp4'};\n\t\t\tcase 'crx':\n\t\t\t\treturn {ext: 'cr3', mime: 'image/x-canon-cr3'};\n\t\t\tdefault:\n\t\t\t\tif (brandMajor.startsWith('3g')) {\n\t\t\t\t\tif (brandMajor.startsWith('3g2')) {\n\t\t\t\t\t\treturn {ext: '3g2', mime: 'video/3gpp2'};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {ext: '3gp', mime: 'video/3gpp'};\n\t\t\t\t}\n\n\t\t\t\treturn {ext: 'mp4', mime: 'video/mp4'};\n\t\t}\n\t}\n\n\tif (checkString('MThd')) {\n\t\treturn {\n\t\t\text: 'mid',\n\t\t\tmime: 'audio/midi'\n\t\t};\n\t}\n\n\tif (\n\t\tcheckString('wOFF') &&\n\t\t(\n\t\t\tcheck([0x00, 0x01, 0x00, 0x00], {offset: 4}) ||\n\t\t\tcheckString('OTTO', {offset: 4})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'woff',\n\t\t\tmime: 'font/woff'\n\t\t};\n\t}\n\n\tif (\n\t\tcheckString('wOF2') &&\n\t\t(\n\t\t\tcheck([0x00, 0x01, 0x00, 0x00], {offset: 4}) ||\n\t\t\tcheckString('OTTO', {offset: 4})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'woff2',\n\t\t\tmime: 'font/woff2'\n\t\t};\n\t}\n\n\tif (check([0xD4, 0xC3, 0xB2, 0xA1]) || check([0xA1, 0xB2, 0xC3, 0xD4])) {\n\t\treturn {\n\t\t\text: 'pcap',\n\t\t\tmime: 'application/vnd.tcpdump.pcap'\n\t\t};\n\t}\n\n\t// Sony DSD Stream File (DSF)\n\tif (checkString('DSD ')) {\n\t\treturn {\n\t\t\text: 'dsf',\n\t\t\tmime: 'audio/x-dsf' // Non-standard\n\t\t};\n\t}\n\n\tif (checkString('LZIP')) {\n\t\treturn {\n\t\t\text: 'lz',\n\t\t\tmime: 'application/x-lzip'\n\t\t};\n\t}\n\n\tif (checkString('fLaC')) {\n\t\treturn {\n\t\t\text: 'flac',\n\t\t\tmime: 'audio/x-flac'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x50, 0x47, 0xFB])) {\n\t\treturn {\n\t\t\text: 'bpg',\n\t\t\tmime: 'image/bpg'\n\t\t};\n\t}\n\n\tif (checkString('wvpk')) {\n\t\treturn {\n\t\t\text: 'wv',\n\t\t\tmime: 'audio/wavpack'\n\t\t};\n\t}\n\n\tif (checkString('%PDF')) {\n\t\tawait tokenizer.ignore(1350);\n\t\tconst maxBufferSize = 10 * 1024 * 1024;\n\t\tconst buffer = Buffer.alloc(Math.min(maxBufferSize, tokenizer.fileInfo.size));\n\t\tawait tokenizer.readBuffer(buffer, {mayBeLess: true});\n\n\t\t// Check if this is an Adobe Illustrator file\n\t\tif (buffer.includes(Buffer.from('AIPrivateData'))) {\n\t\t\treturn {\n\t\t\t\text: 'ai',\n\t\t\t\tmime: 'application/postscript'\n\t\t\t};\n\t\t}\n\n\t\t// Assume this is just a normal PDF\n\t\treturn {\n\t\t\text: 'pdf',\n\t\t\tmime: 'application/pdf'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x61, 0x73, 0x6D])) {\n\t\treturn {\n\t\t\text: 'wasm',\n\t\t\tmime: 'application/wasm'\n\t\t};\n\t}\n\n\t// TIFF, little-endian type\n\tif (check([0x49, 0x49, 0x2A, 0x0])) {\n\t\tif (checkString('CR', {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'cr2',\n\t\t\t\tmime: 'image/x-canon-cr2'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x1C, 0x00, 0xFE, 0x00], {offset: 8}) || check([0x1F, 0x00, 0x0B, 0x00], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'nef',\n\t\t\t\tmime: 'image/x-nikon-nef'\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tcheck([0x08, 0x00, 0x00, 0x00], {offset: 4}) &&\n\t\t\t(check([0x2D, 0x00, 0xFE, 0x00], {offset: 8}) ||\n\t\t\t\tcheck([0x27, 0x00, 0xFE, 0x00], {offset: 8}))\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'dng',\n\t\t\t\tmime: 'image/x-adobe-dng'\n\t\t\t};\n\t\t}\n\n\t\tbuffer = Buffer.alloc(24);\n\t\tawait tokenizer.peekBuffer(buffer);\n\t\tif (\n\t\t\t(check([0x10, 0xFB, 0x86, 0x01], {offset: 4}) || check([0x08, 0x00, 0x00, 0x00], {offset: 4})) &&\n\t\t\t// This pattern differentiates ARW from other TIFF-ish file types:\n\t\t\tcheck([0x00, 0xFE, 0x00, 0x04, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x03, 0x01], {offset: 9})\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'arw',\n\t\t\t\tmime: 'image/x-sony-arw'\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\text: 'tif',\n\t\t\tmime: 'image/tiff'\n\t\t};\n\t}\n\n\t// TIFF, big-endian type\n\tif (check([0x4D, 0x4D, 0x0, 0x2A])) {\n\t\treturn {\n\t\t\text: 'tif',\n\t\t\tmime: 'image/tiff'\n\t\t};\n\t}\n\n\tif (checkString('MAC ')) {\n\t\treturn {\n\t\t\text: 'ape',\n\t\t\tmime: 'audio/ape'\n\t\t};\n\t}\n\n\t// https://github.com/threatstack/libmagic/blob/master/magic/Magdir/matroska\n\tif (check([0x1A, 0x45, 0xDF, 0xA3])) { // Root element: EBML\n\t\tasync function readField() {\n\t\t\tconst msb = await tokenizer.peekNumber(Token.UINT8);\n\t\t\tlet mask = 0x80;\n\t\t\tlet ic = 0; // 0 = A, 1 = B, 2 = C, 3 = D\n\n\t\t\twhile ((msb & mask) === 0 && mask !== 0) {\n\t\t\t\t++ic;\n\t\t\t\tmask >>= 1;\n\t\t\t}\n\n\t\t\tconst id = Buffer.alloc(ic + 1);\n\t\t\tawait tokenizer.readBuffer(id);\n\t\t\treturn id;\n\t\t}\n\n\t\tasync function readElement() {\n\t\t\tconst id = await readField();\n\t\t\tconst lenField = await readField();\n\t\t\tlenField[0] ^= 0x80 >> (lenField.length - 1);\n\t\t\tconst nrLen = Math.min(6, lenField.length); // JavaScript can max read 6 bytes integer\n\t\t\treturn {\n\t\t\t\tid: id.readUIntBE(0, id.length),\n\t\t\t\tlen: lenField.readUIntBE(lenField.length - nrLen, nrLen)\n\t\t\t};\n\t\t}\n\n\t\tasync function readChildren(level, children) {\n\t\t\twhile (children > 0) {\n\t\t\t\tconst e = await readElement();\n\t\t\t\tif (e.id === 0x4282) {\n\t\t\t\t\treturn tokenizer.readToken(new Token.StringType(e.len, 'utf-8')); // Return DocType\n\t\t\t\t}\n\n\t\t\t\tawait tokenizer.ignore(e.len); // ignore payload\n\t\t\t\t--children;\n\t\t\t}\n\t\t}\n\n\t\tconst re = await readElement();\n\t\tconst docType = await readChildren(1, re.len);\n\n\t\tswitch (docType) {\n\t\t\tcase 'webm':\n\t\t\t\treturn {\n\t\t\t\t\text: 'webm',\n\t\t\t\t\tmime: 'video/webm'\n\t\t\t\t};\n\n\t\t\tcase 'matroska':\n\t\t\t\treturn {\n\t\t\t\t\text: 'mkv',\n\t\t\t\t\tmime: 'video/x-matroska'\n\t\t\t\t};\n\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t}\n\n\t// RIFF file format which might be AVI, WAV, QCP, etc\n\tif (check([0x52, 0x49, 0x46, 0x46])) {\n\t\tif (check([0x41, 0x56, 0x49], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'avi',\n\t\t\t\tmime: 'video/vnd.avi'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x57, 0x41, 0x56, 0x45], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'wav',\n\t\t\t\tmime: 'audio/vnd.wave'\n\t\t\t};\n\t\t}\n\n\t\t// QLCM, QCP file\n\t\tif (check([0x51, 0x4C, 0x43, 0x4D], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'qcp',\n\t\t\t\tmime: 'audio/qcelp'\n\t\t\t};\n\t\t}\n\t}\n\n\tif (checkString('SQLi')) {\n\t\treturn {\n\t\t\text: 'sqlite',\n\t\t\tmime: 'application/x-sqlite3'\n\t\t};\n\t}\n\n\tif (check([0x4E, 0x45, 0x53, 0x1A])) {\n\t\treturn {\n\t\t\text: 'nes',\n\t\t\tmime: 'application/x-nintendo-nes-rom'\n\t\t};\n\t}\n\n\tif (checkString('Cr24')) {\n\t\treturn {\n\t\t\text: 'crx',\n\t\t\tmime: 'application/x-google-chrome-extension'\n\t\t};\n\t}\n\n\tif (\n\t\tcheckString('MSCF') ||\n\t\tcheckString('ISc(')\n\t) {\n\t\treturn {\n\t\t\text: 'cab',\n\t\t\tmime: 'application/vnd.ms-cab-compressed'\n\t\t};\n\t}\n\n\tif (check([0xED, 0xAB, 0xEE, 0xDB])) {\n\t\treturn {\n\t\t\text: 'rpm',\n\t\t\tmime: 'application/x-rpm'\n\t\t};\n\t}\n\n\tif (check([0xC5, 0xD0, 0xD3, 0xC6])) {\n\t\treturn {\n\t\t\text: 'eps',\n\t\t\tmime: 'application/eps'\n\t\t};\n\t}\n\n\tif (check([0x28, 0xB5, 0x2F, 0xFD])) {\n\t\treturn {\n\t\t\text: 'zst',\n\t\t\tmime: 'application/zstd'\n\t\t};\n\t}\n\n\t// -- 5-byte signatures --\n\n\tif (check([0x4F, 0x54, 0x54, 0x4F, 0x00])) {\n\t\treturn {\n\t\t\text: 'otf',\n\t\t\tmime: 'font/otf'\n\t\t};\n\t}\n\n\tif (checkString('#!AMR')) {\n\t\treturn {\n\t\t\text: 'amr',\n\t\t\tmime: 'audio/amr'\n\t\t};\n\t}\n\n\tif (checkString('{\\\\rtf')) {\n\t\treturn {\n\t\t\text: 'rtf',\n\t\t\tmime: 'application/rtf'\n\t\t};\n\t}\n\n\tif (check([0x46, 0x4C, 0x56, 0x01])) {\n\t\treturn {\n\t\t\text: 'flv',\n\t\t\tmime: 'video/x-flv'\n\t\t};\n\t}\n\n\tif (checkString('IMPM')) {\n\t\treturn {\n\t\t\text: 'it',\n\t\t\tmime: 'audio/x-it'\n\t\t};\n\t}\n\n\tif (\n\t\tcheckString('-lh0-', {offset: 2}) ||\n\t\tcheckString('-lh1-', {offset: 2}) ||\n\t\tcheckString('-lh2-', {offset: 2}) ||\n\t\tcheckString('-lh3-', {offset: 2}) ||\n\t\tcheckString('-lh4-', {offset: 2}) ||\n\t\tcheckString('-lh5-', {offset: 2}) ||\n\t\tcheckString('-lh6-', {offset: 2}) ||\n\t\tcheckString('-lh7-', {offset: 2}) ||\n\t\tcheckString('-lzs-', {offset: 2}) ||\n\t\tcheckString('-lz4-', {offset: 2}) ||\n\t\tcheckString('-lz5-', {offset: 2}) ||\n\t\tcheckString('-lhd-', {offset: 2})\n\t) {\n\t\treturn {\n\t\t\text: 'lzh',\n\t\t\tmime: 'application/x-lzh-compressed'\n\t\t};\n\t}\n\n\t// MPEG program stream (PS or MPEG-PS)\n\tif (check([0x00, 0x00, 0x01, 0xBA])) {\n\t\t//  MPEG-PS, MPEG-1 Part 1\n\t\tif (check([0x21], {offset: 4, mask: [0xF1]})) {\n\t\t\treturn {\n\t\t\t\text: 'mpg', // May also be .ps, .mpeg\n\t\t\t\tmime: 'video/MP1S'\n\t\t\t};\n\t\t}\n\n\t\t// MPEG-PS, MPEG-2 Part 1\n\t\tif (check([0x44], {offset: 4, mask: [0xC4]})) {\n\t\t\treturn {\n\t\t\t\text: 'mpg', // May also be .mpg, .m2p, .vob or .sub\n\t\t\t\tmime: 'video/MP2P'\n\t\t\t};\n\t\t}\n\t}\n\n\tif (checkString('ITSF')) {\n\t\treturn {\n\t\t\text: 'chm',\n\t\t\tmime: 'application/vnd.ms-htmlhelp'\n\t\t};\n\t}\n\n\t// -- 6-byte signatures --\n\n\tif (check([0xFD, 0x37, 0x7A, 0x58, 0x5A, 0x00])) {\n\t\treturn {\n\t\t\text: 'xz',\n\t\t\tmime: 'application/x-xz'\n\t\t};\n\t}\n\n\tif (checkString('<?xml ')) {\n\t\treturn {\n\t\t\text: 'xml',\n\t\t\tmime: 'application/xml'\n\t\t};\n\t}\n\n\tif (check([0x37, 0x7A, 0xBC, 0xAF, 0x27, 0x1C])) {\n\t\treturn {\n\t\t\text: '7z',\n\t\t\tmime: 'application/x-7z-compressed'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x52, 0x61, 0x72, 0x21, 0x1A, 0x7]) &&\n\t\t(buffer[6] === 0x0 || buffer[6] === 0x1)\n\t) {\n\t\treturn {\n\t\t\text: 'rar',\n\t\t\tmime: 'application/x-rar-compressed'\n\t\t};\n\t}\n\n\tif (checkString('solid ')) {\n\t\treturn {\n\t\t\text: 'stl',\n\t\t\tmime: 'model/stl'\n\t\t};\n\t}\n\n\t// -- 7-byte signatures --\n\n\tif (checkString('BLENDER')) {\n\t\treturn {\n\t\t\text: 'blend',\n\t\t\tmime: 'application/x-blender'\n\t\t};\n\t}\n\n\tif (checkString('!<arch>')) {\n\t\tawait tokenizer.ignore(8);\n\t\tconst str = await tokenizer.readToken(new Token.StringType(13, 'ascii'));\n\t\tif (str === 'debian-binary') {\n\t\t\treturn {\n\t\t\t\text: 'deb',\n\t\t\t\tmime: 'application/x-deb'\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\text: 'ar',\n\t\t\tmime: 'application/x-unix-archive'\n\t\t};\n\t}\n\n\t// -- 8-byte signatures --\n\n\tif (check([0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\t// APNG format (https://wiki.mozilla.org/APNG_Specification)\n\t\t// 1. Find the first IDAT (image data) chunk (49 44 41 54)\n\t\t// 2. Check if there is an \"acTL\" chunk before the IDAT one (61 63 54 4C)\n\n\t\t// Offset calculated as follows:\n\t\t// - 8 bytes: PNG signature\n\t\t// - 4 (length) + 4 (chunk type) + 13 (chunk data) + 4 (CRC): IHDR chunk\n\n\t\tawait tokenizer.ignore(8); // ignore PNG signature\n\n\t\tasync function readChunkHeader() {\n\t\t\treturn {\n\t\t\t\tlength: await tokenizer.readToken(Token.INT32_BE),\n\t\t\t\ttype: await tokenizer.readToken(new Token.StringType(4, 'binary'))\n\t\t\t};\n\t\t}\n\n\t\tdo {\n\t\t\tconst chunk = await readChunkHeader();\n\t\t\tif (chunk.length < 0) {\n\t\t\t\treturn; // Invalid chunk length\n\t\t\t}\n\n\t\t\tswitch (chunk.type) {\n\t\t\t\tcase 'IDAT':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'png',\n\t\t\t\t\t\tmime: 'image/png'\n\t\t\t\t\t};\n\t\t\t\tcase 'acTL':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'apng',\n\t\t\t\t\t\tmime: 'image/apng'\n\t\t\t\t\t};\n\t\t\t\tdefault:\n\t\t\t\t\tawait tokenizer.ignore(chunk.length + 4); // Ignore chunk-data + CRC\n\t\t\t}\n\t\t} while (tokenizer.position + 8 < tokenizer.fileInfo.size);\n\n\t\treturn {\n\t\t\text: 'png',\n\t\t\tmime: 'image/png'\n\t\t};\n\t}\n\n\tif (check([0x41, 0x52, 0x52, 0x4F, 0x57, 0x31, 0x00, 0x00])) {\n\t\treturn {\n\t\t\text: 'arrow',\n\t\t\tmime: 'application/x-apache-arrow'\n\t\t};\n\t}\n\n\tif (check([0x67, 0x6C, 0x54, 0x46, 0x02, 0x00, 0x00, 0x00])) {\n\t\treturn {\n\t\t\text: 'glb',\n\t\t\tmime: 'model/gltf-binary'\n\t\t};\n\t}\n\n\t// `mov` format variants\n\tif (\n\t\tcheck([0x66, 0x72, 0x65, 0x65], {offset: 4}) || // `free`\n\t\tcheck([0x6D, 0x64, 0x61, 0x74], {offset: 4}) || // `mdat` MJPEG\n\t\tcheck([0x6D, 0x6F, 0x6F, 0x76], {offset: 4}) || // `moov`\n\t\tcheck([0x77, 0x69, 0x64, 0x65], {offset: 4}) // `wide`\n\t) {\n\t\treturn {\n\t\t\text: 'mov',\n\t\t\tmime: 'video/quicktime'\n\t\t};\n\t}\n\n\t// -- 9-byte signatures --\n\n\tif (check([0x49, 0x49, 0x52, 0x4F, 0x08, 0x00, 0x00, 0x00, 0x18])) {\n\t\treturn {\n\t\t\text: 'orf',\n\t\t\tmime: 'image/x-olympus-orf'\n\t\t};\n\t}\n\n\tif (checkString('gimp xcf ')) {\n\t\treturn {\n\t\t\text: 'xcf',\n\t\t\tmime: 'image/x-xcf'\n\t\t};\n\t}\n\n\t// -- 12-byte signatures --\n\n\tif (check([0x49, 0x49, 0x55, 0x00, 0x18, 0x00, 0x00, 0x00, 0x88, 0xE7, 0x74, 0xD8])) {\n\t\treturn {\n\t\t\text: 'rw2',\n\t\t\tmime: 'image/x-panasonic-rw2'\n\t\t};\n\t}\n\n\t// ASF_Header_Object first 80 bytes\n\tif (check([0x30, 0x26, 0xB2, 0x75, 0x8E, 0x66, 0xCF, 0x11, 0xA6, 0xD9])) {\n\t\tasync function readHeader() {\n\t\t\tconst guid = Buffer.alloc(16);\n\t\t\tawait tokenizer.readBuffer(guid);\n\t\t\treturn {\n\t\t\t\tid: guid,\n\t\t\t\tsize: Number(await tokenizer.readToken(Token.UINT64_LE))\n\t\t\t};\n\t\t}\n\n\t\tawait tokenizer.ignore(30);\n\t\t// Search for header should be in first 1KB of file.\n\t\twhile (tokenizer.position + 24 < tokenizer.fileInfo.size) {\n\t\t\tconst header = await readHeader();\n\t\t\tlet payload = header.size - 24;\n\t\t\tif (_check(header.id, [0x91, 0x07, 0xDC, 0xB7, 0xB7, 0xA9, 0xCF, 0x11, 0x8E, 0xE6, 0x00, 0xC0, 0x0C, 0x20, 0x53, 0x65])) {\n\t\t\t\t// Sync on Stream-Properties-Object (B7DC0791-A9B7-11CF-8EE6-00C00C205365)\n\t\t\t\tconst typeId = Buffer.alloc(16);\n\t\t\t\tpayload -= await tokenizer.readBuffer(typeId);\n\n\t\t\t\tif (_check(typeId, [0x40, 0x9E, 0x69, 0xF8, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B])) {\n\t\t\t\t\t// Found audio:\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'asf',\n\t\t\t\t\t\tmime: 'audio/x-ms-asf'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (_check(typeId, [0xC0, 0xEF, 0x19, 0xBC, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B])) {\n\t\t\t\t\t// Found video:\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'asf',\n\t\t\t\t\t\tmime: 'video/x-ms-asf'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tawait tokenizer.ignore(payload);\n\t\t}\n\n\t\t// Default to ASF generic extension\n\t\treturn {\n\t\t\text: 'asf',\n\t\t\tmime: 'application/vnd.ms-asf'\n\t\t};\n\t}\n\n\tif (check([0xAB, 0x4B, 0x54, 0x58, 0x20, 0x31, 0x31, 0xBB, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\treturn {\n\t\t\text: 'ktx',\n\t\t\tmime: 'image/ktx'\n\t\t};\n\t}\n\n\tif ((check([0x7E, 0x10, 0x04]) || check([0x7E, 0x18, 0x04])) && check([0x30, 0x4D, 0x49, 0x45], {offset: 4})) {\n\t\treturn {\n\t\t\text: 'mie',\n\t\t\tmime: 'application/x-mie'\n\t\t};\n\t}\n\n\tif (check([0x27, 0x0A, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00], {offset: 2})) {\n\t\treturn {\n\t\t\text: 'shp',\n\t\t\tmime: 'application/x-esri-shape'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x00, 0x0C, 0x6A, 0x50, 0x20, 0x20, 0x0D, 0x0A, 0x87, 0x0A])) {\n\t\t// JPEG-2000 family\n\n\t\tawait tokenizer.ignore(20);\n\t\tconst type = await tokenizer.readToken(new Token.StringType(4, 'ascii'));\n\t\tswitch (type) {\n\t\t\tcase 'jp2 ':\n\t\t\t\treturn {\n\t\t\t\t\text: 'jp2',\n\t\t\t\t\tmime: 'image/jp2'\n\t\t\t\t};\n\t\t\tcase 'jpx ':\n\t\t\t\treturn {\n\t\t\t\t\text: 'jpx',\n\t\t\t\t\tmime: 'image/jpx'\n\t\t\t\t};\n\t\t\tcase 'jpm ':\n\t\t\t\treturn {\n\t\t\t\t\text: 'jpm',\n\t\t\t\t\tmime: 'image/jpm'\n\t\t\t\t};\n\t\t\tcase 'mjp2':\n\t\t\t\treturn {\n\t\t\t\t\text: 'mj2',\n\t\t\t\t\tmime: 'image/mj2'\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t}\n\n\tif (\n\t\tcheck([0xFF, 0x0A]) ||\n\t\tcheck([0x00, 0x00, 0x00, 0x0C, 0x4A, 0x58, 0x4C, 0x20, 0x0D, 0x0A, 0x87, 0x0A])\n\t) {\n\t\treturn {\n\t\t\text: 'jxl',\n\t\t\tmime: 'image/jxl'\n\t\t};\n\t}\n\n\t// -- Unsafe signatures --\n\n\tif (\n\t\tcheck([0x0, 0x0, 0x1, 0xBA]) ||\n\t\tcheck([0x0, 0x0, 0x1, 0xB3])\n\t) {\n\t\treturn {\n\t\t\text: 'mpg',\n\t\t\tmime: 'video/mpeg'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x01, 0x00, 0x00, 0x00])) {\n\t\treturn {\n\t\t\text: 'ttf',\n\t\t\tmime: 'font/ttf'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x01, 0x00])) {\n\t\treturn {\n\t\t\text: 'ico',\n\t\t\tmime: 'image/x-icon'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x02, 0x00])) {\n\t\treturn {\n\t\t\text: 'cur',\n\t\t\tmime: 'image/x-icon'\n\t\t};\n\t}\n\n\tif (check([0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1])) {\n\t\t// Detected Microsoft Compound File Binary File (MS-CFB) Format.\n\t\treturn {\n\t\t\text: 'cfb',\n\t\t\tmime: 'application/x-cfb'\n\t\t};\n\t}\n\n\t// Increase sample size from 12 to 256.\n\tawait tokenizer.peekBuffer(buffer, {length: Math.min(256, tokenizer.fileInfo.size), mayBeLess: true});\n\n\t// -- 15-byte signatures --\n\n\tif (checkString('BEGIN:')) {\n\t\tif (checkString('VCARD', {offset: 6})) {\n\t\t\treturn {\n\t\t\t\text: 'vcf',\n\t\t\t\tmime: 'text/vcard'\n\t\t\t};\n\t\t}\n\n\t\tif (checkString('VCALENDAR', {offset: 6})) {\n\t\t\treturn {\n\t\t\t\text: 'ics',\n\t\t\t\tmime: 'text/calendar'\n\t\t\t};\n\t\t}\n\t}\n\n\t// `raf` is here just to keep all the raw image detectors together.\n\tif (checkString('FUJIFILMCCD-RAW')) {\n\t\treturn {\n\t\t\text: 'raf',\n\t\t\tmime: 'image/x-fujifilm-raf'\n\t\t};\n\t}\n\n\tif (checkString('Extended Module:')) {\n\t\treturn {\n\t\t\text: 'xm',\n\t\t\tmime: 'audio/x-xm'\n\t\t};\n\t}\n\n\tif (checkString('Creative Voice File')) {\n\t\treturn {\n\t\t\text: 'voc',\n\t\t\tmime: 'audio/x-voc'\n\t\t};\n\t}\n\n\tif (check([0x04, 0x00, 0x00, 0x00]) && buffer.length >= 16) { // Rough & quick check Pickle/ASAR\n\t\tconst jsonSize = buffer.readUInt32LE(12);\n\t\tif (jsonSize > 12 && buffer.length >= jsonSize + 16) {\n\t\t\ttry {\n\t\t\t\tconst header = buffer.slice(16, jsonSize + 16).toString();\n\t\t\t\tconst json = JSON.parse(header);\n\t\t\t\t// Check if Pickle is ASAR\n\t\t\t\tif (json.files) { // Final check, assuring Pickle/ASAR format\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'asar',\n\t\t\t\t\t\tmime: 'application/x-asar'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} catch (_) {\n\t\t\t}\n\t\t}\n\t}\n\n\tif (check([0x06, 0x0E, 0x2B, 0x34, 0x02, 0x05, 0x01, 0x01, 0x0D, 0x01, 0x02, 0x01, 0x01, 0x02])) {\n\t\treturn {\n\t\t\text: 'mxf',\n\t\t\tmime: 'application/mxf'\n\t\t};\n\t}\n\n\tif (checkString('SCRM', {offset: 44})) {\n\t\treturn {\n\t\t\text: 's3m',\n\t\t\tmime: 'audio/x-s3m'\n\t\t};\n\t}\n\n\tif (check([0x47], {offset: 4}) && (check([0x47], {offset: 192}) || check([0x47], {offset: 196}))) {\n\t\treturn {\n\t\t\text: 'mts',\n\t\t\tmime: 'video/mp2t'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x4F, 0x4F, 0x4B, 0x4D, 0x4F, 0x42, 0x49], {offset: 60})) {\n\t\treturn {\n\t\t\text: 'mobi',\n\t\t\tmime: 'application/x-mobipocket-ebook'\n\t\t};\n\t}\n\n\tif (check([0x44, 0x49, 0x43, 0x4D], {offset: 128})) {\n\t\treturn {\n\t\t\text: 'dcm',\n\t\t\tmime: 'application/dicom'\n\t\t};\n\t}\n\n\tif (check([0x4C, 0x00, 0x00, 0x00, 0x01, 0x14, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x46])) {\n\t\treturn {\n\t\t\text: 'lnk',\n\t\t\tmime: 'application/x.ms.shortcut' // Invented by us\n\t\t};\n\t}\n\n\tif (check([0x62, 0x6F, 0x6F, 0x6B, 0x00, 0x00, 0x00, 0x00, 0x6D, 0x61, 0x72, 0x6B, 0x00, 0x00, 0x00, 0x00])) {\n\t\treturn {\n\t\t\text: 'alias',\n\t\t\tmime: 'application/x.apple.alias' // Invented by us\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x4C, 0x50], {offset: 34}) &&\n\t\t(\n\t\t\tcheck([0x00, 0x00, 0x01], {offset: 8}) ||\n\t\t\tcheck([0x01, 0x00, 0x02], {offset: 8}) ||\n\t\t\tcheck([0x02, 0x00, 0x02], {offset: 8})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'eot',\n\t\t\tmime: 'application/vnd.ms-fontobject'\n\t\t};\n\t}\n\n\tif (check([0x06, 0x06, 0xED, 0xF5, 0xD8, 0x1D, 0x46, 0xE5, 0xBD, 0x31, 0xEF, 0xE7, 0xFE, 0x74, 0xB7, 0x1D])) {\n\t\treturn {\n\t\t\text: 'indd',\n\t\t\tmime: 'application/x-indesign'\n\t\t};\n\t}\n\n\t// Increase sample size from 256 to 512\n\tawait tokenizer.peekBuffer(buffer, {length: Math.min(512, tokenizer.fileInfo.size), mayBeLess: true});\n\n\t// Requires a buffer size of 512 bytes\n\tif (tarHeaderChecksumMatches(buffer)) {\n\t\treturn {\n\t\t\text: 'tar',\n\t\t\tmime: 'application/x-tar'\n\t\t};\n\t}\n\n\tif (check([0xFF, 0xFE, 0xFF, 0x0E, 0x53, 0x00, 0x6B, 0x00, 0x65, 0x00, 0x74, 0x00, 0x63, 0x00, 0x68, 0x00, 0x55, 0x00, 0x70, 0x00, 0x20, 0x00, 0x4D, 0x00, 0x6F, 0x00, 0x64, 0x00, 0x65, 0x00, 0x6C, 0x00])) {\n\t\treturn {\n\t\t\text: 'skp',\n\t\t\tmime: 'application/vnd.sketchup.skp'\n\t\t};\n\t}\n\n\tif (checkString('-----BEGIN PGP MESSAGE-----')) {\n\t\treturn {\n\t\t\text: 'pgp',\n\t\t\tmime: 'application/pgp-encrypted'\n\t\t};\n\t}\n\n\t// Check MPEG 1 or 2 Layer 3 header, or 'layer 0' for ADTS (MPEG sync-word 0xFFE)\n\tif (buffer.length >= 2 && check([0xFF, 0xE0], {offset: 0, mask: [0xFF, 0xE0]})) {\n\t\tif (check([0x10], {offset: 1, mask: [0x16]})) {\n\t\t\t// Check for (ADTS) MPEG-2\n\t\t\tif (check([0x08], {offset: 1, mask: [0x08]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'aac',\n\t\t\t\t\tmime: 'audio/aac'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Must be (ADTS) MPEG-4\n\t\t\treturn {\n\t\t\t\text: 'aac',\n\t\t\t\tmime: 'audio/aac'\n\t\t\t};\n\t\t}\n\n\t\t// MPEG 1 or 2 Layer 3 header\n\t\t// Check for MPEG layer 3\n\t\tif (check([0x02], {offset: 1, mask: [0x06]})) {\n\t\t\treturn {\n\t\t\t\text: 'mp3',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\t// Check for MPEG layer 2\n\t\tif (check([0x04], {offset: 1, mask: [0x06]})) {\n\t\t\treturn {\n\t\t\t\text: 'mp2',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\t// Check for MPEG layer 1\n\t\tif (check([0x06], {offset: 1, mask: [0x06]})) {\n\t\t\treturn {\n\t\t\t\text: 'mp1',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\t}\n}\n\nconst stream = readableStream => new Promise((resolve, reject) => {\n\t// Using `eval` to work around issues when bundling with Webpack\n\tconst stream = eval('require')('stream'); // eslint-disable-line no-eval\n\n\treadableStream.on('error', reject);\n\treadableStream.once('readable', async () => {\n\t\t// Set up output stream\n\t\tconst pass = new stream.PassThrough();\n\t\tlet outputStream;\n\t\tif (stream.pipeline) {\n\t\t\toutputStream = stream.pipeline(readableStream, pass, () => {\n\t\t\t});\n\t\t} else {\n\t\t\toutputStream = readableStream.pipe(pass);\n\t\t}\n\n\t\t// Read the input stream and detect the filetype\n\t\tconst chunk = readableStream.read(minimumBytes) || readableStream.read() || Buffer.alloc(0);\n\t\ttry {\n\t\t\tconst fileType = await fromBuffer(chunk);\n\t\t\tpass.fileType = fileType;\n\t\t} catch (error) {\n\t\t\treject(error);\n\t\t}\n\n\t\tresolve(outputStream);\n\t});\n});\n\nconst fileType = {\n\tfromStream,\n\tfromTokenizer,\n\tfromBuffer,\n\tstream\n};\n\nObject.defineProperty(fileType, 'extensions', {\n\tget() {\n\t\treturn new Set(supported.extensions);\n\t}\n});\n\nObject.defineProperty(fileType, 'mimeTypes', {\n\tget() {\n\t\treturn new Set(supported.mimeTypes);\n\t}\n});\n\nmodule.exports = fileType;\n","'use strict';\nconst strtok3 = require('strtok3');\nconst core = require('./core');\n\nasync function fromFile(path) {\n\tconst tokenizer = await strtok3.fromFile(path);\n\ttry {\n\t\treturn await core.fromTokenizer(tokenizer);\n\t} finally {\n\t\tawait tokenizer.close();\n\t}\n}\n\nconst fileType = {\n\tfromFile\n};\n\nObject.assign(fileType, core);\n\nObject.defineProperty(fileType, 'extensions', {\n\tget() {\n\t\treturn core.extensions;\n\t}\n});\n\nObject.defineProperty(fileType, 'mimeTypes', {\n\tget() {\n\t\treturn core.mimeTypes;\n\t}\n});\n\nmodule.exports = fileType;\n","'use strict';\n\nmodule.exports = {\n\textensions: [\n\t\t'jpg',\n\t\t'png',\n\t\t'apng',\n\t\t'gif',\n\t\t'webp',\n\t\t'flif',\n\t\t'xcf',\n\t\t'cr2',\n\t\t'cr3',\n\t\t'orf',\n\t\t'arw',\n\t\t'dng',\n\t\t'nef',\n\t\t'rw2',\n\t\t'raf',\n\t\t'tif',\n\t\t'bmp',\n\t\t'icns',\n\t\t'jxr',\n\t\t'psd',\n\t\t'indd',\n\t\t'zip',\n\t\t'tar',\n\t\t'rar',\n\t\t'gz',\n\t\t'bz2',\n\t\t'7z',\n\t\t'dmg',\n\t\t'mp4',\n\t\t'mid',\n\t\t'mkv',\n\t\t'webm',\n\t\t'mov',\n\t\t'avi',\n\t\t'mpg',\n\t\t'mp2',\n\t\t'mp3',\n\t\t'm4a',\n\t\t'oga',\n\t\t'ogg',\n\t\t'ogv',\n\t\t'opus',\n\t\t'flac',\n\t\t'wav',\n\t\t'spx',\n\t\t'amr',\n\t\t'pdf',\n\t\t'epub',\n\t\t'exe',\n\t\t'swf',\n\t\t'rtf',\n\t\t'wasm',\n\t\t'woff',\n\t\t'woff2',\n\t\t'eot',\n\t\t'ttf',\n\t\t'otf',\n\t\t'ico',\n\t\t'flv',\n\t\t'ps',\n\t\t'xz',\n\t\t'sqlite',\n\t\t'nes',\n\t\t'crx',\n\t\t'xpi',\n\t\t'cab',\n\t\t'deb',\n\t\t'ar',\n\t\t'rpm',\n\t\t'Z',\n\t\t'lz',\n\t\t'cfb',\n\t\t'mxf',\n\t\t'mts',\n\t\t'blend',\n\t\t'bpg',\n\t\t'docx',\n\t\t'pptx',\n\t\t'xlsx',\n\t\t'3gp',\n\t\t'3g2',\n\t\t'jp2',\n\t\t'jpm',\n\t\t'jpx',\n\t\t'mj2',\n\t\t'aif',\n\t\t'qcp',\n\t\t'odt',\n\t\t'ods',\n\t\t'odp',\n\t\t'xml',\n\t\t'mobi',\n\t\t'heic',\n\t\t'cur',\n\t\t'ktx',\n\t\t'ape',\n\t\t'wv',\n\t\t'dcm',\n\t\t'ics',\n\t\t'glb',\n\t\t'pcap',\n\t\t'dsf',\n\t\t'lnk',\n\t\t'alias',\n\t\t'voc',\n\t\t'ac3',\n\t\t'm4v',\n\t\t'm4p',\n\t\t'm4b',\n\t\t'f4v',\n\t\t'f4p',\n\t\t'f4b',\n\t\t'f4a',\n\t\t'mie',\n\t\t'asf',\n\t\t'ogm',\n\t\t'ogx',\n\t\t'mpc',\n\t\t'arrow',\n\t\t'shp',\n\t\t'aac',\n\t\t'mp1',\n\t\t'it',\n\t\t's3m',\n\t\t'xm',\n\t\t'ai',\n\t\t'skp',\n\t\t'avif',\n\t\t'eps',\n\t\t'lzh',\n\t\t'pgp',\n\t\t'asar',\n\t\t'stl',\n\t\t'chm',\n\t\t'3mf',\n\t\t'zst',\n\t\t'jxl',\n\t\t'vcf'\n\t],\n\tmimeTypes: [\n\t\t'image/jpeg',\n\t\t'image/png',\n\t\t'image/gif',\n\t\t'image/webp',\n\t\t'image/flif',\n\t\t'image/x-xcf',\n\t\t'image/x-canon-cr2',\n\t\t'image/x-canon-cr3',\n\t\t'image/tiff',\n\t\t'image/bmp',\n\t\t'image/vnd.ms-photo',\n\t\t'image/vnd.adobe.photoshop',\n\t\t'application/x-indesign',\n\t\t'application/epub+zip',\n\t\t'application/x-xpinstall',\n\t\t'application/vnd.oasis.opendocument.text',\n\t\t'application/vnd.oasis.opendocument.spreadsheet',\n\t\t'application/vnd.oasis.opendocument.presentation',\n\t\t'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n\t\t'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n\t\t'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n\t\t'application/zip',\n\t\t'application/x-tar',\n\t\t'application/x-rar-compressed',\n\t\t'application/gzip',\n\t\t'application/x-bzip2',\n\t\t'application/x-7z-compressed',\n\t\t'application/x-apple-diskimage',\n\t\t'application/x-apache-arrow',\n\t\t'video/mp4',\n\t\t'audio/midi',\n\t\t'video/x-matroska',\n\t\t'video/webm',\n\t\t'video/quicktime',\n\t\t'video/vnd.avi',\n\t\t'audio/vnd.wave',\n\t\t'audio/qcelp',\n\t\t'audio/x-ms-asf',\n\t\t'video/x-ms-asf',\n\t\t'application/vnd.ms-asf',\n\t\t'video/mpeg',\n\t\t'video/3gpp',\n\t\t'audio/mpeg',\n\t\t'audio/mp4', // RFC 4337\n\t\t'audio/opus',\n\t\t'video/ogg',\n\t\t'audio/ogg',\n\t\t'application/ogg',\n\t\t'audio/x-flac',\n\t\t'audio/ape',\n\t\t'audio/wavpack',\n\t\t'audio/amr',\n\t\t'application/pdf',\n\t\t'application/x-msdownload',\n\t\t'application/x-shockwave-flash',\n\t\t'application/rtf',\n\t\t'application/wasm',\n\t\t'font/woff',\n\t\t'font/woff2',\n\t\t'application/vnd.ms-fontobject',\n\t\t'font/ttf',\n\t\t'font/otf',\n\t\t'image/x-icon',\n\t\t'video/x-flv',\n\t\t'application/postscript',\n\t\t'application/eps',\n\t\t'application/x-xz',\n\t\t'application/x-sqlite3',\n\t\t'application/x-nintendo-nes-rom',\n\t\t'application/x-google-chrome-extension',\n\t\t'application/vnd.ms-cab-compressed',\n\t\t'application/x-deb',\n\t\t'application/x-unix-archive',\n\t\t'application/x-rpm',\n\t\t'application/x-compress',\n\t\t'application/x-lzip',\n\t\t'application/x-cfb',\n\t\t'application/x-mie',\n\t\t'application/mxf',\n\t\t'video/mp2t',\n\t\t'application/x-blender',\n\t\t'image/bpg',\n\t\t'image/jp2',\n\t\t'image/jpx',\n\t\t'image/jpm',\n\t\t'image/mj2',\n\t\t'audio/aiff',\n\t\t'application/xml',\n\t\t'application/x-mobipocket-ebook',\n\t\t'image/heif',\n\t\t'image/heif-sequence',\n\t\t'image/heic',\n\t\t'image/heic-sequence',\n\t\t'image/icns',\n\t\t'image/ktx',\n\t\t'application/dicom',\n\t\t'audio/x-musepack',\n\t\t'text/calendar',\n\t\t'text/vcard',\n\t\t'model/gltf-binary',\n\t\t'application/vnd.tcpdump.pcap',\n\t\t'audio/x-dsf', // Non-standard\n\t\t'application/x.ms.shortcut', // Invented by us\n\t\t'application/x.apple.alias', // Invented by us\n\t\t'audio/x-voc',\n\t\t'audio/vnd.dolby.dd-raw',\n\t\t'audio/x-m4a',\n\t\t'image/apng',\n\t\t'image/x-olympus-orf',\n\t\t'image/x-sony-arw',\n\t\t'image/x-adobe-dng',\n\t\t'image/x-nikon-nef',\n\t\t'image/x-panasonic-rw2',\n\t\t'image/x-fujifilm-raf',\n\t\t'video/x-m4v',\n\t\t'video/3gpp2',\n\t\t'application/x-esri-shape',\n\t\t'audio/aac',\n\t\t'audio/x-it',\n\t\t'audio/x-s3m',\n\t\t'audio/x-xm',\n\t\t'video/MP1S',\n\t\t'video/MP2P',\n\t\t'application/vnd.sketchup.skp',\n\t\t'image/avif',\n\t\t'application/x-lzh-compressed',\n\t\t'application/pgp-encrypted',\n\t\t'application/x-asar',\n\t\t'model/stl',\n\t\t'application/vnd.ms-htmlhelp',\n\t\t'model/3mf',\n\t\t'image/jxl',\n\t\t'application/zstd'\n\t]\n};\n","'use strict';\n\nexports.stringToBytes = string => [...string].map(character => character.charCodeAt(0));\n\n/**\nChecks whether the TAR checksum is valid.\n\n@param {Buffer} buffer - The TAR header `[offset ... offset + 512]`.\n@param {number} offset - TAR header offset.\n@returns {boolean} `true` if the TAR checksum is valid, otherwise `false`.\n*/\nexports.tarHeaderChecksumMatches = (buffer, offset = 0) => {\n\tconst readSum = parseInt(buffer.toString('utf8', 148, 154).replace(/\\0.*$/, '').trim(), 8); // Read sum in header\n\tif (isNaN(readSum)) {\n\t\treturn false;\n\t}\n\n\tlet sum = 8 * 0x20; // Initialize signed bit sum\n\n\tfor (let i = offset; i < offset + 148; i++) {\n\t\tsum += buffer[i];\n\t}\n\n\tfor (let i = offset + 156; i < offset + 512; i++) {\n\t\tsum += buffer[i];\n\t}\n\n\treturn readSum === sum;\n};\n\n/**\nID3 UINT32 sync-safe tokenizer token.\n28 bits (representing up to 256MB) integer, the msb is 0 to avoid \"false syncsignals\".\n*/\nexports.uint32SyncSafeToken = {\n\tget: (buffer, offset) => {\n\t\treturn (buffer[offset + 3] & 0x7F) | ((buffer[offset + 2]) << 7) | ((buffer[offset + 1]) << 14) | ((buffer[offset]) << 21);\n\t},\n\tlen: 4\n};\n","var rbush = require('rbush');\nvar helpers = require('@turf/helpers');\nvar meta = require('@turf/meta');\nvar turfBBox = require('@turf/bbox').default;\nvar featureEach = meta.featureEach;\nvar coordEach = meta.coordEach;\nvar polygon = helpers.polygon;\nvar featureCollection = helpers.featureCollection;\n\n/**\n * GeoJSON implementation of [RBush](https://github.com/mourner/rbush#rbush) spatial index.\n *\n * @name rbush\n * @param {number} [maxEntries=9] defines the maximum number of entries in a tree node. 9 (used by default) is a\n * reasonable choice for most applications. Higher value means faster insertion and slower search, and vice versa.\n * @returns {RBush} GeoJSON RBush\n * @example\n * var geojsonRbush = require('geojson-rbush').default;\n * var tree = geojsonRbush();\n */\nfunction geojsonRbush(maxEntries) {\n    var tree = new rbush(maxEntries);\n    /**\n     * [insert](https://github.com/mourner/rbush#data-format)\n     *\n     * @param {Feature} feature insert single GeoJSON Feature\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var poly = turf.polygon([[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]);\n     * tree.insert(poly)\n     */\n    tree.insert = function (feature) {\n        if (feature.type !== 'Feature') throw new Error('invalid feature');\n        feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n        return rbush.prototype.insert.call(this, feature);\n    };\n\n    /**\n     * [load](https://github.com/mourner/rbush#bulk-inserting-data)\n     *\n     * @param {FeatureCollection|Array<Feature>} features load entire GeoJSON FeatureCollection\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var polys = turf.polygons([\n     *     [[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]],\n     *     [[[-93, 32], [-83, 32], [-83, 39], [-93, 39], [-93, 32]]]\n     * ]);\n     * tree.load(polys);\n     */\n    tree.load = function (features) {\n        var load = [];\n        // Load an Array of Features\n        if (Array.isArray(features)) {\n            features.forEach(function (feature) {\n                if (feature.type !== 'Feature') throw new Error('invalid features');\n                feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n                load.push(feature);\n            });\n        } else {\n            // Load a FeatureCollection\n            featureEach(features, function (feature) {\n                if (feature.type !== 'Feature') throw new Error('invalid features');\n                feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n                load.push(feature);\n            });\n        }\n        return rbush.prototype.load.call(this, load);\n    };\n\n    /**\n     * [remove](https://github.com/mourner/rbush#removing-data)\n     *\n     * @param {Feature} feature remove single GeoJSON Feature\n     * @param {Function} equals Pass a custom equals function to compare by value for removal.\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var poly = turf.polygon([[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]);\n     *\n     * tree.remove(poly);\n     */\n    tree.remove = function (feature, equals) {\n        if (feature.type !== 'Feature') throw new Error('invalid feature');\n        feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n        return rbush.prototype.remove.call(this, feature, equals);\n    };\n\n    /**\n     * [clear](https://github.com/mourner/rbush#removing-data)\n     *\n     * @returns {RBush} GeoJSON Rbush\n     * @example\n     * tree.clear()\n     */\n    tree.clear = function () {\n        return rbush.prototype.clear.call(this);\n    };\n\n    /**\n     * [search](https://github.com/mourner/rbush#search)\n     *\n     * @param {BBox|FeatureCollection|Feature} geojson search with GeoJSON\n     * @returns {FeatureCollection} all features that intersects with the given GeoJSON.\n     * @example\n     * var poly = turf.polygon([[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]);\n     *\n     * tree.search(poly);\n     */\n    tree.search = function (geojson) {\n        var features = rbush.prototype.search.call(this, this.toBBox(geojson));\n        return featureCollection(features);\n    };\n\n    /**\n     * [collides](https://github.com/mourner/rbush#collisions)\n     *\n     * @param {BBox|FeatureCollection|Feature} geojson collides with GeoJSON\n     * @returns {boolean} true if there are any items intersecting the given GeoJSON, otherwise false.\n     * @example\n     * var poly = turf.polygon([[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]);\n     *\n     * tree.collides(poly);\n     */\n    tree.collides = function (geojson) {\n        return rbush.prototype.collides.call(this, this.toBBox(geojson));\n    };\n\n    /**\n     * [all](https://github.com/mourner/rbush#search)\n     *\n     * @returns {FeatureCollection} all the features in RBush\n     * @example\n     * tree.all()\n     */\n    tree.all = function () {\n        var features = rbush.prototype.all.call(this);\n        return featureCollection(features);\n    };\n\n    /**\n     * [toJSON](https://github.com/mourner/rbush#export-and-import)\n     *\n     * @returns {any} export data as JSON object\n     * @example\n     * var exported = tree.toJSON()\n     */\n    tree.toJSON = function () {\n        return rbush.prototype.toJSON.call(this);\n    };\n\n    /**\n     * [fromJSON](https://github.com/mourner/rbush#export-and-import)\n     *\n     * @param {any} json import previously exported data\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var exported = {\n     *   \"children\": [\n     *     {\n     *       \"type\": \"Feature\",\n     *       \"geometry\": {\n     *         \"type\": \"Point\",\n     *         \"coordinates\": [110, 50]\n     *       },\n     *       \"properties\": {},\n     *       \"bbox\": [110, 50, 110, 50]\n     *     }\n     *   ],\n     *   \"height\": 1,\n     *   \"leaf\": true,\n     *   \"minX\": 110,\n     *   \"minY\": 50,\n     *   \"maxX\": 110,\n     *   \"maxY\": 50\n     * }\n     * tree.fromJSON(exported)\n     */\n    tree.fromJSON = function (json) {\n        return rbush.prototype.fromJSON.call(this, json);\n    };\n\n    /**\n     * Converts GeoJSON to {minX, minY, maxX, maxY} schema\n     *\n     * @private\n     * @param {BBox|FeatureCollection|Feature} geojson feature(s) to retrieve BBox from\n     * @returns {Object} converted to {minX, minY, maxX, maxY}\n     */\n    tree.toBBox = function (geojson) {\n        var bbox;\n        if (geojson.bbox) bbox = geojson.bbox;\n        else if (Array.isArray(geojson) && geojson.length === 4) bbox = geojson;\n        else if (Array.isArray(geojson) && geojson.length === 6) bbox = [geojson[0], geojson[1], geojson[3], geojson[4]];\n        else if (geojson.type === 'Feature') bbox = turfBBox(geojson);\n        else if (geojson.type === 'FeatureCollection') bbox = turfBBox(geojson);\n        else throw new Error('invalid geojson')\n\n        return {\n            minX: bbox[0],\n            minY: bbox[1],\n            maxX: bbox[2],\n            maxY: bbox[3]\n        };\n    };\n    return tree;\n}\n\nmodule.exports = geojsonRbush;\nmodule.exports.default = geojsonRbush;\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst types_1 = require(\"./types\");\nconst keys = Object.keys(types_1.typeHandlers);\n// This map helps avoid validating for every single image type\nconst firstBytes = {\n    0x38: 'psd',\n    0x42: 'bmp',\n    0x44: 'dds',\n    0x47: 'gif',\n    0x49: 'tiff',\n    0x4d: 'tiff',\n    0x52: 'webp',\n    0x69: 'icns',\n    0x89: 'png',\n    0xff: 'jpg'\n};\nfunction detector(buffer) {\n    const byte = buffer[0];\n    if (byte in firstBytes) {\n        const type = firstBytes[byte];\n        if (types_1.typeHandlers[type].validate(buffer)) {\n            return type;\n        }\n    }\n    const finder = (key) => types_1.typeHandlers[key].validate(buffer);\n    return keys.find(finder);\n}\nexports.detector = detector;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs = require(\"fs\");\n// fs.promises polyfill for node 8.x\nif (!('promises' in fs)) {\n    class FileHandle {\n        constructor(fd) {\n            this.fd = fd;\n        }\n        stat() {\n            return new Promise((resolve, reject) => {\n                fs.fstat(this.fd, (err, stats) => {\n                    if (err) {\n                        reject(err);\n                    }\n                    else {\n                        resolve(stats);\n                    }\n                });\n            });\n        }\n        read(buffer, offset, length, position) {\n            return new Promise((resolve, reject) => {\n                fs.read(this.fd, buffer, offset, length, position, (err) => {\n                    if (err) {\n                        reject(err);\n                    }\n                    else {\n                        resolve();\n                    }\n                });\n            });\n        }\n        close() {\n            return new Promise((resolve, reject) => {\n                fs.close(this.fd, (err) => {\n                    if (err) {\n                        reject(err);\n                    }\n                    else {\n                        resolve();\n                    }\n                });\n            });\n        }\n    }\n    Object.defineProperty(fs, 'promises', {\n        value: {\n            open: (filepath, flags) => (new Promise((resolve, reject) => {\n                fs.open(filepath, flags, (err, fd) => {\n                    if (err) {\n                        reject(err);\n                    }\n                    else {\n                        resolve(new FileHandle(fd));\n                    }\n                });\n            })),\n        },\n        writable: false\n    });\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst queue_1 = require(\"queue\");\nconst types_1 = require(\"./types\");\nconst detector_1 = require(\"./detector\");\nrequire(\"./fs.promises\");\n// Maximum buffer size, with a default of 512 kilobytes.\n// TO-DO: make this adaptive based on the initial signature of the image\nconst MaxBufferSize = 512 * 1024;\n// This queue is for async `fs` operations, to avoid reaching file-descriptor limits\nconst queue = new queue_1.default({ concurrency: 100, autostart: true });\n/**\n * Return size information based on a buffer\n *\n * @param {Buffer} buffer\n * @param {String} filepath\n * @returns {Object}\n */\nfunction lookup(buffer, filepath) {\n    // detect the file type.. don't rely on the extension\n    const type = detector_1.detector(buffer);\n    // find an appropriate handler for this file type\n    if (type && type in types_1.typeHandlers) {\n        const size = types_1.typeHandlers[type].calculate(buffer, filepath);\n        if (size !== undefined) {\n            size.type = type;\n            return size;\n        }\n    }\n    // throw up, if we don't understand the file\n    throw new TypeError('unsupported file type: ' + type + ' (file: ' + filepath + ')');\n}\n/**\n * Reads a file into a buffer.\n * @param {String} filepath\n * @returns {Promise<Buffer>}\n */\nfunction asyncFileToBuffer(filepath) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const handle = yield fs.promises.open(filepath, 'r');\n        const { size } = yield handle.stat();\n        if (size <= 0) {\n            throw new Error('Empty file');\n        }\n        const bufferSize = Math.min(size, MaxBufferSize);\n        const buffer = Buffer.alloc(bufferSize);\n        yield handle.read(buffer, 0, bufferSize, 0);\n        yield handle.close();\n        return buffer;\n    });\n}\n/**\n * Synchronously reads a file into a buffer, blocking the nodejs process.\n *\n * @param {String} filepath\n * @returns {Buffer}\n */\nfunction syncFileToBuffer(filepath) {\n    // read from the file, synchronously\n    const descriptor = fs.openSync(filepath, 'r');\n    const size = fs.fstatSync(descriptor).size;\n    const bufferSize = Math.min(size, MaxBufferSize);\n    const buffer = Buffer.alloc(bufferSize);\n    fs.readSync(descriptor, buffer, 0, bufferSize, 0);\n    fs.closeSync(descriptor);\n    return buffer;\n}\nmodule.exports = exports = imageSize; // backwards compatibility\n/**\n * @param {Buffer|string} input - buffer or relative/absolute path of the image file\n * @param {Function=} [callback] - optional function for async detection\n */\nfunction imageSize(input, callback) {\n    // Handle buffer input\n    if (Buffer.isBuffer(input)) {\n        return lookup(input);\n    }\n    // input should be a string at this point\n    if (typeof input !== 'string') {\n        throw new TypeError('invalid invocation');\n    }\n    // resolve the file path\n    const filepath = path.resolve(input);\n    if (typeof callback === 'function') {\n        queue.push(() => asyncFileToBuffer(filepath)\n            .then((buffer) => process.nextTick(callback, null, lookup(buffer, filepath)))\n            .catch(callback));\n    }\n    else {\n        const buffer = syncFileToBuffer(filepath);\n        return lookup(buffer, filepath);\n    }\n}\nexports.imageSize = imageSize;\nexports.setConcurrency = (c) => { queue.concurrency = c; };\nexports.types = Object.keys(types_1.typeHandlers);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Abstract reading multi-byte unsigned integers\nfunction readUInt(buffer, bits, offset, isBigEndian) {\n    offset = offset || 0;\n    const endian = isBigEndian ? 'BE' : 'LE';\n    const methodName = ('readUInt' + bits + endian);\n    const method = buffer[methodName];\n    return method.call(buffer, offset);\n}\nexports.readUInt = readUInt;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst bmp_1 = require(\"./types/bmp\");\nconst cur_1 = require(\"./types/cur\");\nconst dds_1 = require(\"./types/dds\");\nconst gif_1 = require(\"./types/gif\");\nconst icns_1 = require(\"./types/icns\");\nconst ico_1 = require(\"./types/ico\");\nconst j2c_1 = require(\"./types/j2c\");\nconst jp2_1 = require(\"./types/jp2\");\nconst jpg_1 = require(\"./types/jpg\");\nconst ktx_1 = require(\"./types/ktx\");\nconst png_1 = require(\"./types/png\");\nconst pnm_1 = require(\"./types/pnm\");\nconst psd_1 = require(\"./types/psd\");\nconst svg_1 = require(\"./types/svg\");\nconst tiff_1 = require(\"./types/tiff\");\nconst webp_1 = require(\"./types/webp\");\nexports.typeHandlers = {\n    bmp: bmp_1.BMP,\n    cur: cur_1.CUR,\n    dds: dds_1.DDS,\n    gif: gif_1.GIF,\n    icns: icns_1.ICNS,\n    ico: ico_1.ICO,\n    j2c: j2c_1.J2C,\n    jp2: jp2_1.JP2,\n    jpg: jpg_1.JPG,\n    ktx: ktx_1.KTX,\n    png: png_1.PNG,\n    pnm: pnm_1.PNM,\n    psd: psd_1.PSD,\n    svg: svg_1.SVG,\n    tiff: tiff_1.TIFF,\n    webp: webp_1.WEBP,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BMP = {\n    validate(buffer) {\n        return ('BM' === buffer.toString('ascii', 0, 2));\n    },\n    calculate(buffer) {\n        return {\n            height: Math.abs(buffer.readInt32LE(22)),\n            width: buffer.readUInt32LE(18)\n        };\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ico_1 = require(\"./ico\");\nconst TYPE_CURSOR = 2;\nexports.CUR = {\n    validate(buffer) {\n        if (buffer.readUInt16LE(0) !== 0) {\n            return false;\n        }\n        return buffer.readUInt16LE(2) === TYPE_CURSOR;\n    },\n    calculate(buffer) {\n        return ico_1.ICO.calculate(buffer);\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DDS = {\n    validate(buffer) {\n        return buffer.readUInt32LE(0) === 0x20534444;\n    },\n    calculate(buffer) {\n        return {\n            height: buffer.readUInt32LE(12),\n            width: buffer.readUInt32LE(16)\n        };\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst gifRegexp = /^GIF8[79]a/;\nexports.GIF = {\n    validate(buffer) {\n        const signature = buffer.toString('ascii', 0, 6);\n        return (gifRegexp.test(signature));\n    },\n    calculate(buffer) {\n        return {\n            height: buffer.readUInt16LE(8),\n            width: buffer.readUInt16LE(6)\n        };\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * ICNS Header\n *\n * | Offset | Size | Purpose                                                |\n * | 0\t    | 4    | Magic literal, must be \"icns\" (0x69, 0x63, 0x6e, 0x73) |\n * | 4      | 4    | Length of file, in bytes, msb first.                   |\n *\n */\nconst SIZE_HEADER = 4 + 4; // 8\nconst FILE_LENGTH_OFFSET = 4; // MSB => BIG ENDIAN\n/**\n * Image Entry\n *\n * | Offset | Size | Purpose                                                          |\n * | 0\t    | 4    | Icon type, see OSType below.                                     |\n * | 4      | 4    | Length of data, in bytes (including type and length), msb first. |\n * | 8      | n    | Icon data                                                        |\n */\nconst ENTRY_LENGTH_OFFSET = 4; // MSB => BIG ENDIAN\n/* tslint:disable:object-literal-sort-keys */\nconst ICON_TYPE_SIZE = {\n    ICON: 32,\n    'ICN#': 32,\n    // m => 16 x 16\n    'icm#': 16,\n    icm4: 16,\n    icm8: 16,\n    // s => 16 x 16\n    'ics#': 16,\n    ics4: 16,\n    ics8: 16,\n    is32: 16,\n    s8mk: 16,\n    icp4: 16,\n    // l => 32 x 32\n    icl4: 32,\n    icl8: 32,\n    il32: 32,\n    l8mk: 32,\n    icp5: 32,\n    ic11: 32,\n    // h => 48 x 48\n    ich4: 48,\n    ich8: 48,\n    ih32: 48,\n    h8mk: 48,\n    // . => 64 x 64\n    icp6: 64,\n    ic12: 32,\n    // t => 128 x 128\n    it32: 128,\n    t8mk: 128,\n    ic07: 128,\n    // . => 256 x 256\n    ic08: 256,\n    ic13: 256,\n    // . => 512 x 512\n    ic09: 512,\n    ic14: 512,\n    // . => 1024 x 1024\n    ic10: 1024,\n};\n/* tslint:enable:object-literal-sort-keys */\nfunction readImageHeader(buffer, imageOffset) {\n    const imageLengthOffset = imageOffset + ENTRY_LENGTH_OFFSET;\n    return [\n        buffer.toString('ascii', imageOffset, imageLengthOffset),\n        buffer.readUInt32BE(imageLengthOffset)\n    ];\n}\nfunction getImageSize(type) {\n    const size = ICON_TYPE_SIZE[type];\n    return { width: size, height: size, type };\n}\nexports.ICNS = {\n    validate(buffer) {\n        return ('icns' === buffer.toString('ascii', 0, 4));\n    },\n    calculate(buffer) {\n        const bufferLength = buffer.length;\n        const fileLength = buffer.readUInt32BE(FILE_LENGTH_OFFSET);\n        let imageOffset = SIZE_HEADER;\n        let imageHeader = readImageHeader(buffer, imageOffset);\n        let imageSize = getImageSize(imageHeader[0]);\n        imageOffset += imageHeader[1];\n        if (imageOffset === fileLength) {\n            return imageSize;\n        }\n        const result = {\n            height: imageSize.height,\n            images: [imageSize],\n            width: imageSize.width\n        };\n        while (imageOffset < fileLength && imageOffset < bufferLength) {\n            imageHeader = readImageHeader(buffer, imageOffset);\n            imageSize = getImageSize(imageHeader[0]);\n            imageOffset += imageHeader[1];\n            result.images.push(imageSize);\n        }\n        return result;\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst TYPE_ICON = 1;\n/**\n * ICON Header\n *\n * | Offset | Size | Purpose |\n * | 0\t    | 2    | Reserved. Must always be 0.  |\n * | 2      | 2    | Image type: 1 for icon (.ICO) image, 2 for cursor (.CUR) image. Other values are invalid. |\n * | 4      | 2    | Number of images in the file. |\n *\n */\nconst SIZE_HEADER = 2 + 2 + 2; // 6\n/**\n * Image Entry\n *\n * | Offset | Size | Purpose |\n * | 0\t    | 1    | Image width in pixels. Can be any number between 0 and 255. Value 0 means width is 256 pixels. |\n * | 1      | 1    | Image height in pixels. Can be any number between 0 and 255. Value 0 means height is 256 pixels. |\n * | 2      | 1    | Number of colors in the color palette. Should be 0 if the image does not use a color palette. |\n * | 3      | 1    | Reserved. Should be 0. |\n * | 4      | 2    | ICO format: Color planes. Should be 0 or 1. |\n * |        |      | CUR format: The horizontal coordinates of the hotspot in number of pixels from the left. |\n * | 6      | 2    | ICO format: Bits per pixel. |\n * |        |      | CUR format: The vertical coordinates of the hotspot in number of pixels from the top. |\n * | 8      | 4    | The size of the image's data in bytes |\n * | 12     | 4    | The offset of BMP or PNG data from the beginning of the ICO/CUR file |\n *\n */\nconst SIZE_IMAGE_ENTRY = 1 + 1 + 1 + 1 + 2 + 2 + 4 + 4; // 16\nfunction getSizeFromOffset(buffer, offset) {\n    const value = buffer.readUInt8(offset);\n    return value === 0 ? 256 : value;\n}\nfunction getImageSize(buffer, imageIndex) {\n    const offset = SIZE_HEADER + (imageIndex * SIZE_IMAGE_ENTRY);\n    return {\n        height: getSizeFromOffset(buffer, offset + 1),\n        width: getSizeFromOffset(buffer, offset)\n    };\n}\nexports.ICO = {\n    validate(buffer) {\n        if (buffer.readUInt16LE(0) !== 0) {\n            return false;\n        }\n        return buffer.readUInt16LE(2) === TYPE_ICON;\n    },\n    calculate(buffer) {\n        const nbImages = buffer.readUInt16LE(4);\n        const imageSize = getImageSize(buffer, 0);\n        if (nbImages === 1) {\n            return imageSize;\n        }\n        const imgs = [imageSize];\n        for (let imageIndex = 1; imageIndex < nbImages; imageIndex += 1) {\n            imgs.push(getImageSize(buffer, imageIndex));\n        }\n        const result = {\n            height: imageSize.height,\n            images: imgs,\n            width: imageSize.width\n        };\n        return result;\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.J2C = {\n    validate(buffer) {\n        // TODO: this doesn't seem right. SIZ marker doesnt have to be right after the SOC\n        return buffer.toString('hex', 0, 4) === 'ff4fff51';\n    },\n    calculate(buffer) {\n        return {\n            height: buffer.readUInt32BE(12),\n            width: buffer.readUInt32BE(8),\n        };\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst BoxTypes = {\n    ftyp: '66747970',\n    ihdr: '69686472',\n    jp2h: '6a703268',\n    jp__: '6a502020',\n    rreq: '72726571',\n    xml_: '786d6c20'\n};\nconst calculateRREQLength = (box) => {\n    const unit = box.readUInt8(0);\n    let offset = 1 + (2 * unit);\n    const numStdFlags = box.readUInt16BE(offset);\n    const flagsLength = numStdFlags * (2 + unit);\n    offset = offset + 2 + flagsLength;\n    const numVendorFeatures = box.readUInt16BE(offset);\n    const featuresLength = numVendorFeatures * (16 + unit);\n    return offset + 2 + featuresLength;\n};\nconst parseIHDR = (box) => {\n    return {\n        height: box.readUInt32BE(4),\n        width: box.readUInt32BE(8),\n    };\n};\nexports.JP2 = {\n    validate(buffer) {\n        const signature = buffer.toString('hex', 4, 8);\n        const signatureLength = buffer.readUInt32BE(0);\n        if (signature !== BoxTypes.jp__ || signatureLength < 1) {\n            return false;\n        }\n        const ftypeBoxStart = signatureLength + 4;\n        const ftypBoxLength = buffer.readUInt32BE(signatureLength);\n        const ftypBox = buffer.slice(ftypeBoxStart, ftypeBoxStart + ftypBoxLength);\n        return ftypBox.toString('hex', 0, 4) === BoxTypes.ftyp;\n    },\n    calculate(buffer) {\n        const signatureLength = buffer.readUInt32BE(0);\n        const ftypBoxLength = buffer.readUInt16BE(signatureLength + 2);\n        let offset = signatureLength + 4 + ftypBoxLength;\n        const nextBoxType = buffer.toString('hex', offset, offset + 4);\n        switch (nextBoxType) {\n            case BoxTypes.rreq:\n                // WHAT ARE THESE 4 BYTES?????\n                const MAGIC = 4;\n                offset = offset + 4 + MAGIC + calculateRREQLength(buffer.slice(offset + 4));\n                return parseIHDR(buffer.slice(offset + 8, offset + 24));\n            case BoxTypes.jp2h:\n                return parseIHDR(buffer.slice(offset + 8, offset + 24));\n            default:\n                throw new TypeError('Unsupported header found: ' + buffer.toString('ascii', offset, offset + 4));\n        }\n    }\n};\n","\"use strict\";\n// NOTE: we only support baseline and progressive JPGs here\n// due to the structure of the loader class, we only get a buffer\n// with a maximum size of 4096 bytes. so if the SOF marker is outside\n// if this range we can't detect the file size correctly.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst readUInt_1 = require(\"../readUInt\");\nconst EXIF_MARKER = '45786966';\nconst APP1_DATA_SIZE_BYTES = 2;\nconst EXIF_HEADER_BYTES = 6;\nconst TIFF_BYTE_ALIGN_BYTES = 2;\nconst BIG_ENDIAN_BYTE_ALIGN = '4d4d';\nconst LITTLE_ENDIAN_BYTE_ALIGN = '4949';\n// Each entry is exactly 12 bytes\nconst IDF_ENTRY_BYTES = 12;\nconst NUM_DIRECTORY_ENTRIES_BYTES = 2;\nfunction isEXIF(buffer) {\n    return (buffer.toString('hex', 2, 6) === EXIF_MARKER);\n}\nfunction extractSize(buffer, index) {\n    return {\n        height: buffer.readUInt16BE(index),\n        width: buffer.readUInt16BE(index + 2)\n    };\n}\nfunction validateExifBlock(buffer, index) {\n    // Skip APP1 Data Size\n    const exifBlock = buffer.slice(APP1_DATA_SIZE_BYTES, index);\n    // Consider byte alignment\n    const byteAlign = exifBlock.toString('hex', EXIF_HEADER_BYTES, EXIF_HEADER_BYTES + TIFF_BYTE_ALIGN_BYTES);\n    // Ignore Empty EXIF. Validate byte alignment\n    const isBigEndian = byteAlign === BIG_ENDIAN_BYTE_ALIGN;\n    const isLittleEndian = byteAlign === LITTLE_ENDIAN_BYTE_ALIGN;\n    if (isBigEndian || isLittleEndian) {\n        return extractOrientation(exifBlock, isBigEndian);\n    }\n}\nfunction extractOrientation(exifBlock, isBigEndian) {\n    // TODO: assert that this contains 0x002A\n    // let STATIC_MOTOROLA_TIFF_HEADER_BYTES = 2\n    // let TIFF_IMAGE_FILE_DIRECTORY_BYTES = 4\n    // TODO: derive from TIFF_IMAGE_FILE_DIRECTORY_BYTES\n    const idfOffset = 8;\n    // IDF osset works from right after the header bytes\n    // (so the offset includes the tiff byte align)\n    const offset = EXIF_HEADER_BYTES + idfOffset;\n    const idfDirectoryEntries = readUInt_1.readUInt(exifBlock, 16, offset, isBigEndian);\n    for (let directoryEntryNumber = 0; directoryEntryNumber < idfDirectoryEntries; directoryEntryNumber++) {\n        const start = offset + NUM_DIRECTORY_ENTRIES_BYTES + (directoryEntryNumber * IDF_ENTRY_BYTES);\n        const end = start + IDF_ENTRY_BYTES;\n        // Skip on corrupt EXIF blocks\n        if (start > exifBlock.length) {\n            return;\n        }\n        const block = exifBlock.slice(start, end);\n        const tagNumber = readUInt_1.readUInt(block, 16, 0, isBigEndian);\n        // 0x0112 (decimal: 274) is the `orientation` tag ID\n        if (tagNumber === 274) {\n            const dataFormat = readUInt_1.readUInt(block, 16, 2, isBigEndian);\n            if (dataFormat !== 3) {\n                return;\n            }\n            // unsinged int has 2 bytes per component\n            // if there would more than 4 bytes in total it's a pointer\n            const numberOfComponents = readUInt_1.readUInt(block, 32, 4, isBigEndian);\n            if (numberOfComponents !== 1) {\n                return;\n            }\n            return readUInt_1.readUInt(block, 16, 8, isBigEndian);\n        }\n    }\n}\nfunction validateBuffer(buffer, index) {\n    // index should be within buffer limits\n    if (index > buffer.length) {\n        throw new TypeError('Corrupt JPG, exceeded buffer limits');\n    }\n    // Every JPEG block must begin with a 0xFF\n    if (buffer[index] !== 0xFF) {\n        throw new TypeError('Invalid JPG, marker table corrupted');\n    }\n}\nexports.JPG = {\n    validate(buffer) {\n        const SOIMarker = buffer.toString('hex', 0, 2);\n        return ('ffd8' === SOIMarker);\n    },\n    calculate(buffer) {\n        // Skip 4 chars, they are for signature\n        buffer = buffer.slice(4);\n        let orientation;\n        let next;\n        while (buffer.length) {\n            // read length of the next block\n            const i = buffer.readUInt16BE(0);\n            if (isEXIF(buffer)) {\n                orientation = validateExifBlock(buffer, i);\n            }\n            // ensure correct format\n            validateBuffer(buffer, i);\n            // 0xFFC0 is baseline standard(SOF)\n            // 0xFFC1 is baseline optimized(SOF)\n            // 0xFFC2 is progressive(SOF2)\n            next = buffer[i + 1];\n            if (next === 0xC0 || next === 0xC1 || next === 0xC2) {\n                const size = extractSize(buffer, i + 5);\n                // TODO: is orientation=0 a valid answer here?\n                if (!orientation) {\n                    return size;\n                }\n                return {\n                    height: size.height,\n                    orientation,\n                    width: size.width\n                };\n            }\n            // move to the next block\n            buffer = buffer.slice(i + 2);\n        }\n        throw new TypeError('Invalid JPG, no size found');\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst SIGNATURE = 'KTX 11';\nexports.KTX = {\n    validate(buffer) {\n        return SIGNATURE === buffer.toString('ascii', 1, 7);\n    },\n    calculate(buffer) {\n        return {\n            height: buffer.readUInt32LE(40),\n            width: buffer.readUInt32LE(36),\n        };\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst pngSignature = 'PNG\\r\\n\\x1a\\n';\nconst pngImageHeaderChunkName = 'IHDR';\n// Used to detect \"fried\" png's: http://www.jongware.com/pngdefry.html\nconst pngFriedChunkName = 'CgBI';\nexports.PNG = {\n    validate(buffer) {\n        if (pngSignature === buffer.toString('ascii', 1, 8)) {\n            let chunkName = buffer.toString('ascii', 12, 16);\n            if (chunkName === pngFriedChunkName) {\n                chunkName = buffer.toString('ascii', 28, 32);\n            }\n            if (chunkName !== pngImageHeaderChunkName) {\n                throw new TypeError('Invalid PNG');\n            }\n            return true;\n        }\n        return false;\n    },\n    calculate(buffer) {\n        if (buffer.toString('ascii', 12, 16) === pngFriedChunkName) {\n            return {\n                height: buffer.readUInt32BE(36),\n                width: buffer.readUInt32BE(32)\n            };\n        }\n        return {\n            height: buffer.readUInt32BE(20),\n            width: buffer.readUInt32BE(16)\n        };\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst PNMTypes = {\n    P1: 'pbm/ascii',\n    P2: 'pgm/ascii',\n    P3: 'ppm/ascii',\n    P4: 'pbm',\n    P5: 'pgm',\n    P6: 'ppm',\n    P7: 'pam',\n    PF: 'pfm'\n};\nconst Signatures = Object.keys(PNMTypes);\nconst handlers = {\n    default: (lines) => {\n        let dimensions = [];\n        while (lines.length > 0) {\n            const line = lines.shift();\n            if (line[0] === '#') {\n                continue;\n            }\n            dimensions = line.split(' ');\n            break;\n        }\n        if (dimensions.length === 2) {\n            return {\n                height: parseInt(dimensions[1], 10),\n                width: parseInt(dimensions[0], 10),\n            };\n        }\n        else {\n            throw new TypeError('Invalid PNM');\n        }\n    },\n    pam: (lines) => {\n        const size = {};\n        while (lines.length > 0) {\n            const line = lines.shift();\n            if (line.length > 16 || line.charCodeAt(0) > 128) {\n                continue;\n            }\n            const [key, value] = line.split(' ');\n            if (key && value) {\n                size[key.toLowerCase()] = parseInt(value, 10);\n            }\n            if (size.height && size.width) {\n                break;\n            }\n        }\n        if (size.height && size.width) {\n            return {\n                height: size.height,\n                width: size.width\n            };\n        }\n        else {\n            throw new TypeError('Invalid PAM');\n        }\n    }\n};\nexports.PNM = {\n    validate(buffer) {\n        const signature = buffer.toString('ascii', 0, 2);\n        return Signatures.includes(signature);\n    },\n    calculate(buffer) {\n        const signature = buffer.toString('ascii', 0, 2);\n        const type = PNMTypes[signature];\n        // TODO: this probably generates garbage. move to a stream based parser\n        const lines = buffer.toString('ascii', 3).split(/[\\r\\n]+/);\n        const handler = handlers[type] || handlers.default;\n        return handler(lines);\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PSD = {\n    validate(buffer) {\n        return ('8BPS' === buffer.toString('ascii', 0, 4));\n    },\n    calculate(buffer) {\n        return {\n            height: buffer.readUInt32BE(14),\n            width: buffer.readUInt32BE(18)\n        };\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst svgReg = /<svg\\s([^>\"']|\"[^\"]*\"|'[^']*')*>/;\nconst extractorRegExps = {\n    height: /\\sheight=(['\"])([^%]+?)\\1/,\n    root: svgReg,\n    viewbox: /\\sviewBox=(['\"])(.+?)\\1/,\n    width: /\\swidth=(['\"])([^%]+?)\\1/,\n};\nconst INCH_CM = 2.54;\nconst units = {\n    cm: 96 / INCH_CM,\n    em: 16,\n    ex: 8,\n    m: 96 / INCH_CM * 100,\n    mm: 96 / INCH_CM / 10,\n    pc: 96 / 72 / 12,\n    pt: 96 / 72,\n};\nfunction parseLength(len) {\n    const m = /([0-9.]+)([a-z]*)/.exec(len);\n    if (!m) {\n        return undefined;\n    }\n    return Math.round(parseFloat(m[1]) * (units[m[2]] || 1));\n}\nfunction parseViewbox(viewbox) {\n    const bounds = viewbox.split(' ');\n    return {\n        height: parseLength(bounds[3]),\n        width: parseLength(bounds[2])\n    };\n}\nfunction parseAttributes(root) {\n    const width = root.match(extractorRegExps.width);\n    const height = root.match(extractorRegExps.height);\n    const viewbox = root.match(extractorRegExps.viewbox);\n    return {\n        height: height && parseLength(height[2]),\n        viewbox: viewbox && parseViewbox(viewbox[2]),\n        width: width && parseLength(width[2]),\n    };\n}\nfunction calculateByDimensions(attrs) {\n    return {\n        height: attrs.height,\n        width: attrs.width,\n    };\n}\nfunction calculateByViewbox(attrs, viewbox) {\n    const ratio = viewbox.width / viewbox.height;\n    if (attrs.width) {\n        return {\n            height: Math.floor(attrs.width / ratio),\n            width: attrs.width,\n        };\n    }\n    if (attrs.height) {\n        return {\n            height: attrs.height,\n            width: Math.floor(attrs.height * ratio),\n        };\n    }\n    return {\n        height: viewbox.height,\n        width: viewbox.width,\n    };\n}\nexports.SVG = {\n    validate(buffer) {\n        const str = String(buffer);\n        return svgReg.test(str);\n    },\n    calculate(buffer) {\n        const root = buffer.toString('utf8').match(extractorRegExps.root);\n        if (root) {\n            const attrs = parseAttributes(root[0]);\n            if (attrs.width && attrs.height) {\n                return calculateByDimensions(attrs);\n            }\n            if (attrs.viewbox) {\n                return calculateByViewbox(attrs, attrs.viewbox);\n            }\n        }\n        throw new TypeError('Invalid SVG');\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// based on http://www.compix.com/fileformattif.htm\n// TO-DO: support big-endian as well\nconst fs = require(\"fs\");\nconst readUInt_1 = require(\"../readUInt\");\n// Read IFD (image-file-directory) into a buffer\nfunction readIFD(buffer, filepath, isBigEndian) {\n    const ifdOffset = readUInt_1.readUInt(buffer, 32, 4, isBigEndian);\n    // read only till the end of the file\n    let bufferSize = 1024;\n    const fileSize = fs.statSync(filepath).size;\n    if (ifdOffset + bufferSize > fileSize) {\n        bufferSize = fileSize - ifdOffset - 10;\n    }\n    // populate the buffer\n    const endBuffer = Buffer.alloc(bufferSize);\n    const descriptor = fs.openSync(filepath, 'r');\n    fs.readSync(descriptor, endBuffer, 0, bufferSize, ifdOffset);\n    return endBuffer.slice(2);\n}\n// TIFF values seem to be messed up on Big-Endian, this helps\nfunction readValue(buffer, isBigEndian) {\n    const low = readUInt_1.readUInt(buffer, 16, 8, isBigEndian);\n    const high = readUInt_1.readUInt(buffer, 16, 10, isBigEndian);\n    return (high << 16) + low;\n}\n// move to the next tag\nfunction nextTag(buffer) {\n    if (buffer.length > 24) {\n        return buffer.slice(12);\n    }\n}\n// Extract IFD tags from TIFF metadata\nfunction extractTags(buffer, isBigEndian) {\n    const tags = {};\n    let temp = buffer;\n    while (temp && temp.length) {\n        const code = readUInt_1.readUInt(temp, 16, 0, isBigEndian);\n        const type = readUInt_1.readUInt(temp, 16, 2, isBigEndian);\n        const length = readUInt_1.readUInt(temp, 32, 4, isBigEndian);\n        // 0 means end of IFD\n        if (code === 0) {\n            break;\n        }\n        else {\n            // 256 is width, 257 is height\n            // if (code === 256 || code === 257) {\n            if (length === 1 && (type === 3 || type === 4)) {\n                tags[code] = readValue(temp, isBigEndian);\n            }\n            // move to the next tag\n            temp = nextTag(temp);\n        }\n    }\n    return tags;\n}\n// Test if the TIFF is Big Endian or Little Endian\nfunction determineEndianness(buffer) {\n    const signature = buffer.toString('ascii', 0, 2);\n    if ('II' === signature) {\n        return 'LE';\n    }\n    else if ('MM' === signature) {\n        return 'BE';\n    }\n}\nconst signatures = [\n    // '492049', // currently not supported\n    '49492a00',\n    '4d4d002a',\n];\nexports.TIFF = {\n    validate(buffer) {\n        return signatures.includes(buffer.toString('hex', 0, 4));\n    },\n    calculate(buffer, filepath) {\n        if (!filepath) {\n            throw new TypeError('Tiff doesn\\'t support buffer');\n        }\n        // Determine BE/LE\n        const isBigEndian = determineEndianness(buffer) === 'BE';\n        // read the IFD\n        const ifdBuffer = readIFD(buffer, filepath, isBigEndian);\n        // extract the tags from the IFD\n        const tags = extractTags(ifdBuffer, isBigEndian);\n        const width = tags[256];\n        const height = tags[257];\n        if (!width || !height) {\n            throw new TypeError('Invalid Tiff. Missing tags');\n        }\n        return { height, width };\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction calculateExtended(buffer) {\n    return {\n        height: 1 + buffer.readUIntLE(7, 3),\n        width: 1 + buffer.readUIntLE(4, 3)\n    };\n}\nfunction calculateLossless(buffer) {\n    return {\n        height: 1 + (((buffer[4] & 0xF) << 10) | (buffer[3] << 2) | ((buffer[2] & 0xC0) >> 6)),\n        width: 1 + (((buffer[2] & 0x3F) << 8) | buffer[1])\n    };\n}\nfunction calculateLossy(buffer) {\n    // `& 0x3fff` returns the last 14 bits\n    // TO-DO: include webp scaling in the calculations\n    return {\n        height: buffer.readInt16LE(8) & 0x3fff,\n        width: buffer.readInt16LE(6) & 0x3fff\n    };\n}\nexports.WEBP = {\n    validate(buffer) {\n        const riffHeader = 'RIFF' === buffer.toString('ascii', 0, 4);\n        const webpHeader = 'WEBP' === buffer.toString('ascii', 8, 12);\n        const vp8Header = 'VP8' === buffer.toString('ascii', 12, 15);\n        return (riffHeader && webpHeader && vp8Header);\n    },\n    calculate(buffer) {\n        const chunkHeader = buffer.toString('ascii', 12, 16);\n        buffer = buffer.slice(20, 30);\n        // Extended webp stream signature\n        if (chunkHeader === 'VP8X') {\n            const extendedHeader = buffer[0];\n            const validStart = (extendedHeader & 0xc0) === 0;\n            const validEnd = (extendedHeader & 0x01) === 0;\n            if (validStart && validEnd) {\n                return calculateExtended(buffer);\n            }\n            else {\n                // TODO: breaking change\n                throw new TypeError('Invalid WebP');\n            }\n        }\n        // Lossless webp stream signature\n        if (chunkHeader === 'VP8 ' && buffer[0] !== 0x2f) {\n            return calculateLossy(buffer);\n        }\n        // Lossy webp stream signature\n        const signature = buffer.toString('hex', 3, 6);\n        if (chunkHeader === 'VP8L' && signature !== '9d012a') {\n            return calculateLossless(buffer);\n        }\n        throw new TypeError('Invalid WebP');\n    }\n};\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var baseSortedIndexBy = require('./_baseSortedIndexBy'),\n    identity = require('./identity'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295,\n    HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n/**\n * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n * performs a binary search of `array` to determine the index at which `value`\n * should be inserted into `array` in order to maintain its sort order.\n *\n * @private\n * @param {Array} array The sorted array to inspect.\n * @param {*} value The value to evaluate.\n * @param {boolean} [retHighest] Specify returning the highest qualified index.\n * @returns {number} Returns the index at which `value` should be inserted\n *  into `array`.\n */\nfunction baseSortedIndex(array, value, retHighest) {\n  var low = 0,\n      high = array == null ? low : array.length;\n\n  if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n    while (low < high) {\n      var mid = (low + high) >>> 1,\n          computed = array[mid];\n\n      if (computed !== null && !isSymbol(computed) &&\n          (retHighest ? (computed <= value) : (computed < value))) {\n        low = mid + 1;\n      } else {\n        high = mid;\n      }\n    }\n    return high;\n  }\n  return baseSortedIndexBy(array, value, identity, retHighest);\n}\n\nmodule.exports = baseSortedIndex;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295,\n    MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor,\n    nativeMin = Math.min;\n\n/**\n * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n * which invokes `iteratee` for `value` and each element of `array` to compute\n * their sort ranking. The iteratee is invoked with one argument; (value).\n *\n * @private\n * @param {Array} array The sorted array to inspect.\n * @param {*} value The value to evaluate.\n * @param {Function} iteratee The iteratee invoked per element.\n * @param {boolean} [retHighest] Specify returning the highest qualified index.\n * @returns {number} Returns the index at which `value` should be inserted\n *  into `array`.\n */\nfunction baseSortedIndexBy(array, value, iteratee, retHighest) {\n  var low = 0,\n      high = array == null ? 0 : array.length;\n  if (high === 0) {\n    return 0;\n  }\n\n  value = iteratee(value);\n  var valIsNaN = value !== value,\n      valIsNull = value === null,\n      valIsSymbol = isSymbol(value),\n      valIsUndefined = value === undefined;\n\n  while (low < high) {\n    var mid = nativeFloor((low + high) / 2),\n        computed = iteratee(array[mid]),\n        othIsDefined = computed !== undefined,\n        othIsNull = computed === null,\n        othIsReflexive = computed === computed,\n        othIsSymbol = isSymbol(computed);\n\n    if (valIsNaN) {\n      var setLow = retHighest || othIsReflexive;\n    } else if (valIsUndefined) {\n      setLow = othIsReflexive && (retHighest || othIsDefined);\n    } else if (valIsNull) {\n      setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n    } else if (valIsSymbol) {\n      setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n    } else if (othIsNull || othIsSymbol) {\n      setLow = false;\n    } else {\n      setLow = retHighest ? (computed <= value) : (computed < value);\n    }\n    if (setLow) {\n      low = mid + 1;\n    } else {\n      high = mid;\n    }\n  }\n  return nativeMin(high, MAX_ARRAY_INDEX);\n}\n\nmodule.exports = baseSortedIndexBy;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * Checks if `value` is `null` or `undefined`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n * @example\n *\n * _.isNil(null);\n * // => true\n *\n * _.isNil(void 0);\n * // => true\n *\n * _.isNil(NaN);\n * // => false\n */\nfunction isNil(value) {\n  return value == null;\n}\n\nmodule.exports = isNil;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseSortedIndex = require('./_baseSortedIndex');\n\n/**\n * Uses a binary search to determine the lowest index at which `value`\n * should be inserted into `array` in order to maintain its sort order.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The sorted array to inspect.\n * @param {*} value The value to evaluate.\n * @returns {number} Returns the index at which `value` should be inserted\n *  into `array`.\n * @example\n *\n * _.sortedIndex([30, 50], 40);\n * // => 1\n */\nfunction sortedIndex(array, value) {\n  return baseSortedIndex(array, value);\n}\n\nmodule.exports = sortedIndex;\n","var baseSortedIndex = require('./_baseSortedIndex'),\n    eq = require('./eq');\n\n/**\n * This method is like `_.indexOf` except that it performs a binary\n * search on a sorted `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n * @example\n *\n * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n * // => 1\n */\nfunction sortedIndexOf(array, value) {\n  var length = array == null ? 0 : array.length;\n  if (length) {\n    var index = baseSortedIndex(array, value);\n    if (index < length && eq(array[index], value)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = sortedIndexOf;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\nexports.homedir = function () {\n\treturn '/'\n};\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Deferred = void 0;\r\nclass Deferred {\r\n    constructor() {\r\n        this.resolve = () => null;\r\n        this.reject = () => null;\r\n        this.promise = new Promise((resolve, reject) => {\r\n            this.reject = reject;\r\n            this.resolve = resolve;\r\n        });\r\n    }\r\n}\r\nexports.Deferred = Deferred;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EndOfStreamError = exports.defaultMessages = void 0;\r\nexports.defaultMessages = 'End-Of-Stream';\r\n/**\r\n * Thrown on read operation of the end of file or stream has been reached\r\n */\r\nclass EndOfStreamError extends Error {\r\n    constructor() {\r\n        super(exports.defaultMessages);\r\n    }\r\n}\r\nexports.EndOfStreamError = EndOfStreamError;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StreamReader = exports.EndOfStreamError = void 0;\r\nconst EndOfFileStream_1 = require(\"./EndOfFileStream\");\r\nconst Deferred_1 = require(\"./Deferred\");\r\nvar EndOfFileStream_2 = require(\"./EndOfFileStream\");\r\nObject.defineProperty(exports, \"EndOfStreamError\", { enumerable: true, get: function () { return EndOfFileStream_2.EndOfStreamError; } });\r\nconst maxStreamReadSize = 1 * 1024 * 1024; // Maximum request length on read-stream operation\r\nclass StreamReader {\r\n    constructor(s) {\r\n        this.s = s;\r\n        /**\r\n         * Deferred used for postponed read request (as not data is yet available to read)\r\n         */\r\n        this.deferred = null;\r\n        this.endOfStream = false;\r\n        /**\r\n         * Store peeked data\r\n         * @type {Array}\r\n         */\r\n        this.peekQueue = [];\r\n        if (!s.read || !s.once) {\r\n            throw new Error('Expected an instance of stream.Readable');\r\n        }\r\n        this.s.once('end', () => this.reject(new EndOfFileStream_1.EndOfStreamError()));\r\n        this.s.once('error', err => this.reject(err));\r\n        this.s.once('close', () => this.reject(new Error('Stream closed')));\r\n    }\r\n    /**\r\n     * Read ahead (peek) from stream. Subsequent read or peeks will return the same data\r\n     * @param uint8Array - Uint8Array (or Buffer) to store data read from stream in\r\n     * @param offset - Offset target\r\n     * @param length - Number of bytes to read\r\n     * @returns Number of bytes peeked\r\n     */\r\n    async peek(uint8Array, offset, length) {\r\n        const bytesRead = await this.read(uint8Array, offset, length);\r\n        this.peekQueue.push(uint8Array.subarray(offset, offset + bytesRead)); // Put read data back to peek buffer\r\n        return bytesRead;\r\n    }\r\n    /**\r\n     * Read chunk from stream\r\n     * @param buffer - Target Uint8Array (or Buffer) to store data read from stream in\r\n     * @param offset - Offset target\r\n     * @param length - Number of bytes to read\r\n     * @returns Number of bytes read\r\n     */\r\n    async read(buffer, offset, length) {\r\n        if (length === 0) {\r\n            return 0;\r\n        }\r\n        if (this.peekQueue.length === 0 && this.endOfStream) {\r\n            throw new EndOfFileStream_1.EndOfStreamError();\r\n        }\r\n        let remaining = length;\r\n        let bytesRead = 0;\r\n        // consume peeked data first\r\n        while (this.peekQueue.length > 0 && remaining > 0) {\r\n            const peekData = this.peekQueue.pop(); // Front of queue\r\n            if (!peekData)\r\n                throw new Error('peekData should be defined');\r\n            const lenCopy = Math.min(peekData.length, remaining);\r\n            buffer.set(peekData.subarray(0, lenCopy), offset + bytesRead);\r\n            bytesRead += lenCopy;\r\n            remaining -= lenCopy;\r\n            if (lenCopy < peekData.length) {\r\n                // remainder back to queue\r\n                this.peekQueue.push(peekData.subarray(lenCopy));\r\n            }\r\n        }\r\n        // continue reading from stream if required\r\n        while (remaining > 0 && !this.endOfStream) {\r\n            const reqLen = Math.min(remaining, maxStreamReadSize);\r\n            const chunkLen = await this.readFromStream(buffer, offset + bytesRead, reqLen);\r\n            bytesRead += chunkLen;\r\n            if (chunkLen < reqLen)\r\n                break;\r\n            remaining -= chunkLen;\r\n        }\r\n        return bytesRead;\r\n    }\r\n    /**\r\n     * Read chunk from stream\r\n     * @param buffer Target Uint8Array (or Buffer) to store data read from stream in\r\n     * @param offset Offset target\r\n     * @param length Number of bytes to read\r\n     * @returns Number of bytes read\r\n     */\r\n    async readFromStream(buffer, offset, length) {\r\n        const readBuffer = this.s.read(length);\r\n        if (readBuffer) {\r\n            buffer.set(readBuffer, offset);\r\n            return readBuffer.length;\r\n        }\r\n        else {\r\n            const request = {\r\n                buffer,\r\n                offset,\r\n                length,\r\n                deferred: new Deferred_1.Deferred()\r\n            };\r\n            this.deferred = request.deferred;\r\n            this.s.once('readable', () => {\r\n                this.readDeferred(request);\r\n            });\r\n            return request.deferred.promise;\r\n        }\r\n    }\r\n    /**\r\n     * Process deferred read request\r\n     * @param request Deferred read request\r\n     */\r\n    readDeferred(request) {\r\n        const readBuffer = this.s.read(request.length);\r\n        if (readBuffer) {\r\n            request.buffer.set(readBuffer, request.offset);\r\n            request.deferred.resolve(readBuffer.length);\r\n            this.deferred = null;\r\n        }\r\n        else {\r\n            this.s.once('readable', () => {\r\n                this.readDeferred(request);\r\n            });\r\n        }\r\n    }\r\n    reject(err) {\r\n        this.endOfStream = true;\r\n        if (this.deferred) {\r\n            this.deferred.reject(err);\r\n            this.deferred = null;\r\n        }\r\n    }\r\n}\r\nexports.StreamReader = StreamReader;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StreamReader = exports.EndOfStreamError = void 0;\r\nvar EndOfFileStream_1 = require(\"./EndOfFileStream\");\r\nObject.defineProperty(exports, \"EndOfStreamError\", { enumerable: true, get: function () { return EndOfFileStream_1.EndOfStreamError; } });\r\nvar StreamReader_1 = require(\"./StreamReader\");\r\nObject.defineProperty(exports, \"StreamReader\", { enumerable: true, get: function () { return StreamReader_1.StreamReader; } });\r\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.polygonClipping = factory());\n}(this, (function () { 'use strict';\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  /**\n   * splaytree v3.1.0\n   * Fast Splay tree for Node and browser\n   *\n   * @author Alexander Milevski <info@w8r.name>\n   * @license MIT\n   * @preserve\n   */\n  var Node =\n  /** @class */\n  function () {\n    function Node(key, data) {\n      this.next = null;\n      this.key = key;\n      this.data = data;\n      this.left = null;\n      this.right = null;\n    }\n\n    return Node;\n  }();\n  /* follows \"An implementation of top-down splaying\"\r\n   * by D. Sleator <sleator@cs.cmu.edu> March 1992\r\n   */\n\n\n  function DEFAULT_COMPARE(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n  /**\r\n   * Simple top down splay, not requiring i to be in the tree t.\r\n   */\n\n\n  function splay(i, t, comparator) {\n    var N = new Node(null, null);\n    var l = N;\n    var r = N;\n\n    while (true) {\n      var cmp = comparator(i, t.key); //if (i < t.key) {\n\n      if (cmp < 0) {\n        if (t.left === null) break; //if (i < t.left.key) {\n\n        if (comparator(i, t.left.key) < 0) {\n          var y = t.left;\n          /* rotate right */\n\n          t.left = y.right;\n          y.right = t;\n          t = y;\n          if (t.left === null) break;\n        }\n\n        r.left = t;\n        /* link right */\n\n        r = t;\n        t = t.left; //} else if (i > t.key) {\n      } else if (cmp > 0) {\n        if (t.right === null) break; //if (i > t.right.key) {\n\n        if (comparator(i, t.right.key) > 0) {\n          var y = t.right;\n          /* rotate left */\n\n          t.right = y.left;\n          y.left = t;\n          t = y;\n          if (t.right === null) break;\n        }\n\n        l.right = t;\n        /* link left */\n\n        l = t;\n        t = t.right;\n      } else break;\n    }\n    /* assemble */\n\n\n    l.right = t.left;\n    r.left = t.right;\n    t.left = N.right;\n    t.right = N.left;\n    return t;\n  }\n\n  function insert(i, data, t, comparator) {\n    var node = new Node(i, data);\n\n    if (t === null) {\n      node.left = node.right = null;\n      return node;\n    }\n\n    t = splay(i, t, comparator);\n    var cmp = comparator(i, t.key);\n\n    if (cmp < 0) {\n      node.left = t.left;\n      node.right = t;\n      t.left = null;\n    } else if (cmp >= 0) {\n      node.right = t.right;\n      node.left = t;\n      t.right = null;\n    }\n\n    return node;\n  }\n\n  function split(key, v, comparator) {\n    var left = null;\n    var right = null;\n\n    if (v) {\n      v = splay(key, v, comparator);\n      var cmp = comparator(v.key, key);\n\n      if (cmp === 0) {\n        left = v.left;\n        right = v.right;\n      } else if (cmp < 0) {\n        right = v.right;\n        v.right = null;\n        left = v;\n      } else {\n        left = v.left;\n        v.left = null;\n        right = v;\n      }\n    }\n\n    return {\n      left: left,\n      right: right\n    };\n  }\n\n  function merge(left, right, comparator) {\n    if (right === null) return left;\n    if (left === null) return right;\n    right = splay(left.key, right, comparator);\n    right.left = left;\n    return right;\n  }\n  /**\r\n   * Prints level of the tree\r\n   */\n\n\n  function printRow(root, prefix, isTail, out, printNode) {\n    if (root) {\n      out(\"\" + prefix + (isTail ? ' ' : ' ') + printNode(root) + \"\\n\");\n      var indent = prefix + (isTail ? '    ' : '   ');\n      if (root.left) printRow(root.left, indent, false, out, printNode);\n      if (root.right) printRow(root.right, indent, true, out, printNode);\n    }\n  }\n\n  var Tree =\n  /** @class */\n  function () {\n    function Tree(comparator) {\n      if (comparator === void 0) {\n        comparator = DEFAULT_COMPARE;\n      }\n\n      this._root = null;\n      this._size = 0;\n      this._comparator = comparator;\n    }\n    /**\r\n     * Inserts a key, allows duplicates\r\n     */\n\n\n    Tree.prototype.insert = function (key, data) {\n      this._size++;\n      return this._root = insert(key, data, this._root, this._comparator);\n    };\n    /**\r\n     * Adds a key, if it is not present in the tree\r\n     */\n\n\n    Tree.prototype.add = function (key, data) {\n      var node = new Node(key, data);\n\n      if (this._root === null) {\n        node.left = node.right = null;\n        this._size++;\n        this._root = node;\n      }\n\n      var comparator = this._comparator;\n      var t = splay(key, this._root, comparator);\n      var cmp = comparator(key, t.key);\n      if (cmp === 0) this._root = t;else {\n        if (cmp < 0) {\n          node.left = t.left;\n          node.right = t;\n          t.left = null;\n        } else if (cmp > 0) {\n          node.right = t.right;\n          node.left = t;\n          t.right = null;\n        }\n\n        this._size++;\n        this._root = node;\n      }\n      return this._root;\n    };\n    /**\r\n     * @param  {Key} key\r\n     * @return {Node|null}\r\n     */\n\n\n    Tree.prototype.remove = function (key) {\n      this._root = this._remove(key, this._root, this._comparator);\n    };\n    /**\r\n     * Deletes i from the tree if it's there\r\n     */\n\n\n    Tree.prototype._remove = function (i, t, comparator) {\n      var x;\n      if (t === null) return null;\n      t = splay(i, t, comparator);\n      var cmp = comparator(i, t.key);\n\n      if (cmp === 0) {\n        /* found it */\n        if (t.left === null) {\n          x = t.right;\n        } else {\n          x = splay(i, t.left, comparator);\n          x.right = t.right;\n        }\n\n        this._size--;\n        return x;\n      }\n\n      return t;\n      /* It wasn't there */\n    };\n    /**\r\n     * Removes and returns the node with smallest key\r\n     */\n\n\n    Tree.prototype.pop = function () {\n      var node = this._root;\n\n      if (node) {\n        while (node.left) {\n          node = node.left;\n        }\n\n        this._root = splay(node.key, this._root, this._comparator);\n        this._root = this._remove(node.key, this._root, this._comparator);\n        return {\n          key: node.key,\n          data: node.data\n        };\n      }\n\n      return null;\n    };\n    /**\r\n     * Find without splaying\r\n     */\n\n\n    Tree.prototype.findStatic = function (key) {\n      var current = this._root;\n      var compare = this._comparator;\n\n      while (current) {\n        var cmp = compare(key, current.key);\n        if (cmp === 0) return current;else if (cmp < 0) current = current.left;else current = current.right;\n      }\n\n      return null;\n    };\n\n    Tree.prototype.find = function (key) {\n      if (this._root) {\n        this._root = splay(key, this._root, this._comparator);\n        if (this._comparator(key, this._root.key) !== 0) return null;\n      }\n\n      return this._root;\n    };\n\n    Tree.prototype.contains = function (key) {\n      var current = this._root;\n      var compare = this._comparator;\n\n      while (current) {\n        var cmp = compare(key, current.key);\n        if (cmp === 0) return true;else if (cmp < 0) current = current.left;else current = current.right;\n      }\n\n      return false;\n    };\n\n    Tree.prototype.forEach = function (visitor, ctx) {\n      var current = this._root;\n      var Q = [];\n      /* Initialize stack s */\n\n      var done = false;\n\n      while (!done) {\n        if (current !== null) {\n          Q.push(current);\n          current = current.left;\n        } else {\n          if (Q.length !== 0) {\n            current = Q.pop();\n            visitor.call(ctx, current);\n            current = current.right;\n          } else done = true;\n        }\n      }\n\n      return this;\n    };\n    /**\r\n     * Walk key range from `low` to `high`. Stops if `fn` returns a value.\r\n     */\n\n\n    Tree.prototype.range = function (low, high, fn, ctx) {\n      var Q = [];\n      var compare = this._comparator;\n      var node = this._root;\n      var cmp;\n\n      while (Q.length !== 0 || node) {\n        if (node) {\n          Q.push(node);\n          node = node.left;\n        } else {\n          node = Q.pop();\n          cmp = compare(node.key, high);\n\n          if (cmp > 0) {\n            break;\n          } else if (compare(node.key, low) >= 0) {\n            if (fn.call(ctx, node)) return this; // stop if smth is returned\n          }\n\n          node = node.right;\n        }\n      }\n\n      return this;\n    };\n    /**\r\n     * Returns array of keys\r\n     */\n\n\n    Tree.prototype.keys = function () {\n      var keys = [];\n      this.forEach(function (_a) {\n        var key = _a.key;\n        return keys.push(key);\n      });\n      return keys;\n    };\n    /**\r\n     * Returns array of all the data in the nodes\r\n     */\n\n\n    Tree.prototype.values = function () {\n      var values = [];\n      this.forEach(function (_a) {\n        var data = _a.data;\n        return values.push(data);\n      });\n      return values;\n    };\n\n    Tree.prototype.min = function () {\n      if (this._root) return this.minNode(this._root).key;\n      return null;\n    };\n\n    Tree.prototype.max = function () {\n      if (this._root) return this.maxNode(this._root).key;\n      return null;\n    };\n\n    Tree.prototype.minNode = function (t) {\n      if (t === void 0) {\n        t = this._root;\n      }\n\n      if (t) while (t.left) {\n        t = t.left;\n      }\n      return t;\n    };\n\n    Tree.prototype.maxNode = function (t) {\n      if (t === void 0) {\n        t = this._root;\n      }\n\n      if (t) while (t.right) {\n        t = t.right;\n      }\n      return t;\n    };\n    /**\r\n     * Returns node at given index\r\n     */\n\n\n    Tree.prototype.at = function (index) {\n      var current = this._root;\n      var done = false;\n      var i = 0;\n      var Q = [];\n\n      while (!done) {\n        if (current) {\n          Q.push(current);\n          current = current.left;\n        } else {\n          if (Q.length > 0) {\n            current = Q.pop();\n            if (i === index) return current;\n            i++;\n            current = current.right;\n          } else done = true;\n        }\n      }\n\n      return null;\n    };\n\n    Tree.prototype.next = function (d) {\n      var root = this._root;\n      var successor = null;\n\n      if (d.right) {\n        successor = d.right;\n\n        while (successor.left) {\n          successor = successor.left;\n        }\n\n        return successor;\n      }\n\n      var comparator = this._comparator;\n\n      while (root) {\n        var cmp = comparator(d.key, root.key);\n        if (cmp === 0) break;else if (cmp < 0) {\n          successor = root;\n          root = root.left;\n        } else root = root.right;\n      }\n\n      return successor;\n    };\n\n    Tree.prototype.prev = function (d) {\n      var root = this._root;\n      var predecessor = null;\n\n      if (d.left !== null) {\n        predecessor = d.left;\n\n        while (predecessor.right) {\n          predecessor = predecessor.right;\n        }\n\n        return predecessor;\n      }\n\n      var comparator = this._comparator;\n\n      while (root) {\n        var cmp = comparator(d.key, root.key);\n        if (cmp === 0) break;else if (cmp < 0) root = root.left;else {\n          predecessor = root;\n          root = root.right;\n        }\n      }\n\n      return predecessor;\n    };\n\n    Tree.prototype.clear = function () {\n      this._root = null;\n      this._size = 0;\n      return this;\n    };\n\n    Tree.prototype.toList = function () {\n      return toList(this._root);\n    };\n    /**\r\n     * Bulk-load items. Both array have to be same size\r\n     */\n\n\n    Tree.prototype.load = function (keys, values, presort) {\n      if (values === void 0) {\n        values = [];\n      }\n\n      if (presort === void 0) {\n        presort = false;\n      }\n\n      var size = keys.length;\n      var comparator = this._comparator; // sort if needed\n\n      if (presort) sort(keys, values, 0, size - 1, comparator);\n\n      if (this._root === null) {\n        // empty tree\n        this._root = loadRecursive(keys, values, 0, size);\n        this._size = size;\n      } else {\n        // that re-builds the whole tree from two in-order traversals\n        var mergedList = mergeLists(this.toList(), createList(keys, values), comparator);\n        size = this._size + size;\n        this._root = sortedListToBST({\n          head: mergedList\n        }, 0, size);\n      }\n\n      return this;\n    };\n\n    Tree.prototype.isEmpty = function () {\n      return this._root === null;\n    };\n\n    Object.defineProperty(Tree.prototype, \"size\", {\n      get: function get() {\n        return this._size;\n      },\n      enumerable: true,\n      configurable: true\n    });\n    Object.defineProperty(Tree.prototype, \"root\", {\n      get: function get() {\n        return this._root;\n      },\n      enumerable: true,\n      configurable: true\n    });\n\n    Tree.prototype.toString = function (printNode) {\n      if (printNode === void 0) {\n        printNode = function printNode(n) {\n          return String(n.key);\n        };\n      }\n\n      var out = [];\n      printRow(this._root, '', true, function (v) {\n        return out.push(v);\n      }, printNode);\n      return out.join('');\n    };\n\n    Tree.prototype.update = function (key, newKey, newData) {\n      var comparator = this._comparator;\n\n      var _a = split(key, this._root, comparator),\n          left = _a.left,\n          right = _a.right;\n\n      if (comparator(key, newKey) < 0) {\n        right = insert(newKey, newData, right, comparator);\n      } else {\n        left = insert(newKey, newData, left, comparator);\n      }\n\n      this._root = merge(left, right, comparator);\n    };\n\n    Tree.prototype.split = function (key) {\n      return split(key, this._root, this._comparator);\n    };\n\n    return Tree;\n  }();\n\n  function loadRecursive(keys, values, start, end) {\n    var size = end - start;\n\n    if (size > 0) {\n      var middle = start + Math.floor(size / 2);\n      var key = keys[middle];\n      var data = values[middle];\n      var node = new Node(key, data);\n      node.left = loadRecursive(keys, values, start, middle);\n      node.right = loadRecursive(keys, values, middle + 1, end);\n      return node;\n    }\n\n    return null;\n  }\n\n  function createList(keys, values) {\n    var head = new Node(null, null);\n    var p = head;\n\n    for (var i = 0; i < keys.length; i++) {\n      p = p.next = new Node(keys[i], values[i]);\n    }\n\n    p.next = null;\n    return head.next;\n  }\n\n  function toList(root) {\n    var current = root;\n    var Q = [];\n    var done = false;\n    var head = new Node(null, null);\n    var p = head;\n\n    while (!done) {\n      if (current) {\n        Q.push(current);\n        current = current.left;\n      } else {\n        if (Q.length > 0) {\n          current = p = p.next = Q.pop();\n          current = current.right;\n        } else done = true;\n      }\n    }\n\n    p.next = null; // that'll work even if the tree was empty\n\n    return head.next;\n  }\n\n  function sortedListToBST(list, start, end) {\n    var size = end - start;\n\n    if (size > 0) {\n      var middle = start + Math.floor(size / 2);\n      var left = sortedListToBST(list, start, middle);\n      var root = list.head;\n      root.left = left;\n      list.head = list.head.next;\n      root.right = sortedListToBST(list, middle + 1, end);\n      return root;\n    }\n\n    return null;\n  }\n\n  function mergeLists(l1, l2, compare) {\n    var head = new Node(null, null); // dummy\n\n    var p = head;\n    var p1 = l1;\n    var p2 = l2;\n\n    while (p1 !== null && p2 !== null) {\n      if (compare(p1.key, p2.key) < 0) {\n        p.next = p1;\n        p1 = p1.next;\n      } else {\n        p.next = p2;\n        p2 = p2.next;\n      }\n\n      p = p.next;\n    }\n\n    if (p1 !== null) {\n      p.next = p1;\n    } else if (p2 !== null) {\n      p.next = p2;\n    }\n\n    return head.next;\n  }\n\n  function sort(keys, values, left, right, compare) {\n    if (left >= right) return;\n    var pivot = keys[left + right >> 1];\n    var i = left - 1;\n    var j = right + 1;\n\n    while (true) {\n      do {\n        i++;\n      } while (compare(keys[i], pivot) < 0);\n\n      do {\n        j--;\n      } while (compare(keys[j], pivot) > 0);\n\n      if (i >= j) break;\n      var tmp = keys[i];\n      keys[i] = keys[j];\n      keys[j] = tmp;\n      tmp = values[i];\n      values[i] = values[j];\n      values[j] = tmp;\n    }\n\n    sort(keys, values, left, j, compare);\n    sort(keys, values, j + 1, right, compare);\n  }\n\n  /**\n   * A bounding box has the format:\n   *\n   *  { ll: { x: xmin, y: ymin }, ur: { x: xmax, y: ymax } }\n   *\n   */\n  var isInBbox = function isInBbox(bbox, point) {\n    return bbox.ll.x <= point.x && point.x <= bbox.ur.x && bbox.ll.y <= point.y && point.y <= bbox.ur.y;\n  };\n  /* Returns either null, or a bbox (aka an ordered pair of points)\n   * If there is only one point of overlap, a bbox with identical points\n   * will be returned */\n\n  var getBboxOverlap = function getBboxOverlap(b1, b2) {\n    // check if the bboxes overlap at all\n    if (b2.ur.x < b1.ll.x || b1.ur.x < b2.ll.x || b2.ur.y < b1.ll.y || b1.ur.y < b2.ll.y) return null; // find the middle two X values\n\n    var lowerX = b1.ll.x < b2.ll.x ? b2.ll.x : b1.ll.x;\n    var upperX = b1.ur.x < b2.ur.x ? b1.ur.x : b2.ur.x; // find the middle two Y values\n\n    var lowerY = b1.ll.y < b2.ll.y ? b2.ll.y : b1.ll.y;\n    var upperY = b1.ur.y < b2.ur.y ? b1.ur.y : b2.ur.y; // put those middle values together to get the overlap\n\n    return {\n      ll: {\n        x: lowerX,\n        y: lowerY\n      },\n      ur: {\n        x: upperX,\n        y: upperY\n      }\n    };\n  };\n\n  /* Javascript doesn't do integer math. Everything is\n   * floating point with percision Number.EPSILON.\n   *\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/EPSILON\n   */\n  var epsilon = Number.EPSILON; // IE Polyfill\n\n  if (epsilon === undefined) epsilon = Math.pow(2, -52);\n  var EPSILON_SQ = epsilon * epsilon;\n  /* FLP comparator */\n\n  var cmp = function cmp(a, b) {\n    // check if they're both 0\n    if (-epsilon < a && a < epsilon) {\n      if (-epsilon < b && b < epsilon) {\n        return 0;\n      }\n    } // check if they're flp equal\n\n\n    var ab = a - b;\n\n    if (ab * ab < EPSILON_SQ * a * b) {\n      return 0;\n    } // normal comparison\n\n\n    return a < b ? -1 : 1;\n  };\n\n  /**\n   * This class rounds incoming values sufficiently so that\n   * floating points problems are, for the most part, avoided.\n   *\n   * Incoming points are have their x & y values tested against\n   * all previously seen x & y values. If either is 'too close'\n   * to a previously seen value, it's value is 'snapped' to the\n   * previously seen value.\n   *\n   * All points should be rounded by this class before being\n   * stored in any data structures in the rest of this algorithm.\n   */\n\n  var PtRounder = /*#__PURE__*/function () {\n    function PtRounder() {\n      _classCallCheck(this, PtRounder);\n\n      this.reset();\n    }\n\n    _createClass(PtRounder, [{\n      key: \"reset\",\n      value: function reset() {\n        this.xRounder = new CoordRounder();\n        this.yRounder = new CoordRounder();\n      }\n    }, {\n      key: \"round\",\n      value: function round(x, y) {\n        return {\n          x: this.xRounder.round(x),\n          y: this.yRounder.round(y)\n        };\n      }\n    }]);\n\n    return PtRounder;\n  }();\n\n  var CoordRounder = /*#__PURE__*/function () {\n    function CoordRounder() {\n      _classCallCheck(this, CoordRounder);\n\n      this.tree = new Tree(); // preseed with 0 so we don't end up with values < Number.EPSILON\n\n      this.round(0);\n    } // Note: this can rounds input values backwards or forwards.\n    //       You might ask, why not restrict this to just rounding\n    //       forwards? Wouldn't that allow left endpoints to always\n    //       remain left endpoints during splitting (never change to\n    //       right). No - it wouldn't, because we snap intersections\n    //       to endpoints (to establish independence from the segment\n    //       angle for t-intersections).\n\n\n    _createClass(CoordRounder, [{\n      key: \"round\",\n      value: function round(coord) {\n        var node = this.tree.add(coord);\n        var prevNode = this.tree.prev(node);\n\n        if (prevNode !== null && cmp(node.key, prevNode.key) === 0) {\n          this.tree.remove(coord);\n          return prevNode.key;\n        }\n\n        var nextNode = this.tree.next(node);\n\n        if (nextNode !== null && cmp(node.key, nextNode.key) === 0) {\n          this.tree.remove(coord);\n          return nextNode.key;\n        }\n\n        return coord;\n      }\n    }]);\n\n    return CoordRounder;\n  }(); // singleton available by import\n\n\n  var rounder = new PtRounder();\n\n  /* Cross Product of two vectors with first point at origin */\n\n  var crossProduct = function crossProduct(a, b) {\n    return a.x * b.y - a.y * b.x;\n  };\n  /* Dot Product of two vectors with first point at origin */\n\n  var dotProduct = function dotProduct(a, b) {\n    return a.x * b.x + a.y * b.y;\n  };\n  /* Comparator for two vectors with same starting point */\n\n  var compareVectorAngles = function compareVectorAngles(basePt, endPt1, endPt2) {\n    var v1 = {\n      x: endPt1.x - basePt.x,\n      y: endPt1.y - basePt.y\n    };\n    var v2 = {\n      x: endPt2.x - basePt.x,\n      y: endPt2.y - basePt.y\n    };\n    var kross = crossProduct(v1, v2);\n    return cmp(kross, 0);\n  };\n  var length = function length(v) {\n    return Math.sqrt(dotProduct(v, v));\n  };\n  /* Get the sine of the angle from pShared -> pAngle to pShaed -> pBase */\n\n  var sineOfAngle = function sineOfAngle(pShared, pBase, pAngle) {\n    var vBase = {\n      x: pBase.x - pShared.x,\n      y: pBase.y - pShared.y\n    };\n    var vAngle = {\n      x: pAngle.x - pShared.x,\n      y: pAngle.y - pShared.y\n    };\n    return crossProduct(vAngle, vBase) / length(vAngle) / length(vBase);\n  };\n  /* Get the cosine of the angle from pShared -> pAngle to pShaed -> pBase */\n\n  var cosineOfAngle = function cosineOfAngle(pShared, pBase, pAngle) {\n    var vBase = {\n      x: pBase.x - pShared.x,\n      y: pBase.y - pShared.y\n    };\n    var vAngle = {\n      x: pAngle.x - pShared.x,\n      y: pAngle.y - pShared.y\n    };\n    return dotProduct(vAngle, vBase) / length(vAngle) / length(vBase);\n  };\n  /* Get the x coordinate where the given line (defined by a point and vector)\n   * crosses the horizontal line with the given y coordiante.\n   * In the case of parrallel lines (including overlapping ones) returns null. */\n\n  var horizontalIntersection = function horizontalIntersection(pt, v, y) {\n    if (v.y === 0) return null;\n    return {\n      x: pt.x + v.x / v.y * (y - pt.y),\n      y: y\n    };\n  };\n  /* Get the y coordinate where the given line (defined by a point and vector)\n   * crosses the vertical line with the given x coordiante.\n   * In the case of parrallel lines (including overlapping ones) returns null. */\n\n  var verticalIntersection = function verticalIntersection(pt, v, x) {\n    if (v.x === 0) return null;\n    return {\n      x: x,\n      y: pt.y + v.y / v.x * (x - pt.x)\n    };\n  };\n  /* Get the intersection of two lines, each defined by a base point and a vector.\n   * In the case of parrallel lines (including overlapping ones) returns null. */\n\n  var intersection = function intersection(pt1, v1, pt2, v2) {\n    // take some shortcuts for vertical and horizontal lines\n    // this also ensures we don't calculate an intersection and then discover\n    // it's actually outside the bounding box of the line\n    if (v1.x === 0) return verticalIntersection(pt2, v2, pt1.x);\n    if (v2.x === 0) return verticalIntersection(pt1, v1, pt2.x);\n    if (v1.y === 0) return horizontalIntersection(pt2, v2, pt1.y);\n    if (v2.y === 0) return horizontalIntersection(pt1, v1, pt2.y); // General case for non-overlapping segments.\n    // This algorithm is based on Schneider and Eberly.\n    // http://www.cimec.org.ar/~ncalvo/Schneider_Eberly.pdf - pg 244\n\n    var kross = crossProduct(v1, v2);\n    if (kross == 0) return null;\n    var ve = {\n      x: pt2.x - pt1.x,\n      y: pt2.y - pt1.y\n    };\n    var d1 = crossProduct(ve, v1) / kross;\n    var d2 = crossProduct(ve, v2) / kross; // take the average of the two calculations to minimize rounding error\n\n    var x1 = pt1.x + d2 * v1.x,\n        x2 = pt2.x + d1 * v2.x;\n    var y1 = pt1.y + d2 * v1.y,\n        y2 = pt2.y + d1 * v2.y;\n    var x = (x1 + x2) / 2;\n    var y = (y1 + y2) / 2;\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  var SweepEvent = /*#__PURE__*/function () {\n    _createClass(SweepEvent, null, [{\n      key: \"compare\",\n      // for ordering sweep events in the sweep event queue\n      value: function compare(a, b) {\n        // favor event with a point that the sweep line hits first\n        var ptCmp = SweepEvent.comparePoints(a.point, b.point);\n        if (ptCmp !== 0) return ptCmp; // the points are the same, so link them if needed\n\n        if (a.point !== b.point) a.link(b); // favor right events over left\n\n        if (a.isLeft !== b.isLeft) return a.isLeft ? 1 : -1; // we have two matching left or right endpoints\n        // ordering of this case is the same as for their segments\n\n        return Segment.compare(a.segment, b.segment);\n      } // for ordering points in sweep line order\n\n    }, {\n      key: \"comparePoints\",\n      value: function comparePoints(aPt, bPt) {\n        if (aPt.x < bPt.x) return -1;\n        if (aPt.x > bPt.x) return 1;\n        if (aPt.y < bPt.y) return -1;\n        if (aPt.y > bPt.y) return 1;\n        return 0;\n      } // Warning: 'point' input will be modified and re-used (for performance)\n\n    }]);\n\n    function SweepEvent(point, isLeft) {\n      _classCallCheck(this, SweepEvent);\n\n      if (point.events === undefined) point.events = [this];else point.events.push(this);\n      this.point = point;\n      this.isLeft = isLeft; // this.segment, this.otherSE set by factory\n    }\n\n    _createClass(SweepEvent, [{\n      key: \"link\",\n      value: function link(other) {\n        if (other.point === this.point) {\n          throw new Error('Tried to link already linked events');\n        }\n\n        var otherEvents = other.point.events;\n\n        for (var i = 0, iMax = otherEvents.length; i < iMax; i++) {\n          var evt = otherEvents[i];\n          this.point.events.push(evt);\n          evt.point = this.point;\n        }\n\n        this.checkForConsuming();\n      }\n      /* Do a pass over our linked events and check to see if any pair\n       * of segments match, and should be consumed. */\n\n    }, {\n      key: \"checkForConsuming\",\n      value: function checkForConsuming() {\n        // FIXME: The loops in this method run O(n^2) => no good.\n        //        Maintain little ordered sweep event trees?\n        //        Can we maintaining an ordering that avoids the need\n        //        for the re-sorting with getLeftmostComparator in geom-out?\n        // Compare each pair of events to see if other events also match\n        var numEvents = this.point.events.length;\n\n        for (var i = 0; i < numEvents; i++) {\n          var evt1 = this.point.events[i];\n          if (evt1.segment.consumedBy !== undefined) continue;\n\n          for (var j = i + 1; j < numEvents; j++) {\n            var evt2 = this.point.events[j];\n            if (evt2.consumedBy !== undefined) continue;\n            if (evt1.otherSE.point.events !== evt2.otherSE.point.events) continue;\n            evt1.segment.consume(evt2.segment);\n          }\n        }\n      }\n    }, {\n      key: \"getAvailableLinkedEvents\",\n      value: function getAvailableLinkedEvents() {\n        // point.events is always of length 2 or greater\n        var events = [];\n\n        for (var i = 0, iMax = this.point.events.length; i < iMax; i++) {\n          var evt = this.point.events[i];\n\n          if (evt !== this && !evt.segment.ringOut && evt.segment.isInResult()) {\n            events.push(evt);\n          }\n        }\n\n        return events;\n      }\n      /**\n       * Returns a comparator function for sorting linked events that will\n       * favor the event that will give us the smallest left-side angle.\n       * All ring construction starts as low as possible heading to the right,\n       * so by always turning left as sharp as possible we'll get polygons\n       * without uncessary loops & holes.\n       *\n       * The comparator function has a compute cache such that it avoids\n       * re-computing already-computed values.\n       */\n\n    }, {\n      key: \"getLeftmostComparator\",\n      value: function getLeftmostComparator(baseEvent) {\n        var _this = this;\n\n        var cache = new Map();\n\n        var fillCache = function fillCache(linkedEvent) {\n          var nextEvent = linkedEvent.otherSE;\n          cache.set(linkedEvent, {\n            sine: sineOfAngle(_this.point, baseEvent.point, nextEvent.point),\n            cosine: cosineOfAngle(_this.point, baseEvent.point, nextEvent.point)\n          });\n        };\n\n        return function (a, b) {\n          if (!cache.has(a)) fillCache(a);\n          if (!cache.has(b)) fillCache(b);\n\n          var _cache$get = cache.get(a),\n              asine = _cache$get.sine,\n              acosine = _cache$get.cosine;\n\n          var _cache$get2 = cache.get(b),\n              bsine = _cache$get2.sine,\n              bcosine = _cache$get2.cosine; // both on or above x-axis\n\n\n          if (asine >= 0 && bsine >= 0) {\n            if (acosine < bcosine) return 1;\n            if (acosine > bcosine) return -1;\n            return 0;\n          } // both below x-axis\n\n\n          if (asine < 0 && bsine < 0) {\n            if (acosine < bcosine) return -1;\n            if (acosine > bcosine) return 1;\n            return 0;\n          } // one above x-axis, one below\n\n\n          if (bsine < asine) return -1;\n          if (bsine > asine) return 1;\n          return 0;\n        };\n      }\n    }]);\n\n    return SweepEvent;\n  }();\n\n  // segments and sweep events when all else is identical\n\n  var segmentId = 0;\n\n  var Segment = /*#__PURE__*/function () {\n    _createClass(Segment, null, [{\n      key: \"compare\",\n\n      /* This compare() function is for ordering segments in the sweep\n       * line tree, and does so according to the following criteria:\n       *\n       * Consider the vertical line that lies an infinestimal step to the\n       * right of the right-more of the two left endpoints of the input\n       * segments. Imagine slowly moving a point up from negative infinity\n       * in the increasing y direction. Which of the two segments will that\n       * point intersect first? That segment comes 'before' the other one.\n       *\n       * If neither segment would be intersected by such a line, (if one\n       * or more of the segments are vertical) then the line to be considered\n       * is directly on the right-more of the two left inputs.\n       */\n      value: function compare(a, b) {\n        var alx = a.leftSE.point.x;\n        var blx = b.leftSE.point.x;\n        var arx = a.rightSE.point.x;\n        var brx = b.rightSE.point.x; // check if they're even in the same vertical plane\n\n        if (brx < alx) return 1;\n        if (arx < blx) return -1;\n        var aly = a.leftSE.point.y;\n        var bly = b.leftSE.point.y;\n        var ary = a.rightSE.point.y;\n        var bry = b.rightSE.point.y; // is left endpoint of segment B the right-more?\n\n        if (alx < blx) {\n          // are the two segments in the same horizontal plane?\n          if (bly < aly && bly < ary) return 1;\n          if (bly > aly && bly > ary) return -1; // is the B left endpoint colinear to segment A?\n\n          var aCmpBLeft = a.comparePoint(b.leftSE.point);\n          if (aCmpBLeft < 0) return 1;\n          if (aCmpBLeft > 0) return -1; // is the A right endpoint colinear to segment B ?\n\n          var bCmpARight = b.comparePoint(a.rightSE.point);\n          if (bCmpARight !== 0) return bCmpARight; // colinear segments, consider the one with left-more\n          // left endpoint to be first (arbitrary?)\n\n          return -1;\n        } // is left endpoint of segment A the right-more?\n\n\n        if (alx > blx) {\n          if (aly < bly && aly < bry) return -1;\n          if (aly > bly && aly > bry) return 1; // is the A left endpoint colinear to segment B?\n\n          var bCmpALeft = b.comparePoint(a.leftSE.point);\n          if (bCmpALeft !== 0) return bCmpALeft; // is the B right endpoint colinear to segment A?\n\n          var aCmpBRight = a.comparePoint(b.rightSE.point);\n          if (aCmpBRight < 0) return 1;\n          if (aCmpBRight > 0) return -1; // colinear segments, consider the one with left-more\n          // left endpoint to be first (arbitrary?)\n\n          return 1;\n        } // if we get here, the two left endpoints are in the same\n        // vertical plane, ie alx === blx\n        // consider the lower left-endpoint to come first\n\n\n        if (aly < bly) return -1;\n        if (aly > bly) return 1; // left endpoints are identical\n        // check for colinearity by using the left-more right endpoint\n        // is the A right endpoint more left-more?\n\n        if (arx < brx) {\n          var _bCmpARight = b.comparePoint(a.rightSE.point);\n\n          if (_bCmpARight !== 0) return _bCmpARight;\n        } // is the B right endpoint more left-more?\n\n\n        if (arx > brx) {\n          var _aCmpBRight = a.comparePoint(b.rightSE.point);\n\n          if (_aCmpBRight < 0) return 1;\n          if (_aCmpBRight > 0) return -1;\n        }\n\n        if (arx !== brx) {\n          // are these two [almost] vertical segments with opposite orientation?\n          // if so, the one with the lower right endpoint comes first\n          var ay = ary - aly;\n          var ax = arx - alx;\n          var by = bry - bly;\n          var bx = brx - blx;\n          if (ay > ax && by < bx) return 1;\n          if (ay < ax && by > bx) return -1;\n        } // we have colinear segments with matching orientation\n        // consider the one with more left-more right endpoint to be first\n\n\n        if (arx > brx) return 1;\n        if (arx < brx) return -1; // if we get here, two two right endpoints are in the same\n        // vertical plane, ie arx === brx\n        // consider the lower right-endpoint to come first\n\n        if (ary < bry) return -1;\n        if (ary > bry) return 1; // right endpoints identical as well, so the segments are idential\n        // fall back on creation order as consistent tie-breaker\n\n        if (a.id < b.id) return -1;\n        if (a.id > b.id) return 1; // identical segment, ie a === b\n\n        return 0;\n      }\n      /* Warning: a reference to ringWindings input will be stored,\n       *  and possibly will be later modified */\n\n    }]);\n\n    function Segment(leftSE, rightSE, rings, windings) {\n      _classCallCheck(this, Segment);\n\n      this.id = ++segmentId;\n      this.leftSE = leftSE;\n      leftSE.segment = this;\n      leftSE.otherSE = rightSE;\n      this.rightSE = rightSE;\n      rightSE.segment = this;\n      rightSE.otherSE = leftSE;\n      this.rings = rings;\n      this.windings = windings; // left unset for performance, set later in algorithm\n      // this.ringOut, this.consumedBy, this.prev\n    }\n\n    _createClass(Segment, [{\n      key: \"replaceRightSE\",\n\n      /* When a segment is split, the rightSE is replaced with a new sweep event */\n      value: function replaceRightSE(newRightSE) {\n        this.rightSE = newRightSE;\n        this.rightSE.segment = this;\n        this.rightSE.otherSE = this.leftSE;\n        this.leftSE.otherSE = this.rightSE;\n      }\n    }, {\n      key: \"bbox\",\n      value: function bbox() {\n        var y1 = this.leftSE.point.y;\n        var y2 = this.rightSE.point.y;\n        return {\n          ll: {\n            x: this.leftSE.point.x,\n            y: y1 < y2 ? y1 : y2\n          },\n          ur: {\n            x: this.rightSE.point.x,\n            y: y1 > y2 ? y1 : y2\n          }\n        };\n      }\n      /* A vector from the left point to the right */\n\n    }, {\n      key: \"vector\",\n      value: function vector() {\n        return {\n          x: this.rightSE.point.x - this.leftSE.point.x,\n          y: this.rightSE.point.y - this.leftSE.point.y\n        };\n      }\n    }, {\n      key: \"isAnEndpoint\",\n      value: function isAnEndpoint(pt) {\n        return pt.x === this.leftSE.point.x && pt.y === this.leftSE.point.y || pt.x === this.rightSE.point.x && pt.y === this.rightSE.point.y;\n      }\n      /* Compare this segment with a point.\n       *\n       * A point P is considered to be colinear to a segment if there\n       * exists a distance D such that if we travel along the segment\n       * from one * endpoint towards the other a distance D, we find\n       * ourselves at point P.\n       *\n       * Return value indicates:\n       *\n       *   1: point lies above the segment (to the left of vertical)\n       *   0: point is colinear to segment\n       *  -1: point lies below the segment (to the right of vertical)\n       */\n\n    }, {\n      key: \"comparePoint\",\n      value: function comparePoint(point) {\n        if (this.isAnEndpoint(point)) return 0;\n        var lPt = this.leftSE.point;\n        var rPt = this.rightSE.point;\n        var v = this.vector(); // Exactly vertical segments.\n\n        if (lPt.x === rPt.x) {\n          if (point.x === lPt.x) return 0;\n          return point.x < lPt.x ? 1 : -1;\n        } // Nearly vertical segments with an intersection.\n        // Check to see where a point on the line with matching Y coordinate is.\n\n\n        var yDist = (point.y - lPt.y) / v.y;\n        var xFromYDist = lPt.x + yDist * v.x;\n        if (point.x === xFromYDist) return 0; // General case.\n        // Check to see where a point on the line with matching X coordinate is.\n\n        var xDist = (point.x - lPt.x) / v.x;\n        var yFromXDist = lPt.y + xDist * v.y;\n        if (point.y === yFromXDist) return 0;\n        return point.y < yFromXDist ? -1 : 1;\n      }\n      /**\n       * Given another segment, returns the first non-trivial intersection\n       * between the two segments (in terms of sweep line ordering), if it exists.\n       *\n       * A 'non-trivial' intersection is one that will cause one or both of the\n       * segments to be split(). As such, 'trivial' vs. 'non-trivial' intersection:\n       *\n       *   * endpoint of segA with endpoint of segB --> trivial\n       *   * endpoint of segA with point along segB --> non-trivial\n       *   * endpoint of segB with point along segA --> non-trivial\n       *   * point along segA with point along segB --> non-trivial\n       *\n       * If no non-trivial intersection exists, return null\n       * Else, return null.\n       */\n\n    }, {\n      key: \"getIntersection\",\n      value: function getIntersection(other) {\n        // If bboxes don't overlap, there can't be any intersections\n        var tBbox = this.bbox();\n        var oBbox = other.bbox();\n        var bboxOverlap = getBboxOverlap(tBbox, oBbox);\n        if (bboxOverlap === null) return null; // We first check to see if the endpoints can be considered intersections.\n        // This will 'snap' intersections to endpoints if possible, and will\n        // handle cases of colinearity.\n\n        var tlp = this.leftSE.point;\n        var trp = this.rightSE.point;\n        var olp = other.leftSE.point;\n        var orp = other.rightSE.point; // does each endpoint touch the other segment?\n        // note that we restrict the 'touching' definition to only allow segments\n        // to touch endpoints that lie forward from where we are in the sweep line pass\n\n        var touchesOtherLSE = isInBbox(tBbox, olp) && this.comparePoint(olp) === 0;\n        var touchesThisLSE = isInBbox(oBbox, tlp) && other.comparePoint(tlp) === 0;\n        var touchesOtherRSE = isInBbox(tBbox, orp) && this.comparePoint(orp) === 0;\n        var touchesThisRSE = isInBbox(oBbox, trp) && other.comparePoint(trp) === 0; // do left endpoints match?\n\n        if (touchesThisLSE && touchesOtherLSE) {\n          // these two cases are for colinear segments with matching left\n          // endpoints, and one segment being longer than the other\n          if (touchesThisRSE && !touchesOtherRSE) return trp;\n          if (!touchesThisRSE && touchesOtherRSE) return orp; // either the two segments match exactly (two trival intersections)\n          // or just on their left endpoint (one trivial intersection\n\n          return null;\n        } // does this left endpoint matches (other doesn't)\n\n\n        if (touchesThisLSE) {\n          // check for segments that just intersect on opposing endpoints\n          if (touchesOtherRSE) {\n            if (tlp.x === orp.x && tlp.y === orp.y) return null;\n          } // t-intersection on left endpoint\n\n\n          return tlp;\n        } // does other left endpoint matches (this doesn't)\n\n\n        if (touchesOtherLSE) {\n          // check for segments that just intersect on opposing endpoints\n          if (touchesThisRSE) {\n            if (trp.x === olp.x && trp.y === olp.y) return null;\n          } // t-intersection on left endpoint\n\n\n          return olp;\n        } // trivial intersection on right endpoints\n\n\n        if (touchesThisRSE && touchesOtherRSE) return null; // t-intersections on just one right endpoint\n\n        if (touchesThisRSE) return trp;\n        if (touchesOtherRSE) return orp; // None of our endpoints intersect. Look for a general intersection between\n        // infinite lines laid over the segments\n\n        var pt = intersection(tlp, this.vector(), olp, other.vector()); // are the segments parrallel? Note that if they were colinear with overlap,\n        // they would have an endpoint intersection and that case was already handled above\n\n        if (pt === null) return null; // is the intersection found between the lines not on the segments?\n\n        if (!isInBbox(bboxOverlap, pt)) return null; // round the the computed point if needed\n\n        return rounder.round(pt.x, pt.y);\n      }\n      /**\n       * Split the given segment into multiple segments on the given points.\n       *  * Each existing segment will retain its leftSE and a new rightSE will be\n       *    generated for it.\n       *  * A new segment will be generated which will adopt the original segment's\n       *    rightSE, and a new leftSE will be generated for it.\n       *  * If there are more than two points given to split on, new segments\n       *    in the middle will be generated with new leftSE and rightSE's.\n       *  * An array of the newly generated SweepEvents will be returned.\n       *\n       * Warning: input array of points is modified\n       */\n\n    }, {\n      key: \"split\",\n      value: function split(point) {\n        var newEvents = [];\n        var alreadyLinked = point.events !== undefined;\n        var newLeftSE = new SweepEvent(point, true);\n        var newRightSE = new SweepEvent(point, false);\n        var oldRightSE = this.rightSE;\n        this.replaceRightSE(newRightSE);\n        newEvents.push(newRightSE);\n        newEvents.push(newLeftSE);\n        var newSeg = new Segment(newLeftSE, oldRightSE, this.rings.slice(), this.windings.slice()); // when splitting a nearly vertical downward-facing segment,\n        // sometimes one of the resulting new segments is vertical, in which\n        // case its left and right events may need to be swapped\n\n        if (SweepEvent.comparePoints(newSeg.leftSE.point, newSeg.rightSE.point) > 0) {\n          newSeg.swapEvents();\n        }\n\n        if (SweepEvent.comparePoints(this.leftSE.point, this.rightSE.point) > 0) {\n          this.swapEvents();\n        } // in the point we just used to create new sweep events with was already\n        // linked to other events, we need to check if either of the affected\n        // segments should be consumed\n\n\n        if (alreadyLinked) {\n          newLeftSE.checkForConsuming();\n          newRightSE.checkForConsuming();\n        }\n\n        return newEvents;\n      }\n      /* Swap which event is left and right */\n\n    }, {\n      key: \"swapEvents\",\n      value: function swapEvents() {\n        var tmpEvt = this.rightSE;\n        this.rightSE = this.leftSE;\n        this.leftSE = tmpEvt;\n        this.leftSE.isLeft = true;\n        this.rightSE.isLeft = false;\n\n        for (var i = 0, iMax = this.windings.length; i < iMax; i++) {\n          this.windings[i] *= -1;\n        }\n      }\n      /* Consume another segment. We take their rings under our wing\n       * and mark them as consumed. Use for perfectly overlapping segments */\n\n    }, {\n      key: \"consume\",\n      value: function consume(other) {\n        var consumer = this;\n        var consumee = other;\n\n        while (consumer.consumedBy) {\n          consumer = consumer.consumedBy;\n        }\n\n        while (consumee.consumedBy) {\n          consumee = consumee.consumedBy;\n        }\n\n        var cmp = Segment.compare(consumer, consumee);\n        if (cmp === 0) return; // already consumed\n        // the winner of the consumption is the earlier segment\n        // according to sweep line ordering\n\n        if (cmp > 0) {\n          var tmp = consumer;\n          consumer = consumee;\n          consumee = tmp;\n        } // make sure a segment doesn't consume it's prev\n\n\n        if (consumer.prev === consumee) {\n          var _tmp = consumer;\n          consumer = consumee;\n          consumee = _tmp;\n        }\n\n        for (var i = 0, iMax = consumee.rings.length; i < iMax; i++) {\n          var ring = consumee.rings[i];\n          var winding = consumee.windings[i];\n          var index = consumer.rings.indexOf(ring);\n\n          if (index === -1) {\n            consumer.rings.push(ring);\n            consumer.windings.push(winding);\n          } else consumer.windings[index] += winding;\n        }\n\n        consumee.rings = null;\n        consumee.windings = null;\n        consumee.consumedBy = consumer; // mark sweep events consumed as to maintain ordering in sweep event queue\n\n        consumee.leftSE.consumedBy = consumer.leftSE;\n        consumee.rightSE.consumedBy = consumer.rightSE;\n      }\n      /* The first segment previous segment chain that is in the result */\n\n    }, {\n      key: \"prevInResult\",\n      value: function prevInResult() {\n        if (this._prevInResult !== undefined) return this._prevInResult;\n        if (!this.prev) this._prevInResult = null;else if (this.prev.isInResult()) this._prevInResult = this.prev;else this._prevInResult = this.prev.prevInResult();\n        return this._prevInResult;\n      }\n    }, {\n      key: \"beforeState\",\n      value: function beforeState() {\n        if (this._beforeState !== undefined) return this._beforeState;\n        if (!this.prev) this._beforeState = {\n          rings: [],\n          windings: [],\n          multiPolys: []\n        };else {\n          var seg = this.prev.consumedBy || this.prev;\n          this._beforeState = seg.afterState();\n        }\n        return this._beforeState;\n      }\n    }, {\n      key: \"afterState\",\n      value: function afterState() {\n        if (this._afterState !== undefined) return this._afterState;\n        var beforeState = this.beforeState();\n        this._afterState = {\n          rings: beforeState.rings.slice(0),\n          windings: beforeState.windings.slice(0),\n          multiPolys: []\n        };\n        var ringsAfter = this._afterState.rings;\n        var windingsAfter = this._afterState.windings;\n        var mpsAfter = this._afterState.multiPolys; // calculate ringsAfter, windingsAfter\n\n        for (var i = 0, iMax = this.rings.length; i < iMax; i++) {\n          var ring = this.rings[i];\n          var winding = this.windings[i];\n          var index = ringsAfter.indexOf(ring);\n\n          if (index === -1) {\n            ringsAfter.push(ring);\n            windingsAfter.push(winding);\n          } else windingsAfter[index] += winding;\n        } // calcualte polysAfter\n\n\n        var polysAfter = [];\n        var polysExclude = [];\n\n        for (var _i = 0, _iMax = ringsAfter.length; _i < _iMax; _i++) {\n          if (windingsAfter[_i] === 0) continue; // non-zero rule\n\n          var _ring = ringsAfter[_i];\n          var poly = _ring.poly;\n          if (polysExclude.indexOf(poly) !== -1) continue;\n          if (_ring.isExterior) polysAfter.push(poly);else {\n            if (polysExclude.indexOf(poly) === -1) polysExclude.push(poly);\n\n            var _index = polysAfter.indexOf(_ring.poly);\n\n            if (_index !== -1) polysAfter.splice(_index, 1);\n          }\n        } // calculate multiPolysAfter\n\n\n        for (var _i2 = 0, _iMax2 = polysAfter.length; _i2 < _iMax2; _i2++) {\n          var mp = polysAfter[_i2].multiPoly;\n          if (mpsAfter.indexOf(mp) === -1) mpsAfter.push(mp);\n        }\n\n        return this._afterState;\n      }\n      /* Is this segment part of the final result? */\n\n    }, {\n      key: \"isInResult\",\n      value: function isInResult() {\n        // if we've been consumed, we're not in the result\n        if (this.consumedBy) return false;\n        if (this._isInResult !== undefined) return this._isInResult;\n        var mpsBefore = this.beforeState().multiPolys;\n        var mpsAfter = this.afterState().multiPolys;\n\n        switch (operation.type) {\n          case 'union':\n            {\n              // UNION - included iff:\n              //  * On one side of us there is 0 poly interiors AND\n              //  * On the other side there is 1 or more.\n              var noBefores = mpsBefore.length === 0;\n              var noAfters = mpsAfter.length === 0;\n              this._isInResult = noBefores !== noAfters;\n              break;\n            }\n\n          case 'intersection':\n            {\n              // INTERSECTION - included iff:\n              //  * on one side of us all multipolys are rep. with poly interiors AND\n              //  * on the other side of us, not all multipolys are repsented\n              //    with poly interiors\n              var least;\n              var most;\n\n              if (mpsBefore.length < mpsAfter.length) {\n                least = mpsBefore.length;\n                most = mpsAfter.length;\n              } else {\n                least = mpsAfter.length;\n                most = mpsBefore.length;\n              }\n\n              this._isInResult = most === operation.numMultiPolys && least < most;\n              break;\n            }\n\n          case 'xor':\n            {\n              // XOR - included iff:\n              //  * the difference between the number of multipolys represented\n              //    with poly interiors on our two sides is an odd number\n              var diff = Math.abs(mpsBefore.length - mpsAfter.length);\n              this._isInResult = diff % 2 === 1;\n              break;\n            }\n\n          case 'difference':\n            {\n              // DIFFERENCE included iff:\n              //  * on exactly one side, we have just the subject\n              var isJustSubject = function isJustSubject(mps) {\n                return mps.length === 1 && mps[0].isSubject;\n              };\n\n              this._isInResult = isJustSubject(mpsBefore) !== isJustSubject(mpsAfter);\n              break;\n            }\n\n          default:\n            throw new Error(\"Unrecognized operation type found \".concat(operation.type));\n        }\n\n        return this._isInResult;\n      }\n    }], [{\n      key: \"fromRing\",\n      value: function fromRing(pt1, pt2, ring) {\n        var leftPt, rightPt, winding; // ordering the two points according to sweep line ordering\n\n        var cmpPts = SweepEvent.comparePoints(pt1, pt2);\n\n        if (cmpPts < 0) {\n          leftPt = pt1;\n          rightPt = pt2;\n          winding = 1;\n        } else if (cmpPts > 0) {\n          leftPt = pt2;\n          rightPt = pt1;\n          winding = -1;\n        } else throw new Error(\"Tried to create degenerate segment at [\".concat(pt1.x, \", \").concat(pt1.y, \"]\"));\n\n        var leftSE = new SweepEvent(leftPt, true);\n        var rightSE = new SweepEvent(rightPt, false);\n        return new Segment(leftSE, rightSE, [ring], [winding]);\n      }\n    }]);\n\n    return Segment;\n  }();\n\n  var RingIn = /*#__PURE__*/function () {\n    function RingIn(geomRing, poly, isExterior) {\n      _classCallCheck(this, RingIn);\n\n      if (!Array.isArray(geomRing) || geomRing.length === 0) {\n        throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n      }\n\n      this.poly = poly;\n      this.isExterior = isExterior;\n      this.segments = [];\n\n      if (typeof geomRing[0][0] !== 'number' || typeof geomRing[0][1] !== 'number') {\n        throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n      }\n\n      var firstPoint = rounder.round(geomRing[0][0], geomRing[0][1]);\n      this.bbox = {\n        ll: {\n          x: firstPoint.x,\n          y: firstPoint.y\n        },\n        ur: {\n          x: firstPoint.x,\n          y: firstPoint.y\n        }\n      };\n      var prevPoint = firstPoint;\n\n      for (var i = 1, iMax = geomRing.length; i < iMax; i++) {\n        if (typeof geomRing[i][0] !== 'number' || typeof geomRing[i][1] !== 'number') {\n          throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n        }\n\n        var point = rounder.round(geomRing[i][0], geomRing[i][1]); // skip repeated points\n\n        if (point.x === prevPoint.x && point.y === prevPoint.y) continue;\n        this.segments.push(Segment.fromRing(prevPoint, point, this));\n        if (point.x < this.bbox.ll.x) this.bbox.ll.x = point.x;\n        if (point.y < this.bbox.ll.y) this.bbox.ll.y = point.y;\n        if (point.x > this.bbox.ur.x) this.bbox.ur.x = point.x;\n        if (point.y > this.bbox.ur.y) this.bbox.ur.y = point.y;\n        prevPoint = point;\n      } // add segment from last to first if last is not the same as first\n\n\n      if (firstPoint.x !== prevPoint.x || firstPoint.y !== prevPoint.y) {\n        this.segments.push(Segment.fromRing(prevPoint, firstPoint, this));\n      }\n    }\n\n    _createClass(RingIn, [{\n      key: \"getSweepEvents\",\n      value: function getSweepEvents() {\n        var sweepEvents = [];\n\n        for (var i = 0, iMax = this.segments.length; i < iMax; i++) {\n          var segment = this.segments[i];\n          sweepEvents.push(segment.leftSE);\n          sweepEvents.push(segment.rightSE);\n        }\n\n        return sweepEvents;\n      }\n    }]);\n\n    return RingIn;\n  }();\n  var PolyIn = /*#__PURE__*/function () {\n    function PolyIn(geomPoly, multiPoly) {\n      _classCallCheck(this, PolyIn);\n\n      if (!Array.isArray(geomPoly)) {\n        throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n      }\n\n      this.exteriorRing = new RingIn(geomPoly[0], this, true); // copy by value\n\n      this.bbox = {\n        ll: {\n          x: this.exteriorRing.bbox.ll.x,\n          y: this.exteriorRing.bbox.ll.y\n        },\n        ur: {\n          x: this.exteriorRing.bbox.ur.x,\n          y: this.exteriorRing.bbox.ur.y\n        }\n      };\n      this.interiorRings = [];\n\n      for (var i = 1, iMax = geomPoly.length; i < iMax; i++) {\n        var ring = new RingIn(geomPoly[i], this, false);\n        if (ring.bbox.ll.x < this.bbox.ll.x) this.bbox.ll.x = ring.bbox.ll.x;\n        if (ring.bbox.ll.y < this.bbox.ll.y) this.bbox.ll.y = ring.bbox.ll.y;\n        if (ring.bbox.ur.x > this.bbox.ur.x) this.bbox.ur.x = ring.bbox.ur.x;\n        if (ring.bbox.ur.y > this.bbox.ur.y) this.bbox.ur.y = ring.bbox.ur.y;\n        this.interiorRings.push(ring);\n      }\n\n      this.multiPoly = multiPoly;\n    }\n\n    _createClass(PolyIn, [{\n      key: \"getSweepEvents\",\n      value: function getSweepEvents() {\n        var sweepEvents = this.exteriorRing.getSweepEvents();\n\n        for (var i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n          var ringSweepEvents = this.interiorRings[i].getSweepEvents();\n\n          for (var j = 0, jMax = ringSweepEvents.length; j < jMax; j++) {\n            sweepEvents.push(ringSweepEvents[j]);\n          }\n        }\n\n        return sweepEvents;\n      }\n    }]);\n\n    return PolyIn;\n  }();\n  var MultiPolyIn = /*#__PURE__*/function () {\n    function MultiPolyIn(geom, isSubject) {\n      _classCallCheck(this, MultiPolyIn);\n\n      if (!Array.isArray(geom)) {\n        throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n      }\n\n      try {\n        // if the input looks like a polygon, convert it to a multipolygon\n        if (typeof geom[0][0][0] === 'number') geom = [geom];\n      } catch (ex) {// The input is either malformed or has empty arrays.\n        // In either case, it will be handled later on.\n      }\n\n      this.polys = [];\n      this.bbox = {\n        ll: {\n          x: Number.POSITIVE_INFINITY,\n          y: Number.POSITIVE_INFINITY\n        },\n        ur: {\n          x: Number.NEGATIVE_INFINITY,\n          y: Number.NEGATIVE_INFINITY\n        }\n      };\n\n      for (var i = 0, iMax = geom.length; i < iMax; i++) {\n        var poly = new PolyIn(geom[i], this);\n        if (poly.bbox.ll.x < this.bbox.ll.x) this.bbox.ll.x = poly.bbox.ll.x;\n        if (poly.bbox.ll.y < this.bbox.ll.y) this.bbox.ll.y = poly.bbox.ll.y;\n        if (poly.bbox.ur.x > this.bbox.ur.x) this.bbox.ur.x = poly.bbox.ur.x;\n        if (poly.bbox.ur.y > this.bbox.ur.y) this.bbox.ur.y = poly.bbox.ur.y;\n        this.polys.push(poly);\n      }\n\n      this.isSubject = isSubject;\n    }\n\n    _createClass(MultiPolyIn, [{\n      key: \"getSweepEvents\",\n      value: function getSweepEvents() {\n        var sweepEvents = [];\n\n        for (var i = 0, iMax = this.polys.length; i < iMax; i++) {\n          var polySweepEvents = this.polys[i].getSweepEvents();\n\n          for (var j = 0, jMax = polySweepEvents.length; j < jMax; j++) {\n            sweepEvents.push(polySweepEvents[j]);\n          }\n        }\n\n        return sweepEvents;\n      }\n    }]);\n\n    return MultiPolyIn;\n  }();\n\n  var RingOut = /*#__PURE__*/function () {\n    _createClass(RingOut, null, [{\n      key: \"factory\",\n\n      /* Given the segments from the sweep line pass, compute & return a series\n       * of closed rings from all the segments marked to be part of the result */\n      value: function factory(allSegments) {\n        var ringsOut = [];\n\n        for (var i = 0, iMax = allSegments.length; i < iMax; i++) {\n          var segment = allSegments[i];\n          if (!segment.isInResult() || segment.ringOut) continue;\n          var prevEvent = null;\n          var event = segment.leftSE;\n          var nextEvent = segment.rightSE;\n          var events = [event];\n          var startingPoint = event.point;\n          var intersectionLEs = [];\n          /* Walk the chain of linked events to form a closed ring */\n\n          while (true) {\n            prevEvent = event;\n            event = nextEvent;\n            events.push(event);\n            /* Is the ring complete? */\n\n            if (event.point === startingPoint) break;\n\n            while (true) {\n              var availableLEs = event.getAvailableLinkedEvents();\n              /* Did we hit a dead end? This shouldn't happen. Indicates some earlier\n               * part of the algorithm malfunctioned... please file a bug report. */\n\n              if (availableLEs.length === 0) {\n                var firstPt = events[0].point;\n                var lastPt = events[events.length - 1].point;\n                throw new Error(\"Unable to complete output ring starting at [\".concat(firstPt.x, \",\") + \" \".concat(firstPt.y, \"]. Last matching segment found ends at\") + \" [\".concat(lastPt.x, \", \").concat(lastPt.y, \"].\"));\n              }\n              /* Only one way to go, so cotinue on the path */\n\n\n              if (availableLEs.length === 1) {\n                nextEvent = availableLEs[0].otherSE;\n                break;\n              }\n              /* We must have an intersection. Check for a completed loop */\n\n\n              var indexLE = null;\n\n              for (var j = 0, jMax = intersectionLEs.length; j < jMax; j++) {\n                if (intersectionLEs[j].point === event.point) {\n                  indexLE = j;\n                  break;\n                }\n              }\n              /* Found a completed loop. Cut that off and make a ring */\n\n\n              if (indexLE !== null) {\n                var intersectionLE = intersectionLEs.splice(indexLE)[0];\n                var ringEvents = events.splice(intersectionLE.index);\n                ringEvents.unshift(ringEvents[0].otherSE);\n                ringsOut.push(new RingOut(ringEvents.reverse()));\n                continue;\n              }\n              /* register the intersection */\n\n\n              intersectionLEs.push({\n                index: events.length,\n                point: event.point\n              });\n              /* Choose the left-most option to continue the walk */\n\n              var comparator = event.getLeftmostComparator(prevEvent);\n              nextEvent = availableLEs.sort(comparator)[0].otherSE;\n              break;\n            }\n          }\n\n          ringsOut.push(new RingOut(events));\n        }\n\n        return ringsOut;\n      }\n    }]);\n\n    function RingOut(events) {\n      _classCallCheck(this, RingOut);\n\n      this.events = events;\n\n      for (var i = 0, iMax = events.length; i < iMax; i++) {\n        events[i].segment.ringOut = this;\n      }\n\n      this.poly = null;\n    }\n\n    _createClass(RingOut, [{\n      key: \"getGeom\",\n      value: function getGeom() {\n        // Remove superfluous points (ie extra points along a straight line),\n        var prevPt = this.events[0].point;\n        var points = [prevPt];\n\n        for (var i = 1, iMax = this.events.length - 1; i < iMax; i++) {\n          var _pt = this.events[i].point;\n          var _nextPt = this.events[i + 1].point;\n          if (compareVectorAngles(_pt, prevPt, _nextPt) === 0) continue;\n          points.push(_pt);\n          prevPt = _pt;\n        } // ring was all (within rounding error of angle calc) colinear points\n\n\n        if (points.length === 1) return null; // check if the starting point is necessary\n\n        var pt = points[0];\n        var nextPt = points[1];\n        if (compareVectorAngles(pt, prevPt, nextPt) === 0) points.shift();\n        points.push(points[0]);\n        var step = this.isExteriorRing() ? 1 : -1;\n        var iStart = this.isExteriorRing() ? 0 : points.length - 1;\n        var iEnd = this.isExteriorRing() ? points.length : -1;\n        var orderedPoints = [];\n\n        for (var _i = iStart; _i != iEnd; _i += step) {\n          orderedPoints.push([points[_i].x, points[_i].y]);\n        }\n\n        return orderedPoints;\n      }\n    }, {\n      key: \"isExteriorRing\",\n      value: function isExteriorRing() {\n        if (this._isExteriorRing === undefined) {\n          var enclosing = this.enclosingRing();\n          this._isExteriorRing = enclosing ? !enclosing.isExteriorRing() : true;\n        }\n\n        return this._isExteriorRing;\n      }\n    }, {\n      key: \"enclosingRing\",\n      value: function enclosingRing() {\n        if (this._enclosingRing === undefined) {\n          this._enclosingRing = this._calcEnclosingRing();\n        }\n\n        return this._enclosingRing;\n      }\n      /* Returns the ring that encloses this one, if any */\n\n    }, {\n      key: \"_calcEnclosingRing\",\n      value: function _calcEnclosingRing() {\n        // start with the ealier sweep line event so that the prevSeg\n        // chain doesn't lead us inside of a loop of ours\n        var leftMostEvt = this.events[0];\n\n        for (var i = 1, iMax = this.events.length; i < iMax; i++) {\n          var evt = this.events[i];\n          if (SweepEvent.compare(leftMostEvt, evt) > 0) leftMostEvt = evt;\n        }\n\n        var prevSeg = leftMostEvt.segment.prevInResult();\n        var prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n\n        while (true) {\n          // no segment found, thus no ring can enclose us\n          if (!prevSeg) return null; // no segments below prev segment found, thus the ring of the prev\n          // segment must loop back around and enclose us\n\n          if (!prevPrevSeg) return prevSeg.ringOut; // if the two segments are of different rings, the ring of the prev\n          // segment must either loop around us or the ring of the prev prev\n          // seg, which would make us and the ring of the prev peers\n\n          if (prevPrevSeg.ringOut !== prevSeg.ringOut) {\n            if (prevPrevSeg.ringOut.enclosingRing() !== prevSeg.ringOut) {\n              return prevSeg.ringOut;\n            } else return prevSeg.ringOut.enclosingRing();\n          } // two segments are from the same ring, so this was a penisula\n          // of that ring. iterate downward, keep searching\n\n\n          prevSeg = prevPrevSeg.prevInResult();\n          prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n        }\n      }\n    }]);\n\n    return RingOut;\n  }();\n  var PolyOut = /*#__PURE__*/function () {\n    function PolyOut(exteriorRing) {\n      _classCallCheck(this, PolyOut);\n\n      this.exteriorRing = exteriorRing;\n      exteriorRing.poly = this;\n      this.interiorRings = [];\n    }\n\n    _createClass(PolyOut, [{\n      key: \"addInterior\",\n      value: function addInterior(ring) {\n        this.interiorRings.push(ring);\n        ring.poly = this;\n      }\n    }, {\n      key: \"getGeom\",\n      value: function getGeom() {\n        var geom = [this.exteriorRing.getGeom()]; // exterior ring was all (within rounding error of angle calc) colinear points\n\n        if (geom[0] === null) return null;\n\n        for (var i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n          var ringGeom = this.interiorRings[i].getGeom(); // interior ring was all (within rounding error of angle calc) colinear points\n\n          if (ringGeom === null) continue;\n          geom.push(ringGeom);\n        }\n\n        return geom;\n      }\n    }]);\n\n    return PolyOut;\n  }();\n  var MultiPolyOut = /*#__PURE__*/function () {\n    function MultiPolyOut(rings) {\n      _classCallCheck(this, MultiPolyOut);\n\n      this.rings = rings;\n      this.polys = this._composePolys(rings);\n    }\n\n    _createClass(MultiPolyOut, [{\n      key: \"getGeom\",\n      value: function getGeom() {\n        var geom = [];\n\n        for (var i = 0, iMax = this.polys.length; i < iMax; i++) {\n          var polyGeom = this.polys[i].getGeom(); // exterior ring was all (within rounding error of angle calc) colinear points\n\n          if (polyGeom === null) continue;\n          geom.push(polyGeom);\n        }\n\n        return geom;\n      }\n    }, {\n      key: \"_composePolys\",\n      value: function _composePolys(rings) {\n        var polys = [];\n\n        for (var i = 0, iMax = rings.length; i < iMax; i++) {\n          var ring = rings[i];\n          if (ring.poly) continue;\n          if (ring.isExteriorRing()) polys.push(new PolyOut(ring));else {\n            var enclosingRing = ring.enclosingRing();\n            if (!enclosingRing.poly) polys.push(new PolyOut(enclosingRing));\n            enclosingRing.poly.addInterior(ring);\n          }\n        }\n\n        return polys;\n      }\n    }]);\n\n    return MultiPolyOut;\n  }();\n\n  /**\n   * NOTE:  We must be careful not to change any segments while\n   *        they are in the SplayTree. AFAIK, there's no way to tell\n   *        the tree to rebalance itself - thus before splitting\n   *        a segment that's in the tree, we remove it from the tree,\n   *        do the split, then re-insert it. (Even though splitting a\n   *        segment *shouldn't* change its correct position in the\n   *        sweep line tree, the reality is because of rounding errors,\n   *        it sometimes does.)\n   */\n\n  var SweepLine = /*#__PURE__*/function () {\n    function SweepLine(queue) {\n      var comparator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Segment.compare;\n\n      _classCallCheck(this, SweepLine);\n\n      this.queue = queue;\n      this.tree = new Tree(comparator);\n      this.segments = [];\n    }\n\n    _createClass(SweepLine, [{\n      key: \"process\",\n      value: function process(event) {\n        var segment = event.segment;\n        var newEvents = []; // if we've already been consumed by another segment,\n        // clean up our body parts and get out\n\n        if (event.consumedBy) {\n          if (event.isLeft) this.queue.remove(event.otherSE);else this.tree.remove(segment);\n          return newEvents;\n        }\n\n        var node = event.isLeft ? this.tree.insert(segment) : this.tree.find(segment);\n        if (!node) throw new Error(\"Unable to find segment #\".concat(segment.id, \" \") + \"[\".concat(segment.leftSE.point.x, \", \").concat(segment.leftSE.point.y, \"] -> \") + \"[\".concat(segment.rightSE.point.x, \", \").concat(segment.rightSE.point.y, \"] \") + 'in SweepLine tree. Please submit a bug report.');\n        var prevNode = node;\n        var nextNode = node;\n        var prevSeg = undefined;\n        var nextSeg = undefined; // skip consumed segments still in tree\n\n        while (prevSeg === undefined) {\n          prevNode = this.tree.prev(prevNode);\n          if (prevNode === null) prevSeg = null;else if (prevNode.key.consumedBy === undefined) prevSeg = prevNode.key;\n        } // skip consumed segments still in tree\n\n\n        while (nextSeg === undefined) {\n          nextNode = this.tree.next(nextNode);\n          if (nextNode === null) nextSeg = null;else if (nextNode.key.consumedBy === undefined) nextSeg = nextNode.key;\n        }\n\n        if (event.isLeft) {\n          // Check for intersections against the previous segment in the sweep line\n          var prevMySplitter = null;\n\n          if (prevSeg) {\n            var prevInter = prevSeg.getIntersection(segment);\n\n            if (prevInter !== null) {\n              if (!segment.isAnEndpoint(prevInter)) prevMySplitter = prevInter;\n\n              if (!prevSeg.isAnEndpoint(prevInter)) {\n                var newEventsFromSplit = this._splitSafely(prevSeg, prevInter);\n\n                for (var i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n                  newEvents.push(newEventsFromSplit[i]);\n                }\n              }\n            }\n          } // Check for intersections against the next segment in the sweep line\n\n\n          var nextMySplitter = null;\n\n          if (nextSeg) {\n            var nextInter = nextSeg.getIntersection(segment);\n\n            if (nextInter !== null) {\n              if (!segment.isAnEndpoint(nextInter)) nextMySplitter = nextInter;\n\n              if (!nextSeg.isAnEndpoint(nextInter)) {\n                var _newEventsFromSplit = this._splitSafely(nextSeg, nextInter);\n\n                for (var _i = 0, _iMax = _newEventsFromSplit.length; _i < _iMax; _i++) {\n                  newEvents.push(_newEventsFromSplit[_i]);\n                }\n              }\n            }\n          } // For simplicity, even if we find more than one intersection we only\n          // spilt on the 'earliest' (sweep-line style) of the intersections.\n          // The other intersection will be handled in a future process().\n\n\n          if (prevMySplitter !== null || nextMySplitter !== null) {\n            var mySplitter = null;\n            if (prevMySplitter === null) mySplitter = nextMySplitter;else if (nextMySplitter === null) mySplitter = prevMySplitter;else {\n              var cmpSplitters = SweepEvent.comparePoints(prevMySplitter, nextMySplitter);\n              mySplitter = cmpSplitters <= 0 ? prevMySplitter : nextMySplitter;\n            } // Rounding errors can cause changes in ordering,\n            // so remove afected segments and right sweep events before splitting\n\n            this.queue.remove(segment.rightSE);\n            newEvents.push(segment.rightSE);\n\n            var _newEventsFromSplit2 = segment.split(mySplitter);\n\n            for (var _i2 = 0, _iMax2 = _newEventsFromSplit2.length; _i2 < _iMax2; _i2++) {\n              newEvents.push(_newEventsFromSplit2[_i2]);\n            }\n          }\n\n          if (newEvents.length > 0) {\n            // We found some intersections, so re-do the current event to\n            // make sure sweep line ordering is totally consistent for later\n            // use with the segment 'prev' pointers\n            this.tree.remove(segment);\n            newEvents.push(event);\n          } else {\n            // done with left event\n            this.segments.push(segment);\n            segment.prev = prevSeg;\n          }\n        } else {\n          // event.isRight\n          // since we're about to be removed from the sweep line, check for\n          // intersections between our previous and next segments\n          if (prevSeg && nextSeg) {\n            var inter = prevSeg.getIntersection(nextSeg);\n\n            if (inter !== null) {\n              if (!prevSeg.isAnEndpoint(inter)) {\n                var _newEventsFromSplit3 = this._splitSafely(prevSeg, inter);\n\n                for (var _i3 = 0, _iMax3 = _newEventsFromSplit3.length; _i3 < _iMax3; _i3++) {\n                  newEvents.push(_newEventsFromSplit3[_i3]);\n                }\n              }\n\n              if (!nextSeg.isAnEndpoint(inter)) {\n                var _newEventsFromSplit4 = this._splitSafely(nextSeg, inter);\n\n                for (var _i4 = 0, _iMax4 = _newEventsFromSplit4.length; _i4 < _iMax4; _i4++) {\n                  newEvents.push(_newEventsFromSplit4[_i4]);\n                }\n              }\n            }\n          }\n\n          this.tree.remove(segment);\n        }\n\n        return newEvents;\n      }\n      /* Safely split a segment that is currently in the datastructures\n       * IE - a segment other than the one that is currently being processed. */\n\n    }, {\n      key: \"_splitSafely\",\n      value: function _splitSafely(seg, pt) {\n        // Rounding errors can cause changes in ordering,\n        // so remove afected segments and right sweep events before splitting\n        // removeNode() doesn't work, so have re-find the seg\n        // https://github.com/w8r/splay-tree/pull/5\n        this.tree.remove(seg);\n        var rightSE = seg.rightSE;\n        this.queue.remove(rightSE);\n        var newEvents = seg.split(pt);\n        newEvents.push(rightSE); // splitting can trigger consumption\n\n        if (seg.consumedBy === undefined) this.tree.insert(seg);\n        return newEvents;\n      }\n    }]);\n\n    return SweepLine;\n  }();\n\n  var POLYGON_CLIPPING_MAX_QUEUE_SIZE = typeof process !== 'undefined' && process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE || 1000000;\n  var POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS = typeof process !== 'undefined' && process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS || 1000000;\n  var Operation = /*#__PURE__*/function () {\n    function Operation() {\n      _classCallCheck(this, Operation);\n    }\n\n    _createClass(Operation, [{\n      key: \"run\",\n      value: function run(type, geom, moreGeoms) {\n        operation.type = type;\n        rounder.reset();\n        /* Convert inputs to MultiPoly objects */\n\n        var multipolys = [new MultiPolyIn(geom, true)];\n\n        for (var i = 0, iMax = moreGeoms.length; i < iMax; i++) {\n          multipolys.push(new MultiPolyIn(moreGeoms[i], false));\n        }\n\n        operation.numMultiPolys = multipolys.length;\n        /* BBox optimization for difference operation\n         * If the bbox of a multipolygon that's part of the clipping doesn't\n         * intersect the bbox of the subject at all, we can just drop that\n         * multiploygon. */\n\n        if (operation.type === 'difference') {\n          // in place removal\n          var subject = multipolys[0];\n          var _i = 1;\n\n          while (_i < multipolys.length) {\n            if (getBboxOverlap(multipolys[_i].bbox, subject.bbox) !== null) _i++;else multipolys.splice(_i, 1);\n          }\n        }\n        /* BBox optimization for intersection operation\n         * If we can find any pair of multipolygons whose bbox does not overlap,\n         * then the result will be empty. */\n\n\n        if (operation.type === 'intersection') {\n          // TODO: this is O(n^2) in number of polygons. By sorting the bboxes,\n          //       it could be optimized to O(n * ln(n))\n          for (var _i2 = 0, _iMax = multipolys.length; _i2 < _iMax; _i2++) {\n            var mpA = multipolys[_i2];\n\n            for (var j = _i2 + 1, jMax = multipolys.length; j < jMax; j++) {\n              if (getBboxOverlap(mpA.bbox, multipolys[j].bbox) === null) return [];\n            }\n          }\n        }\n        /* Put segment endpoints in a priority queue */\n\n\n        var queue = new Tree(SweepEvent.compare);\n\n        for (var _i3 = 0, _iMax2 = multipolys.length; _i3 < _iMax2; _i3++) {\n          var sweepEvents = multipolys[_i3].getSweepEvents();\n\n          for (var _j = 0, _jMax = sweepEvents.length; _j < _jMax; _j++) {\n            queue.insert(sweepEvents[_j]);\n\n            if (queue.size > POLYGON_CLIPPING_MAX_QUEUE_SIZE) {\n              // prevents an infinite loop, an otherwise common manifestation of bugs\n              throw new Error('Infinite loop when putting segment endpoints in a priority queue ' + '(queue size too big). Please file a bug report.');\n            }\n          }\n        }\n        /* Pass the sweep line over those endpoints */\n\n\n        var sweepLine = new SweepLine(queue);\n        var prevQueueSize = queue.size;\n        var node = queue.pop();\n\n        while (node) {\n          var evt = node.key;\n\n          if (queue.size === prevQueueSize) {\n            // prevents an infinite loop, an otherwise common manifestation of bugs\n            var seg = evt.segment;\n            throw new Error(\"Unable to pop() \".concat(evt.isLeft ? 'left' : 'right', \" SweepEvent \") + \"[\".concat(evt.point.x, \", \").concat(evt.point.y, \"] from segment #\").concat(seg.id, \" \") + \"[\".concat(seg.leftSE.point.x, \", \").concat(seg.leftSE.point.y, \"] -> \") + \"[\".concat(seg.rightSE.point.x, \", \").concat(seg.rightSE.point.y, \"] from queue. \") + 'Please file a bug report.');\n          }\n\n          if (queue.size > POLYGON_CLIPPING_MAX_QUEUE_SIZE) {\n            // prevents an infinite loop, an otherwise common manifestation of bugs\n            throw new Error('Infinite loop when passing sweep line over endpoints ' + '(queue size too big). Please file a bug report.');\n          }\n\n          if (sweepLine.segments.length > POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS) {\n            // prevents an infinite loop, an otherwise common manifestation of bugs\n            throw new Error('Infinite loop when passing sweep line over endpoints ' + '(too many sweep line segments). Please file a bug report.');\n          }\n\n          var newEvents = sweepLine.process(evt);\n\n          for (var _i4 = 0, _iMax3 = newEvents.length; _i4 < _iMax3; _i4++) {\n            var _evt = newEvents[_i4];\n            if (_evt.consumedBy === undefined) queue.insert(_evt);\n          }\n\n          prevQueueSize = queue.size;\n          node = queue.pop();\n        } // free some memory we don't need anymore\n\n\n        rounder.reset();\n        /* Collect and compile segments we're keeping into a multipolygon */\n\n        var ringsOut = RingOut.factory(sweepLine.segments);\n        var result = new MultiPolyOut(ringsOut);\n        return result.getGeom();\n      }\n    }]);\n\n    return Operation;\n  }(); // singleton available by import\n\n  var operation = new Operation();\n\n  var union = function union(geom) {\n    for (var _len = arguments.length, moreGeoms = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      moreGeoms[_key - 1] = arguments[_key];\n    }\n\n    return operation.run('union', geom, moreGeoms);\n  };\n\n  var intersection$1 = function intersection(geom) {\n    for (var _len2 = arguments.length, moreGeoms = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      moreGeoms[_key2 - 1] = arguments[_key2];\n    }\n\n    return operation.run('intersection', geom, moreGeoms);\n  };\n\n  var xor = function xor(geom) {\n    for (var _len3 = arguments.length, moreGeoms = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      moreGeoms[_key3 - 1] = arguments[_key3];\n    }\n\n    return operation.run('xor', geom, moreGeoms);\n  };\n\n  var difference = function difference(subjectGeom) {\n    for (var _len4 = arguments.length, clippingGeoms = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      clippingGeoms[_key4 - 1] = arguments[_key4];\n    }\n\n    return operation.run('difference', subjectGeom, clippingGeoms);\n  };\n\n  var index = {\n    union: union,\n    intersection: intersection$1,\n    xor: xor,\n    difference: difference\n  };\n\n  return index;\n\n})));\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","export var PJD_3PARAM = 1;\nexport var PJD_7PARAM = 2;\nexport var PJD_GRIDSHIFT = 3;\nexport var PJD_WGS84 = 4; // WGS84 or equivalent\nexport var PJD_NODATUM = 5; // WGS84 or equivalent\nexport var SRS_WGS84_SEMIMAJOR = 6378137.0;  // only used in grid shift transforms\nexport var SRS_WGS84_SEMIMINOR = 6356752.314;  // only used in grid shift transforms\nexport var SRS_WGS84_ESQUARED = 0.0066943799901413165; // only used in grid shift transforms\nexport var SEC_TO_RAD = 4.84813681109535993589914102357e-6;\nexport var HALF_PI = Math.PI/2;\n// ellipoid pj_set_ell.c\nexport var SIXTH = 0.1666666666666666667;\n/* 1/6 */\nexport var RA4 = 0.04722222222222222222;\n/* 17/360 */\nexport var RA6 = 0.02215608465608465608;\nexport var EPSLN = 1.0e-10;\n// you'd think you could use Number.EPSILON above but that makes\n// Mollweide get into an infinate loop.\n\nexport var D2R = 0.01745329251994329577;\nexport var R2D = 57.29577951308232088;\nexport var FORTPI = Math.PI/4;\nexport var TWO_PI = Math.PI * 2;\n// SPI is slightly greater than Math.PI, so values that exceed the -180..180\n// degree range by a tiny amount don't get wrapped. This prevents points that\n// have drifted from their original location along the 180th meridian (due to\n// floating point error) from changing their sign.\nexport var SPI = 3.14159265359;\n","var exports = {};\nexport {exports as default};\n\nexports.greenwich = 0.0; //\"0dE\",\nexports.lisbon = -9.131906111111; //\"9d07'54.862\\\"W\",\nexports.paris = 2.337229166667; //\"2d20'14.025\\\"E\",\nexports.bogota = -74.080916666667; //\"74d04'51.3\\\"W\",\nexports.madrid = -3.687938888889; //\"3d41'16.58\\\"W\",\nexports.rome = 12.452333333333; //\"12d27'8.4\\\"E\",\nexports.bern = 7.439583333333; //\"7d26'22.5\\\"E\",\nexports.jakarta = 106.807719444444; //\"106d48'27.79\\\"E\",\nexports.ferro = -17.666666666667; //\"17d40'W\",\nexports.brussels = 4.367975; //\"4d22'4.71\\\"E\",\nexports.stockholm = 18.058277777778; //\"18d3'29.8\\\"E\",\nexports.athens = 23.7163375; //\"23d42'58.815\\\"E\",\nexports.oslo = 10.722916666667; //\"10d43'22.5\\\"E\"\n","export default {\n  ft: {to_meter: 0.3048},\n  'us-ft': {to_meter: 1200 / 3937}\n};\n","var ignoredChar = /[\\s_\\-\\/\\(\\)]/g;\nexport default function match(obj, key) {\n  if (obj[key]) {\n    return obj[key];\n  }\n  var keys = Object.keys(obj);\n  var lkey = key.toLowerCase().replace(ignoredChar, '');\n  var i = -1;\n  var testkey, processedKey;\n  while (++i < keys.length) {\n    testkey = keys[i];\n    processedKey = testkey.toLowerCase().replace(ignoredChar, '');\n    if (processedKey === lkey) {\n      return obj[testkey];\n    }\n  }\n}\n","import {D2R} from './constants/values';\nimport PrimeMeridian from './constants/PrimeMeridian';\nimport units from './constants/units';\nimport match from './match';\n\nexport default function(defData) {\n  var self = {};\n  var paramObj = defData.split('+').map(function(v) {\n    return v.trim();\n  }).filter(function(a) {\n    return a;\n  }).reduce(function(p, a) {\n    var split = a.split('=');\n    split.push(true);\n    p[split[0].toLowerCase()] = split[1];\n    return p;\n  }, {});\n  var paramName, paramVal, paramOutname;\n  var params = {\n    proj: 'projName',\n    datum: 'datumCode',\n    rf: function(v) {\n      self.rf = parseFloat(v);\n    },\n    lat_0: function(v) {\n      self.lat0 = v * D2R;\n    },\n    lat_1: function(v) {\n      self.lat1 = v * D2R;\n    },\n    lat_2: function(v) {\n      self.lat2 = v * D2R;\n    },\n    lat_ts: function(v) {\n      self.lat_ts = v * D2R;\n    },\n    lon_0: function(v) {\n      self.long0 = v * D2R;\n    },\n    lon_1: function(v) {\n      self.long1 = v * D2R;\n    },\n    lon_2: function(v) {\n      self.long2 = v * D2R;\n    },\n    alpha: function(v) {\n      self.alpha = parseFloat(v) * D2R;\n    },\n    gamma: function(v) {\n      self.rectified_grid_angle = parseFloat(v);\n    },\n    lonc: function(v) {\n      self.longc = v * D2R;\n    },\n    x_0: function(v) {\n      self.x0 = parseFloat(v);\n    },\n    y_0: function(v) {\n      self.y0 = parseFloat(v);\n    },\n    k_0: function(v) {\n      self.k0 = parseFloat(v);\n    },\n    k: function(v) {\n      self.k0 = parseFloat(v);\n    },\n    a: function(v) {\n      self.a = parseFloat(v);\n    },\n    b: function(v) {\n      self.b = parseFloat(v);\n    },\n    r_a: function() {\n      self.R_A = true;\n    },\n    zone: function(v) {\n      self.zone = parseInt(v, 10);\n    },\n    south: function() {\n      self.utmSouth = true;\n    },\n    towgs84: function(v) {\n      self.datum_params = v.split(\",\").map(function(a) {\n        return parseFloat(a);\n      });\n    },\n    to_meter: function(v) {\n      self.to_meter = parseFloat(v);\n    },\n    units: function(v) {\n      self.units = v;\n      var unit = match(units, v);\n      if (unit) {\n        self.to_meter = unit.to_meter;\n      }\n    },\n    from_greenwich: function(v) {\n      self.from_greenwich = v * D2R;\n    },\n    pm: function(v) {\n      var pm = match(PrimeMeridian, v);\n      self.from_greenwich = (pm ? pm : parseFloat(v)) * D2R;\n    },\n    nadgrids: function(v) {\n      if (v === '@null') {\n        self.datumCode = 'none';\n      }\n      else {\n        self.nadgrids = v;\n      }\n    },\n    axis: function(v) {\n      var legalAxis = \"ewnsud\";\n      if (v.length === 3 && legalAxis.indexOf(v.substr(0, 1)) !== -1 && legalAxis.indexOf(v.substr(1, 1)) !== -1 && legalAxis.indexOf(v.substr(2, 1)) !== -1) {\n        self.axis = v;\n      }\n    },\n    approx: function() {\n      self.approx = true;\n    }\n  };\n  for (paramName in paramObj) {\n    paramVal = paramObj[paramName];\n    if (paramName in params) {\n      paramOutname = params[paramName];\n      if (typeof paramOutname === 'function') {\n        paramOutname(paramVal);\n      }\n      else {\n        self[paramOutname] = paramVal;\n      }\n    }\n    else {\n      self[paramName] = paramVal;\n    }\n  }\n  if(typeof self.datumCode === 'string' && self.datumCode !== \"WGS84\"){\n    self.datumCode = self.datumCode.toLowerCase();\n  }\n  return self;\n}\n","export default parseString;\n\nvar NEUTRAL = 1;\nvar KEYWORD = 2;\nvar NUMBER = 3;\nvar QUOTED = 4;\nvar AFTERQUOTE = 5;\nvar ENDED = -1;\nvar whitespace = /\\s/;\nvar latin = /[A-Za-z]/;\nvar keyword = /[A-Za-z84_]/;\nvar endThings = /[,\\]]/;\nvar digets = /[\\d\\.E\\-\\+]/;\n// const ignoredChar = /[\\s_\\-\\/\\(\\)]/g;\nfunction Parser(text) {\n  if (typeof text !== 'string') {\n    throw new Error('not a string');\n  }\n  this.text = text.trim();\n  this.level = 0;\n  this.place = 0;\n  this.root = null;\n  this.stack = [];\n  this.currentObject = null;\n  this.state = NEUTRAL;\n}\nParser.prototype.readCharicter = function() {\n  var char = this.text[this.place++];\n  if (this.state !== QUOTED) {\n    while (whitespace.test(char)) {\n      if (this.place >= this.text.length) {\n        return;\n      }\n      char = this.text[this.place++];\n    }\n  }\n  switch (this.state) {\n    case NEUTRAL:\n      return this.neutral(char);\n    case KEYWORD:\n      return this.keyword(char)\n    case QUOTED:\n      return this.quoted(char);\n    case AFTERQUOTE:\n      return this.afterquote(char);\n    case NUMBER:\n      return this.number(char);\n    case ENDED:\n      return;\n  }\n};\nParser.prototype.afterquote = function(char) {\n  if (char === '\"') {\n    this.word += '\"';\n    this.state = QUOTED;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.word = this.word.trim();\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in afterquote yet, index ' + this.place);\n};\nParser.prototype.afterItem = function(char) {\n  if (char === ',') {\n    if (this.word !== null) {\n      this.currentObject.push(this.word);\n    }\n    this.word = null;\n    this.state = NEUTRAL;\n    return;\n  }\n  if (char === ']') {\n    this.level--;\n    if (this.word !== null) {\n      this.currentObject.push(this.word);\n      this.word = null;\n    }\n    this.state = NEUTRAL;\n    this.currentObject = this.stack.pop();\n    if (!this.currentObject) {\n      this.state = ENDED;\n    }\n\n    return;\n  }\n};\nParser.prototype.number = function(char) {\n  if (digets.test(char)) {\n    this.word += char;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.word = parseFloat(this.word);\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in number yet, index ' + this.place);\n};\nParser.prototype.quoted = function(char) {\n  if (char === '\"') {\n    this.state = AFTERQUOTE;\n    return;\n  }\n  this.word += char;\n  return;\n};\nParser.prototype.keyword = function(char) {\n  if (keyword.test(char)) {\n    this.word += char;\n    return;\n  }\n  if (char === '[') {\n    var newObjects = [];\n    newObjects.push(this.word);\n    this.level++;\n    if (this.root === null) {\n      this.root = newObjects;\n    } else {\n      this.currentObject.push(newObjects);\n    }\n    this.stack.push(this.currentObject);\n    this.currentObject = newObjects;\n    this.state = NEUTRAL;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in keyword yet, index ' + this.place);\n};\nParser.prototype.neutral = function(char) {\n  if (latin.test(char)) {\n    this.word = char;\n    this.state = KEYWORD;\n    return;\n  }\n  if (char === '\"') {\n    this.word = '';\n    this.state = QUOTED;\n    return;\n  }\n  if (digets.test(char)) {\n    this.word = char;\n    this.state = NUMBER;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in neutral yet, index ' + this.place);\n};\nParser.prototype.output = function() {\n  while (this.place < this.text.length) {\n    this.readCharicter();\n  }\n  if (this.state === ENDED) {\n    return this.root;\n  }\n  throw new Error('unable to parse string \"' +this.text + '\". State is ' + this.state);\n};\n\nfunction parseString(txt) {\n  var parser = new Parser(txt);\n  return parser.output();\n}\n","\n\nfunction mapit(obj, key, value) {\n  if (Array.isArray(key)) {\n    value.unshift(key);\n    key = null;\n  }\n  var thing = key ? {} : obj;\n\n  var out = value.reduce(function(newObj, item) {\n    sExpr(item, newObj);\n    return newObj\n  }, thing);\n  if (key) {\n    obj[key] = out;\n  }\n}\n\nexport function sExpr(v, obj) {\n  if (!Array.isArray(v)) {\n    obj[v] = true;\n    return;\n  }\n  var key = v.shift();\n  if (key === 'PARAMETER') {\n    key = v.shift();\n  }\n  if (v.length === 1) {\n    if (Array.isArray(v[0])) {\n      obj[key] = {};\n      sExpr(v[0], obj[key]);\n      return;\n    }\n    obj[key] = v[0];\n    return;\n  }\n  if (!v.length) {\n    obj[key] = true;\n    return;\n  }\n  if (key === 'TOWGS84') {\n    obj[key] = v;\n    return;\n  }\n  if (key === 'AXIS') {\n    if (!(key in obj)) {\n      obj[key] = [];\n    }\n    obj[key].push(v);\n    return;\n  }\n  if (!Array.isArray(key)) {\n    obj[key] = {};\n  }\n\n  var i;\n  switch (key) {\n    case 'UNIT':\n    case 'PRIMEM':\n    case 'VERT_DATUM':\n      obj[key] = {\n        name: v[0].toLowerCase(),\n        convert: v[1]\n      };\n      if (v.length === 3) {\n        sExpr(v[2], obj[key]);\n      }\n      return;\n    case 'SPHEROID':\n    case 'ELLIPSOID':\n      obj[key] = {\n        name: v[0],\n        a: v[1],\n        rf: v[2]\n      };\n      if (v.length === 4) {\n        sExpr(v[3], obj[key]);\n      }\n      return;\n    case 'PROJECTEDCRS':\n    case 'PROJCRS':\n    case 'GEOGCS':\n    case 'GEOCCS':\n    case 'PROJCS':\n    case 'LOCAL_CS':\n    case 'GEODCRS':\n    case 'GEODETICCRS':\n    case 'GEODETICDATUM':\n    case 'EDATUM':\n    case 'ENGINEERINGDATUM':\n    case 'VERT_CS':\n    case 'VERTCRS':\n    case 'VERTICALCRS':\n    case 'COMPD_CS':\n    case 'COMPOUNDCRS':\n    case 'ENGINEERINGCRS':\n    case 'ENGCRS':\n    case 'FITTED_CS':\n    case 'LOCAL_DATUM':\n    case 'DATUM':\n      v[0] = ['name', v[0]];\n      mapit(obj, key, v);\n      return;\n    default:\n      i = -1;\n      while (++i < v.length) {\n        if (!Array.isArray(v[i])) {\n          return sExpr(v, obj[key]);\n        }\n      }\n      return mapit(obj, key, v);\n  }\n}\n","var D2R = 0.01745329251994329577;\nimport parser from './parser';\nimport {sExpr} from './process';\n\n\n\nfunction rename(obj, params) {\n  var outName = params[0];\n  var inName = params[1];\n  if (!(outName in obj) && (inName in obj)) {\n    obj[outName] = obj[inName];\n    if (params.length === 3) {\n      obj[outName] = params[2](obj[outName]);\n    }\n  }\n}\n\nfunction d2r(input) {\n  return input * D2R;\n}\n\nfunction cleanWKT(wkt) {\n  if (wkt.type === 'GEOGCS') {\n    wkt.projName = 'longlat';\n  } else if (wkt.type === 'LOCAL_CS') {\n    wkt.projName = 'identity';\n    wkt.local = true;\n  } else {\n    if (typeof wkt.PROJECTION === 'object') {\n      wkt.projName = Object.keys(wkt.PROJECTION)[0];\n    } else {\n      wkt.projName = wkt.PROJECTION;\n    }\n  }\n  if (wkt.AXIS) {\n    var axisOrder = '';\n    for (var i = 0, ii = wkt.AXIS.length; i < ii; ++i) {\n      var axis = [wkt.AXIS[i][0].toLowerCase(), wkt.AXIS[i][1].toLowerCase()];\n      if (axis[0].indexOf('north') !== -1 || ((axis[0] === 'y' || axis[0] === 'lat') && axis[1] === 'north')) {\n        axisOrder += 'n';\n      } else if (axis[0].indexOf('south') !== -1 || ((axis[0] === 'y' || axis[0] === 'lat') && axis[1] === 'south')) {\n        axisOrder += 's';\n      } else if (axis[0].indexOf('east') !== -1 || ((axis[0] === 'x' || axis[0] === 'lon') && axis[1] === 'east')) {\n        axisOrder += 'e';\n      } else if (axis[0].indexOf('west') !== -1 || ((axis[0] === 'x' || axis[0] === 'lon') && axis[1] === 'west')) {\n        axisOrder += 'w';\n      }\n    }\n    if (axisOrder.length === 2) {\n      axisOrder += 'u';\n    }\n    if (axisOrder.length === 3) {\n      wkt.axis = axisOrder;\n    }\n  }\n  if (wkt.UNIT) {\n    wkt.units = wkt.UNIT.name.toLowerCase();\n    if (wkt.units === 'metre') {\n      wkt.units = 'meter';\n    }\n    if (wkt.UNIT.convert) {\n      if (wkt.type === 'GEOGCS') {\n        if (wkt.DATUM && wkt.DATUM.SPHEROID) {\n          wkt.to_meter = wkt.UNIT.convert*wkt.DATUM.SPHEROID.a;\n        }\n      } else {\n        wkt.to_meter = wkt.UNIT.convert;\n      }\n    }\n  }\n  var geogcs = wkt.GEOGCS;\n  if (wkt.type === 'GEOGCS') {\n    geogcs = wkt;\n  }\n  if (geogcs) {\n    //if(wkt.GEOGCS.PRIMEM&&wkt.GEOGCS.PRIMEM.convert){\n    //  wkt.from_greenwich=wkt.GEOGCS.PRIMEM.convert*D2R;\n    //}\n    if (geogcs.DATUM) {\n      wkt.datumCode = geogcs.DATUM.name.toLowerCase();\n    } else {\n      wkt.datumCode = geogcs.name.toLowerCase();\n    }\n    if (wkt.datumCode.slice(0, 2) === 'd_') {\n      wkt.datumCode = wkt.datumCode.slice(2);\n    }\n    if (wkt.datumCode === 'new_zealand_geodetic_datum_1949' || wkt.datumCode === 'new_zealand_1949') {\n      wkt.datumCode = 'nzgd49';\n    }\n    if (wkt.datumCode === 'wgs_1984' || wkt.datumCode === 'world_geodetic_system_1984') {\n      if (wkt.PROJECTION === 'Mercator_Auxiliary_Sphere') {\n        wkt.sphere = true;\n      }\n      wkt.datumCode = 'wgs84';\n    }\n    if (wkt.datumCode.slice(-6) === '_ferro') {\n      wkt.datumCode = wkt.datumCode.slice(0, - 6);\n    }\n    if (wkt.datumCode.slice(-8) === '_jakarta') {\n      wkt.datumCode = wkt.datumCode.slice(0, - 8);\n    }\n    if (~wkt.datumCode.indexOf('belge')) {\n      wkt.datumCode = 'rnb72';\n    }\n    if (geogcs.DATUM && geogcs.DATUM.SPHEROID) {\n      wkt.ellps = geogcs.DATUM.SPHEROID.name.replace('_19', '').replace(/[Cc]larke\\_18/, 'clrk');\n      if (wkt.ellps.toLowerCase().slice(0, 13) === 'international') {\n        wkt.ellps = 'intl';\n      }\n\n      wkt.a = geogcs.DATUM.SPHEROID.a;\n      wkt.rf = parseFloat(geogcs.DATUM.SPHEROID.rf, 10);\n    }\n\n    if (geogcs.DATUM && geogcs.DATUM.TOWGS84) {\n      wkt.datum_params = geogcs.DATUM.TOWGS84;\n    }\n    if (~wkt.datumCode.indexOf('osgb_1936')) {\n      wkt.datumCode = 'osgb36';\n    }\n    if (~wkt.datumCode.indexOf('osni_1952')) {\n      wkt.datumCode = 'osni52';\n    }\n    if (~wkt.datumCode.indexOf('tm65')\n      || ~wkt.datumCode.indexOf('geodetic_datum_of_1965')) {\n      wkt.datumCode = 'ire65';\n    }\n    if (wkt.datumCode === 'ch1903+') {\n      wkt.datumCode = 'ch1903';\n    }\n    if (~wkt.datumCode.indexOf('israel')) {\n      wkt.datumCode = 'isr93';\n    }\n  }\n  if (wkt.b && !isFinite(wkt.b)) {\n    wkt.b = wkt.a;\n  }\n\n  function toMeter(input) {\n    var ratio = wkt.to_meter || 1;\n    return input * ratio;\n  }\n  var renamer = function(a) {\n    return rename(wkt, a);\n  };\n  var list = [\n    ['standard_parallel_1', 'Standard_Parallel_1'],\n    ['standard_parallel_1', 'Latitude of 1st standard parallel'],\n    ['standard_parallel_2', 'Standard_Parallel_2'],\n    ['standard_parallel_2', 'Latitude of 2nd standard parallel'],\n    ['false_easting', 'False_Easting'],\n    ['false_easting', 'False easting'],\n    ['false-easting', 'Easting at false origin'],\n    ['false_northing', 'False_Northing'],\n    ['false_northing', 'False northing'],\n    ['false_northing', 'Northing at false origin'],\n    ['central_meridian', 'Central_Meridian'],\n    ['central_meridian', 'Longitude of natural origin'],\n    ['central_meridian', 'Longitude of false origin'],\n    ['latitude_of_origin', 'Latitude_Of_Origin'],\n    ['latitude_of_origin', 'Central_Parallel'],\n    ['latitude_of_origin', 'Latitude of natural origin'],\n    ['latitude_of_origin', 'Latitude of false origin'],\n    ['scale_factor', 'Scale_Factor'],\n    ['k0', 'scale_factor'],\n    ['latitude_of_center', 'Latitude_Of_Center'],\n    ['latitude_of_center', 'Latitude_of_center'],\n    ['lat0', 'latitude_of_center', d2r],\n    ['longitude_of_center', 'Longitude_Of_Center'],\n    ['longitude_of_center', 'Longitude_of_center'],\n    ['longc', 'longitude_of_center', d2r],\n    ['x0', 'false_easting', toMeter],\n    ['y0', 'false_northing', toMeter],\n    ['long0', 'central_meridian', d2r],\n    ['lat0', 'latitude_of_origin', d2r],\n    ['lat0', 'standard_parallel_1', d2r],\n    ['lat1', 'standard_parallel_1', d2r],\n    ['lat2', 'standard_parallel_2', d2r],\n    ['azimuth', 'Azimuth'],\n    ['alpha', 'azimuth', d2r],\n    ['srsCode', 'name']\n  ];\n  list.forEach(renamer);\n  if (!wkt.long0 && wkt.longc && (wkt.projName === 'Albers_Conic_Equal_Area' || wkt.projName === 'Lambert_Azimuthal_Equal_Area')) {\n    wkt.long0 = wkt.longc;\n  }\n  if (!wkt.lat_ts && wkt.lat1 && (wkt.projName === 'Stereographic_South_Pole' || wkt.projName === 'Polar Stereographic (variant B)')) {\n    wkt.lat0 = d2r(wkt.lat1 > 0 ? 90 : -90);\n    wkt.lat_ts = wkt.lat1;\n  }\n}\nexport default function(wkt) {\n  var lisp = parser(wkt);\n  var type = lisp.shift();\n  var name = lisp.shift();\n  lisp.unshift(['name', name]);\n  lisp.unshift(['type', type]);\n  var obj = {};\n  sExpr(lisp, obj);\n  cleanWKT(obj);\n  return obj;\n}\n","import globals from './global';\nimport parseProj from './projString';\nimport wkt from 'wkt-parser';\n\nfunction defs(name) {\n  /*global console*/\n  var that = this;\n  if (arguments.length === 2) {\n    var def = arguments[1];\n    if (typeof def === 'string') {\n      if (def.charAt(0) === '+') {\n        defs[name] = parseProj(arguments[1]);\n      }\n      else {\n        defs[name] = wkt(arguments[1]);\n      }\n    } else {\n      defs[name] = def;\n    }\n  }\n  else if (arguments.length === 1) {\n    if (Array.isArray(name)) {\n      return name.map(function(v) {\n        if (Array.isArray(v)) {\n          defs.apply(that, v);\n        }\n        else {\n          defs(v);\n        }\n      });\n    }\n    else if (typeof name === 'string') {\n      if (name in defs) {\n        return defs[name];\n      }\n    }\n    else if ('EPSG' in name) {\n      defs['EPSG:' + name.EPSG] = name;\n    }\n    else if ('ESRI' in name) {\n      defs['ESRI:' + name.ESRI] = name;\n    }\n    else if ('IAU2000' in name) {\n      defs['IAU2000:' + name.IAU2000] = name;\n    }\n    else {\n      console.log(name);\n    }\n    return;\n  }\n\n\n}\nglobals(defs);\nexport default defs;\n","export default function(defs) {\n  defs('EPSG:4326', \"+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees\");\n  defs('EPSG:4269', \"+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees\");\n  defs('EPSG:3857', \"+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs\");\n\n  defs.WGS84 = defs['EPSG:4326'];\n  defs['EPSG:3785'] = defs['EPSG:3857']; // maintain backward compat, official code is 3857\n  defs.GOOGLE = defs['EPSG:3857'];\n  defs['EPSG:900913'] = defs['EPSG:3857'];\n  defs['EPSG:102113'] = defs['EPSG:3857'];\n}\n","import defs from './defs';\nimport wkt from 'wkt-parser';\nimport projStr from './projString';\nimport match from './match';\nfunction testObj(code){\n  return typeof code === 'string';\n}\nfunction testDef(code){\n  return code in defs;\n}\nvar codeWords = ['PROJECTEDCRS', 'PROJCRS', 'GEOGCS','GEOCCS','PROJCS','LOCAL_CS', 'GEODCRS', 'GEODETICCRS', 'GEODETICDATUM', 'ENGCRS', 'ENGINEERINGCRS'];\nfunction testWKT(code){\n  return codeWords.some(function (word) {\n    return code.indexOf(word) > -1;\n  });\n}\nvar codes = ['3857', '900913', '3785', '102113'];\nfunction checkMercator(item) {\n  var auth = match(item, 'authority');\n  if (!auth) {\n    return;\n  }\n  var code = match(auth, 'epsg');\n  return code && codes.indexOf(code) > -1;\n}\nfunction checkProjStr(item) {\n  var ext = match(item, 'extension');\n  if (!ext) {\n    return;\n  }\n  return match(ext, 'proj4');\n}\nfunction testProj(code){\n  return code[0] === '+';\n}\nfunction parse(code){\n  if (testObj(code)) {\n    //check to see if this is a WKT string\n    if (testDef(code)) {\n      return defs[code];\n    }\n    if (testWKT(code)) {\n      var out = wkt(code);\n      // test of spetial case, due to this being a very common and often malformed\n      if (checkMercator(out)) {\n        return defs['EPSG:3857'];\n      }\n      var maybeProjStr = checkProjStr(out);\n      if (maybeProjStr) {\n        return projStr(maybeProjStr);\n      }\n      return out;\n    }\n    if (testProj(code)) {\n      return projStr(code);\n    }\n  }else{\n    return code;\n  }\n}\n\nexport default parse;\n","export default function(destination, source) {\n  destination = destination || {};\n  var value, property;\n  if (!source) {\n    return destination;\n  }\n  for (property in source) {\n    value = source[property];\n    if (value !== undefined) {\n      destination[property] = value;\n    }\n  }\n  return destination;\n}\n","export default function(eccent, sinphi, cosphi) {\n  var con = eccent * sinphi;\n  return cosphi / (Math.sqrt(1 - con * con));\n}","export default function(x) {\n  return x<0 ? -1 : 1;\n}","\nimport {TWO_PI, SPI} from '../constants/values';\nimport sign from './sign';\n\nexport default function(x) {\n  return (Math.abs(x) <= SPI) ? x : (x - (sign(x) * TWO_PI));\n}\n","import {HALF_PI} from '../constants/values';\n\nexport default function(eccent, phi, sinphi) {\n  var con = eccent * sinphi;\n  var com = 0.5 * eccent;\n  con = Math.pow(((1 - con) / (1 + con)), com);\n  return (Math.tan(0.5 * (HALF_PI - phi)) / con);\n}\n","import {HALF_PI} from '../constants/values';\n\nexport default function(eccent, ts) {\n  var eccnth = 0.5 * eccent;\n  var con, dphi;\n  var phi = HALF_PI - 2 * Math.atan(ts);\n  for (var i = 0; i <= 15; i++) {\n    con = eccent * Math.sin(phi);\n    dphi = HALF_PI - 2 * Math.atan(ts * (Math.pow(((1 - con) / (1 + con)), eccnth))) - phi;\n    phi += dphi;\n    if (Math.abs(dphi) <= 0.0000000001) {\n      return phi;\n    }\n  }\n  //console.log(\"phi2z has NoConvergence\");\n  return -9999;\n}\n","import msfnz from '../common/msfnz';\n\nimport adjust_lon from '../common/adjust_lon';\nimport tsfnz from '../common/tsfnz';\nimport phi2z from '../common/phi2z';\nimport {FORTPI, R2D, EPSLN, HALF_PI} from '../constants/values';\nexport function init() {\n  var con = this.b / this.a;\n  this.es = 1 - con * con;\n  if(!('x0' in this)){\n    this.x0 = 0;\n  }\n  if(!('y0' in this)){\n    this.y0 = 0;\n  }\n  this.e = Math.sqrt(this.es);\n  if (this.lat_ts) {\n    if (this.sphere) {\n      this.k0 = Math.cos(this.lat_ts);\n    }\n    else {\n      this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));\n    }\n  }\n  else {\n    if (!this.k0) {\n      if (this.k) {\n        this.k0 = this.k;\n      }\n      else {\n        this.k0 = 1;\n      }\n    }\n  }\n}\n\n/* Mercator forward equations--mapping lat,long to x,y\n  --------------------------------------------------*/\n\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  // convert to radians\n  if (lat * R2D > 90 && lat * R2D < -90 && lon * R2D > 180 && lon * R2D < -180) {\n    return null;\n  }\n\n  var x, y;\n  if (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN) {\n    return null;\n  }\n  else {\n    if (this.sphere) {\n      x = this.x0 + this.a * this.k0 * adjust_lon(lon - this.long0);\n      y = this.y0 + this.a * this.k0 * Math.log(Math.tan(FORTPI + 0.5 * lat));\n    }\n    else {\n      var sinphi = Math.sin(lat);\n      var ts = tsfnz(this.e, lat, sinphi);\n      x = this.x0 + this.a * this.k0 * adjust_lon(lon - this.long0);\n      y = this.y0 - this.a * this.k0 * Math.log(ts);\n    }\n    p.x = x;\n    p.y = y;\n    return p;\n  }\n}\n\n/* Mercator inverse equations--mapping x,y to lat/long\n  --------------------------------------------------*/\nexport function inverse(p) {\n\n  var x = p.x - this.x0;\n  var y = p.y - this.y0;\n  var lon, lat;\n\n  if (this.sphere) {\n    lat = HALF_PI - 2 * Math.atan(Math.exp(-y / (this.a * this.k0)));\n  }\n  else {\n    var ts = Math.exp(-y / (this.a * this.k0));\n    lat = phi2z(this.e, ts);\n    if (lat === -9999) {\n      return null;\n    }\n  }\n  lon = adjust_lon(this.long0 + x / (this.a * this.k0));\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Mercator\", \"Popular Visualisation Pseudo Mercator\", \"Mercator_1SP\", \"Mercator_Auxiliary_Sphere\", \"merc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export function init() {\n  //no-op for longlat\n}\n\nfunction identity(pt) {\n  return pt;\n}\nexport {identity as forward};\nexport {identity as inverse};\nexport var names = [\"longlat\", \"identity\"];\nexport default {\n  init: init,\n  forward: identity,\n  inverse: identity,\n  names: names\n};\n","import merc from \"./projections/merc\";\nimport longlat from \"./projections/longlat\";\nvar projs = [merc, longlat];\nvar names = {};\nvar projStore = [];\n\nfunction add(proj, i) {\n  var len = projStore.length;\n  if (!proj.names) {\n    console.log(i);\n    return true;\n  }\n  projStore[len] = proj;\n  proj.names.forEach(function(n) {\n    names[n.toLowerCase()] = len;\n  });\n  return this;\n}\n\nexport {add};\n\nexport function get(name) {\n  if (!name) {\n    return false;\n  }\n  var n = name.toLowerCase();\n  if (typeof names[n] !== 'undefined' && projStore[names[n]]) {\n    return projStore[names[n]];\n  }\n}\n\nexport function start() {\n  projs.forEach(add);\n}\nexport default {\n  start: start,\n  add: add,\n  get: get\n};\n","var exports = {};\nexport {exports as default};\nexports.MERIT = {\n  a: 6378137.0,\n  rf: 298.257,\n  ellipseName: \"MERIT 1983\"\n};\n\nexports.SGS85 = {\n  a: 6378136.0,\n  rf: 298.257,\n  ellipseName: \"Soviet Geodetic System 85\"\n};\n\nexports.GRS80 = {\n  a: 6378137.0,\n  rf: 298.257222101,\n  ellipseName: \"GRS 1980(IUGG, 1980)\"\n};\n\nexports.IAU76 = {\n  a: 6378140.0,\n  rf: 298.257,\n  ellipseName: \"IAU 1976\"\n};\n\nexports.airy = {\n  a: 6377563.396,\n  b: 6356256.910,\n  ellipseName: \"Airy 1830\"\n};\n\nexports.APL4 = {\n  a: 6378137,\n  rf: 298.25,\n  ellipseName: \"Appl. Physics. 1965\"\n};\n\nexports.NWL9D = {\n  a: 6378145.0,\n  rf: 298.25,\n  ellipseName: \"Naval Weapons Lab., 1965\"\n};\n\nexports.mod_airy = {\n  a: 6377340.189,\n  b: 6356034.446,\n  ellipseName: \"Modified Airy\"\n};\n\nexports.andrae = {\n  a: 6377104.43,\n  rf: 300.0,\n  ellipseName: \"Andrae 1876 (Den., Iclnd.)\"\n};\n\nexports.aust_SA = {\n  a: 6378160.0,\n  rf: 298.25,\n  ellipseName: \"Australian Natl & S. Amer. 1969\"\n};\n\nexports.GRS67 = {\n  a: 6378160.0,\n  rf: 298.2471674270,\n  ellipseName: \"GRS 67(IUGG 1967)\"\n};\n\nexports.bessel = {\n  a: 6377397.155,\n  rf: 299.1528128,\n  ellipseName: \"Bessel 1841\"\n};\n\nexports.bess_nam = {\n  a: 6377483.865,\n  rf: 299.1528128,\n  ellipseName: \"Bessel 1841 (Namibia)\"\n};\n\nexports.clrk66 = {\n  a: 6378206.4,\n  b: 6356583.8,\n  ellipseName: \"Clarke 1866\"\n};\n\nexports.clrk80 = {\n  a: 6378249.145,\n  rf: 293.4663,\n  ellipseName: \"Clarke 1880 mod.\"\n};\n\nexports.clrk58 = {\n  a: 6378293.645208759,\n  rf: 294.2606763692654,\n  ellipseName: \"Clarke 1858\"\n};\n\nexports.CPM = {\n  a: 6375738.7,\n  rf: 334.29,\n  ellipseName: \"Comm. des Poids et Mesures 1799\"\n};\n\nexports.delmbr = {\n  a: 6376428.0,\n  rf: 311.5,\n  ellipseName: \"Delambre 1810 (Belgium)\"\n};\n\nexports.engelis = {\n  a: 6378136.05,\n  rf: 298.2566,\n  ellipseName: \"Engelis 1985\"\n};\n\nexports.evrst30 = {\n  a: 6377276.345,\n  rf: 300.8017,\n  ellipseName: \"Everest 1830\"\n};\n\nexports.evrst48 = {\n  a: 6377304.063,\n  rf: 300.8017,\n  ellipseName: \"Everest 1948\"\n};\n\nexports.evrst56 = {\n  a: 6377301.243,\n  rf: 300.8017,\n  ellipseName: \"Everest 1956\"\n};\n\nexports.evrst69 = {\n  a: 6377295.664,\n  rf: 300.8017,\n  ellipseName: \"Everest 1969\"\n};\n\nexports.evrstSS = {\n  a: 6377298.556,\n  rf: 300.8017,\n  ellipseName: \"Everest (Sabah & Sarawak)\"\n};\n\nexports.fschr60 = {\n  a: 6378166.0,\n  rf: 298.3,\n  ellipseName: \"Fischer (Mercury Datum) 1960\"\n};\n\nexports.fschr60m = {\n  a: 6378155.0,\n  rf: 298.3,\n  ellipseName: \"Fischer 1960\"\n};\n\nexports.fschr68 = {\n  a: 6378150.0,\n  rf: 298.3,\n  ellipseName: \"Fischer 1968\"\n};\n\nexports.helmert = {\n  a: 6378200.0,\n  rf: 298.3,\n  ellipseName: \"Helmert 1906\"\n};\n\nexports.hough = {\n  a: 6378270.0,\n  rf: 297.0,\n  ellipseName: \"Hough\"\n};\n\nexports.intl = {\n  a: 6378388.0,\n  rf: 297.0,\n  ellipseName: \"International 1909 (Hayford)\"\n};\n\nexports.kaula = {\n  a: 6378163.0,\n  rf: 298.24,\n  ellipseName: \"Kaula 1961\"\n};\n\nexports.lerch = {\n  a: 6378139.0,\n  rf: 298.257,\n  ellipseName: \"Lerch 1979\"\n};\n\nexports.mprts = {\n  a: 6397300.0,\n  rf: 191.0,\n  ellipseName: \"Maupertius 1738\"\n};\n\nexports.new_intl = {\n  a: 6378157.5,\n  b: 6356772.2,\n  ellipseName: \"New International 1967\"\n};\n\nexports.plessis = {\n  a: 6376523.0,\n  rf: 6355863.0,\n  ellipseName: \"Plessis 1817 (France)\"\n};\n\nexports.krass = {\n  a: 6378245.0,\n  rf: 298.3,\n  ellipseName: \"Krassovsky, 1942\"\n};\n\nexports.SEasia = {\n  a: 6378155.0,\n  b: 6356773.3205,\n  ellipseName: \"Southeast Asia\"\n};\n\nexports.walbeck = {\n  a: 6376896.0,\n  b: 6355834.8467,\n  ellipseName: \"Walbeck\"\n};\n\nexports.WGS60 = {\n  a: 6378165.0,\n  rf: 298.3,\n  ellipseName: \"WGS 60\"\n};\n\nexports.WGS66 = {\n  a: 6378145.0,\n  rf: 298.25,\n  ellipseName: \"WGS 66\"\n};\n\nexports.WGS7 = {\n  a: 6378135.0,\n  rf: 298.26,\n  ellipseName: \"WGS 72\"\n};\n\nexport var WGS84 = exports.WGS84 = {\n  a: 6378137.0,\n  rf: 298.257223563,\n  ellipseName: \"WGS 84\"\n};\n\nexports.sphere = {\n  a: 6370997.0,\n  b: 6370997.0,\n  ellipseName: \"Normal Sphere (r=6370997)\"\n};\n","var exports = {};\nexport {exports as default};\nexports.wgs84 = {\n  towgs84: \"0,0,0\",\n  ellipse: \"WGS84\",\n  datumName: \"WGS84\"\n};\n\nexports.ch1903 = {\n  towgs84: \"674.374,15.056,405.346\",\n  ellipse: \"bessel\",\n  datumName: \"swiss\"\n};\n\nexports.ggrs87 = {\n  towgs84: \"-199.87,74.79,246.62\",\n  ellipse: \"GRS80\",\n  datumName: \"Greek_Geodetic_Reference_System_1987\"\n};\n\nexports.nad83 = {\n  towgs84: \"0,0,0\",\n  ellipse: \"GRS80\",\n  datumName: \"North_American_Datum_1983\"\n};\n\nexports.nad27 = {\n  nadgrids: \"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat\",\n  ellipse: \"clrk66\",\n  datumName: \"North_American_Datum_1927\"\n};\n\nexports.potsdam = {\n  towgs84: \"598.1,73.7,418.2,0.202,0.045,-2.455,6.7\",\n  ellipse: \"bessel\",\n  datumName: \"Potsdam Rauenberg 1950 DHDN\"\n};\n\nexports.carthage = {\n  towgs84: \"-263.0,6.0,431.0\",\n  ellipse: \"clark80\",\n  datumName: \"Carthage 1934 Tunisia\"\n};\n\nexports.hermannskogel = {\n  towgs84: \"577.326,90.129,463.919,5.137,1.474,5.297,2.4232\",\n  ellipse: \"bessel\",\n  datumName: \"Hermannskogel\"\n};\n\nexports.osni52 = {\n  towgs84: \"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15\",\n  ellipse: \"airy\",\n  datumName: \"Irish National\"\n};\n\nexports.ire65 = {\n  towgs84: \"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15\",\n  ellipse: \"mod_airy\",\n  datumName: \"Ireland 1965\"\n};\n\nexports.rassadiran = {\n  towgs84: \"-133.63,-157.5,-158.62\",\n  ellipse: \"intl\",\n  datumName: \"Rassadiran\"\n};\n\nexports.nzgd49 = {\n  towgs84: \"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993\",\n  ellipse: \"intl\",\n  datumName: \"New Zealand Geodetic Datum 1949\"\n};\n\nexports.osgb36 = {\n  towgs84: \"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894\",\n  ellipse: \"airy\",\n  datumName: \"Airy 1830\"\n};\n\nexports.s_jtsk = {\n  towgs84: \"589,76,480\",\n  ellipse: 'bessel',\n  datumName: 'S-JTSK (Ferro)'\n};\n\nexports.beduaram = {\n  towgs84: '-106,-87,188',\n  ellipse: 'clrk80',\n  datumName: 'Beduaram'\n};\n\nexports.gunung_segara = {\n  towgs84: '-403,684,41',\n  ellipse: 'bessel',\n  datumName: 'Gunung Segara Jakarta'\n};\n\nexports.rnb72 = {\n  towgs84: \"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1\",\n  ellipse: \"intl\",\n  datumName: \"Reseau National Belge 1972\"\n};\n","import {PJD_3PARAM, PJD_7PARAM, PJD_GRIDSHIFT, PJD_WGS84, PJD_NODATUM, SEC_TO_RAD} from './constants/values';\n\nfunction datum(datumCode, datum_params, a, b, es, ep2, nadgrids) {\n  var out = {};\n\n  if (datumCode === undefined || datumCode === 'none') {\n    out.datum_type = PJD_NODATUM;\n  } else {\n    out.datum_type = PJD_WGS84;\n  }\n\n  if (datum_params) {\n    out.datum_params = datum_params.map(parseFloat);\n    if (out.datum_params[0] !== 0 || out.datum_params[1] !== 0 || out.datum_params[2] !== 0) {\n      out.datum_type = PJD_3PARAM;\n    }\n    if (out.datum_params.length > 3) {\n      if (out.datum_params[3] !== 0 || out.datum_params[4] !== 0 || out.datum_params[5] !== 0 || out.datum_params[6] !== 0) {\n        out.datum_type = PJD_7PARAM;\n        out.datum_params[3] *= SEC_TO_RAD;\n        out.datum_params[4] *= SEC_TO_RAD;\n        out.datum_params[5] *= SEC_TO_RAD;\n        out.datum_params[6] = (out.datum_params[6] / 1000000.0) + 1.0;\n      }\n    }\n  }\n\n  if (nadgrids) {\n    out.datum_type = PJD_GRIDSHIFT;\n    out.grids = nadgrids;\n  }\n  out.a = a; //datum object also uses these values\n  out.b = b;\n  out.es = es;\n  out.ep2 = ep2;\n  return out;\n}\n\nexport default datum;\n","/**\n * Resources for details of NTv2 file formats:\n * - https://web.archive.org/web/20140127204822if_/http://www.mgs.gov.on.ca:80/stdprodconsume/groups/content/@mgs/@iandit/documents/resourcelist/stel02_047447.pdf\n * - http://mimaka.com/help/gs/html/004_NTV2%20Data%20Format.htm\n */\n\nvar loadedNadgrids = {};\n\n/**\n * Load a binary NTv2 file (.gsb) to a key that can be used in a proj string like +nadgrids=<key>. Pass the NTv2 file\n * as an ArrayBuffer.\n */\nexport default function nadgrid(key, data) {\n  var view = new DataView(data);\n  var isLittleEndian = detectLittleEndian(view);\n  var header = readHeader(view, isLittleEndian);\n  if (header.nSubgrids > 1) {\n    console.log('Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored');\n  }\n  var subgrids = readSubgrids(view, header, isLittleEndian);\n  var nadgrid = {header: header, subgrids: subgrids};\n  loadedNadgrids[key] = nadgrid;\n  return nadgrid;\n}\n\n/**\n * Given a proj4 value for nadgrids, return an array of loaded grids\n */\nexport function getNadgrids(nadgrids) {\n  // Format details: http://proj.maptools.org/gen_parms.html\n  if (nadgrids === undefined) { return null; }\n  var grids = nadgrids.split(',');\n  return grids.map(parseNadgridString);\n}\n\nfunction parseNadgridString(value) {\n  if (value.length === 0) {\n    return null;\n  }\n  var optional = value[0] === '@';\n  if (optional) {\n    value = value.slice(1);\n  }\n  if (value === 'null') {\n    return {name: 'null', mandatory: !optional, grid: null, isNull: true};\n  }\n  return {\n    name: value,\n    mandatory: !optional,\n    grid: loadedNadgrids[value] || null,\n    isNull: false\n  };\n}\n\nfunction secondsToRadians(seconds) {\n  return (seconds / 3600) * Math.PI / 180;\n}\n\nfunction detectLittleEndian(view) {\n  var nFields = view.getInt32(8, false);\n  if (nFields === 11) {\n    return false;\n  }\n  nFields = view.getInt32(8, true);\n  if (nFields !== 11) {\n    console.warn('Failed to detect nadgrid endian-ness, defaulting to little-endian');\n  }\n  return true;\n}\n\nfunction readHeader(view, isLittleEndian) {\n  return {\n    nFields: view.getInt32(8, isLittleEndian),\n    nSubgridFields: view.getInt32(24, isLittleEndian),\n    nSubgrids: view.getInt32(40, isLittleEndian),\n    shiftType: decodeString(view, 56, 56 + 8).trim(),\n    fromSemiMajorAxis: view.getFloat64(120, isLittleEndian),\n    fromSemiMinorAxis: view.getFloat64(136, isLittleEndian),\n    toSemiMajorAxis: view.getFloat64(152, isLittleEndian),\n    toSemiMinorAxis: view.getFloat64(168, isLittleEndian),\n  };\n}\n\nfunction decodeString(view, start, end) {\n  return String.fromCharCode.apply(null, new Uint8Array(view.buffer.slice(start, end)));\n}\n\nfunction readSubgrids(view, header, isLittleEndian) {\n  var gridOffset = 176;\n  var grids = [];\n  for (var i = 0; i < header.nSubgrids; i++) {\n    var subHeader = readGridHeader(view, gridOffset, isLittleEndian);\n    var nodes = readGridNodes(view, gridOffset, subHeader, isLittleEndian);\n    var lngColumnCount = Math.round(\n      1 + (subHeader.upperLongitude - subHeader.lowerLongitude) / subHeader.longitudeInterval);\n    var latColumnCount = Math.round(\n      1 + (subHeader.upperLatitude - subHeader.lowerLatitude) / subHeader.latitudeInterval);\n    // Proj4 operates on radians whereas the coordinates are in seconds in the grid\n    grids.push({\n      ll: [secondsToRadians(subHeader.lowerLongitude), secondsToRadians(subHeader.lowerLatitude)],\n      del: [secondsToRadians(subHeader.longitudeInterval), secondsToRadians(subHeader.latitudeInterval)],\n      lim: [lngColumnCount, latColumnCount],\n      count: subHeader.gridNodeCount,\n      cvs: mapNodes(nodes)\n    });\n  }\n  return grids;\n}\n\nfunction mapNodes(nodes) {\n  return nodes.map(function (r) {return [secondsToRadians(r.longitudeShift), secondsToRadians(r.latitudeShift)];});\n}\n\nfunction readGridHeader(view, offset, isLittleEndian) {\n  return {\n    name: decodeString(view, offset + 8, offset + 16).trim(),\n    parent: decodeString(view, offset + 24, offset + 24 + 8).trim(),\n    lowerLatitude: view.getFloat64(offset + 72, isLittleEndian),\n    upperLatitude: view.getFloat64(offset + 88, isLittleEndian),\n    lowerLongitude: view.getFloat64(offset + 104, isLittleEndian),\n    upperLongitude: view.getFloat64(offset + 120, isLittleEndian),\n    latitudeInterval: view.getFloat64(offset + 136, isLittleEndian),\n    longitudeInterval: view.getFloat64(offset + 152, isLittleEndian),\n    gridNodeCount: view.getInt32(offset + 168, isLittleEndian)\n  };\n}\n\nfunction readGridNodes(view, offset, gridHeader, isLittleEndian) {\n  var nodesOffset = offset + 176;\n  var gridRecordLength = 16;\n  var gridShiftRecords = [];\n  for (var i = 0; i < gridHeader.gridNodeCount; i++) {\n    var record = {\n      latitudeShift: view.getFloat32(nodesOffset + i * gridRecordLength, isLittleEndian),\n      longitudeShift: view.getFloat32(nodesOffset + i * gridRecordLength + 4, isLittleEndian),\n      latitudeAccuracy: view.getFloat32(nodesOffset + i * gridRecordLength + 8, isLittleEndian),\n      longitudeAccuracy: view.getFloat32(nodesOffset + i * gridRecordLength + 12, isLittleEndian),\n    };\n    gridShiftRecords.push(record);\n  }\n  return gridShiftRecords;\n}\n","import parseCode from './parseCode';\nimport extend from './extend';\nimport projections from './projections';\nimport {sphere as dc_sphere, eccentricity as dc_eccentricity} from './deriveConstants';\nimport Datum from './constants/Datum';\nimport datum from './datum';\nimport match from './match';\nimport {getNadgrids} from \"./nadgrid\";\n\nfunction Projection(srsCode,callback) {\n  if (!(this instanceof Projection)) {\n    return new Projection(srsCode);\n  }\n  callback = callback || function(error){\n    if(error){\n      throw error;\n    }\n  };\n  var json = parseCode(srsCode);\n  if(typeof json !== 'object'){\n    callback(srsCode);\n    return;\n  }\n  var ourProj = Projection.projections.get(json.projName);\n  if(!ourProj){\n    callback(srsCode);\n    return;\n  }\n  if (json.datumCode && json.datumCode !== 'none') {\n    var datumDef = match(Datum, json.datumCode);\n    if (datumDef) {\n      json.datum_params = json.datum_params || (datumDef.towgs84 ? datumDef.towgs84.split(',') : null);\n      json.ellps = datumDef.ellipse;\n      json.datumName = datumDef.datumName ? datumDef.datumName : json.datumCode;\n    }\n  }\n  json.k0 = json.k0 || 1.0;\n  json.axis = json.axis || 'enu';\n  json.ellps = json.ellps || 'wgs84';\n  json.lat1 = json.lat1 || json.lat0; // Lambert_Conformal_Conic_1SP, for example, needs this\n\n  var sphere_ = dc_sphere(json.a, json.b, json.rf, json.ellps, json.sphere);\n  var ecc = dc_eccentricity(sphere_.a, sphere_.b, sphere_.rf, json.R_A);\n  var nadgrids = getNadgrids(json.nadgrids);\n  var datumObj = json.datum || datum(json.datumCode, json.datum_params, sphere_.a, sphere_.b, ecc.es, ecc.ep2,\n    nadgrids);\n\n  extend(this, json); // transfer everything over from the projection because we don't know what we'll need\n  extend(this, ourProj); // transfer all the methods from the projection\n\n  // copy the 4 things over we calculated in deriveConstants.sphere\n  this.a = sphere_.a;\n  this.b = sphere_.b;\n  this.rf = sphere_.rf;\n  this.sphere = sphere_.sphere;\n\n  // copy the 3 things we calculated in deriveConstants.eccentricity\n  this.es = ecc.es;\n  this.e = ecc.e;\n  this.ep2 = ecc.ep2;\n\n  // add in the datum object\n  this.datum = datumObj;\n\n  // init the projection\n  this.init();\n\n  // legecy callback from back in the day when it went to spatialreference.org\n  callback(null, this);\n\n}\nProjection.projections = projections;\nProjection.projections.start();\nexport default Projection;\n","import {SIXTH, RA4, RA6, EPSLN} from './constants/values';\nimport {default as Ellipsoid, WGS84} from './constants/Ellipsoid';\nimport match from './match';\n\nexport function eccentricity(a, b, rf, R_A) {\n  var a2 = a * a; // used in geocentric\n  var b2 = b * b; // used in geocentric\n  var es = (a2 - b2) / a2; // e ^ 2\n  var e = 0;\n  if (R_A) {\n    a *= 1 - es * (SIXTH + es * (RA4 + es * RA6));\n    a2 = a * a;\n    es = 0;\n  } else {\n    e = Math.sqrt(es); // eccentricity\n  }\n  var ep2 = (a2 - b2) / b2; // used in geocentric\n  return {\n    es: es,\n    e: e,\n    ep2: ep2\n  };\n}\nexport function sphere(a, b, rf, ellps, sphere) {\n  if (!a) { // do we have an ellipsoid?\n    var ellipse = match(Ellipsoid, ellps);\n    if (!ellipse) {\n      ellipse = WGS84;\n    }\n    a = ellipse.a;\n    b = ellipse.b;\n    rf = ellipse.rf;\n  }\n\n  if (rf && !b) {\n    b = (1.0 - 1.0 / rf) * a;\n  }\n  if (rf === 0 || Math.abs(a - b) < EPSLN) {\n    sphere = true;\n    b = a;\n  }\n  return {\n    a: a,\n    b: b,\n    rf: rf,\n    sphere: sphere\n  };\n}\n","'use strict';\nimport {PJD_3PARAM, PJD_7PARAM, HALF_PI} from './constants/values';\nexport function compareDatums(source, dest) {\n  if (source.datum_type !== dest.datum_type) {\n    return false; // false, datums are not equal\n  } else if (source.a !== dest.a || Math.abs(source.es - dest.es) > 0.000000000050) {\n    // the tolerance for es is to ensure that GRS80 and WGS84\n    // are considered identical\n    return false;\n  } else if (source.datum_type === PJD_3PARAM) {\n    return (source.datum_params[0] === dest.datum_params[0] && source.datum_params[1] === dest.datum_params[1] && source.datum_params[2] === dest.datum_params[2]);\n  } else if (source.datum_type === PJD_7PARAM) {\n    return (source.datum_params[0] === dest.datum_params[0] && source.datum_params[1] === dest.datum_params[1] && source.datum_params[2] === dest.datum_params[2] && source.datum_params[3] === dest.datum_params[3] && source.datum_params[4] === dest.datum_params[4] && source.datum_params[5] === dest.datum_params[5] && source.datum_params[6] === dest.datum_params[6]);\n  } else {\n    return true; // datums are equal\n  }\n} // cs_compare_datums()\n\n/*\n * The function Convert_Geodetic_To_Geocentric converts geodetic coordinates\n * (latitude, longitude, and height) to geocentric coordinates (X, Y, Z),\n * according to the current ellipsoid parameters.\n *\n *    Latitude  : Geodetic latitude in radians                     (input)\n *    Longitude : Geodetic longitude in radians                    (input)\n *    Height    : Geodetic height, in meters                       (input)\n *    X         : Calculated Geocentric X coordinate, in meters    (output)\n *    Y         : Calculated Geocentric Y coordinate, in meters    (output)\n *    Z         : Calculated Geocentric Z coordinate, in meters    (output)\n *\n */\nexport function geodeticToGeocentric(p, es, a) {\n  var Longitude = p.x;\n  var Latitude = p.y;\n  var Height = p.z ? p.z : 0; //Z value not always supplied\n\n  var Rn; /*  Earth radius at location  */\n  var Sin_Lat; /*  Math.sin(Latitude)  */\n  var Sin2_Lat; /*  Square of Math.sin(Latitude)  */\n  var Cos_Lat; /*  Math.cos(Latitude)  */\n\n  /*\n   ** Don't blow up if Latitude is just a little out of the value\n   ** range as it may just be a rounding issue.  Also removed longitude\n   ** test, it should be wrapped by Math.cos() and Math.sin().  NFW for PROJ.4, Sep/2001.\n   */\n  if (Latitude < -HALF_PI && Latitude > -1.001 * HALF_PI) {\n    Latitude = -HALF_PI;\n  } else if (Latitude > HALF_PI && Latitude < 1.001 * HALF_PI) {\n    Latitude = HALF_PI;\n  } else if (Latitude < -HALF_PI) {\n    /* Latitude out of range */\n    //..reportError('geocent:lat out of range:' + Latitude);\n    return { x: -Infinity, y: -Infinity, z: p.z };\n  } else if (Latitude > HALF_PI) {\n    /* Latitude out of range */\n    return { x: Infinity, y: Infinity, z: p.z };\n  }\n\n  if (Longitude > Math.PI) {\n    Longitude -= (2 * Math.PI);\n  }\n  Sin_Lat = Math.sin(Latitude);\n  Cos_Lat = Math.cos(Latitude);\n  Sin2_Lat = Sin_Lat * Sin_Lat;\n  Rn = a / (Math.sqrt(1.0e0 - es * Sin2_Lat));\n  return {\n    x: (Rn + Height) * Cos_Lat * Math.cos(Longitude),\n    y: (Rn + Height) * Cos_Lat * Math.sin(Longitude),\n    z: ((Rn * (1 - es)) + Height) * Sin_Lat\n  };\n} // cs_geodetic_to_geocentric()\n\nexport function geocentricToGeodetic(p, es, a, b) {\n  /* local defintions and variables */\n  /* end-criterium of loop, accuracy of sin(Latitude) */\n  var genau = 1e-12;\n  var genau2 = (genau * genau);\n  var maxiter = 30;\n\n  var P; /* distance between semi-minor axis and location */\n  var RR; /* distance between center and location */\n  var CT; /* sin of geocentric latitude */\n  var ST; /* cos of geocentric latitude */\n  var RX;\n  var RK;\n  var RN; /* Earth radius at location */\n  var CPHI0; /* cos of start or old geodetic latitude in iterations */\n  var SPHI0; /* sin of start or old geodetic latitude in iterations */\n  var CPHI; /* cos of searched geodetic latitude */\n  var SPHI; /* sin of searched geodetic latitude */\n  var SDPHI; /* end-criterium: addition-theorem of sin(Latitude(iter)-Latitude(iter-1)) */\n  var iter; /* # of continous iteration, max. 30 is always enough (s.a.) */\n\n  var X = p.x;\n  var Y = p.y;\n  var Z = p.z ? p.z : 0.0; //Z value not always supplied\n  var Longitude;\n  var Latitude;\n  var Height;\n\n  P = Math.sqrt(X * X + Y * Y);\n  RR = Math.sqrt(X * X + Y * Y + Z * Z);\n\n  /*      special cases for latitude and longitude */\n  if (P / a < genau) {\n\n    /*  special case, if P=0. (X=0., Y=0.) */\n    Longitude = 0.0;\n\n    /*  if (X,Y,Z)=(0.,0.,0.) then Height becomes semi-minor axis\n     *  of ellipsoid (=center of mass), Latitude becomes PI/2 */\n    if (RR / a < genau) {\n      Latitude = HALF_PI;\n      Height = -b;\n      return {\n        x: p.x,\n        y: p.y,\n        z: p.z\n      };\n    }\n  } else {\n    /*  ellipsoidal (geodetic) longitude\n     *  interval: -PI < Longitude <= +PI */\n    Longitude = Math.atan2(Y, X);\n  }\n\n  /* --------------------------------------------------------------\n   * Following iterative algorithm was developped by\n   * \"Institut for Erdmessung\", University of Hannover, July 1988.\n   * Internet: www.ife.uni-hannover.de\n   * Iterative computation of CPHI,SPHI and Height.\n   * Iteration of CPHI and SPHI to 10**-12 radian resp.\n   * 2*10**-7 arcsec.\n   * --------------------------------------------------------------\n   */\n  CT = Z / RR;\n  ST = P / RR;\n  RX = 1.0 / Math.sqrt(1.0 - es * (2.0 - es) * ST * ST);\n  CPHI0 = ST * (1.0 - es) * RX;\n  SPHI0 = CT * RX;\n  iter = 0;\n\n  /* loop to find sin(Latitude) resp. Latitude\n   * until |sin(Latitude(iter)-Latitude(iter-1))| < genau */\n  do {\n    iter++;\n    RN = a / Math.sqrt(1.0 - es * SPHI0 * SPHI0);\n\n    /*  ellipsoidal (geodetic) height */\n    Height = P * CPHI0 + Z * SPHI0 - RN * (1.0 - es * SPHI0 * SPHI0);\n\n    RK = es * RN / (RN + Height);\n    RX = 1.0 / Math.sqrt(1.0 - RK * (2.0 - RK) * ST * ST);\n    CPHI = ST * (1.0 - RK) * RX;\n    SPHI = CT * RX;\n    SDPHI = SPHI * CPHI0 - CPHI * SPHI0;\n    CPHI0 = CPHI;\n    SPHI0 = SPHI;\n  }\n  while (SDPHI * SDPHI > genau2 && iter < maxiter);\n\n  /*      ellipsoidal (geodetic) latitude */\n  Latitude = Math.atan(SPHI / Math.abs(CPHI));\n  return {\n    x: Longitude,\n    y: Latitude,\n    z: Height\n  };\n} // cs_geocentric_to_geodetic()\n\n/****************************************************************/\n// pj_geocentic_to_wgs84( p )\n//  p = point to transform in geocentric coordinates (x,y,z)\n\n\n/** point object, nothing fancy, just allows values to be\n    passed back and forth by reference rather than by value.\n    Other point classes may be used as long as they have\n    x and y properties, which will get modified in the transform method.\n*/\nexport function geocentricToWgs84(p, datum_type, datum_params) {\n\n  if (datum_type === PJD_3PARAM) {\n    // if( x[io] === HUGE_VAL )\n    //    continue;\n    return {\n      x: p.x + datum_params[0],\n      y: p.y + datum_params[1],\n      z: p.z + datum_params[2],\n    };\n  } else if (datum_type === PJD_7PARAM) {\n    var Dx_BF = datum_params[0];\n    var Dy_BF = datum_params[1];\n    var Dz_BF = datum_params[2];\n    var Rx_BF = datum_params[3];\n    var Ry_BF = datum_params[4];\n    var Rz_BF = datum_params[5];\n    var M_BF = datum_params[6];\n    // if( x[io] === HUGE_VAL )\n    //    continue;\n    return {\n      x: M_BF * (p.x - Rz_BF * p.y + Ry_BF * p.z) + Dx_BF,\n      y: M_BF * (Rz_BF * p.x + p.y - Rx_BF * p.z) + Dy_BF,\n      z: M_BF * (-Ry_BF * p.x + Rx_BF * p.y + p.z) + Dz_BF\n    };\n  }\n} // cs_geocentric_to_wgs84\n\n/****************************************************************/\n// pj_geocentic_from_wgs84()\n//  coordinate system definition,\n//  point to transform in geocentric coordinates (x,y,z)\nexport function geocentricFromWgs84(p, datum_type, datum_params) {\n\n  if (datum_type === PJD_3PARAM) {\n    //if( x[io] === HUGE_VAL )\n    //    continue;\n    return {\n      x: p.x - datum_params[0],\n      y: p.y - datum_params[1],\n      z: p.z - datum_params[2],\n    };\n\n  } else if (datum_type === PJD_7PARAM) {\n    var Dx_BF = datum_params[0];\n    var Dy_BF = datum_params[1];\n    var Dz_BF = datum_params[2];\n    var Rx_BF = datum_params[3];\n    var Ry_BF = datum_params[4];\n    var Rz_BF = datum_params[5];\n    var M_BF = datum_params[6];\n    var x_tmp = (p.x - Dx_BF) / M_BF;\n    var y_tmp = (p.y - Dy_BF) / M_BF;\n    var z_tmp = (p.z - Dz_BF) / M_BF;\n    //if( x[io] === HUGE_VAL )\n    //    continue;\n\n    return {\n      x: x_tmp + Rz_BF * y_tmp - Ry_BF * z_tmp,\n      y: -Rz_BF * x_tmp + y_tmp + Rx_BF * z_tmp,\n      z: Ry_BF * x_tmp - Rx_BF * y_tmp + z_tmp\n    };\n  } //cs_geocentric_from_wgs84()\n}\n","import {\n  PJD_3PARAM,\n  PJD_7PARAM,\n  PJD_GRIDSHIFT,\n  PJD_NODATUM,\n  R2D,\n  SRS_WGS84_ESQUARED,\n  SRS_WGS84_SEMIMAJOR, SRS_WGS84_SEMIMINOR\n} from './constants/values';\n\nimport {geodeticToGeocentric, geocentricToGeodetic, geocentricToWgs84, geocentricFromWgs84, compareDatums} from './datumUtils';\nimport adjust_lon from \"./common/adjust_lon\";\nfunction checkParams(type) {\n  return (type === PJD_3PARAM || type === PJD_7PARAM);\n}\n\nexport default function(source, dest, point) {\n  // Short cut if the datums are identical.\n  if (compareDatums(source, dest)) {\n    return point; // in this case, zero is sucess,\n    // whereas cs_compare_datums returns 1 to indicate TRUE\n    // confusing, should fix this\n  }\n\n  // Explicitly skip datum transform by setting 'datum=none' as parameter for either source or dest\n  if (source.datum_type === PJD_NODATUM || dest.datum_type === PJD_NODATUM) {\n    return point;\n  }\n\n  // If this datum requires grid shifts, then apply it to geodetic coordinates.\n  var source_a = source.a;\n  var source_es = source.es;\n  if (source.datum_type === PJD_GRIDSHIFT) {\n    var gridShiftCode = applyGridShift(source, false, point);\n    if (gridShiftCode !== 0) {\n      return undefined;\n    }\n    source_a = SRS_WGS84_SEMIMAJOR;\n    source_es = SRS_WGS84_ESQUARED;\n  }\n\n  var dest_a = dest.a;\n  var dest_b = dest.b;\n  var dest_es = dest.es;\n  if (dest.datum_type === PJD_GRIDSHIFT) {\n    dest_a = SRS_WGS84_SEMIMAJOR;\n    dest_b = SRS_WGS84_SEMIMINOR;\n    dest_es = SRS_WGS84_ESQUARED;\n  }\n\n  // Do we need to go through geocentric coordinates?\n  if (source_es === dest_es && source_a === dest_a && !checkParams(source.datum_type) &&  !checkParams(dest.datum_type)) {\n    return point;\n  }\n\n  // Convert to geocentric coordinates.\n  point = geodeticToGeocentric(point, source_es, source_a);\n  // Convert between datums\n  if (checkParams(source.datum_type)) {\n    point = geocentricToWgs84(point, source.datum_type, source.datum_params);\n  }\n  if (checkParams(dest.datum_type)) {\n    point = geocentricFromWgs84(point, dest.datum_type, dest.datum_params);\n  }\n  point = geocentricToGeodetic(point, dest_es, dest_a, dest_b);\n\n  if (dest.datum_type === PJD_GRIDSHIFT) {\n    var destGridShiftResult = applyGridShift(dest, true, point);\n    if (destGridShiftResult !== 0) {\n      return undefined;\n    }\n  }\n\n  return point;\n}\n\nexport function applyGridShift(source, inverse, point) {\n  if (source.grids === null || source.grids.length === 0) {\n    console.log('Grid shift grids not found');\n    return -1;\n  }\n  var input = {x: -point.x, y: point.y};\n  var output = {x: Number.NaN, y: Number.NaN};\n  var onlyMandatoryGrids = false;\n  var attemptedGrids = [];\n  for (var i = 0; i < source.grids.length; i++) {\n    var grid = source.grids[i];\n    attemptedGrids.push(grid.name);\n    if (grid.isNull) {\n      output = input;\n      break;\n    }\n    onlyMandatoryGrids = grid.mandatory;\n    if (grid.grid === null) {\n      if (grid.mandatory) {\n        console.log(\"Unable to find mandatory grid '\" + grid.name + \"'\");\n        return -1;\n      }\n      continue;\n    }\n    var subgrid = grid.grid.subgrids[0];\n    // skip tables that don't match our point at all\n    var epsilon = (Math.abs(subgrid.del[1]) + Math.abs(subgrid.del[0])) / 10000.0;\n    var minX = subgrid.ll[0] - epsilon;\n    var minY = subgrid.ll[1] - epsilon;\n    var maxX = subgrid.ll[0] + (subgrid.lim[0] - 1) * subgrid.del[0] + epsilon;\n    var maxY = subgrid.ll[1] + (subgrid.lim[1] - 1) * subgrid.del[1] + epsilon;\n    if (minY > input.y || minX > input.x || maxY < input.y || maxX < input.x ) {\n      continue;\n    }\n    output = applySubgridShift(input, inverse, subgrid);\n    if (!isNaN(output.x)) {\n      break;\n    }\n  }\n  if (isNaN(output.x)) {\n    console.log(\"Failed to find a grid shift table for location '\"+\n      -input.x * R2D + \" \" + input.y * R2D + \" tried: '\" + attemptedGrids + \"'\");\n    return -1;\n  }\n  point.x = -output.x;\n  point.y = output.y;\n  return 0;\n}\n\nfunction applySubgridShift(pin, inverse, ct) {\n  var val = {x: Number.NaN, y: Number.NaN};\n  if (isNaN(pin.x)) { return val; }\n  var tb = {x: pin.x, y: pin.y};\n  tb.x -= ct.ll[0];\n  tb.y -= ct.ll[1];\n  tb.x = adjust_lon(tb.x - Math.PI) + Math.PI;\n  var t = nadInterpolate(tb, ct);\n  if (inverse) {\n    if (isNaN(t.x)) {\n      return val;\n    }\n    t.x = tb.x - t.x;\n    t.y = tb.y - t.y;\n    var i = 9, tol = 1e-12;\n    var dif, del;\n    do {\n      del = nadInterpolate(t, ct);\n      if (isNaN(del.x)) {\n        console.log(\"Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.\");\n        break;\n      }\n      dif = {x: tb.x - (del.x + t.x), y: tb.y - (del.y + t.y)};\n      t.x += dif.x;\n      t.y += dif.y;\n    } while (i-- && Math.abs(dif.x) > tol && Math.abs(dif.y) > tol);\n    if (i < 0) {\n      console.log(\"Inverse grid shift iterator failed to converge.\");\n      return val;\n    }\n    val.x = adjust_lon(t.x + ct.ll[0]);\n    val.y = t.y + ct.ll[1];\n  } else {\n    if (!isNaN(t.x)) {\n      val.x = pin.x + t.x;\n      val.y = pin.y + t.y;\n    }\n  }\n  return val;\n}\n\nfunction nadInterpolate(pin, ct) {\n  var t = {x: pin.x / ct.del[0], y: pin.y / ct.del[1]};\n  var indx = {x: Math.floor(t.x), y: Math.floor(t.y)};\n  var frct = {x: t.x - 1.0 * indx.x, y: t.y - 1.0 * indx.y};\n  var val= {x: Number.NaN, y: Number.NaN};\n  var inx;\n  if (indx.x < 0 || indx.x >= ct.lim[0]) {\n    return val;\n  }\n  if (indx.y < 0 || indx.y >= ct.lim[1]) {\n    return val;\n  }\n  inx = (indx.y * ct.lim[0]) + indx.x;\n  var f00 = {x: ct.cvs[inx][0], y: ct.cvs[inx][1]};\n  inx++;\n  var f10= {x: ct.cvs[inx][0], y: ct.cvs[inx][1]};\n  inx += ct.lim[0];\n  var f11 = {x: ct.cvs[inx][0], y: ct.cvs[inx][1]};\n  inx--;\n  var f01 = {x: ct.cvs[inx][0], y: ct.cvs[inx][1]};\n  var m11 = frct.x * frct.y, m10 = frct.x * (1.0 - frct.y),\n    m00 = (1.0 - frct.x) * (1.0 - frct.y), m01 = (1.0 - frct.x) * frct.y;\n  val.x = (m00 * f00.x + m10 * f10.x + m01 * f01.x + m11 * f11.x);\n  val.y = (m00 * f00.y + m10 * f10.y + m01 * f01.y + m11 * f11.y);\n  return val;\n}\n","export default function(crs, denorm, point) {\n  var xin = point.x,\n    yin = point.y,\n    zin = point.z || 0.0;\n  var v, t, i;\n  var out = {};\n  for (i = 0; i < 3; i++) {\n    if (denorm && i === 2 && point.z === undefined) {\n      continue;\n    }\n    if (i === 0) {\n      v = xin;\n      if (\"ew\".indexOf(crs.axis[i]) !== -1) {\n        t = 'x';\n      } else {\n        t = 'y';\n      }\n\n    }\n    else if (i === 1) {\n      v = yin;\n      if (\"ns\".indexOf(crs.axis[i]) !== -1) {\n        t = 'y';\n      } else {\n        t = 'x';\n      }\n    }\n    else {\n      v = zin;\n      t = 'z';\n    }\n    switch (crs.axis[i]) {\n    case 'e':\n      out[t] = v;\n      break;\n    case 'w':\n      out[t] = -v;\n      break;\n    case 'n':\n      out[t] = v;\n      break;\n    case 's':\n      out[t] = -v;\n      break;\n    case 'u':\n      if (point[t] !== undefined) {\n        out.z = v;\n      }\n      break;\n    case 'd':\n      if (point[t] !== undefined) {\n        out.z = -v;\n      }\n      break;\n    default:\n      //console.log(\"ERROR: unknow axis (\"+crs.axis[i]+\") - check definition of \"+crs.projName);\n      return null;\n    }\n  }\n  return out;\n}\n","export default function (array){\n  var out = {\n    x: array[0],\n    y: array[1]\n  };\n  if (array.length>2) {\n    out.z = array[2];\n  }\n  if (array.length>3) {\n    out.m = array[3];\n  }\n  return out;\n}","export default function (point) {\n  checkCoord(point.x);\n  checkCoord(point.y);\n}\nfunction checkCoord(num) {\n  if (typeof Number.isFinite === 'function') {\n    if (Number.isFinite(num)) {\n      return;\n    }\n    throw new TypeError('coordinates must be finite numbers');\n  }\n  if (typeof num !== 'number' || num !== num || !isFinite(num)) {\n    throw new TypeError('coordinates must be finite numbers');\n  }\n}\n","import {D2R, R2D, PJD_3PARAM, PJD_7PARAM} from './constants/values';\nimport datum_transform from './datum_transform';\nimport adjust_axis from './adjust_axis';\nimport proj from './Proj';\nimport toPoint from './common/toPoint';\nimport checkSanity from './checkSanity';\n\nfunction checkNotWGS(source, dest) {\n  return ((source.datum.datum_type === PJD_3PARAM || source.datum.datum_type === PJD_7PARAM) && dest.datumCode !== 'WGS84') || ((dest.datum.datum_type === PJD_3PARAM || dest.datum.datum_type === PJD_7PARAM) && source.datumCode !== 'WGS84');\n}\n\nexport default function transform(source, dest, point, enforceAxis) {\n  var wgs84;\n  if (Array.isArray(point)) {\n    point = toPoint(point);\n  }\n  checkSanity(point);\n  // Workaround for datum shifts towgs84, if either source or destination projection is not wgs84\n  if (source.datum && dest.datum && checkNotWGS(source, dest)) {\n    wgs84 = new proj('WGS84');\n    point = transform(source, wgs84, point, enforceAxis);\n    source = wgs84;\n  }\n  // DGR, 2010/11/12\n  if (enforceAxis && source.axis !== 'enu') {\n    point = adjust_axis(source, false, point);\n  }\n  // Transform source points to long/lat, if they aren't already.\n  if (source.projName === 'longlat') {\n    point = {\n      x: point.x * D2R,\n      y: point.y * D2R,\n      z: point.z || 0\n    };\n  } else {\n    if (source.to_meter) {\n      point = {\n        x: point.x * source.to_meter,\n        y: point.y * source.to_meter,\n        z: point.z || 0\n      };\n    }\n    point = source.inverse(point); // Convert Cartesian to longlat\n    if (!point) {\n      return;\n    }\n  }\n  // Adjust for the prime meridian if necessary\n  if (source.from_greenwich) {\n    point.x += source.from_greenwich;\n  }\n\n  // Convert datums if needed, and if possible.\n  point = datum_transform(source.datum, dest.datum, point);\n  if (!point) {\n    return;\n  }\n\n  // Adjust for the prime meridian if necessary\n  if (dest.from_greenwich) {\n    point = {\n      x: point.x - dest.from_greenwich,\n      y: point.y,\n      z: point.z || 0\n    };\n  }\n\n  if (dest.projName === 'longlat') {\n    // convert radians to decimal degrees\n    point = {\n      x: point.x * R2D,\n      y: point.y * R2D,\n      z: point.z || 0\n    };\n  } else { // else project\n    point = dest.forward(point);\n    if (dest.to_meter) {\n      point = {\n        x: point.x / dest.to_meter,\n        y: point.y / dest.to_meter,\n        z: point.z || 0\n      };\n    }\n  }\n\n  // DGR, 2010/11/12\n  if (enforceAxis && dest.axis !== 'enu') {\n    return adjust_axis(dest, true, point);\n  }\n\n  return point;\n}\n","import proj from './Proj';\nimport transform from './transform';\nvar wgs84 = proj('WGS84');\n\nfunction transformer(from, to, coords, enforceAxis) {\n  var transformedArray, out, keys;\n  if (Array.isArray(coords)) {\n    transformedArray = transform(from, to, coords, enforceAxis) || {x: NaN, y: NaN};\n    if (coords.length > 2) {\n      if ((typeof from.name !== 'undefined' && from.name === 'geocent') || (typeof to.name !== 'undefined' && to.name === 'geocent')) {\n        if (typeof transformedArray.z === 'number') {\n          return [transformedArray.x, transformedArray.y, transformedArray.z].concat(coords.splice(3));\n        } else {\n          return [transformedArray.x, transformedArray.y, coords[2]].concat(coords.splice(3));\n        }\n      } else {\n        return [transformedArray.x, transformedArray.y].concat(coords.splice(2));\n      }\n    } else {\n      return [transformedArray.x, transformedArray.y];\n    }\n  } else {\n    out = transform(from, to, coords, enforceAxis);\n    keys = Object.keys(coords);\n    if (keys.length === 2) {\n      return out;\n    }\n    keys.forEach(function (key) {\n      if ((typeof from.name !== 'undefined' && from.name === 'geocent') || (typeof to.name !== 'undefined' && to.name === 'geocent')) {\n        if (key === 'x' || key === 'y' || key === 'z') {\n          return;\n        }\n      } else {\n        if (key === 'x' || key === 'y') {\n          return;\n        }\n      }\n      out[key] = coords[key];\n    });\n    return out;\n  }\n}\n\nfunction checkProj(item) {\n  if (item instanceof proj) {\n    return item;\n  }\n  if (item.oProj) {\n    return item.oProj;\n  }\n  return proj(item);\n}\n\nfunction proj4(fromProj, toProj, coord) {\n  fromProj = checkProj(fromProj);\n  var single = false;\n  var obj;\n  if (typeof toProj === 'undefined') {\n    toProj = fromProj;\n    fromProj = wgs84;\n    single = true;\n  } else if (typeof toProj.x !== 'undefined' || Array.isArray(toProj)) {\n    coord = toProj;\n    toProj = fromProj;\n    fromProj = wgs84;\n    single = true;\n  }\n  toProj = checkProj(toProj);\n  if (coord) {\n    return transformer(fromProj, toProj, coord);\n  } else {\n    obj = {\n      forward: function (coords, enforceAxis) {\n        return transformer(fromProj, toProj, coords, enforceAxis);\n      },\n      inverse: function (coords, enforceAxis) {\n        return transformer(toProj, fromProj, coords, enforceAxis);\n      }\n    };\n    if (single) {\n      obj.oProj = toProj;\n    }\n    return obj;\n  }\n}\nexport default proj4;","\n\n\n/**\n * UTM zones are grouped, and assigned to one of a group of 6\n * sets.\n *\n * {int} @private\n */\nvar NUM_100K_SETS = 6;\n\n/**\n * The column letters (for easting) of the lower left value, per\n * set.\n *\n * {string} @private\n */\nvar SET_ORIGIN_COLUMN_LETTERS = 'AJSAJS';\n\n/**\n * The row letters (for northing) of the lower left value, per\n * set.\n *\n * {string} @private\n */\nvar SET_ORIGIN_ROW_LETTERS = 'AFAFAF';\n\nvar A = 65; // A\nvar I = 73; // I\nvar O = 79; // O\nvar V = 86; // V\nvar Z = 90; // Z\nexport default {\n  forward: forward,\n  inverse: inverse,\n  toPoint: toPoint\n};\n/**\n * Conversion of lat/lon to MGRS.\n *\n * @param {object} ll Object literal with lat and lon properties on a\n *     WGS84 ellipsoid.\n * @param {int} accuracy Accuracy in digits (5 for 1 m, 4 for 10 m, 3 for\n *      100 m, 2 for 1000 m or 1 for 10000 m). Optional, default is 5.\n * @return {string} the MGRS string for the given location and accuracy.\n */\nexport function forward(ll, accuracy) {\n  accuracy = accuracy || 5; // default accuracy 1m\n  return encode(LLtoUTM({\n    lat: ll[1],\n    lon: ll[0]\n  }), accuracy);\n};\n\n/**\n * Conversion of MGRS to lat/lon.\n *\n * @param {string} mgrs MGRS string.\n * @return {array} An array with left (longitude), bottom (latitude), right\n *     (longitude) and top (latitude) values in WGS84, representing the\n *     bounding box for the provided MGRS reference.\n */\nexport function inverse(mgrs) {\n  var bbox = UTMtoLL(decode(mgrs.toUpperCase()));\n  if (bbox.lat && bbox.lon) {\n    return [bbox.lon, bbox.lat, bbox.lon, bbox.lat];\n  }\n  return [bbox.left, bbox.bottom, bbox.right, bbox.top];\n};\n\nexport function toPoint(mgrs) {\n  var bbox = UTMtoLL(decode(mgrs.toUpperCase()));\n  if (bbox.lat && bbox.lon) {\n    return [bbox.lon, bbox.lat];\n  }\n  return [(bbox.left + bbox.right) / 2, (bbox.top + bbox.bottom) / 2];\n};\n/**\n * Conversion from degrees to radians.\n *\n * @private\n * @param {number} deg the angle in degrees.\n * @return {number} the angle in radians.\n */\nfunction degToRad(deg) {\n  return (deg * (Math.PI / 180.0));\n}\n\n/**\n * Conversion from radians to degrees.\n *\n * @private\n * @param {number} rad the angle in radians.\n * @return {number} the angle in degrees.\n */\nfunction radToDeg(rad) {\n  return (180.0 * (rad / Math.PI));\n}\n\n/**\n * Converts a set of Longitude and Latitude co-ordinates to UTM\n * using the WGS84 ellipsoid.\n *\n * @private\n * @param {object} ll Object literal with lat and lon properties\n *     representing the WGS84 coordinate to be converted.\n * @return {object} Object literal containing the UTM value with easting,\n *     northing, zoneNumber and zoneLetter properties, and an optional\n *     accuracy property in digits. Returns null if the conversion failed.\n */\nfunction LLtoUTM(ll) {\n  var Lat = ll.lat;\n  var Long = ll.lon;\n  var a = 6378137.0; //ellip.radius;\n  var eccSquared = 0.00669438; //ellip.eccsq;\n  var k0 = 0.9996;\n  var LongOrigin;\n  var eccPrimeSquared;\n  var N, T, C, A, M;\n  var LatRad = degToRad(Lat);\n  var LongRad = degToRad(Long);\n  var LongOriginRad;\n  var ZoneNumber;\n  // (int)\n  ZoneNumber = Math.floor((Long + 180) / 6) + 1;\n\n  //Make sure the longitude 180.00 is in Zone 60\n  if (Long === 180) {\n    ZoneNumber = 60;\n  }\n\n  // Special zone for Norway\n  if (Lat >= 56.0 && Lat < 64.0 && Long >= 3.0 && Long < 12.0) {\n    ZoneNumber = 32;\n  }\n\n  // Special zones for Svalbard\n  if (Lat >= 72.0 && Lat < 84.0) {\n    if (Long >= 0.0 && Long < 9.0) {\n      ZoneNumber = 31;\n    }\n    else if (Long >= 9.0 && Long < 21.0) {\n      ZoneNumber = 33;\n    }\n    else if (Long >= 21.0 && Long < 33.0) {\n      ZoneNumber = 35;\n    }\n    else if (Long >= 33.0 && Long < 42.0) {\n      ZoneNumber = 37;\n    }\n  }\n\n  LongOrigin = (ZoneNumber - 1) * 6 - 180 + 3; //+3 puts origin\n  // in middle of\n  // zone\n  LongOriginRad = degToRad(LongOrigin);\n\n  eccPrimeSquared = (eccSquared) / (1 - eccSquared);\n\n  N = a / Math.sqrt(1 - eccSquared * Math.sin(LatRad) * Math.sin(LatRad));\n  T = Math.tan(LatRad) * Math.tan(LatRad);\n  C = eccPrimeSquared * Math.cos(LatRad) * Math.cos(LatRad);\n  A = Math.cos(LatRad) * (LongRad - LongOriginRad);\n\n  M = a * ((1 - eccSquared / 4 - 3 * eccSquared * eccSquared / 64 - 5 * eccSquared * eccSquared * eccSquared / 256) * LatRad - (3 * eccSquared / 8 + 3 * eccSquared * eccSquared / 32 + 45 * eccSquared * eccSquared * eccSquared / 1024) * Math.sin(2 * LatRad) + (15 * eccSquared * eccSquared / 256 + 45 * eccSquared * eccSquared * eccSquared / 1024) * Math.sin(4 * LatRad) - (35 * eccSquared * eccSquared * eccSquared / 3072) * Math.sin(6 * LatRad));\n\n  var UTMEasting = (k0 * N * (A + (1 - T + C) * A * A * A / 6.0 + (5 - 18 * T + T * T + 72 * C - 58 * eccPrimeSquared) * A * A * A * A * A / 120.0) + 500000.0);\n\n  var UTMNorthing = (k0 * (M + N * Math.tan(LatRad) * (A * A / 2 + (5 - T + 9 * C + 4 * C * C) * A * A * A * A / 24.0 + (61 - 58 * T + T * T + 600 * C - 330 * eccPrimeSquared) * A * A * A * A * A * A / 720.0)));\n  if (Lat < 0.0) {\n    UTMNorthing += 10000000.0; //10000000 meter offset for\n    // southern hemisphere\n  }\n\n  return {\n    northing: Math.round(UTMNorthing),\n    easting: Math.round(UTMEasting),\n    zoneNumber: ZoneNumber,\n    zoneLetter: getLetterDesignator(Lat)\n  };\n}\n\n/**\n * Converts UTM coords to lat/long, using the WGS84 ellipsoid. This is a convenience\n * class where the Zone can be specified as a single string eg.\"60N\" which\n * is then broken down into the ZoneNumber and ZoneLetter.\n *\n * @private\n * @param {object} utm An object literal with northing, easting, zoneNumber\n *     and zoneLetter properties. If an optional accuracy property is\n *     provided (in meters), a bounding box will be returned instead of\n *     latitude and longitude.\n * @return {object} An object literal containing either lat and lon values\n *     (if no accuracy was provided), or top, right, bottom and left values\n *     for the bounding box calculated according to the provided accuracy.\n *     Returns null if the conversion failed.\n */\nfunction UTMtoLL(utm) {\n\n  var UTMNorthing = utm.northing;\n  var UTMEasting = utm.easting;\n  var zoneLetter = utm.zoneLetter;\n  var zoneNumber = utm.zoneNumber;\n  // check the ZoneNummber is valid\n  if (zoneNumber < 0 || zoneNumber > 60) {\n    return null;\n  }\n\n  var k0 = 0.9996;\n  var a = 6378137.0; //ellip.radius;\n  var eccSquared = 0.00669438; //ellip.eccsq;\n  var eccPrimeSquared;\n  var e1 = (1 - Math.sqrt(1 - eccSquared)) / (1 + Math.sqrt(1 - eccSquared));\n  var N1, T1, C1, R1, D, M;\n  var LongOrigin;\n  var mu, phi1Rad;\n\n  // remove 500,000 meter offset for longitude\n  var x = UTMEasting - 500000.0;\n  var y = UTMNorthing;\n\n  // We must know somehow if we are in the Northern or Southern\n  // hemisphere, this is the only time we use the letter So even\n  // if the Zone letter isn't exactly correct it should indicate\n  // the hemisphere correctly\n  if (zoneLetter < 'N') {\n    y -= 10000000.0; // remove 10,000,000 meter offset used\n    // for southern hemisphere\n  }\n\n  // There are 60 zones with zone 1 being at West -180 to -174\n  LongOrigin = (zoneNumber - 1) * 6 - 180 + 3; // +3 puts origin\n  // in middle of\n  // zone\n\n  eccPrimeSquared = (eccSquared) / (1 - eccSquared);\n\n  M = y / k0;\n  mu = M / (a * (1 - eccSquared / 4 - 3 * eccSquared * eccSquared / 64 - 5 * eccSquared * eccSquared * eccSquared / 256));\n\n  phi1Rad = mu + (3 * e1 / 2 - 27 * e1 * e1 * e1 / 32) * Math.sin(2 * mu) + (21 * e1 * e1 / 16 - 55 * e1 * e1 * e1 * e1 / 32) * Math.sin(4 * mu) + (151 * e1 * e1 * e1 / 96) * Math.sin(6 * mu);\n  // double phi1 = ProjMath.radToDeg(phi1Rad);\n\n  N1 = a / Math.sqrt(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad));\n  T1 = Math.tan(phi1Rad) * Math.tan(phi1Rad);\n  C1 = eccPrimeSquared * Math.cos(phi1Rad) * Math.cos(phi1Rad);\n  R1 = a * (1 - eccSquared) / Math.pow(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad), 1.5);\n  D = x / (N1 * k0);\n\n  var lat = phi1Rad - (N1 * Math.tan(phi1Rad) / R1) * (D * D / 2 - (5 + 3 * T1 + 10 * C1 - 4 * C1 * C1 - 9 * eccPrimeSquared) * D * D * D * D / 24 + (61 + 90 * T1 + 298 * C1 + 45 * T1 * T1 - 252 * eccPrimeSquared - 3 * C1 * C1) * D * D * D * D * D * D / 720);\n  lat = radToDeg(lat);\n\n  var lon = (D - (1 + 2 * T1 + C1) * D * D * D / 6 + (5 - 2 * C1 + 28 * T1 - 3 * C1 * C1 + 8 * eccPrimeSquared + 24 * T1 * T1) * D * D * D * D * D / 120) / Math.cos(phi1Rad);\n  lon = LongOrigin + radToDeg(lon);\n\n  var result;\n  if (utm.accuracy) {\n    var topRight = UTMtoLL({\n      northing: utm.northing + utm.accuracy,\n      easting: utm.easting + utm.accuracy,\n      zoneLetter: utm.zoneLetter,\n      zoneNumber: utm.zoneNumber\n    });\n    result = {\n      top: topRight.lat,\n      right: topRight.lon,\n      bottom: lat,\n      left: lon\n    };\n  }\n  else {\n    result = {\n      lat: lat,\n      lon: lon\n    };\n  }\n  return result;\n}\n\n/**\n * Calculates the MGRS letter designator for the given latitude.\n *\n * @private\n * @param {number} lat The latitude in WGS84 to get the letter designator\n *     for.\n * @return {char} The letter designator.\n */\nfunction getLetterDesignator(lat) {\n  //This is here as an error flag to show that the Latitude is\n  //outside MGRS limits\n  var LetterDesignator = 'Z';\n\n  if ((84 >= lat) && (lat >= 72)) {\n    LetterDesignator = 'X';\n  }\n  else if ((72 > lat) && (lat >= 64)) {\n    LetterDesignator = 'W';\n  }\n  else if ((64 > lat) && (lat >= 56)) {\n    LetterDesignator = 'V';\n  }\n  else if ((56 > lat) && (lat >= 48)) {\n    LetterDesignator = 'U';\n  }\n  else if ((48 > lat) && (lat >= 40)) {\n    LetterDesignator = 'T';\n  }\n  else if ((40 > lat) && (lat >= 32)) {\n    LetterDesignator = 'S';\n  }\n  else if ((32 > lat) && (lat >= 24)) {\n    LetterDesignator = 'R';\n  }\n  else if ((24 > lat) && (lat >= 16)) {\n    LetterDesignator = 'Q';\n  }\n  else if ((16 > lat) && (lat >= 8)) {\n    LetterDesignator = 'P';\n  }\n  else if ((8 > lat) && (lat >= 0)) {\n    LetterDesignator = 'N';\n  }\n  else if ((0 > lat) && (lat >= -8)) {\n    LetterDesignator = 'M';\n  }\n  else if ((-8 > lat) && (lat >= -16)) {\n    LetterDesignator = 'L';\n  }\n  else if ((-16 > lat) && (lat >= -24)) {\n    LetterDesignator = 'K';\n  }\n  else if ((-24 > lat) && (lat >= -32)) {\n    LetterDesignator = 'J';\n  }\n  else if ((-32 > lat) && (lat >= -40)) {\n    LetterDesignator = 'H';\n  }\n  else if ((-40 > lat) && (lat >= -48)) {\n    LetterDesignator = 'G';\n  }\n  else if ((-48 > lat) && (lat >= -56)) {\n    LetterDesignator = 'F';\n  }\n  else if ((-56 > lat) && (lat >= -64)) {\n    LetterDesignator = 'E';\n  }\n  else if ((-64 > lat) && (lat >= -72)) {\n    LetterDesignator = 'D';\n  }\n  else if ((-72 > lat) && (lat >= -80)) {\n    LetterDesignator = 'C';\n  }\n  return LetterDesignator;\n}\n\n/**\n * Encodes a UTM location as MGRS string.\n *\n * @private\n * @param {object} utm An object literal with easting, northing,\n *     zoneLetter, zoneNumber\n * @param {number} accuracy Accuracy in digits (1-5).\n * @return {string} MGRS string for the given UTM location.\n */\nfunction encode(utm, accuracy) {\n  // prepend with leading zeroes\n  var seasting = \"00000\" + utm.easting,\n    snorthing = \"00000\" + utm.northing;\n\n  return utm.zoneNumber + utm.zoneLetter + get100kID(utm.easting, utm.northing, utm.zoneNumber) + seasting.substr(seasting.length - 5, accuracy) + snorthing.substr(snorthing.length - 5, accuracy);\n}\n\n/**\n * Get the two letter 100k designator for a given UTM easting,\n * northing and zone number value.\n *\n * @private\n * @param {number} easting\n * @param {number} northing\n * @param {number} zoneNumber\n * @return the two letter 100k designator for the given UTM location.\n */\nfunction get100kID(easting, northing, zoneNumber) {\n  var setParm = get100kSetForZone(zoneNumber);\n  var setColumn = Math.floor(easting / 100000);\n  var setRow = Math.floor(northing / 100000) % 20;\n  return getLetter100kID(setColumn, setRow, setParm);\n}\n\n/**\n * Given a UTM zone number, figure out the MGRS 100K set it is in.\n *\n * @private\n * @param {number} i An UTM zone number.\n * @return {number} the 100k set the UTM zone is in.\n */\nfunction get100kSetForZone(i) {\n  var setParm = i % NUM_100K_SETS;\n  if (setParm === 0) {\n    setParm = NUM_100K_SETS;\n  }\n\n  return setParm;\n}\n\n/**\n * Get the two-letter MGRS 100k designator given information\n * translated from the UTM northing, easting and zone number.\n *\n * @private\n * @param {number} column the column index as it relates to the MGRS\n *        100k set spreadsheet, created from the UTM easting.\n *        Values are 1-8.\n * @param {number} row the row index as it relates to the MGRS 100k set\n *        spreadsheet, created from the UTM northing value. Values\n *        are from 0-19.\n * @param {number} parm the set block, as it relates to the MGRS 100k set\n *        spreadsheet, created from the UTM zone. Values are from\n *        1-60.\n * @return two letter MGRS 100k code.\n */\nfunction getLetter100kID(column, row, parm) {\n  // colOrigin and rowOrigin are the letters at the origin of the set\n  var index = parm - 1;\n  var colOrigin = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(index);\n  var rowOrigin = SET_ORIGIN_ROW_LETTERS.charCodeAt(index);\n\n  // colInt and rowInt are the letters to build to return\n  var colInt = colOrigin + column - 1;\n  var rowInt = rowOrigin + row;\n  var rollover = false;\n\n  if (colInt > Z) {\n    colInt = colInt - Z + A - 1;\n    rollover = true;\n  }\n\n  if (colInt === I || (colOrigin < I && colInt > I) || ((colInt > I || colOrigin < I) && rollover)) {\n    colInt++;\n  }\n\n  if (colInt === O || (colOrigin < O && colInt > O) || ((colInt > O || colOrigin < O) && rollover)) {\n    colInt++;\n\n    if (colInt === I) {\n      colInt++;\n    }\n  }\n\n  if (colInt > Z) {\n    colInt = colInt - Z + A - 1;\n  }\n\n  if (rowInt > V) {\n    rowInt = rowInt - V + A - 1;\n    rollover = true;\n  }\n  else {\n    rollover = false;\n  }\n\n  if (((rowInt === I) || ((rowOrigin < I) && (rowInt > I))) || (((rowInt > I) || (rowOrigin < I)) && rollover)) {\n    rowInt++;\n  }\n\n  if (((rowInt === O) || ((rowOrigin < O) && (rowInt > O))) || (((rowInt > O) || (rowOrigin < O)) && rollover)) {\n    rowInt++;\n\n    if (rowInt === I) {\n      rowInt++;\n    }\n  }\n\n  if (rowInt > V) {\n    rowInt = rowInt - V + A - 1;\n  }\n\n  var twoLetter = String.fromCharCode(colInt) + String.fromCharCode(rowInt);\n  return twoLetter;\n}\n\n/**\n * Decode the UTM parameters from a MGRS string.\n *\n * @private\n * @param {string} mgrsString an UPPERCASE coordinate string is expected.\n * @return {object} An object literal with easting, northing, zoneLetter,\n *     zoneNumber and accuracy (in meters) properties.\n */\nfunction decode(mgrsString) {\n\n  if (mgrsString && mgrsString.length === 0) {\n    throw (\"MGRSPoint coverting from nothing\");\n  }\n\n  var length = mgrsString.length;\n\n  var hunK = null;\n  var sb = \"\";\n  var testChar;\n  var i = 0;\n\n  // get Zone number\n  while (!(/[A-Z]/).test(testChar = mgrsString.charAt(i))) {\n    if (i >= 2) {\n      throw (\"MGRSPoint bad conversion from: \" + mgrsString);\n    }\n    sb += testChar;\n    i++;\n  }\n\n  var zoneNumber = parseInt(sb, 10);\n\n  if (i === 0 || i + 3 > length) {\n    // A good MGRS string has to be 4-5 digits long,\n    // ##AAA/#AAA at least.\n    throw (\"MGRSPoint bad conversion from: \" + mgrsString);\n  }\n\n  var zoneLetter = mgrsString.charAt(i++);\n\n  // Should we check the zone letter here? Why not.\n  if (zoneLetter <= 'A' || zoneLetter === 'B' || zoneLetter === 'Y' || zoneLetter >= 'Z' || zoneLetter === 'I' || zoneLetter === 'O') {\n    throw (\"MGRSPoint zone letter \" + zoneLetter + \" not handled: \" + mgrsString);\n  }\n\n  hunK = mgrsString.substring(i, i += 2);\n\n  var set = get100kSetForZone(zoneNumber);\n\n  var east100k = getEastingFromChar(hunK.charAt(0), set);\n  var north100k = getNorthingFromChar(hunK.charAt(1), set);\n\n  // We have a bug where the northing may be 2000000 too low.\n  // How\n  // do we know when to roll over?\n\n  while (north100k < getMinNorthing(zoneLetter)) {\n    north100k += 2000000;\n  }\n\n  // calculate the char index for easting/northing separator\n  var remainder = length - i;\n\n  if (remainder % 2 !== 0) {\n    throw (\"MGRSPoint has to have an even number \\nof digits after the zone letter and two 100km letters - front \\nhalf for easting meters, second half for \\nnorthing meters\" + mgrsString);\n  }\n\n  var sep = remainder / 2;\n\n  var sepEasting = 0.0;\n  var sepNorthing = 0.0;\n  var accuracyBonus, sepEastingString, sepNorthingString, easting, northing;\n  if (sep > 0) {\n    accuracyBonus = 100000.0 / Math.pow(10, sep);\n    sepEastingString = mgrsString.substring(i, i + sep);\n    sepEasting = parseFloat(sepEastingString) * accuracyBonus;\n    sepNorthingString = mgrsString.substring(i + sep);\n    sepNorthing = parseFloat(sepNorthingString) * accuracyBonus;\n  }\n\n  easting = sepEasting + east100k;\n  northing = sepNorthing + north100k;\n\n  return {\n    easting: easting,\n    northing: northing,\n    zoneLetter: zoneLetter,\n    zoneNumber: zoneNumber,\n    accuracy: accuracyBonus\n  };\n}\n\n/**\n * Given the first letter from a two-letter MGRS 100k zone, and given the\n * MGRS table set for the zone number, figure out the easting value that\n * should be added to the other, secondary easting value.\n *\n * @private\n * @param {char} e The first letter from a two-letter MGRS 100k zone.\n * @param {number} set The MGRS table set for the zone number.\n * @return {number} The easting value for the given letter and set.\n */\nfunction getEastingFromChar(e, set) {\n  // colOrigin is the letter at the origin of the set for the\n  // column\n  var curCol = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(set - 1);\n  var eastingValue = 100000.0;\n  var rewindMarker = false;\n\n  while (curCol !== e.charCodeAt(0)) {\n    curCol++;\n    if (curCol === I) {\n      curCol++;\n    }\n    if (curCol === O) {\n      curCol++;\n    }\n    if (curCol > Z) {\n      if (rewindMarker) {\n        throw (\"Bad character: \" + e);\n      }\n      curCol = A;\n      rewindMarker = true;\n    }\n    eastingValue += 100000.0;\n  }\n\n  return eastingValue;\n}\n\n/**\n * Given the second letter from a two-letter MGRS 100k zone, and given the\n * MGRS table set for the zone number, figure out the northing value that\n * should be added to the other, secondary northing value. You have to\n * remember that Northings are determined from the equator, and the vertical\n * cycle of letters mean a 2000000 additional northing meters. This happens\n * approx. every 18 degrees of latitude. This method does *NOT* count any\n * additional northings. You have to figure out how many 2000000 meters need\n * to be added for the zone letter of the MGRS coordinate.\n *\n * @private\n * @param {char} n Second letter of the MGRS 100k zone\n * @param {number} set The MGRS table set number, which is dependent on the\n *     UTM zone number.\n * @return {number} The northing value for the given letter and set.\n */\nfunction getNorthingFromChar(n, set) {\n\n  if (n > 'V') {\n    throw (\"MGRSPoint given invalid Northing \" + n);\n  }\n\n  // rowOrigin is the letter at the origin of the set for the\n  // column\n  var curRow = SET_ORIGIN_ROW_LETTERS.charCodeAt(set - 1);\n  var northingValue = 0.0;\n  var rewindMarker = false;\n\n  while (curRow !== n.charCodeAt(0)) {\n    curRow++;\n    if (curRow === I) {\n      curRow++;\n    }\n    if (curRow === O) {\n      curRow++;\n    }\n    // fixing a bug making whole application hang in this loop\n    // when 'n' is a wrong character\n    if (curRow > V) {\n      if (rewindMarker) { // making sure that this loop ends\n        throw (\"Bad character: \" + n);\n      }\n      curRow = A;\n      rewindMarker = true;\n    }\n    northingValue += 100000.0;\n  }\n\n  return northingValue;\n}\n\n/**\n * The function getMinNorthing returns the minimum northing value of a MGRS\n * zone.\n *\n * Ported from Geotrans' c Lattitude_Band_Value structure table.\n *\n * @private\n * @param {char} zoneLetter The MGRS zone to get the min northing for.\n * @return {number}\n */\nfunction getMinNorthing(zoneLetter) {\n  var northing;\n  switch (zoneLetter) {\n  case 'C':\n    northing = 1100000.0;\n    break;\n  case 'D':\n    northing = 2000000.0;\n    break;\n  case 'E':\n    northing = 2800000.0;\n    break;\n  case 'F':\n    northing = 3700000.0;\n    break;\n  case 'G':\n    northing = 4600000.0;\n    break;\n  case 'H':\n    northing = 5500000.0;\n    break;\n  case 'J':\n    northing = 6400000.0;\n    break;\n  case 'K':\n    northing = 7300000.0;\n    break;\n  case 'L':\n    northing = 8200000.0;\n    break;\n  case 'M':\n    northing = 9100000.0;\n    break;\n  case 'N':\n    northing = 0.0;\n    break;\n  case 'P':\n    northing = 800000.0;\n    break;\n  case 'Q':\n    northing = 1700000.0;\n    break;\n  case 'R':\n    northing = 2600000.0;\n    break;\n  case 'S':\n    northing = 3500000.0;\n    break;\n  case 'T':\n    northing = 4400000.0;\n    break;\n  case 'U':\n    northing = 5300000.0;\n    break;\n  case 'V':\n    northing = 6200000.0;\n    break;\n  case 'W':\n    northing = 7000000.0;\n    break;\n  case 'X':\n    northing = 7900000.0;\n    break;\n  default:\n    northing = -1.0;\n  }\n  if (northing >= 0.0) {\n    return northing;\n  }\n  else {\n    throw (\"Invalid zone letter: \" + zoneLetter);\n  }\n\n}\n","import {toPoint, forward} from 'mgrs';\n\nfunction Point(x, y, z) {\n  if (!(this instanceof Point)) {\n    return new Point(x, y, z);\n  }\n  if (Array.isArray(x)) {\n    this.x = x[0];\n    this.y = x[1];\n    this.z = x[2] || 0.0;\n  } else if(typeof x === 'object') {\n    this.x = x.x;\n    this.y = x.y;\n    this.z = x.z || 0.0;\n  } else if (typeof x === 'string' && typeof y === 'undefined') {\n    var coords = x.split(',');\n    this.x = parseFloat(coords[0], 10);\n    this.y = parseFloat(coords[1], 10);\n    this.z = parseFloat(coords[2], 10) || 0.0;\n  } else {\n    this.x = x;\n    this.y = y;\n    this.z = z || 0.0;\n  }\n  console.warn('proj4.Point will be removed in version 3, use proj4.toPoint');\n}\n\nPoint.fromMGRS = function(mgrsStr) {\n  return new Point(toPoint(mgrsStr));\n};\nPoint.prototype.toMGRS = function(accuracy) {\n  return forward([this.x, this.y], accuracy);\n};\nexport default Point;\n","var C00 = 1;\nvar C02 = 0.25;\nvar C04 = 0.046875;\nvar C06 = 0.01953125;\nvar C08 = 0.01068115234375;\nvar C22 = 0.75;\nvar C44 = 0.46875;\nvar C46 = 0.01302083333333333333;\nvar C48 = 0.00712076822916666666;\nvar C66 = 0.36458333333333333333;\nvar C68 = 0.00569661458333333333;\nvar C88 = 0.3076171875;\n\nexport default function(es) {\n  var en = [];\n  en[0] = C00 - es * (C02 + es * (C04 + es * (C06 + es * C08)));\n  en[1] = es * (C22 - es * (C04 + es * (C06 + es * C08)));\n  var t = es * es;\n  en[2] = t * (C44 - es * (C46 + es * C48));\n  t *= es;\n  en[3] = t * (C66 - es * C68);\n  en[4] = t * es * C88;\n  return en;\n}","export default function(phi, sphi, cphi, en) {\n  cphi *= sphi;\n  sphi *= sphi;\n  return (en[0] * phi - cphi * (en[1] + sphi * (en[2] + sphi * (en[3] + sphi * en[4]))));\n}","import pj_mlfn from \"./pj_mlfn\";\nimport {EPSLN} from '../constants/values';\n\nvar MAX_ITER = 20;\n\nexport default function(arg, es, en) {\n  var k = 1 / (1 - es);\n  var phi = arg;\n  for (var i = MAX_ITER; i; --i) { /* rarely goes over 2 iterations */\n    var s = Math.sin(phi);\n    var t = 1 - es * s * s;\n    //t = this.pj_mlfn(phi, s, Math.cos(phi), en) - arg;\n    //phi -= t * (t * Math.sqrt(t)) * k;\n    t = (pj_mlfn(phi, s, Math.cos(phi), en) - arg) * (t * Math.sqrt(t)) * k;\n    phi -= t;\n    if (Math.abs(t) < EPSLN) {\n      return phi;\n    }\n  }\n  //..reportError(\"cass:pj_inv_mlfn: Convergence error\");\n  return phi;\n}\n","// Heavily based on this tmerc projection implementation\n// https://github.com/mbloch/mapshaper-proj/blob/master/src/projections/tmerc.js\n\nimport pj_enfn from '../common/pj_enfn';\nimport pj_mlfn from '../common/pj_mlfn';\nimport pj_inv_mlfn from '../common/pj_inv_mlfn';\nimport adjust_lon from '../common/adjust_lon';\n\nimport {EPSLN, HALF_PI} from '../constants/values';\nimport sign from '../common/sign';\n\nexport function init() {\n  this.x0 = this.x0 !== undefined ? this.x0 : 0;\n  this.y0 = this.y0 !== undefined ? this.y0 : 0;\n  this.long0 = this.long0 !== undefined ? this.long0 : 0;\n  this.lat0 = this.lat0 !== undefined ? this.lat0 : 0;\n\n  if (this.es) {\n    this.en = pj_enfn(this.es);\n    this.ml0 = pj_mlfn(this.lat0, Math.sin(this.lat0), Math.cos(this.lat0), this.en);\n  }\n}\n\n/**\n    Transverse Mercator Forward  - long/lat to x/y\n    long/lat in radians\n  */\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n\n  var delta_lon = adjust_lon(lon - this.long0);\n  var con;\n  var x, y;\n  var sin_phi = Math.sin(lat);\n  var cos_phi = Math.cos(lat);\n\n  if (!this.es) {\n    var b = cos_phi * Math.sin(delta_lon);\n\n    if ((Math.abs(Math.abs(b) - 1)) < EPSLN) {\n      return (93);\n    }\n    else {\n      x = 0.5 * this.a * this.k0 * Math.log((1 + b) / (1 - b)) + this.x0;\n      y = cos_phi * Math.cos(delta_lon) / Math.sqrt(1 - Math.pow(b, 2));\n      b = Math.abs(y);\n\n      if (b >= 1) {\n        if ((b - 1) > EPSLN) {\n          return (93);\n        }\n        else {\n          y = 0;\n        }\n      }\n      else {\n        y = Math.acos(y);\n      }\n\n      if (lat < 0) {\n        y = -y;\n      }\n\n      y = this.a * this.k0 * (y - this.lat0) + this.y0;\n    }\n  }\n  else {\n    var al = cos_phi * delta_lon;\n    var als = Math.pow(al, 2);\n    var c = this.ep2 * Math.pow(cos_phi, 2);\n    var cs = Math.pow(c, 2);\n    var tq = Math.abs(cos_phi) > EPSLN ? Math.tan(lat) : 0;\n    var t = Math.pow(tq, 2);\n    var ts = Math.pow(t, 2);\n    con = 1 - this.es * Math.pow(sin_phi, 2);\n    al = al / Math.sqrt(con);\n    var ml = pj_mlfn(lat, sin_phi, cos_phi, this.en);\n\n    x = this.a * (this.k0 * al * (1 +\n      als / 6 * (1 - t + c +\n      als / 20 * (5 - 18 * t + ts + 14 * c - 58 * t * c +\n      als / 42 * (61 + 179 * ts - ts * t - 479 * t))))) +\n      this.x0;\n\n    y = this.a * (this.k0 * (ml - this.ml0 +\n      sin_phi * delta_lon * al / 2 * (1 +\n      als / 12 * (5 - t + 9 * c + 4 * cs +\n      als / 30 * (61 + ts - 58 * t + 270 * c - 330 * t * c +\n      als / 56 * (1385 + 543 * ts - ts * t - 3111 * t)))))) +\n      this.y0;\n  }\n\n  p.x = x;\n  p.y = y;\n\n  return p;\n}\n\n/**\n    Transverse Mercator Inverse  -  x/y to long/lat\n  */\nexport function inverse(p) {\n  var con, phi;\n  var lat, lon;\n  var x = (p.x - this.x0) * (1 / this.a);\n  var y = (p.y - this.y0) * (1 / this.a);\n\n  if (!this.es) {\n    var f = Math.exp(x / this.k0);\n    var g = 0.5 * (f - 1 / f);\n    var temp = this.lat0 + y / this.k0;\n    var h = Math.cos(temp);\n    con = Math.sqrt((1 - Math.pow(h, 2)) / (1 + Math.pow(g, 2)));\n    lat = Math.asin(con);\n\n    if (y < 0) {\n      lat = -lat;\n    }\n\n    if ((g === 0) && (h === 0)) {\n      lon = 0;\n    }\n    else {\n      lon = adjust_lon(Math.atan2(g, h) + this.long0);\n    }\n  }\n  else { // ellipsoidal form\n    con = this.ml0 + y / this.k0;\n    phi = pj_inv_mlfn(con, this.es, this.en);\n\n    if (Math.abs(phi) < HALF_PI) {\n      var sin_phi = Math.sin(phi);\n      var cos_phi = Math.cos(phi);\n      var tan_phi = Math.abs(cos_phi) > EPSLN ? Math.tan(phi) : 0;\n      var c = this.ep2 * Math.pow(cos_phi, 2);\n      var cs = Math.pow(c, 2);\n      var t = Math.pow(tan_phi, 2);\n      var ts = Math.pow(t, 2);\n      con = 1 - this.es * Math.pow(sin_phi, 2);\n      var d = x * Math.sqrt(con) / this.k0;\n      var ds = Math.pow(d, 2);\n      con = con * tan_phi;\n\n      lat = phi - (con * ds / (1 - this.es)) * 0.5 * (1 -\n        ds / 12 * (5 + 3 * t - 9 * c * t + c - 4 * cs -\n        ds / 30 * (61 + 90 * t - 252 * c * t + 45 * ts + 46 * c -\n        ds / 56 * (1385 + 3633 * t + 4095 * ts + 1574 * ts * t))));\n\n      lon = adjust_lon(this.long0 + (d * (1 -\n        ds / 6 * (1 + 2 * t + c -\n        ds / 20 * (5 + 28 * t + 24 * ts + 8 * c * t + 6 * c -\n        ds / 42 * (61 + 662 * t + 1320 * ts + 720 * ts * t)))) / cos_phi));\n    }\n    else {\n      lat = HALF_PI * sign(y);\n      lon = 0;\n    }\n  }\n\n  p.x = lon;\n  p.y = lat;\n\n  return p;\n}\n\nexport var names = [\"Fast_Transverse_Mercator\", \"Fast Transverse Mercator\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export default function(x) {\n  var r = Math.exp(x);\n  r = (r - 1 / r) / 2;\n  return r;\n}","export default function(x, y) {\n  x = Math.abs(x);\n  y = Math.abs(y);\n  var a = Math.max(x, y);\n  var b = Math.min(x, y) / (a ? a : 1);\n\n  return a * Math.sqrt(1 + Math.pow(b, 2));\n}\n","export default function(pp, B) {\n  var cos_2B = 2 * Math.cos(2 * B);\n  var i = pp.length - 1;\n  var h1 = pp[i];\n  var h2 = 0;\n  var h;\n\n  while (--i >= 0) {\n    h = -h2 + cos_2B * h1 + pp[i];\n    h2 = h1;\n    h1 = h;\n  }\n\n  return (B + h * Math.sin(2 * B));\n}\n","import sinh from './sinh';\nimport cosh from './cosh';\n\nexport default function(pp, arg_r, arg_i) {\n  var sin_arg_r = Math.sin(arg_r);\n  var cos_arg_r = Math.cos(arg_r);\n  var sinh_arg_i = sinh(arg_i);\n  var cosh_arg_i = cosh(arg_i);\n  var r = 2 * cos_arg_r * cosh_arg_i;\n  var i = -2 * sin_arg_r * sinh_arg_i;\n  var j = pp.length - 1;\n  var hr = pp[j];\n  var hi1 = 0;\n  var hr1 = 0;\n  var hi = 0;\n  var hr2;\n  var hi2;\n\n  while (--j >= 0) {\n    hr2 = hr1;\n    hi2 = hi1;\n    hr1 = hr;\n    hi1 = hi;\n    hr = -hr2 + r * hr1 - i * hi1 + pp[j];\n    hi = -hi2 + i * hr1 + r * hi1;\n  }\n\n  r = sin_arg_r * cosh_arg_i;\n  i = cos_arg_r * sinh_arg_i;\n\n  return [r * hr - i * hi, r * hi + i * hr];\n}\n","export default function(x) {\n  var r = Math.exp(x);\n  r = (r + 1 / r) / 2;\n  return r;\n}","// Heavily based on this etmerc projection implementation\n// https://github.com/mbloch/mapshaper-proj/blob/master/src/projections/etmerc.js\n\nimport tmerc from '../projections/tmerc';\nimport sinh from '../common/sinh';\nimport hypot from '../common/hypot';\nimport asinhy from '../common/asinhy';\nimport gatg from '../common/gatg';\nimport clens from '../common/clens';\nimport clens_cmplx from '../common/clens_cmplx';\nimport adjust_lon from '../common/adjust_lon';\n\nexport function init() {\n  if (!this.approx && (isNaN(this.es) || this.es <= 0)) {\n    throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION[\"Fast_Transverse_Mercator\"] in the WKT.');\n  }\n  if (this.approx) {\n    // When '+approx' is set, use tmerc instead\n    tmerc.init.apply(this);\n    this.forward = tmerc.forward;\n    this.inverse = tmerc.inverse;\n  }\n\n  this.x0 = this.x0 !== undefined ? this.x0 : 0;\n  this.y0 = this.y0 !== undefined ? this.y0 : 0;\n  this.long0 = this.long0 !== undefined ? this.long0 : 0;\n  this.lat0 = this.lat0 !== undefined ? this.lat0 : 0;\n\n  this.cgb = [];\n  this.cbg = [];\n  this.utg = [];\n  this.gtu = [];\n\n  var f = this.es / (1 + Math.sqrt(1 - this.es));\n  var n = f / (2 - f);\n  var np = n;\n\n  this.cgb[0] = n * (2 + n * (-2 / 3 + n * (-2 + n * (116 / 45 + n * (26 / 45 + n * (-2854 / 675 ))))));\n  this.cbg[0] = n * (-2 + n * ( 2 / 3 + n * ( 4 / 3 + n * (-82 / 45 + n * (32 / 45 + n * (4642 / 4725))))));\n\n  np = np * n;\n  this.cgb[1] = np * (7 / 3 + n * (-8 / 5 + n * (-227 / 45 + n * (2704 / 315 + n * (2323 / 945)))));\n  this.cbg[1] = np * (5 / 3 + n * (-16 / 15 + n * ( -13 / 9 + n * (904 / 315 + n * (-1522 / 945)))));\n\n  np = np * n;\n  this.cgb[2] = np * (56 / 15 + n * (-136 / 35 + n * (-1262 / 105 + n * (73814 / 2835))));\n  this.cbg[2] = np * (-26 / 15 + n * (34 / 21 + n * (8 / 5 + n * (-12686 / 2835))));\n\n  np = np * n;\n  this.cgb[3] = np * (4279 / 630 + n * (-332 / 35 + n * (-399572 / 14175)));\n  this.cbg[3] = np * (1237 / 630 + n * (-12 / 5 + n * ( -24832 / 14175)));\n\n  np = np * n;\n  this.cgb[4] = np * (4174 / 315 + n * (-144838 / 6237));\n  this.cbg[4] = np * (-734 / 315 + n * (109598 / 31185));\n\n  np = np * n;\n  this.cgb[5] = np * (601676 / 22275);\n  this.cbg[5] = np * (444337 / 155925);\n\n  np = Math.pow(n, 2);\n  this.Qn = this.k0 / (1 + n) * (1 + np * (1 / 4 + np * (1 / 64 + np / 256)));\n\n  this.utg[0] = n * (-0.5 + n * ( 2 / 3 + n * (-37 / 96 + n * ( 1 / 360 + n * (81 / 512 + n * (-96199 / 604800))))));\n  this.gtu[0] = n * (0.5 + n * (-2 / 3 + n * (5 / 16 + n * (41 / 180 + n * (-127 / 288 + n * (7891 / 37800))))));\n\n  this.utg[1] = np * (-1 / 48 + n * (-1 / 15 + n * (437 / 1440 + n * (-46 / 105 + n * (1118711 / 3870720)))));\n  this.gtu[1] = np * (13 / 48 + n * (-3 / 5 + n * (557 / 1440 + n * (281 / 630 + n * (-1983433 / 1935360)))));\n\n  np = np * n;\n  this.utg[2] = np * (-17 / 480 + n * (37 / 840 + n * (209 / 4480 + n * (-5569 / 90720 ))));\n  this.gtu[2] = np * (61 / 240 + n * (-103 / 140 + n * (15061 / 26880 + n * (167603 / 181440))));\n\n  np = np * n;\n  this.utg[3] = np * (-4397 / 161280 + n * (11 / 504 + n * (830251 / 7257600)));\n  this.gtu[3] = np * (49561 / 161280 + n * (-179 / 168 + n * (6601661 / 7257600)));\n\n  np = np * n;\n  this.utg[4] = np * (-4583 / 161280 + n * (108847 / 3991680));\n  this.gtu[4] = np * (34729 / 80640 + n * (-3418889 / 1995840));\n\n  np = np * n;\n  this.utg[5] = np * (-20648693 / 638668800);\n  this.gtu[5] = np * (212378941 / 319334400);\n\n  var Z = gatg(this.cbg, this.lat0);\n  this.Zb = -this.Qn * (Z + clens(this.gtu, 2 * Z));\n}\n\nexport function forward(p) {\n  var Ce = adjust_lon(p.x - this.long0);\n  var Cn = p.y;\n\n  Cn = gatg(this.cbg, Cn);\n  var sin_Cn = Math.sin(Cn);\n  var cos_Cn = Math.cos(Cn);\n  var sin_Ce = Math.sin(Ce);\n  var cos_Ce = Math.cos(Ce);\n\n  Cn = Math.atan2(sin_Cn, cos_Ce * cos_Cn);\n  Ce = Math.atan2(sin_Ce * cos_Cn, hypot(sin_Cn, cos_Cn * cos_Ce));\n  Ce = asinhy(Math.tan(Ce));\n\n  var tmp = clens_cmplx(this.gtu, 2 * Cn, 2 * Ce);\n\n  Cn = Cn + tmp[0];\n  Ce = Ce + tmp[1];\n\n  var x;\n  var y;\n\n  if (Math.abs(Ce) <= 2.623395162778) {\n    x = this.a * (this.Qn * Ce) + this.x0;\n    y = this.a * (this.Qn * Cn + this.Zb) + this.y0;\n  }\n  else {\n    x = Infinity;\n    y = Infinity;\n  }\n\n  p.x = x;\n  p.y = y;\n\n  return p;\n}\n\nexport function inverse(p) {\n  var Ce = (p.x - this.x0) * (1 / this.a);\n  var Cn = (p.y - this.y0) * (1 / this.a);\n\n  Cn = (Cn - this.Zb) / this.Qn;\n  Ce = Ce / this.Qn;\n\n  var lon;\n  var lat;\n\n  if (Math.abs(Ce) <= 2.623395162778) {\n    var tmp = clens_cmplx(this.utg, 2 * Cn, 2 * Ce);\n\n    Cn = Cn + tmp[0];\n    Ce = Ce + tmp[1];\n    Ce = Math.atan(sinh(Ce));\n\n    var sin_Cn = Math.sin(Cn);\n    var cos_Cn = Math.cos(Cn);\n    var sin_Ce = Math.sin(Ce);\n    var cos_Ce = Math.cos(Ce);\n\n    Cn = Math.atan2(sin_Cn * cos_Ce, hypot(sin_Ce, cos_Ce * cos_Cn));\n    Ce = Math.atan2(sin_Ce, cos_Ce * cos_Cn);\n\n    lon = adjust_lon(Ce + this.long0);\n    lat = gatg(this.cgb, Cn);\n  }\n  else {\n    lon = Infinity;\n    lat = Infinity;\n  }\n\n  p.x = lon;\n  p.y = lat;\n\n  return p;\n}\n\nexport var names = [\"Extended_Transverse_Mercator\", \"Extended Transverse Mercator\", \"etmerc\", \"Transverse_Mercator\", \"Transverse Mercator\", \"tmerc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export default function(pp, arg_r) {\n  var r = 2 * Math.cos(arg_r);\n  var i = pp.length - 1;\n  var hr1 = pp[i];\n  var hr2 = 0;\n  var hr;\n\n  while (--i >= 0) {\n    hr = -hr2 + r * hr1 + pp[i];\n    hr2 = hr1;\n    hr1 = hr;\n  }\n\n  return Math.sin(arg_r) * hr;\n}\n","import hypot from './hypot';\nimport log1py from './log1py';\n\nexport default function(x) {\n  var y = Math.abs(x);\n  y = log1py(y * (1 + y / (hypot(1, y) + 1)));\n\n  return x < 0 ? -y : y;\n}\n","export default function(x) {\n  var y = 1 + x;\n  var z = y - 1;\n\n  return z === 0 ? x : x * Math.log(y) / z;\n}\n","import adjust_zone from '../common/adjust_zone';\nimport etmerc from './etmerc';\nexport var dependsOn = 'etmerc';\nimport {D2R} from '../constants/values';\n\n\nexport function init() {\n  var zone = adjust_zone(this.zone, this.long0);\n  if (zone === undefined) {\n    throw new Error('unknown utm zone');\n  }\n  this.lat0 = 0;\n  this.long0 =  ((6 * Math.abs(zone)) - 183) * D2R;\n  this.x0 = 500000;\n  this.y0 = this.utmSouth ? 10000000 : 0;\n  this.k0 = 0.9996;\n\n  etmerc.init.apply(this);\n  this.forward = etmerc.forward;\n  this.inverse = etmerc.inverse;\n}\n\nexport var names = [\"Universal Transverse Mercator System\", \"utm\"];\nexport default {\n  init: init,\n  names: names,\n  dependsOn: dependsOn\n};\n","import adjust_lon from './adjust_lon';\n\nexport default function(zone, lon) {\n  if (zone === undefined) {\n    zone = Math.floor((adjust_lon(lon) + Math.PI) * 30 / Math.PI) + 1;\n\n    if (zone < 0) {\n      return 0;\n    } else if (zone > 60) {\n      return 60;\n    }\n  }\n  return zone;\n}\n","export default function(esinp, exp) {\n  return (Math.pow((1 - esinp) / (1 + esinp), exp));\n}","import srat from '../common/srat';\nvar MAX_ITER = 20;\nimport {HALF_PI, FORTPI} from '../constants/values';\n\nexport function init() {\n  var sphi = Math.sin(this.lat0);\n  var cphi = Math.cos(this.lat0);\n  cphi *= cphi;\n  this.rc = Math.sqrt(1 - this.es) / (1 - this.es * sphi * sphi);\n  this.C = Math.sqrt(1 + this.es * cphi * cphi / (1 - this.es));\n  this.phic0 = Math.asin(sphi / this.C);\n  this.ratexp = 0.5 * this.C * this.e;\n  this.K = Math.tan(0.5 * this.phic0 + FORTPI) / (Math.pow(Math.tan(0.5 * this.lat0 + FORTPI), this.C) * srat(this.e * sphi, this.ratexp));\n}\n\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n\n  p.y = 2 * Math.atan(this.K * Math.pow(Math.tan(0.5 * lat + FORTPI), this.C) * srat(this.e * Math.sin(lat), this.ratexp)) - HALF_PI;\n  p.x = this.C * lon;\n  return p;\n}\n\nexport function inverse(p) {\n  var DEL_TOL = 1e-14;\n  var lon = p.x / this.C;\n  var lat = p.y;\n  var num = Math.pow(Math.tan(0.5 * lat + FORTPI) / this.K, 1 / this.C);\n  for (var i = MAX_ITER; i > 0; --i) {\n    lat = 2 * Math.atan(num * srat(this.e * Math.sin(p.y), - 0.5 * this.e)) - HALF_PI;\n    if (Math.abs(lat - p.y) < DEL_TOL) {\n      break;\n    }\n    p.y = lat;\n  }\n  /* convergence failed */\n  if (!i) {\n    return null;\n  }\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"gauss\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import gauss from './gauss';\nimport adjust_lon from '../common/adjust_lon';\n\nexport function init() {\n  gauss.init.apply(this);\n  if (!this.rc) {\n    return;\n  }\n  this.sinc0 = Math.sin(this.phic0);\n  this.cosc0 = Math.cos(this.phic0);\n  this.R2 = 2 * this.rc;\n  if (!this.title) {\n    this.title = \"Oblique Stereographic Alternative\";\n  }\n}\n\nexport function forward(p) {\n  var sinc, cosc, cosl, k;\n  p.x = adjust_lon(p.x - this.long0);\n  gauss.forward.apply(this, [p]);\n  sinc = Math.sin(p.y);\n  cosc = Math.cos(p.y);\n  cosl = Math.cos(p.x);\n  k = this.k0 * this.R2 / (1 + this.sinc0 * sinc + this.cosc0 * cosc * cosl);\n  p.x = k * cosc * Math.sin(p.x);\n  p.y = k * (this.cosc0 * sinc - this.sinc0 * cosc * cosl);\n  p.x = this.a * p.x + this.x0;\n  p.y = this.a * p.y + this.y0;\n  return p;\n}\n\nexport function inverse(p) {\n  var sinc, cosc, lon, lat, rho;\n  p.x = (p.x - this.x0) / this.a;\n  p.y = (p.y - this.y0) / this.a;\n\n  p.x /= this.k0;\n  p.y /= this.k0;\n  if ((rho = Math.sqrt(p.x * p.x + p.y * p.y))) {\n    var c = 2 * Math.atan2(rho, this.R2);\n    sinc = Math.sin(c);\n    cosc = Math.cos(c);\n    lat = Math.asin(cosc * this.sinc0 + p.y * sinc * this.cosc0 / rho);\n    lon = Math.atan2(p.x * sinc, rho * this.cosc0 * cosc - p.y * this.sinc0 * sinc);\n  }\n  else {\n    lat = this.phic0;\n    lon = 0;\n  }\n\n  p.x = lon;\n  p.y = lat;\n  gauss.inverse.apply(this, [p]);\n  p.x = adjust_lon(p.x + this.long0);\n  return p;\n}\n\nexport var names = [\"Stereographic_North_Pole\", \"Oblique_Stereographic\", \"Polar_Stereographic\", \"sterea\",\"Oblique Stereographic Alternative\",\"Double_Stereographic\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import {EPSLN, HALF_PI} from '../constants/values';\n\nimport sign from '../common/sign';\nimport msfnz from '../common/msfnz';\nimport tsfnz from '../common/tsfnz';\nimport phi2z from '../common/phi2z';\nimport adjust_lon from '../common/adjust_lon';\n\nexport function ssfn_(phit, sinphi, eccen) {\n  sinphi *= eccen;\n  return (Math.tan(0.5 * (HALF_PI + phit)) * Math.pow((1 - sinphi) / (1 + sinphi), 0.5 * eccen));\n}\n\nexport function init() {\n  this.coslat0 = Math.cos(this.lat0);\n  this.sinlat0 = Math.sin(this.lat0);\n  if (this.sphere) {\n    if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN) {\n      this.k0 = 0.5 * (1 + sign(this.lat0) * Math.sin(this.lat_ts));\n    }\n  }\n  else {\n    if (Math.abs(this.coslat0) <= EPSLN) {\n      if (this.lat0 > 0) {\n        //North pole\n        //trace('stere:north pole');\n        this.con = 1;\n      }\n      else {\n        //South pole\n        //trace('stere:south pole');\n        this.con = -1;\n      }\n    }\n    this.cons = Math.sqrt(Math.pow(1 + this.e, 1 + this.e) * Math.pow(1 - this.e, 1 - this.e));\n    if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN) {\n      this.k0 = 0.5 * this.cons * msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)) / tsfnz(this.e, this.con * this.lat_ts, this.con * Math.sin(this.lat_ts));\n    }\n    this.ms1 = msfnz(this.e, this.sinlat0, this.coslat0);\n    this.X0 = 2 * Math.atan(this.ssfn_(this.lat0, this.sinlat0, this.e)) - HALF_PI;\n    this.cosX0 = Math.cos(this.X0);\n    this.sinX0 = Math.sin(this.X0);\n  }\n}\n\n// Stereographic forward equations--mapping lat,long to x,y\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var sinlat = Math.sin(lat);\n  var coslat = Math.cos(lat);\n  var A, X, sinX, cosX, ts, rh;\n  var dlon = adjust_lon(lon - this.long0);\n\n  if (Math.abs(Math.abs(lon - this.long0) - Math.PI) <= EPSLN && Math.abs(lat + this.lat0) <= EPSLN) {\n    //case of the origine point\n    //trace('stere:this is the origin point');\n    p.x = NaN;\n    p.y = NaN;\n    return p;\n  }\n  if (this.sphere) {\n    //trace('stere:sphere case');\n    A = 2 * this.k0 / (1 + this.sinlat0 * sinlat + this.coslat0 * coslat * Math.cos(dlon));\n    p.x = this.a * A * coslat * Math.sin(dlon) + this.x0;\n    p.y = this.a * A * (this.coslat0 * sinlat - this.sinlat0 * coslat * Math.cos(dlon)) + this.y0;\n    return p;\n  }\n  else {\n    X = 2 * Math.atan(this.ssfn_(lat, sinlat, this.e)) - HALF_PI;\n    cosX = Math.cos(X);\n    sinX = Math.sin(X);\n    if (Math.abs(this.coslat0) <= EPSLN) {\n      ts = tsfnz(this.e, lat * this.con, this.con * sinlat);\n      rh = 2 * this.a * this.k0 * ts / this.cons;\n      p.x = this.x0 + rh * Math.sin(lon - this.long0);\n      p.y = this.y0 - this.con * rh * Math.cos(lon - this.long0);\n      //trace(p.toString());\n      return p;\n    }\n    else if (Math.abs(this.sinlat0) < EPSLN) {\n      //Eq\n      //trace('stere:equateur');\n      A = 2 * this.a * this.k0 / (1 + cosX * Math.cos(dlon));\n      p.y = A * sinX;\n    }\n    else {\n      //other case\n      //trace('stere:normal case');\n      A = 2 * this.a * this.k0 * this.ms1 / (this.cosX0 * (1 + this.sinX0 * sinX + this.cosX0 * cosX * Math.cos(dlon)));\n      p.y = A * (this.cosX0 * sinX - this.sinX0 * cosX * Math.cos(dlon)) + this.y0;\n    }\n    p.x = A * cosX * Math.sin(dlon) + this.x0;\n  }\n  //trace(p.toString());\n  return p;\n}\n\n//* Stereographic inverse equations--mapping x,y to lat/long\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var lon, lat, ts, ce, Chi;\n  var rh = Math.sqrt(p.x * p.x + p.y * p.y);\n  if (this.sphere) {\n    var c = 2 * Math.atan(rh / (2 * this.a * this.k0));\n    lon = this.long0;\n    lat = this.lat0;\n    if (rh <= EPSLN) {\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n    lat = Math.asin(Math.cos(c) * this.sinlat0 + p.y * Math.sin(c) * this.coslat0 / rh);\n    if (Math.abs(this.coslat0) < EPSLN) {\n      if (this.lat0 > 0) {\n        lon = adjust_lon(this.long0 + Math.atan2(p.x, - 1 * p.y));\n      }\n      else {\n        lon = adjust_lon(this.long0 + Math.atan2(p.x, p.y));\n      }\n    }\n    else {\n      lon = adjust_lon(this.long0 + Math.atan2(p.x * Math.sin(c), rh * this.coslat0 * Math.cos(c) - p.y * this.sinlat0 * Math.sin(c)));\n    }\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  else {\n    if (Math.abs(this.coslat0) <= EPSLN) {\n      if (rh <= EPSLN) {\n        lat = this.lat0;\n        lon = this.long0;\n        p.x = lon;\n        p.y = lat;\n        //trace(p.toString());\n        return p;\n      }\n      p.x *= this.con;\n      p.y *= this.con;\n      ts = rh * this.cons / (2 * this.a * this.k0);\n      lat = this.con * phi2z(this.e, ts);\n      lon = this.con * adjust_lon(this.con * this.long0 + Math.atan2(p.x, - 1 * p.y));\n    }\n    else {\n      ce = 2 * Math.atan(rh * this.cosX0 / (2 * this.a * this.k0 * this.ms1));\n      lon = this.long0;\n      if (rh <= EPSLN) {\n        Chi = this.X0;\n      }\n      else {\n        Chi = Math.asin(Math.cos(ce) * this.sinX0 + p.y * Math.sin(ce) * this.cosX0 / rh);\n        lon = adjust_lon(this.long0 + Math.atan2(p.x * Math.sin(ce), rh * this.cosX0 * Math.cos(ce) - p.y * this.sinX0 * Math.sin(ce)));\n      }\n      lat = -1 * phi2z(this.e, Math.tan(0.5 * (HALF_PI + Chi)));\n    }\n  }\n  p.x = lon;\n  p.y = lat;\n\n  //trace(p.toString());\n  return p;\n\n}\n\nexport var names = [\"stere\", \"Stereographic_South_Pole\", \"Polar Stereographic (variant B)\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names,\n  ssfn_: ssfn_\n};\n","/*\n  references:\n    Formules et constantes pour le Calcul pour la\n    projection cylindrique conforme  axe oblique et pour la transformation entre\n    des systmes de rfrence.\n    http://www.swisstopo.admin.ch/internet/swisstopo/fr/home/topics/survey/sys/refsys/switzerland.parsysrelated1.31216.downloadList.77004.DownloadFile.tmp/swissprojectionfr.pdf\n  */\n\nexport function init() {\n  var phy0 = this.lat0;\n  this.lambda0 = this.long0;\n  var sinPhy0 = Math.sin(phy0);\n  var semiMajorAxis = this.a;\n  var invF = this.rf;\n  var flattening = 1 / invF;\n  var e2 = 2 * flattening - Math.pow(flattening, 2);\n  var e = this.e = Math.sqrt(e2);\n  this.R = this.k0 * semiMajorAxis * Math.sqrt(1 - e2) / (1 - e2 * Math.pow(sinPhy0, 2));\n  this.alpha = Math.sqrt(1 + e2 / (1 - e2) * Math.pow(Math.cos(phy0), 4));\n  this.b0 = Math.asin(sinPhy0 / this.alpha);\n  var k1 = Math.log(Math.tan(Math.PI / 4 + this.b0 / 2));\n  var k2 = Math.log(Math.tan(Math.PI / 4 + phy0 / 2));\n  var k3 = Math.log((1 + e * sinPhy0) / (1 - e * sinPhy0));\n  this.K = k1 - this.alpha * k2 + this.alpha * e / 2 * k3;\n}\n\nexport function forward(p) {\n  var Sa1 = Math.log(Math.tan(Math.PI / 4 - p.y / 2));\n  var Sa2 = this.e / 2 * Math.log((1 + this.e * Math.sin(p.y)) / (1 - this.e * Math.sin(p.y)));\n  var S = -this.alpha * (Sa1 + Sa2) + this.K;\n\n  // spheric latitude\n  var b = 2 * (Math.atan(Math.exp(S)) - Math.PI / 4);\n\n  // spheric longitude\n  var I = this.alpha * (p.x - this.lambda0);\n\n  // psoeudo equatorial rotation\n  var rotI = Math.atan(Math.sin(I) / (Math.sin(this.b0) * Math.tan(b) + Math.cos(this.b0) * Math.cos(I)));\n\n  var rotB = Math.asin(Math.cos(this.b0) * Math.sin(b) - Math.sin(this.b0) * Math.cos(b) * Math.cos(I));\n\n  p.y = this.R / 2 * Math.log((1 + Math.sin(rotB)) / (1 - Math.sin(rotB))) + this.y0;\n  p.x = this.R * rotI + this.x0;\n  return p;\n}\n\nexport function inverse(p) {\n  var Y = p.x - this.x0;\n  var X = p.y - this.y0;\n\n  var rotI = Y / this.R;\n  var rotB = 2 * (Math.atan(Math.exp(X / this.R)) - Math.PI / 4);\n\n  var b = Math.asin(Math.cos(this.b0) * Math.sin(rotB) + Math.sin(this.b0) * Math.cos(rotB) * Math.cos(rotI));\n  var I = Math.atan(Math.sin(rotI) / (Math.cos(this.b0) * Math.cos(rotI) - Math.sin(this.b0) * Math.tan(rotB)));\n\n  var lambda = this.lambda0 + I / this.alpha;\n\n  var S = 0;\n  var phy = b;\n  var prevPhy = -1000;\n  var iteration = 0;\n  while (Math.abs(phy - prevPhy) > 0.0000001) {\n    if (++iteration > 20) {\n      //...reportError(\"omercFwdInfinity\");\n      return;\n    }\n    //S = Math.log(Math.tan(Math.PI / 4 + phy / 2));\n    S = 1 / this.alpha * (Math.log(Math.tan(Math.PI / 4 + b / 2)) - this.K) + this.e * Math.log(Math.tan(Math.PI / 4 + Math.asin(this.e * Math.sin(phy)) / 2));\n    prevPhy = phy;\n    phy = 2 * Math.atan(Math.exp(S)) - Math.PI / 2;\n  }\n\n  p.x = lambda;\n  p.y = phy;\n  return p;\n}\n\nexport var names = [\"somerc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import tsfnz from '../common/tsfnz';\nimport adjust_lon from '../common/adjust_lon';\nimport phi2z from '../common/phi2z';\nimport { D2R, EPSLN, HALF_PI, TWO_PI, FORTPI } from '../constants/values';\n\nvar TOL = 1e-7;\n\nfunction isTypeA(P) {\n  var typeAProjections = ['Hotine_Oblique_Mercator','Hotine_Oblique_Mercator_Azimuth_Natural_Origin'];\n  var projectionName = typeof P.PROJECTION === \"object\" ? Object.keys(P.PROJECTION)[0] : P.PROJECTION;\n  \n  return 'no_uoff' in P || 'no_off' in P || typeAProjections.indexOf(projectionName) !== -1;\n}\n\n\n/* Initialize the Oblique Mercator  projection\n    ------------------------------------------*/\nexport function init() {  \n  var con, com, cosph0, D, F, H, L, sinph0, p, J, gamma = 0,\n    gamma0, lamc = 0, lam1 = 0, lam2 = 0, phi1 = 0, phi2 = 0, alpha_c = 0, AB;\n  \n  // only Type A uses the no_off or no_uoff property\n  // https://github.com/OSGeo/proj.4/issues/104\n  this.no_off = isTypeA(this);\n  this.no_rot = 'no_rot' in this;\n  \n  var alp = false;\n  if (\"alpha\" in this) {\n    alp = true;\n  }\n\n  var gam = false;\n  if (\"rectified_grid_angle\" in this) {\n    gam = true;\n  }\n\n  if (alp) {\n    alpha_c = this.alpha;\n  }\n  \n  if (gam) {\n    gamma = (this.rectified_grid_angle * D2R);\n  }\n  \n  if (alp || gam) {\n    lamc = this.longc;\n  } else {\n    lam1 = this.long1;\n    phi1 = this.lat1;\n    lam2 = this.long2;\n    phi2 = this.lat2;\n    \n    if (Math.abs(phi1 - phi2) <= TOL || (con = Math.abs(phi1)) <= TOL ||\n        Math.abs(con - HALF_PI) <= TOL || Math.abs(Math.abs(this.lat0) - HALF_PI) <= TOL ||\n        Math.abs(Math.abs(phi2) - HALF_PI) <= TOL) {\n      throw new Error();\n    }\n  }\n  \n  var one_es = 1.0 - this.es;\n  com = Math.sqrt(one_es);\n  \n  if (Math.abs(this.lat0) > EPSLN) {\n    sinph0 = Math.sin(this.lat0);\n    cosph0 = Math.cos(this.lat0);\n    con = 1 - this.es * sinph0 * sinph0;\n    this.B = cosph0 * cosph0;\n    this.B = Math.sqrt(1 + this.es * this.B * this.B / one_es);\n    this.A = this.B * this.k0 * com / con;\n    D = this.B * com / (cosph0 * Math.sqrt(con));\n    F = D * D -1;\n    \n    if (F <= 0) {\n      F = 0;\n    } else {\n      F = Math.sqrt(F);\n      if (this.lat0 < 0) {\n        F = -F;\n      }\n    }\n    \n    this.E = F += D;\n    this.E *= Math.pow(tsfnz(this.e, this.lat0, sinph0), this.B);\n  } else {\n    this.B = 1 / com;\n    this.A = this.k0;\n    this.E = D = F = 1;\n  }\n  \n  if (alp || gam) {\n    if (alp) {\n      gamma0 = Math.asin(Math.sin(alpha_c) / D);\n      if (!gam) {\n        gamma = alpha_c;\n      }\n    } else {\n      gamma0 = gamma;\n      alpha_c = Math.asin(D * Math.sin(gamma0));\n    }\n    this.lam0 = lamc - Math.asin(0.5 * (F - 1 / F) * Math.tan(gamma0)) / this.B;\n  } else {\n    H = Math.pow(tsfnz(this.e, phi1, Math.sin(phi1)), this.B);\n    L = Math.pow(tsfnz(this.e, phi2, Math.sin(phi2)), this.B);\n    F = this.E / H;\n    p = (L - H) / (L + H);\n    J = this.E * this.E;\n    J = (J - L * H) / (J + L * H);\n    con = lam1 - lam2;\n    \n    if (con < -Math.pi) {\n      lam2 -=TWO_PI;\n    } else if (con > Math.pi) {\n      lam2 += TWO_PI;\n    }\n    \n    this.lam0 = adjust_lon(0.5 * (lam1 + lam2) - Math.atan(J * Math.tan(0.5 * this.B * (lam1 - lam2)) / p) / this.B);\n    gamma0 = Math.atan(2 * Math.sin(this.B * adjust_lon(lam1 - this.lam0)) / (F - 1 / F));\n    gamma = alpha_c = Math.asin(D * Math.sin(gamma0));\n  }\n  \n  this.singam = Math.sin(gamma0);\n  this.cosgam = Math.cos(gamma0);\n  this.sinrot = Math.sin(gamma);\n  this.cosrot = Math.cos(gamma);\n  \n  this.rB = 1 / this.B;\n  this.ArB = this.A * this.rB;\n  this.BrA = 1 / this.ArB;\n  AB = this.A * this.B;\n  \n  if (this.no_off) {\n    this.u_0 = 0;\n  } else {\n    this.u_0 = Math.abs(this.ArB * Math.atan(Math.sqrt(D * D - 1) / Math.cos(alpha_c)));\n    \n    if (this.lat0 < 0) {\n      this.u_0 = - this.u_0;\n    }  \n  }\n    \n  F = 0.5 * gamma0;\n  this.v_pole_n = this.ArB * Math.log(Math.tan(FORTPI - F));\n  this.v_pole_s = this.ArB * Math.log(Math.tan(FORTPI + F));\n}\n\n\n/* Oblique Mercator forward equations--mapping lat,long to x,y\n    ----------------------------------------------------------*/\nexport function forward(p) {\n  var coords = {};\n  var S, T, U, V, W, temp, u, v;\n  p.x = p.x - this.lam0;\n  \n  if (Math.abs(Math.abs(p.y) - HALF_PI) > EPSLN) {\n    W = this.E / Math.pow(tsfnz(this.e, p.y, Math.sin(p.y)), this.B);\n    \n    temp = 1 / W;\n    S = 0.5 * (W - temp);\n    T = 0.5 * (W + temp);\n    V = Math.sin(this.B * p.x);\n    U = (S * this.singam - V * this.cosgam) / T;\n        \n    if (Math.abs(Math.abs(U) - 1.0) < EPSLN) {\n      throw new Error();\n    }\n    \n    v = 0.5 * this.ArB * Math.log((1 - U)/(1 + U));\n    temp = Math.cos(this.B * p.x);\n    \n    if (Math.abs(temp) < TOL) {\n      u = this.A * p.x;\n    } else {\n      u = this.ArB * Math.atan2((S * this.cosgam + V * this.singam), temp);\n    }    \n  } else {\n    v = p.y > 0 ? this.v_pole_n : this.v_pole_s;\n    u = this.ArB * p.y;\n  }\n     \n  if (this.no_rot) {\n    coords.x = u;\n    coords.y = v;\n  } else {\n    u -= this.u_0;\n    coords.x = v * this.cosrot + u * this.sinrot;\n    coords.y = u * this.cosrot - v * this.sinrot;\n  }\n  \n  coords.x = (this.a * coords.x + this.x0);\n  coords.y = (this.a * coords.y + this.y0);\n  \n  return coords;\n}\n\nexport function inverse(p) {\n  var u, v, Qp, Sp, Tp, Vp, Up;\n  var coords = {};\n  \n  p.x = (p.x - this.x0) * (1.0 / this.a);\n  p.y = (p.y - this.y0) * (1.0 / this.a);\n\n  if (this.no_rot) {\n    v = p.y;\n    u = p.x;\n  } else {\n    v = p.x * this.cosrot - p.y * this.sinrot;\n    u = p.y * this.cosrot + p.x * this.sinrot + this.u_0;\n  }\n  \n  Qp = Math.exp(-this.BrA * v);\n  Sp = 0.5 * (Qp - 1 / Qp);\n  Tp = 0.5 * (Qp + 1 / Qp);\n  Vp = Math.sin(this.BrA * u);\n  Up = (Vp * this.cosgam + Sp * this.singam) / Tp;\n  \n  if (Math.abs(Math.abs(Up) - 1) < EPSLN) {\n    coords.x = 0;\n    coords.y = Up < 0 ? -HALF_PI : HALF_PI;\n  } else {\n    coords.y = this.E / Math.sqrt((1 + Up) / (1 - Up));\n    coords.y = phi2z(this.e, Math.pow(coords.y, 1 / this.B));\n    \n    if (coords.y === Infinity) {\n      throw new Error();\n    }\n        \n    coords.x = -this.rB * Math.atan2((Sp * this.cosgam - Vp * this.singam), Math.cos(this.BrA * u));\n  }\n  \n  coords.x += this.lam0;\n  \n  return coords;\n}\n\nexport var names = [\"Hotine_Oblique_Mercator\", \"Hotine Oblique Mercator\", \"Hotine_Oblique_Mercator_Azimuth_Natural_Origin\", \"Hotine_Oblique_Mercator_Two_Point_Natural_Origin\", \"Hotine_Oblique_Mercator_Azimuth_Center\", \"Oblique_Mercator\", \"omerc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import msfnz from '../common/msfnz';\nimport tsfnz from '../common/tsfnz';\nimport sign from '../common/sign';\nimport adjust_lon from '../common/adjust_lon';\nimport phi2z from '../common/phi2z';\nimport {HALF_PI, EPSLN} from '../constants/values';\nexport function init() {\n  \n  //double lat0;                    /* the reference latitude               */\n  //double long0;                   /* the reference longitude              */\n  //double lat1;                    /* first standard parallel              */\n  //double lat2;                    /* second standard parallel             */\n  //double r_maj;                   /* major axis                           */\n  //double r_min;                   /* minor axis                           */\n  //double false_east;              /* x offset in meters                   */\n  //double false_north;             /* y offset in meters                   */\n  \n  //the above value can be set with proj4.defs\n  //example: proj4.defs(\"EPSG:2154\",\"+proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\");\n\n  if (!this.lat2) {\n    this.lat2 = this.lat1;\n  } //if lat2 is not defined\n  if (!this.k0) {\n    this.k0 = 1;\n  }\n  this.x0 = this.x0 || 0;\n  this.y0 = this.y0 || 0;\n  // Standard Parallels cannot be equal and on opposite sides of the equator\n  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n    return;\n  }\n\n  var temp = this.b / this.a;\n  this.e = Math.sqrt(1 - temp * temp);\n\n  var sin1 = Math.sin(this.lat1);\n  var cos1 = Math.cos(this.lat1);\n  var ms1 = msfnz(this.e, sin1, cos1);\n  var ts1 = tsfnz(this.e, this.lat1, sin1);\n\n  var sin2 = Math.sin(this.lat2);\n  var cos2 = Math.cos(this.lat2);\n  var ms2 = msfnz(this.e, sin2, cos2);\n  var ts2 = tsfnz(this.e, this.lat2, sin2);\n\n  var ts0 = tsfnz(this.e, this.lat0, Math.sin(this.lat0));\n\n  if (Math.abs(this.lat1 - this.lat2) > EPSLN) {\n    this.ns = Math.log(ms1 / ms2) / Math.log(ts1 / ts2);\n  }\n  else {\n    this.ns = sin1;\n  }\n  if (isNaN(this.ns)) {\n    this.ns = sin1;\n  }\n  this.f0 = ms1 / (this.ns * Math.pow(ts1, this.ns));\n  this.rh = this.a * this.f0 * Math.pow(ts0, this.ns);\n  if (!this.title) {\n    this.title = \"Lambert Conformal Conic\";\n  }\n}\n\n// Lambert Conformal conic forward equations--mapping lat,long to x,y\n// -----------------------------------------------------------------\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  // singular cases :\n  if (Math.abs(2 * Math.abs(lat) - Math.PI) <= EPSLN) {\n    lat = sign(lat) * (HALF_PI - 2 * EPSLN);\n  }\n\n  var con = Math.abs(Math.abs(lat) - HALF_PI);\n  var ts, rh1;\n  if (con > EPSLN) {\n    ts = tsfnz(this.e, lat, Math.sin(lat));\n    rh1 = this.a * this.f0 * Math.pow(ts, this.ns);\n  }\n  else {\n    con = lat * this.ns;\n    if (con <= 0) {\n      return null;\n    }\n    rh1 = 0;\n  }\n  var theta = this.ns * adjust_lon(lon - this.long0);\n  p.x = this.k0 * (rh1 * Math.sin(theta)) + this.x0;\n  p.y = this.k0 * (this.rh - rh1 * Math.cos(theta)) + this.y0;\n\n  return p;\n}\n\n// Lambert Conformal Conic inverse equations--mapping x,y to lat/long\n// -----------------------------------------------------------------\nexport function inverse(p) {\n\n  var rh1, con, ts;\n  var lat, lon;\n  var x = (p.x - this.x0) / this.k0;\n  var y = (this.rh - (p.y - this.y0) / this.k0);\n  if (this.ns > 0) {\n    rh1 = Math.sqrt(x * x + y * y);\n    con = 1;\n  }\n  else {\n    rh1 = -Math.sqrt(x * x + y * y);\n    con = -1;\n  }\n  var theta = 0;\n  if (rh1 !== 0) {\n    theta = Math.atan2((con * x), (con * y));\n  }\n  if ((rh1 !== 0) || (this.ns > 0)) {\n    con = 1 / this.ns;\n    ts = Math.pow((rh1 / (this.a * this.f0)), con);\n    lat = phi2z(this.e, ts);\n    if (lat === -9999) {\n      return null;\n    }\n  }\n  else {\n    lat = -HALF_PI;\n  }\n  lon = adjust_lon(theta / this.ns + this.long0);\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\n  \"Lambert Tangential Conformal Conic Projection\",\n  \"Lambert_Conformal_Conic\",\n  \"Lambert_Conformal_Conic_1SP\",\n  \"Lambert_Conformal_Conic_2SP\",\n  \"lcc\",\n  \"Lambert Conic Conformal (1SP)\",\n  \"Lambert Conic Conformal (2SP)\"\n];\n\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\n\nexport function init() {\n  this.a = 6377397.155;\n  this.es = 0.006674372230614;\n  this.e = Math.sqrt(this.es);\n  if (!this.lat0) {\n    this.lat0 = 0.863937979737193;\n  }\n  if (!this.long0) {\n    this.long0 = 0.7417649320975901 - 0.308341501185665;\n  }\n  /* if scale not set default to 0.9999 */\n  if (!this.k0) {\n    this.k0 = 0.9999;\n  }\n  this.s45 = 0.785398163397448; /* 45 */\n  this.s90 = 2 * this.s45;\n  this.fi0 = this.lat0;\n  this.e2 = this.es;\n  this.e = Math.sqrt(this.e2);\n  this.alfa = Math.sqrt(1 + (this.e2 * Math.pow(Math.cos(this.fi0), 4)) / (1 - this.e2));\n  this.uq = 1.04216856380474;\n  this.u0 = Math.asin(Math.sin(this.fi0) / this.alfa);\n  this.g = Math.pow((1 + this.e * Math.sin(this.fi0)) / (1 - this.e * Math.sin(this.fi0)), this.alfa * this.e / 2);\n  this.k = Math.tan(this.u0 / 2 + this.s45) / Math.pow(Math.tan(this.fi0 / 2 + this.s45), this.alfa) * this.g;\n  this.k1 = this.k0;\n  this.n0 = this.a * Math.sqrt(1 - this.e2) / (1 - this.e2 * Math.pow(Math.sin(this.fi0), 2));\n  this.s0 = 1.37008346281555;\n  this.n = Math.sin(this.s0);\n  this.ro0 = this.k1 * this.n0 / Math.tan(this.s0);\n  this.ad = this.s90 - this.uq;\n}\n\n/* ellipsoid */\n/* calculate xy from lat/lon */\n/* Constants, identical to inverse transform function */\nexport function forward(p) {\n  var gfi, u, deltav, s, d, eps, ro;\n  var lon = p.x;\n  var lat = p.y;\n  var delta_lon = adjust_lon(lon - this.long0);\n  /* Transformation */\n  gfi = Math.pow(((1 + this.e * Math.sin(lat)) / (1 - this.e * Math.sin(lat))), (this.alfa * this.e / 2));\n  u = 2 * (Math.atan(this.k * Math.pow(Math.tan(lat / 2 + this.s45), this.alfa) / gfi) - this.s45);\n  deltav = -delta_lon * this.alfa;\n  s = Math.asin(Math.cos(this.ad) * Math.sin(u) + Math.sin(this.ad) * Math.cos(u) * Math.cos(deltav));\n  d = Math.asin(Math.cos(u) * Math.sin(deltav) / Math.cos(s));\n  eps = this.n * d;\n  ro = this.ro0 * Math.pow(Math.tan(this.s0 / 2 + this.s45), this.n) / Math.pow(Math.tan(s / 2 + this.s45), this.n);\n  p.y = ro * Math.cos(eps) / 1;\n  p.x = ro * Math.sin(eps) / 1;\n\n  if (!this.czech) {\n    p.y *= -1;\n    p.x *= -1;\n  }\n  return (p);\n}\n\n/* calculate lat/lon from xy */\nexport function inverse(p) {\n  var u, deltav, s, d, eps, ro, fi1;\n  var ok;\n\n  /* Transformation */\n  /* revert y, x*/\n  var tmp = p.x;\n  p.x = p.y;\n  p.y = tmp;\n  if (!this.czech) {\n    p.y *= -1;\n    p.x *= -1;\n  }\n  ro = Math.sqrt(p.x * p.x + p.y * p.y);\n  eps = Math.atan2(p.y, p.x);\n  d = eps / Math.sin(this.s0);\n  s = 2 * (Math.atan(Math.pow(this.ro0 / ro, 1 / this.n) * Math.tan(this.s0 / 2 + this.s45)) - this.s45);\n  u = Math.asin(Math.cos(this.ad) * Math.sin(s) - Math.sin(this.ad) * Math.cos(s) * Math.cos(d));\n  deltav = Math.asin(Math.cos(s) * Math.sin(d) / Math.cos(u));\n  p.x = this.long0 - deltav / this.alfa;\n  fi1 = u;\n  ok = 0;\n  var iter = 0;\n  do {\n    p.y = 2 * (Math.atan(Math.pow(this.k, - 1 / this.alfa) * Math.pow(Math.tan(u / 2 + this.s45), 1 / this.alfa) * Math.pow((1 + this.e * Math.sin(fi1)) / (1 - this.e * Math.sin(fi1)), this.e / 2)) - this.s45);\n    if (Math.abs(fi1 - p.y) < 0.0000000001) {\n      ok = 1;\n    }\n    fi1 = p.y;\n    iter += 1;\n  } while (ok === 0 && iter < 15);\n  if (iter >= 15) {\n    return null;\n  }\n\n  return (p);\n}\n\nexport var names = [\"Krovak\", \"krovak\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export default function(e0, e1, e2, e3, phi) {\n  return (e0 * phi - e1 * Math.sin(2 * phi) + e2 * Math.sin(4 * phi) - e3 * Math.sin(6 * phi));\n}","export default function(x) {\n  return (1 - 0.25 * x * (1 + x / 16 * (3 + 1.25 * x)));\n}","export default function(x) {\n  return (0.375 * x * (1 + 0.25 * x * (1 + 0.46875 * x)));\n}","export default function(x) {\n  return (0.05859375 * x * x * (1 + 0.75 * x));\n}","export default function(x) {\n  return (x * x * x * (35 / 3072));\n}","export default function(a, e, sinphi) {\n  var temp = e * sinphi;\n  return a / Math.sqrt(1 - temp * temp);\n}","import {HALF_PI} from '../constants/values';\nimport sign from './sign';\n\nexport default function(x) {\n  return (Math.abs(x) < HALF_PI) ? x : (x - (sign(x) * Math.PI));\n}\n","export default function(ml, e0, e1, e2, e3) {\n  var phi;\n  var dphi;\n\n  phi = ml / e0;\n  for (var i = 0; i < 15; i++) {\n    dphi = (ml - (e0 * phi - e1 * Math.sin(2 * phi) + e2 * Math.sin(4 * phi) - e3 * Math.sin(6 * phi))) / (e0 - 2 * e1 * Math.cos(2 * phi) + 4 * e2 * Math.cos(4 * phi) - 6 * e3 * Math.cos(6 * phi));\n    phi += dphi;\n    if (Math.abs(dphi) <= 0.0000000001) {\n      return phi;\n    }\n  }\n\n  //..reportError(\"IMLFN-CONV:Latitude failed to converge after 15 iterations\");\n  return NaN;\n}","import mlfn from '../common/mlfn';\nimport e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport gN from '../common/gN';\nimport adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport imlfn from '../common/imlfn';\nimport {HALF_PI, EPSLN} from '../constants/values';\n\nexport function init() {\n  if (!this.sphere) {\n    this.e0 = e0fn(this.es);\n    this.e1 = e1fn(this.es);\n    this.e2 = e2fn(this.es);\n    this.e3 = e3fn(this.es);\n    this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);\n  }\n}\n\n/* Cassini forward equations--mapping lat,long to x,y\n  -----------------------------------------------------------------------*/\nexport function forward(p) {\n\n  /* Forward equations\n      -----------------*/\n  var x, y;\n  var lam = p.x;\n  var phi = p.y;\n  lam = adjust_lon(lam - this.long0);\n\n  if (this.sphere) {\n    x = this.a * Math.asin(Math.cos(phi) * Math.sin(lam));\n    y = this.a * (Math.atan2(Math.tan(phi), Math.cos(lam)) - this.lat0);\n  }\n  else {\n    //ellipsoid\n    var sinphi = Math.sin(phi);\n    var cosphi = Math.cos(phi);\n    var nl = gN(this.a, this.e, sinphi);\n    var tl = Math.tan(phi) * Math.tan(phi);\n    var al = lam * Math.cos(phi);\n    var asq = al * al;\n    var cl = this.es * cosphi * cosphi / (1 - this.es);\n    var ml = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);\n\n    x = nl * al * (1 - asq * tl * (1 / 6 - (8 - tl + 8 * cl) * asq / 120));\n    y = ml - this.ml0 + nl * sinphi / cosphi * asq * (0.5 + (5 - tl + 6 * cl) * asq / 24);\n\n\n  }\n\n  p.x = x + this.x0;\n  p.y = y + this.y0;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var x = p.x / this.a;\n  var y = p.y / this.a;\n  var phi, lam;\n\n  if (this.sphere) {\n    var dd = y + this.lat0;\n    phi = Math.asin(Math.sin(dd) * Math.cos(x));\n    lam = Math.atan2(Math.tan(x), Math.cos(dd));\n  }\n  else {\n    /* ellipsoid */\n    var ml1 = this.ml0 / this.a + y;\n    var phi1 = imlfn(ml1, this.e0, this.e1, this.e2, this.e3);\n    if (Math.abs(Math.abs(phi1) - HALF_PI) <= EPSLN) {\n      p.x = this.long0;\n      p.y = HALF_PI;\n      if (y < 0) {\n        p.y *= -1;\n      }\n      return p;\n    }\n    var nl1 = gN(this.a, this.e, Math.sin(phi1));\n\n    var rl1 = nl1 * nl1 * nl1 / this.a / this.a * (1 - this.es);\n    var tl1 = Math.pow(Math.tan(phi1), 2);\n    var dl = x * this.a / nl1;\n    var dsq = dl * dl;\n    phi = phi1 - nl1 * Math.tan(phi1) / rl1 * dl * dl * (0.5 - (1 + 3 * tl1) * dl * dl / 24);\n    lam = dl * (1 - dsq * (tl1 / 3 + (1 + 3 * tl1) * tl1 * dsq / 15)) / Math.cos(phi1);\n\n  }\n\n  p.x = adjust_lon(lam + this.long0);\n  p.y = adjust_lat(phi);\n  return p;\n\n}\n\nexport var names = [\"Cassini\", \"Cassini_Soldner\", \"cass\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export default function(eccent, sinphi) {\n  var con;\n  if (eccent > 1.0e-7) {\n    con = eccent * sinphi;\n    return ((1 - eccent * eccent) * (sinphi / (1 - con * con) - (0.5 / eccent) * Math.log((1 - con) / (1 + con))));\n  }\n  else {\n    return (2 * sinphi);\n  }\n}","\nimport {HALF_PI, EPSLN, FORTPI} from '../constants/values';\n\nimport qsfnz from '../common/qsfnz';\nimport adjust_lon from '../common/adjust_lon';\n\n/*\n  reference\n    \"New Equal-Area Map Projections for Noncircular Regions\", John P. Snyder,\n    The American Cartographer, Vol 15, No. 4, October 1988, pp. 341-355.\n  */\n\nexport var S_POLE = 1;\n\nexport var N_POLE = 2;\nexport var EQUIT = 3;\nexport var OBLIQ = 4;\n\n/* Initialize the Lambert Azimuthal Equal Area projection\n  ------------------------------------------------------*/\nexport function init() {\n  var t = Math.abs(this.lat0);\n  if (Math.abs(t - HALF_PI) < EPSLN) {\n    this.mode = this.lat0 < 0 ? this.S_POLE : this.N_POLE;\n  }\n  else if (Math.abs(t) < EPSLN) {\n    this.mode = this.EQUIT;\n  }\n  else {\n    this.mode = this.OBLIQ;\n  }\n  if (this.es > 0) {\n    var sinphi;\n\n    this.qp = qsfnz(this.e, 1);\n    this.mmf = 0.5 / (1 - this.es);\n    this.apa = authset(this.es);\n    switch (this.mode) {\n    case this.N_POLE:\n      this.dd = 1;\n      break;\n    case this.S_POLE:\n      this.dd = 1;\n      break;\n    case this.EQUIT:\n      this.rq = Math.sqrt(0.5 * this.qp);\n      this.dd = 1 / this.rq;\n      this.xmf = 1;\n      this.ymf = 0.5 * this.qp;\n      break;\n    case this.OBLIQ:\n      this.rq = Math.sqrt(0.5 * this.qp);\n      sinphi = Math.sin(this.lat0);\n      this.sinb1 = qsfnz(this.e, sinphi) / this.qp;\n      this.cosb1 = Math.sqrt(1 - this.sinb1 * this.sinb1);\n      this.dd = Math.cos(this.lat0) / (Math.sqrt(1 - this.es * sinphi * sinphi) * this.rq * this.cosb1);\n      this.ymf = (this.xmf = this.rq) / this.dd;\n      this.xmf *= this.dd;\n      break;\n    }\n  }\n  else {\n    if (this.mode === this.OBLIQ) {\n      this.sinph0 = Math.sin(this.lat0);\n      this.cosph0 = Math.cos(this.lat0);\n    }\n  }\n}\n\n/* Lambert Azimuthal Equal Area forward equations--mapping lat,long to x,y\n  -----------------------------------------------------------------------*/\nexport function forward(p) {\n\n  /* Forward equations\n      -----------------*/\n  var x, y, coslam, sinlam, sinphi, q, sinb, cosb, b, cosphi;\n  var lam = p.x;\n  var phi = p.y;\n\n  lam = adjust_lon(lam - this.long0);\n  if (this.sphere) {\n    sinphi = Math.sin(phi);\n    cosphi = Math.cos(phi);\n    coslam = Math.cos(lam);\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      y = (this.mode === this.EQUIT) ? 1 + cosphi * coslam : 1 + this.sinph0 * sinphi + this.cosph0 * cosphi * coslam;\n      if (y <= EPSLN) {\n        return null;\n      }\n      y = Math.sqrt(2 / y);\n      x = y * cosphi * Math.sin(lam);\n      y *= (this.mode === this.EQUIT) ? sinphi : this.cosph0 * sinphi - this.sinph0 * cosphi * coslam;\n    }\n    else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {\n      if (this.mode === this.N_POLE) {\n        coslam = -coslam;\n      }\n      if (Math.abs(phi + this.lat0) < EPSLN) {\n        return null;\n      }\n      y = FORTPI - phi * 0.5;\n      y = 2 * ((this.mode === this.S_POLE) ? Math.cos(y) : Math.sin(y));\n      x = y * Math.sin(lam);\n      y *= coslam;\n    }\n  }\n  else {\n    sinb = 0;\n    cosb = 0;\n    b = 0;\n    coslam = Math.cos(lam);\n    sinlam = Math.sin(lam);\n    sinphi = Math.sin(phi);\n    q = qsfnz(this.e, sinphi);\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      sinb = q / this.qp;\n      cosb = Math.sqrt(1 - sinb * sinb);\n    }\n    switch (this.mode) {\n    case this.OBLIQ:\n      b = 1 + this.sinb1 * sinb + this.cosb1 * cosb * coslam;\n      break;\n    case this.EQUIT:\n      b = 1 + cosb * coslam;\n      break;\n    case this.N_POLE:\n      b = HALF_PI + phi;\n      q = this.qp - q;\n      break;\n    case this.S_POLE:\n      b = phi - HALF_PI;\n      q = this.qp + q;\n      break;\n    }\n    if (Math.abs(b) < EPSLN) {\n      return null;\n    }\n    switch (this.mode) {\n    case this.OBLIQ:\n    case this.EQUIT:\n      b = Math.sqrt(2 / b);\n      if (this.mode === this.OBLIQ) {\n        y = this.ymf * b * (this.cosb1 * sinb - this.sinb1 * cosb * coslam);\n      }\n      else {\n        y = (b = Math.sqrt(2 / (1 + cosb * coslam))) * sinb * this.ymf;\n      }\n      x = this.xmf * b * cosb * sinlam;\n      break;\n    case this.N_POLE:\n    case this.S_POLE:\n      if (q >= 0) {\n        x = (b = Math.sqrt(q)) * sinlam;\n        y = coslam * ((this.mode === this.S_POLE) ? b : -b);\n      }\n      else {\n        x = y = 0;\n      }\n      break;\n    }\n  }\n\n  p.x = this.a * x + this.x0;\n  p.y = this.a * y + this.y0;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var x = p.x / this.a;\n  var y = p.y / this.a;\n  var lam, phi, cCe, sCe, q, rho, ab;\n  if (this.sphere) {\n    var cosz = 0,\n      rh, sinz = 0;\n\n    rh = Math.sqrt(x * x + y * y);\n    phi = rh * 0.5;\n    if (phi > 1) {\n      return null;\n    }\n    phi = 2 * Math.asin(phi);\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      sinz = Math.sin(phi);\n      cosz = Math.cos(phi);\n    }\n    switch (this.mode) {\n    case this.EQUIT:\n      phi = (Math.abs(rh) <= EPSLN) ? 0 : Math.asin(y * sinz / rh);\n      x *= sinz;\n      y = cosz * rh;\n      break;\n    case this.OBLIQ:\n      phi = (Math.abs(rh) <= EPSLN) ? this.lat0 : Math.asin(cosz * this.sinph0 + y * sinz * this.cosph0 / rh);\n      x *= sinz * this.cosph0;\n      y = (cosz - Math.sin(phi) * this.sinph0) * rh;\n      break;\n    case this.N_POLE:\n      y = -y;\n      phi = HALF_PI - phi;\n      break;\n    case this.S_POLE:\n      phi -= HALF_PI;\n      break;\n    }\n    lam = (y === 0 && (this.mode === this.EQUIT || this.mode === this.OBLIQ)) ? 0 : Math.atan2(x, y);\n  }\n  else {\n    ab = 0;\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      x /= this.dd;\n      y *= this.dd;\n      rho = Math.sqrt(x * x + y * y);\n      if (rho < EPSLN) {\n        p.x = this.long0;\n        p.y = this.lat0;\n        return p;\n      }\n      sCe = 2 * Math.asin(0.5 * rho / this.rq);\n      cCe = Math.cos(sCe);\n      x *= (sCe = Math.sin(sCe));\n      if (this.mode === this.OBLIQ) {\n        ab = cCe * this.sinb1 + y * sCe * this.cosb1 / rho;\n        q = this.qp * ab;\n        y = rho * this.cosb1 * cCe - y * this.sinb1 * sCe;\n      }\n      else {\n        ab = y * sCe / rho;\n        q = this.qp * ab;\n        y = rho * cCe;\n      }\n    }\n    else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {\n      if (this.mode === this.N_POLE) {\n        y = -y;\n      }\n      q = (x * x + y * y);\n      if (!q) {\n        p.x = this.long0;\n        p.y = this.lat0;\n        return p;\n      }\n      ab = 1 - q / this.qp;\n      if (this.mode === this.S_POLE) {\n        ab = -ab;\n      }\n    }\n    lam = Math.atan2(x, y);\n    phi = authlat(Math.asin(ab), this.apa);\n  }\n\n  p.x = adjust_lon(this.long0 + lam);\n  p.y = phi;\n  return p;\n}\n\n/* determine latitude from authalic latitude */\nvar P00 = 0.33333333333333333333;\n\nvar P01 = 0.17222222222222222222;\nvar P02 = 0.10257936507936507936;\nvar P10 = 0.06388888888888888888;\nvar P11 = 0.06640211640211640211;\nvar P20 = 0.01641501294219154443;\n\nfunction authset(es) {\n  var t;\n  var APA = [];\n  APA[0] = es * P00;\n  t = es * es;\n  APA[0] += t * P01;\n  APA[1] = t * P10;\n  t *= es;\n  APA[0] += t * P02;\n  APA[1] += t * P11;\n  APA[2] = t * P20;\n  return APA;\n}\n\nfunction authlat(beta, APA) {\n  var t = beta + beta;\n  return (beta + APA[0] * Math.sin(t) + APA[1] * Math.sin(t + t) + APA[2] * Math.sin(t + t + t));\n}\n\nexport var names = [\"Lambert Azimuthal Equal Area\", \"Lambert_Azimuthal_Equal_Area\", \"laea\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names,\n  S_POLE: S_POLE,\n  N_POLE: N_POLE,\n  EQUIT: EQUIT,\n  OBLIQ: OBLIQ\n};\n","export default function(x) {\n  if (Math.abs(x) > 1) {\n    x = (x > 1) ? 1 : -1;\n  }\n  return Math.asin(x);\n}","import msfnz from '../common/msfnz';\nimport qsfnz from '../common/qsfnz';\nimport adjust_lon from '../common/adjust_lon';\nimport asinz from '../common/asinz';\nimport {EPSLN} from '../constants/values';\n\nexport function init() {\n\n  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n    return;\n  }\n  this.temp = this.b / this.a;\n  this.es = 1 - Math.pow(this.temp, 2);\n  this.e3 = Math.sqrt(this.es);\n\n  this.sin_po = Math.sin(this.lat1);\n  this.cos_po = Math.cos(this.lat1);\n  this.t1 = this.sin_po;\n  this.con = this.sin_po;\n  this.ms1 = msfnz(this.e3, this.sin_po, this.cos_po);\n  this.qs1 = qsfnz(this.e3, this.sin_po, this.cos_po);\n\n  this.sin_po = Math.sin(this.lat2);\n  this.cos_po = Math.cos(this.lat2);\n  this.t2 = this.sin_po;\n  this.ms2 = msfnz(this.e3, this.sin_po, this.cos_po);\n  this.qs2 = qsfnz(this.e3, this.sin_po, this.cos_po);\n\n  this.sin_po = Math.sin(this.lat0);\n  this.cos_po = Math.cos(this.lat0);\n  this.t3 = this.sin_po;\n  this.qs0 = qsfnz(this.e3, this.sin_po, this.cos_po);\n\n  if (Math.abs(this.lat1 - this.lat2) > EPSLN) {\n    this.ns0 = (this.ms1 * this.ms1 - this.ms2 * this.ms2) / (this.qs2 - this.qs1);\n  }\n  else {\n    this.ns0 = this.con;\n  }\n  this.c = this.ms1 * this.ms1 + this.ns0 * this.qs1;\n  this.rh = this.a * Math.sqrt(this.c - this.ns0 * this.qs0) / this.ns0;\n}\n\n/* Albers Conical Equal Area forward equations--mapping lat,long to x,y\n  -------------------------------------------------------------------*/\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  this.sin_phi = Math.sin(lat);\n  this.cos_phi = Math.cos(lat);\n\n  var qs = qsfnz(this.e3, this.sin_phi, this.cos_phi);\n  var rh1 = this.a * Math.sqrt(this.c - this.ns0 * qs) / this.ns0;\n  var theta = this.ns0 * adjust_lon(lon - this.long0);\n  var x = rh1 * Math.sin(theta) + this.x0;\n  var y = this.rh - rh1 * Math.cos(theta) + this.y0;\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var rh1, qs, con, theta, lon, lat;\n\n  p.x -= this.x0;\n  p.y = this.rh - p.y + this.y0;\n  if (this.ns0 >= 0) {\n    rh1 = Math.sqrt(p.x * p.x + p.y * p.y);\n    con = 1;\n  }\n  else {\n    rh1 = -Math.sqrt(p.x * p.x + p.y * p.y);\n    con = -1;\n  }\n  theta = 0;\n  if (rh1 !== 0) {\n    theta = Math.atan2(con * p.x, con * p.y);\n  }\n  con = rh1 * this.ns0 / this.a;\n  if (this.sphere) {\n    lat = Math.asin((this.c - con * con) / (2 * this.ns0));\n  }\n  else {\n    qs = (this.c - con * con) / this.ns0;\n    lat = this.phi1z(this.e3, qs);\n  }\n\n  lon = adjust_lon(theta / this.ns0 + this.long0);\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\n/* Function to compute phi1, the latitude for the inverse of the\n   Albers Conical Equal-Area projection.\n-------------------------------------------*/\nexport function phi1z(eccent, qs) {\n  var sinphi, cosphi, con, com, dphi;\n  var phi = asinz(0.5 * qs);\n  if (eccent < EPSLN) {\n    return phi;\n  }\n\n  var eccnts = eccent * eccent;\n  for (var i = 1; i <= 25; i++) {\n    sinphi = Math.sin(phi);\n    cosphi = Math.cos(phi);\n    con = eccent * sinphi;\n    com = 1 - con * con;\n    dphi = 0.5 * com * com / cosphi * (qs / (1 - eccnts) - sinphi / com + 0.5 / eccent * Math.log((1 - con) / (1 + con)));\n    phi = phi + dphi;\n    if (Math.abs(dphi) <= 1e-7) {\n      return phi;\n    }\n  }\n  return null;\n}\n\nexport var names = [\"Albers_Conic_Equal_Area\", \"Albers\", \"aea\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names,\n  phi1z: phi1z\n};\n","import adjust_lon from '../common/adjust_lon';\nimport asinz from '../common/asinz';\nimport {EPSLN} from '../constants/values';\n\n/*\n  reference:\n    Wolfram Mathworld \"Gnomonic Projection\"\n    http://mathworld.wolfram.com/GnomonicProjection.html\n    Accessed: 12th November 2009\n  */\nexport function init() {\n\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  this.sin_p14 = Math.sin(this.lat0);\n  this.cos_p14 = Math.cos(this.lat0);\n  // Approximation for projecting points to the horizon (infinity)\n  this.infinity_dist = 1000 * this.a;\n  this.rc = 1;\n}\n\n/* Gnomonic forward equations--mapping lat,long to x,y\n    ---------------------------------------------------*/\nexport function forward(p) {\n  var sinphi, cosphi; /* sin and cos value        */\n  var dlon; /* delta longitude value      */\n  var coslon; /* cos of longitude        */\n  var ksp; /* scale factor          */\n  var g;\n  var x, y;\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n      -----------------*/\n  dlon = adjust_lon(lon - this.long0);\n\n  sinphi = Math.sin(lat);\n  cosphi = Math.cos(lat);\n\n  coslon = Math.cos(dlon);\n  g = this.sin_p14 * sinphi + this.cos_p14 * cosphi * coslon;\n  ksp = 1;\n  if ((g > 0) || (Math.abs(g) <= EPSLN)) {\n    x = this.x0 + this.a * ksp * cosphi * Math.sin(dlon) / g;\n    y = this.y0 + this.a * ksp * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon) / g;\n  }\n  else {\n\n    // Point is in the opposing hemisphere and is unprojectable\n    // We still need to return a reasonable point, so we project\n    // to infinity, on a bearing\n    // equivalent to the northern hemisphere equivalent\n    // This is a reasonable approximation for short shapes and lines that\n    // straddle the horizon.\n\n    x = this.x0 + this.infinity_dist * cosphi * Math.sin(dlon);\n    y = this.y0 + this.infinity_dist * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon);\n\n  }\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var rh; /* Rho */\n  var sinc, cosc;\n  var c;\n  var lon, lat;\n\n  /* Inverse equations\n      -----------------*/\n  p.x = (p.x - this.x0) / this.a;\n  p.y = (p.y - this.y0) / this.a;\n\n  p.x /= this.k0;\n  p.y /= this.k0;\n\n  if ((rh = Math.sqrt(p.x * p.x + p.y * p.y))) {\n    c = Math.atan2(rh, this.rc);\n    sinc = Math.sin(c);\n    cosc = Math.cos(c);\n\n    lat = asinz(cosc * this.sin_p14 + (p.y * sinc * this.cos_p14) / rh);\n    lon = Math.atan2(p.x * sinc, rh * this.cos_p14 * cosc - p.y * this.sin_p14 * sinc);\n    lon = adjust_lon(this.long0 + lon);\n  }\n  else {\n    lat = this.phic0;\n    lon = 0;\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"gnom\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nimport qsfnz from '../common/qsfnz';\nimport msfnz from '../common/msfnz';\nimport iqsfnz from '../common/iqsfnz';\n\n/*\n  reference:\n    \"Cartographic Projection Procedures for the UNIX Environment-\n    A User's Manual\" by Gerald I. Evenden,\n    USGS Open File Report 90-284and Release 4 Interim Reports (2003)\n*/\nexport function init() {\n  //no-op\n  if (!this.sphere) {\n    this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));\n  }\n}\n\n/* Cylindrical Equal Area forward equations--mapping lat,long to x,y\n    ------------------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var x, y;\n  /* Forward equations\n      -----------------*/\n  var dlon = adjust_lon(lon - this.long0);\n  if (this.sphere) {\n    x = this.x0 + this.a * dlon * Math.cos(this.lat_ts);\n    y = this.y0 + this.a * Math.sin(lat) / Math.cos(this.lat_ts);\n  }\n  else {\n    var qs = qsfnz(this.e, Math.sin(lat));\n    x = this.x0 + this.a * this.k0 * dlon;\n    y = this.y0 + this.a * qs * 0.5 / this.k0;\n  }\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Cylindrical Equal Area inverse equations--mapping x,y to lat/long\n    ------------------------------------------------------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var lon, lat;\n\n  if (this.sphere) {\n    lon = adjust_lon(this.long0 + (p.x / this.a) / Math.cos(this.lat_ts));\n    lat = Math.asin((p.y / this.a) * Math.cos(this.lat_ts));\n  }\n  else {\n    lat = iqsfnz(this.e, 2 * p.y * this.k0 / this.a);\n    lon = adjust_lon(this.long0 + p.x / (this.a * this.k0));\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"cea\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import {HALF_PI} from '../constants/values';\n\nexport default function(eccent, q) {\n  var temp = 1 - (1 - eccent * eccent) / (2 * eccent) * Math.log((1 - eccent) / (1 + eccent));\n  if (Math.abs(Math.abs(q) - temp) < 1.0E-6) {\n    if (q < 0) {\n      return (-1 * HALF_PI);\n    }\n    else {\n      return HALF_PI;\n    }\n  }\n  //var phi = 0.5* q/(1-eccent*eccent);\n  var phi = Math.asin(0.5 * q);\n  var dphi;\n  var sin_phi;\n  var cos_phi;\n  var con;\n  for (var i = 0; i < 30; i++) {\n    sin_phi = Math.sin(phi);\n    cos_phi = Math.cos(phi);\n    con = eccent * sin_phi;\n    dphi = Math.pow(1 - con * con, 2) / (2 * cos_phi) * (q / (1 - eccent * eccent) - sin_phi / (1 - con * con) + 0.5 / eccent * Math.log((1 - con) / (1 + con)));\n    phi += dphi;\n    if (Math.abs(dphi) <= 0.0000000001) {\n      return phi;\n    }\n  }\n\n  //console.log(\"IQSFN-CONV:Latitude failed to converge after 30 iterations\");\n  return NaN;\n}\n","import adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\n\nexport function init() {\n\n  this.x0 = this.x0 || 0;\n  this.y0 = this.y0 || 0;\n  this.lat0 = this.lat0 || 0;\n  this.long0 = this.long0 || 0;\n  this.lat_ts = this.lat_ts || 0;\n  this.title = this.title || \"Equidistant Cylindrical (Plate Carre)\";\n\n  this.rc = Math.cos(this.lat_ts);\n}\n\n// forward equations--mapping lat,long to x,y\n// -----------------------------------------------------------------\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  var dlon = adjust_lon(lon - this.long0);\n  var dlat = adjust_lat(lat - this.lat0);\n  p.x = this.x0 + (this.a * dlon * this.rc);\n  p.y = this.y0 + (this.a * dlat);\n  return p;\n}\n\n// inverse equations--mapping x,y to lat/long\n// -----------------------------------------------------------------\nexport function inverse(p) {\n\n  var x = p.x;\n  var y = p.y;\n\n  p.x = adjust_lon(this.long0 + ((x - this.x0) / (this.a * this.rc)));\n  p.y = adjust_lat(this.lat0 + ((y - this.y0) / (this.a)));\n  return p;\n}\n\nexport var names = [\"Equirectangular\", \"Equidistant_Cylindrical\", \"eqc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport mlfn from '../common/mlfn';\nimport {EPSLN} from '../constants/values';\n\nimport gN from '../common/gN';\nvar MAX_ITER = 20;\n\nexport function init() {\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  this.temp = this.b / this.a;\n  this.es = 1 - Math.pow(this.temp, 2); // devait etre dans tmerc.js mais n y est pas donc je commente sinon retour de valeurs nulles\n  this.e = Math.sqrt(this.es);\n  this.e0 = e0fn(this.es);\n  this.e1 = e1fn(this.es);\n  this.e2 = e2fn(this.es);\n  this.e3 = e3fn(this.es);\n  this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0); //si que des zeros le calcul ne se fait pas\n}\n\n/* Polyconic forward equations--mapping lat,long to x,y\n    ---------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var x, y, el;\n  var dlon = adjust_lon(lon - this.long0);\n  el = dlon * Math.sin(lat);\n  if (this.sphere) {\n    if (Math.abs(lat) <= EPSLN) {\n      x = this.a * dlon;\n      y = -1 * this.a * this.lat0;\n    }\n    else {\n      x = this.a * Math.sin(el) / Math.tan(lat);\n      y = this.a * (adjust_lat(lat - this.lat0) + (1 - Math.cos(el)) / Math.tan(lat));\n    }\n  }\n  else {\n    if (Math.abs(lat) <= EPSLN) {\n      x = this.a * dlon;\n      y = -1 * this.ml0;\n    }\n    else {\n      var nl = gN(this.a, this.e, Math.sin(lat)) / Math.tan(lat);\n      x = nl * Math.sin(el);\n      y = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, lat) - this.ml0 + nl * (1 - Math.cos(el));\n    }\n\n  }\n  p.x = x + this.x0;\n  p.y = y + this.y0;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  var lon, lat, x, y, i;\n  var al, bl;\n  var phi, dphi;\n  x = p.x - this.x0;\n  y = p.y - this.y0;\n\n  if (this.sphere) {\n    if (Math.abs(y + this.a * this.lat0) <= EPSLN) {\n      lon = adjust_lon(x / this.a + this.long0);\n      lat = 0;\n    }\n    else {\n      al = this.lat0 + y / this.a;\n      bl = x * x / this.a / this.a + al * al;\n      phi = al;\n      var tanphi;\n      for (i = MAX_ITER; i; --i) {\n        tanphi = Math.tan(phi);\n        dphi = -1 * (al * (phi * tanphi + 1) - phi - 0.5 * (phi * phi + bl) * tanphi) / ((phi - al) / tanphi - 1);\n        phi += dphi;\n        if (Math.abs(dphi) <= EPSLN) {\n          lat = phi;\n          break;\n        }\n      }\n      lon = adjust_lon(this.long0 + (Math.asin(x * Math.tan(phi) / this.a)) / Math.sin(lat));\n    }\n  }\n  else {\n    if (Math.abs(y + this.ml0) <= EPSLN) {\n      lat = 0;\n      lon = adjust_lon(this.long0 + x / this.a);\n    }\n    else {\n\n      al = (this.ml0 + y) / this.a;\n      bl = x * x / this.a / this.a + al * al;\n      phi = al;\n      var cl, mln, mlnp, ma;\n      var con;\n      for (i = MAX_ITER; i; --i) {\n        con = this.e * Math.sin(phi);\n        cl = Math.sqrt(1 - con * con) * Math.tan(phi);\n        mln = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);\n        mlnp = this.e0 - 2 * this.e1 * Math.cos(2 * phi) + 4 * this.e2 * Math.cos(4 * phi) - 6 * this.e3 * Math.cos(6 * phi);\n        ma = mln / this.a;\n        dphi = (al * (cl * ma + 1) - ma - 0.5 * cl * (ma * ma + bl)) / (this.es * Math.sin(2 * phi) * (ma * ma + bl - 2 * al * ma) / (4 * cl) + (al - ma) * (cl * mlnp - 2 / Math.sin(2 * phi)) - mlnp);\n        phi -= dphi;\n        if (Math.abs(dphi) <= EPSLN) {\n          lat = phi;\n          break;\n        }\n      }\n\n      //lat=phi4z(this.e,this.e0,this.e1,this.e2,this.e3,al,bl,0,0);\n      cl = Math.sqrt(1 - this.es * Math.pow(Math.sin(lat), 2)) * Math.tan(lat);\n      lon = adjust_lon(this.long0 + Math.asin(x * cl / this.a) / Math.sin(lat));\n    }\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Polyconic\", \"poly\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import {SEC_TO_RAD} from '../constants/values';\n\n/*\n  reference\n    Department of Land and Survey Technical Circular 1973/32\n      http://www.linz.govt.nz/docs/miscellaneous/nz-map-definition.pdf\n    OSG Technical Report 4.1\n      http://www.linz.govt.nz/docs/miscellaneous/nzmg.pdf\n  */\n\n/**\n * iterations: Number of iterations to refine inverse transform.\n *     0 -> km accuracy\n *     1 -> m accuracy -- suitable for most mapping applications\n *     2 -> mm accuracy\n */\nexport var iterations = 1;\n\nexport function init() {\n  this.A = [];\n  this.A[1] = 0.6399175073;\n  this.A[2] = -0.1358797613;\n  this.A[3] = 0.063294409;\n  this.A[4] = -0.02526853;\n  this.A[5] = 0.0117879;\n  this.A[6] = -0.0055161;\n  this.A[7] = 0.0026906;\n  this.A[8] = -0.001333;\n  this.A[9] = 0.00067;\n  this.A[10] = -0.00034;\n\n  this.B_re = [];\n  this.B_im = [];\n  this.B_re[1] = 0.7557853228;\n  this.B_im[1] = 0;\n  this.B_re[2] = 0.249204646;\n  this.B_im[2] = 0.003371507;\n  this.B_re[3] = -0.001541739;\n  this.B_im[3] = 0.041058560;\n  this.B_re[4] = -0.10162907;\n  this.B_im[4] = 0.01727609;\n  this.B_re[5] = -0.26623489;\n  this.B_im[5] = -0.36249218;\n  this.B_re[6] = -0.6870983;\n  this.B_im[6] = -1.1651967;\n\n  this.C_re = [];\n  this.C_im = [];\n  this.C_re[1] = 1.3231270439;\n  this.C_im[1] = 0;\n  this.C_re[2] = -0.577245789;\n  this.C_im[2] = -0.007809598;\n  this.C_re[3] = 0.508307513;\n  this.C_im[3] = -0.112208952;\n  this.C_re[4] = -0.15094762;\n  this.C_im[4] = 0.18200602;\n  this.C_re[5] = 1.01418179;\n  this.C_im[5] = 1.64497696;\n  this.C_re[6] = 1.9660549;\n  this.C_im[6] = 2.5127645;\n\n  this.D = [];\n  this.D[1] = 1.5627014243;\n  this.D[2] = 0.5185406398;\n  this.D[3] = -0.03333098;\n  this.D[4] = -0.1052906;\n  this.D[5] = -0.0368594;\n  this.D[6] = 0.007317;\n  this.D[7] = 0.01220;\n  this.D[8] = 0.00394;\n  this.D[9] = -0.0013;\n}\n\n/**\n    New Zealand Map Grid Forward  - long/lat to x/y\n    long/lat in radians\n  */\nexport function forward(p) {\n  var n;\n  var lon = p.x;\n  var lat = p.y;\n\n  var delta_lat = lat - this.lat0;\n  var delta_lon = lon - this.long0;\n\n  // 1. Calculate d_phi and d_psi    ...                          // and d_lambda\n  // For this algorithm, delta_latitude is in seconds of arc x 10-5, so we need to scale to those units. Longitude is radians.\n  var d_phi = delta_lat / SEC_TO_RAD * 1E-5;\n  var d_lambda = delta_lon;\n  var d_phi_n = 1; // d_phi^0\n\n  var d_psi = 0;\n  for (n = 1; n <= 10; n++) {\n    d_phi_n = d_phi_n * d_phi;\n    d_psi = d_psi + this.A[n] * d_phi_n;\n  }\n\n  // 2. Calculate theta\n  var th_re = d_psi;\n  var th_im = d_lambda;\n\n  // 3. Calculate z\n  var th_n_re = 1;\n  var th_n_im = 0; // theta^0\n  var th_n_re1;\n  var th_n_im1;\n\n  var z_re = 0;\n  var z_im = 0;\n  for (n = 1; n <= 6; n++) {\n    th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n    th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n    th_n_re = th_n_re1;\n    th_n_im = th_n_im1;\n    z_re = z_re + this.B_re[n] * th_n_re - this.B_im[n] * th_n_im;\n    z_im = z_im + this.B_im[n] * th_n_re + this.B_re[n] * th_n_im;\n  }\n\n  // 4. Calculate easting and northing\n  p.x = (z_im * this.a) + this.x0;\n  p.y = (z_re * this.a) + this.y0;\n\n  return p;\n}\n\n/**\n    New Zealand Map Grid Inverse  -  x/y to long/lat\n  */\nexport function inverse(p) {\n  var n;\n  var x = p.x;\n  var y = p.y;\n\n  var delta_x = x - this.x0;\n  var delta_y = y - this.y0;\n\n  // 1. Calculate z\n  var z_re = delta_y / this.a;\n  var z_im = delta_x / this.a;\n\n  // 2a. Calculate theta - first approximation gives km accuracy\n  var z_n_re = 1;\n  var z_n_im = 0; // z^0\n  var z_n_re1;\n  var z_n_im1;\n\n  var th_re = 0;\n  var th_im = 0;\n  for (n = 1; n <= 6; n++) {\n    z_n_re1 = z_n_re * z_re - z_n_im * z_im;\n    z_n_im1 = z_n_im * z_re + z_n_re * z_im;\n    z_n_re = z_n_re1;\n    z_n_im = z_n_im1;\n    th_re = th_re + this.C_re[n] * z_n_re - this.C_im[n] * z_n_im;\n    th_im = th_im + this.C_im[n] * z_n_re + this.C_re[n] * z_n_im;\n  }\n\n  // 2b. Iterate to refine the accuracy of the calculation\n  //        0 iterations gives km accuracy\n  //        1 iteration gives m accuracy -- good enough for most mapping applications\n  //        2 iterations bives mm accuracy\n  for (var i = 0; i < this.iterations; i++) {\n    var th_n_re = th_re;\n    var th_n_im = th_im;\n    var th_n_re1;\n    var th_n_im1;\n\n    var num_re = z_re;\n    var num_im = z_im;\n    for (n = 2; n <= 6; n++) {\n      th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n      th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n      th_n_re = th_n_re1;\n      th_n_im = th_n_im1;\n      num_re = num_re + (n - 1) * (this.B_re[n] * th_n_re - this.B_im[n] * th_n_im);\n      num_im = num_im + (n - 1) * (this.B_im[n] * th_n_re + this.B_re[n] * th_n_im);\n    }\n\n    th_n_re = 1;\n    th_n_im = 0;\n    var den_re = this.B_re[1];\n    var den_im = this.B_im[1];\n    for (n = 2; n <= 6; n++) {\n      th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n      th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n      th_n_re = th_n_re1;\n      th_n_im = th_n_im1;\n      den_re = den_re + n * (this.B_re[n] * th_n_re - this.B_im[n] * th_n_im);\n      den_im = den_im + n * (this.B_im[n] * th_n_re + this.B_re[n] * th_n_im);\n    }\n\n    // Complex division\n    var den2 = den_re * den_re + den_im * den_im;\n    th_re = (num_re * den_re + num_im * den_im) / den2;\n    th_im = (num_im * den_re - num_re * den_im) / den2;\n  }\n\n  // 3. Calculate d_phi              ...                                    // and d_lambda\n  var d_psi = th_re;\n  var d_lambda = th_im;\n  var d_psi_n = 1; // d_psi^0\n\n  var d_phi = 0;\n  for (n = 1; n <= 9; n++) {\n    d_psi_n = d_psi_n * d_psi;\n    d_phi = d_phi + this.D[n] * d_psi_n;\n  }\n\n  // 4. Calculate latitude and longitude\n  // d_phi is calcuated in second of arc * 10^-5, so we need to scale back to radians. d_lambda is in radians.\n  var lat = this.lat0 + (d_phi * SEC_TO_RAD * 1E5);\n  var lon = this.long0 + d_lambda;\n\n  p.x = lon;\n  p.y = lat;\n\n  return p;\n}\n\nexport var names = [\"New_Zealand_Map_Grid\", \"nzmg\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\n\n/*\n  reference\n    \"New Equal-Area Map Projections for Noncircular Regions\", John P. Snyder,\n    The American Cartographer, Vol 15, No. 4, October 1988, pp. 341-355.\n  */\n\n\n/* Initialize the Miller Cylindrical projection\n  -------------------------------------------*/\nexport function init() {\n  //no-op\n}\n\n/* Miller Cylindrical forward equations--mapping lat,long to x,y\n    ------------------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n      -----------------*/\n  var dlon = adjust_lon(lon - this.long0);\n  var x = this.x0 + this.a * dlon;\n  var y = this.y0 + this.a * Math.log(Math.tan((Math.PI / 4) + (lat / 2.5))) * 1.25;\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Miller Cylindrical inverse equations--mapping x,y to lat/long\n    ------------------------------------------------------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n\n  var lon = adjust_lon(this.long0 + p.x / this.a);\n  var lat = 2.5 * (Math.atan(Math.exp(0.8 * p.y / this.a)) - Math.PI / 4);\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Miller_Cylindrical\", \"mill\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport pj_enfn from '../common/pj_enfn';\nvar MAX_ITER = 20;\nimport pj_mlfn from '../common/pj_mlfn';\nimport pj_inv_mlfn from '../common/pj_inv_mlfn';\nimport {EPSLN, HALF_PI} from '../constants/values';\n\nimport asinz from '../common/asinz';\n\n\nexport function init() {\n  /* Place parameters in static storage for common use\n    -------------------------------------------------*/\n\n\n  if (!this.sphere) {\n    this.en = pj_enfn(this.es);\n  }\n  else {\n    this.n = 1;\n    this.m = 0;\n    this.es = 0;\n    this.C_y = Math.sqrt((this.m + 1) / this.n);\n    this.C_x = this.C_y / (this.m + 1);\n  }\n\n}\n\n/* Sinusoidal forward equations--mapping lat,long to x,y\n  -----------------------------------------------------*/\nexport function forward(p) {\n  var x, y;\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n    -----------------*/\n  lon = adjust_lon(lon - this.long0);\n\n  if (this.sphere) {\n    if (!this.m) {\n      lat = this.n !== 1 ? Math.asin(this.n * Math.sin(lat)) : lat;\n    }\n    else {\n      var k = this.n * Math.sin(lat);\n      for (var i = MAX_ITER; i; --i) {\n        var V = (this.m * lat + Math.sin(lat) - k) / (this.m + Math.cos(lat));\n        lat -= V;\n        if (Math.abs(V) < EPSLN) {\n          break;\n        }\n      }\n    }\n    x = this.a * this.C_x * lon * (this.m + Math.cos(lat));\n    y = this.a * this.C_y * lat;\n\n  }\n  else {\n\n    var s = Math.sin(lat);\n    var c = Math.cos(lat);\n    y = this.a * pj_mlfn(lat, s, c, this.en);\n    x = this.a * lon * c / Math.sqrt(1 - this.es * s * s);\n  }\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var lat, temp, lon, s;\n\n  p.x -= this.x0;\n  lon = p.x / this.a;\n  p.y -= this.y0;\n  lat = p.y / this.a;\n\n  if (this.sphere) {\n    lat /= this.C_y;\n    lon = lon / (this.C_x * (this.m + Math.cos(lat)));\n    if (this.m) {\n      lat = asinz((this.m * lat + Math.sin(lat)) / this.n);\n    }\n    else if (this.n !== 1) {\n      lat = asinz(Math.sin(lat) / this.n);\n    }\n    lon = adjust_lon(lon + this.long0);\n    lat = adjust_lat(lat);\n  }\n  else {\n    lat = pj_inv_mlfn(p.y / this.a, this.es, this.en);\n    s = Math.abs(lat);\n    if (s < HALF_PI) {\n      s = Math.sin(lat);\n      temp = this.long0 + p.x * Math.sqrt(1 - this.es * s * s) / (this.a * Math.cos(lat));\n      //temp = this.long0 + p.x / (this.a * Math.cos(lat));\n      lon = adjust_lon(temp);\n    }\n    else if ((s - EPSLN) < HALF_PI) {\n      lon = this.long0;\n    }\n  }\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Sinusoidal\", \"sinu\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nexport function init() {}\nimport {EPSLN} from '../constants/values';\n/* Mollweide forward equations--mapping lat,long to x,y\n    ----------------------------------------------------*/\nexport function forward(p) {\n\n  /* Forward equations\n      -----------------*/\n  var lon = p.x;\n  var lat = p.y;\n\n  var delta_lon = adjust_lon(lon - this.long0);\n  var theta = lat;\n  var con = Math.PI * Math.sin(lat);\n\n  /* Iterate using the Newton-Raphson method to find theta\n      -----------------------------------------------------*/\n  while (true) {\n    var delta_theta = -(theta + Math.sin(theta) - con) / (1 + Math.cos(theta));\n    theta += delta_theta;\n    if (Math.abs(delta_theta) < EPSLN) {\n      break;\n    }\n  }\n  theta /= 2;\n\n  /* If the latitude is 90 deg, force the x coordinate to be \"0 + false easting\"\n       this is done here because of precision problems with \"cos(theta)\"\n       --------------------------------------------------------------------------*/\n  if (Math.PI / 2 - Math.abs(lat) < EPSLN) {\n    delta_lon = 0;\n  }\n  var x = 0.900316316158 * this.a * delta_lon * Math.cos(theta) + this.x0;\n  var y = 1.4142135623731 * this.a * Math.sin(theta) + this.y0;\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var theta;\n  var arg;\n\n  /* Inverse equations\n      -----------------*/\n  p.x -= this.x0;\n  p.y -= this.y0;\n  arg = p.y / (1.4142135623731 * this.a);\n\n  /* Because of division by zero problems, 'arg' can not be 1.  Therefore\n       a number very close to one is used instead.\n       -------------------------------------------------------------------*/\n  if (Math.abs(arg) > 0.999999999999) {\n    arg = 0.999999999999;\n  }\n  theta = Math.asin(arg);\n  var lon = adjust_lon(this.long0 + (p.x / (0.900316316158 * this.a * Math.cos(theta))));\n  if (lon < (-Math.PI)) {\n    lon = -Math.PI;\n  }\n  if (lon > Math.PI) {\n    lon = Math.PI;\n  }\n  arg = (2 * theta + Math.sin(2 * theta)) / Math.PI;\n  if (Math.abs(arg) > 1) {\n    arg = 1;\n  }\n  var lat = Math.asin(arg);\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Mollweide\", \"moll\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport msfnz from '../common/msfnz';\nimport mlfn from '../common/mlfn';\nimport adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport imlfn from '../common/imlfn';\nimport {EPSLN} from '../constants/values';\n\nexport function init() {\n\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  // Standard Parallels cannot be equal and on opposite sides of the equator\n  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n    return;\n  }\n  this.lat2 = this.lat2 || this.lat1;\n  this.temp = this.b / this.a;\n  this.es = 1 - Math.pow(this.temp, 2);\n  this.e = Math.sqrt(this.es);\n  this.e0 = e0fn(this.es);\n  this.e1 = e1fn(this.es);\n  this.e2 = e2fn(this.es);\n  this.e3 = e3fn(this.es);\n\n  this.sinphi = Math.sin(this.lat1);\n  this.cosphi = Math.cos(this.lat1);\n\n  this.ms1 = msfnz(this.e, this.sinphi, this.cosphi);\n  this.ml1 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat1);\n\n  if (Math.abs(this.lat1 - this.lat2) < EPSLN) {\n    this.ns = this.sinphi;\n  }\n  else {\n    this.sinphi = Math.sin(this.lat2);\n    this.cosphi = Math.cos(this.lat2);\n    this.ms2 = msfnz(this.e, this.sinphi, this.cosphi);\n    this.ml2 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat2);\n    this.ns = (this.ms1 - this.ms2) / (this.ml2 - this.ml1);\n  }\n  this.g = this.ml1 + this.ms1 / this.ns;\n  this.ml0 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);\n  this.rh = this.a * (this.g - this.ml0);\n}\n\n/* Equidistant Conic forward equations--mapping lat,long to x,y\n  -----------------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var rh1;\n\n  /* Forward equations\n      -----------------*/\n  if (this.sphere) {\n    rh1 = this.a * (this.g - lat);\n  }\n  else {\n    var ml = mlfn(this.e0, this.e1, this.e2, this.e3, lat);\n    rh1 = this.a * (this.g - ml);\n  }\n  var theta = this.ns * adjust_lon(lon - this.long0);\n  var x = this.x0 + rh1 * Math.sin(theta);\n  var y = this.y0 + this.rh - rh1 * Math.cos(theta);\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y = this.rh - p.y + this.y0;\n  var con, rh1, lat, lon;\n  if (this.ns >= 0) {\n    rh1 = Math.sqrt(p.x * p.x + p.y * p.y);\n    con = 1;\n  }\n  else {\n    rh1 = -Math.sqrt(p.x * p.x + p.y * p.y);\n    con = -1;\n  }\n  var theta = 0;\n  if (rh1 !== 0) {\n    theta = Math.atan2(con * p.x, con * p.y);\n  }\n\n  if (this.sphere) {\n    lon = adjust_lon(this.long0 + theta / this.ns);\n    lat = adjust_lat(this.g - rh1 / this.a);\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  else {\n    var ml = this.g - rh1 / this.a;\n    lat = imlfn(ml, this.e0, this.e1, this.e2, this.e3);\n    lon = adjust_lon(this.long0 + theta / this.ns);\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n\n}\n\nexport var names = [\"Equidistant_Conic\", \"eqdc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\n\nimport {HALF_PI, EPSLN} from '../constants/values';\n\nimport asinz from '../common/asinz';\n\n/* Initialize the Van Der Grinten projection\n  ----------------------------------------*/\nexport function init() {\n  //this.R = 6370997; //Radius of earth\n  this.R = this.a;\n}\n\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  /* Forward equations\n    -----------------*/\n  var dlon = adjust_lon(lon - this.long0);\n  var x, y;\n\n  if (Math.abs(lat) <= EPSLN) {\n    x = this.x0 + this.R * dlon;\n    y = this.y0;\n  }\n  var theta = asinz(2 * Math.abs(lat / Math.PI));\n  if ((Math.abs(dlon) <= EPSLN) || (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN)) {\n    x = this.x0;\n    if (lat >= 0) {\n      y = this.y0 + Math.PI * this.R * Math.tan(0.5 * theta);\n    }\n    else {\n      y = this.y0 + Math.PI * this.R * -Math.tan(0.5 * theta);\n    }\n    //  return(OK);\n  }\n  var al = 0.5 * Math.abs((Math.PI / dlon) - (dlon / Math.PI));\n  var asq = al * al;\n  var sinth = Math.sin(theta);\n  var costh = Math.cos(theta);\n\n  var g = costh / (sinth + costh - 1);\n  var gsq = g * g;\n  var m = g * (2 / sinth - 1);\n  var msq = m * m;\n  var con = Math.PI * this.R * (al * (g - msq) + Math.sqrt(asq * (g - msq) * (g - msq) - (msq + asq) * (gsq - msq))) / (msq + asq);\n  if (dlon < 0) {\n    con = -con;\n  }\n  x = this.x0 + con;\n  //con = Math.abs(con / (Math.PI * this.R));\n  var q = asq + g;\n  con = Math.PI * this.R * (m * q - al * Math.sqrt((msq + asq) * (asq + 1) - q * q)) / (msq + asq);\n  if (lat >= 0) {\n    //y = this.y0 + Math.PI * this.R * Math.sqrt(1 - con * con - 2 * al * con);\n    y = this.y0 + con;\n  }\n  else {\n    //y = this.y0 - Math.PI * this.R * Math.sqrt(1 - con * con - 2 * al * con);\n    y = this.y0 - con;\n  }\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Van Der Grinten inverse equations--mapping x,y to lat/long\n  ---------------------------------------------------------*/\nexport function inverse(p) {\n  var lon, lat;\n  var xx, yy, xys, c1, c2, c3;\n  var a1;\n  var m1;\n  var con;\n  var th1;\n  var d;\n\n  /* inverse equations\n    -----------------*/\n  p.x -= this.x0;\n  p.y -= this.y0;\n  con = Math.PI * this.R;\n  xx = p.x / con;\n  yy = p.y / con;\n  xys = xx * xx + yy * yy;\n  c1 = -Math.abs(yy) * (1 + xys);\n  c2 = c1 - 2 * yy * yy + xx * xx;\n  c3 = -2 * c1 + 1 + 2 * yy * yy + xys * xys;\n  d = yy * yy / c3 + (2 * c2 * c2 * c2 / c3 / c3 / c3 - 9 * c1 * c2 / c3 / c3) / 27;\n  a1 = (c1 - c2 * c2 / 3 / c3) / c3;\n  m1 = 2 * Math.sqrt(-a1 / 3);\n  con = ((3 * d) / a1) / m1;\n  if (Math.abs(con) > 1) {\n    if (con >= 0) {\n      con = 1;\n    }\n    else {\n      con = -1;\n    }\n  }\n  th1 = Math.acos(con) / 3;\n  if (p.y >= 0) {\n    lat = (-m1 * Math.cos(th1 + Math.PI / 3) - c2 / 3 / c3) * Math.PI;\n  }\n  else {\n    lat = -(-m1 * Math.cos(th1 + Math.PI / 3) - c2 / 3 / c3) * Math.PI;\n  }\n\n  if (Math.abs(xx) < EPSLN) {\n    lon = this.long0;\n  }\n  else {\n    lon = adjust_lon(this.long0 + Math.PI * (xys - 1 + Math.sqrt(1 + 2 * (xx * xx - yy * yy) + xys * xys)) / 2 / xx);\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Van_der_Grinten_I\", \"VanDerGrinten\", \"vandg\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nimport {HALF_PI, EPSLN} from '../constants/values';\n\nimport mlfn from '../common/mlfn';\nimport e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport gN from '../common/gN';\nimport asinz from '../common/asinz';\nimport imlfn from '../common/imlfn';\n\n\n\nexport function init() {\n  this.sin_p12 = Math.sin(this.lat0);\n  this.cos_p12 = Math.cos(this.lat0);\n}\n\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var sinphi = Math.sin(p.y);\n  var cosphi = Math.cos(p.y);\n  var dlon = adjust_lon(lon - this.long0);\n  var e0, e1, e2, e3, Mlp, Ml, tanphi, Nl1, Nl, psi, Az, G, H, GH, Hs, c, kp, cos_c, s, s2, s3, s4, s5;\n  if (this.sphere) {\n    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n      //North Pole case\n      p.x = this.x0 + this.a * (HALF_PI - lat) * Math.sin(dlon);\n      p.y = this.y0 - this.a * (HALF_PI - lat) * Math.cos(dlon);\n      return p;\n    }\n    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n      //South Pole case\n      p.x = this.x0 + this.a * (HALF_PI + lat) * Math.sin(dlon);\n      p.y = this.y0 + this.a * (HALF_PI + lat) * Math.cos(dlon);\n      return p;\n    }\n    else {\n      //default case\n      cos_c = this.sin_p12 * sinphi + this.cos_p12 * cosphi * Math.cos(dlon);\n      c = Math.acos(cos_c);\n      kp = c ? c / Math.sin(c) : 1;\n      p.x = this.x0 + this.a * kp * cosphi * Math.sin(dlon);\n      p.y = this.y0 + this.a * kp * (this.cos_p12 * sinphi - this.sin_p12 * cosphi * Math.cos(dlon));\n      return p;\n    }\n  }\n  else {\n    e0 = e0fn(this.es);\n    e1 = e1fn(this.es);\n    e2 = e2fn(this.es);\n    e3 = e3fn(this.es);\n    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n      //North Pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      Ml = this.a * mlfn(e0, e1, e2, e3, lat);\n      p.x = this.x0 + (Mlp - Ml) * Math.sin(dlon);\n      p.y = this.y0 - (Mlp - Ml) * Math.cos(dlon);\n      return p;\n    }\n    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n      //South Pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      Ml = this.a * mlfn(e0, e1, e2, e3, lat);\n      p.x = this.x0 + (Mlp + Ml) * Math.sin(dlon);\n      p.y = this.y0 + (Mlp + Ml) * Math.cos(dlon);\n      return p;\n    }\n    else {\n      //Default case\n      tanphi = sinphi / cosphi;\n      Nl1 = gN(this.a, this.e, this.sin_p12);\n      Nl = gN(this.a, this.e, sinphi);\n      psi = Math.atan((1 - this.es) * tanphi + this.es * Nl1 * this.sin_p12 / (Nl * cosphi));\n      Az = Math.atan2(Math.sin(dlon), this.cos_p12 * Math.tan(psi) - this.sin_p12 * Math.cos(dlon));\n      if (Az === 0) {\n        s = Math.asin(this.cos_p12 * Math.sin(psi) - this.sin_p12 * Math.cos(psi));\n      }\n      else if (Math.abs(Math.abs(Az) - Math.PI) <= EPSLN) {\n        s = -Math.asin(this.cos_p12 * Math.sin(psi) - this.sin_p12 * Math.cos(psi));\n      }\n      else {\n        s = Math.asin(Math.sin(dlon) * Math.cos(psi) / Math.sin(Az));\n      }\n      G = this.e * this.sin_p12 / Math.sqrt(1 - this.es);\n      H = this.e * this.cos_p12 * Math.cos(Az) / Math.sqrt(1 - this.es);\n      GH = G * H;\n      Hs = H * H;\n      s2 = s * s;\n      s3 = s2 * s;\n      s4 = s3 * s;\n      s5 = s4 * s;\n      c = Nl1 * s * (1 - s2 * Hs * (1 - Hs) / 6 + s3 / 8 * GH * (1 - 2 * Hs) + s4 / 120 * (Hs * (4 - 7 * Hs) - 3 * G * G * (1 - 7 * Hs)) - s5 / 48 * GH);\n      p.x = this.x0 + c * Math.sin(Az);\n      p.y = this.y0 + c * Math.cos(Az);\n      return p;\n    }\n  }\n\n\n}\n\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var rh, z, sinz, cosz, lon, lat, con, e0, e1, e2, e3, Mlp, M, N1, psi, Az, cosAz, tmp, A, B, D, Ee, F, sinpsi;\n  if (this.sphere) {\n    rh = Math.sqrt(p.x * p.x + p.y * p.y);\n    if (rh > (2 * HALF_PI * this.a)) {\n      return;\n    }\n    z = rh / this.a;\n\n    sinz = Math.sin(z);\n    cosz = Math.cos(z);\n\n    lon = this.long0;\n    if (Math.abs(rh) <= EPSLN) {\n      lat = this.lat0;\n    }\n    else {\n      lat = asinz(cosz * this.sin_p12 + (p.y * sinz * this.cos_p12) / rh);\n      con = Math.abs(this.lat0) - HALF_PI;\n      if (Math.abs(con) <= EPSLN) {\n        if (this.lat0 >= 0) {\n          lon = adjust_lon(this.long0 + Math.atan2(p.x, - p.y));\n        }\n        else {\n          lon = adjust_lon(this.long0 - Math.atan2(-p.x, p.y));\n        }\n      }\n      else {\n        /*con = cosz - this.sin_p12 * Math.sin(lat);\n        if ((Math.abs(con) < EPSLN) && (Math.abs(p.x) < EPSLN)) {\n          //no-op, just keep the lon value as is\n        } else {\n          var temp = Math.atan2((p.x * sinz * this.cos_p12), (con * rh));\n          lon = adjust_lon(this.long0 + Math.atan2((p.x * sinz * this.cos_p12), (con * rh)));\n        }*/\n        lon = adjust_lon(this.long0 + Math.atan2(p.x * sinz, rh * this.cos_p12 * cosz - p.y * this.sin_p12 * sinz));\n      }\n    }\n\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  else {\n    e0 = e0fn(this.es);\n    e1 = e1fn(this.es);\n    e2 = e2fn(this.es);\n    e3 = e3fn(this.es);\n    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n      //North pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      rh = Math.sqrt(p.x * p.x + p.y * p.y);\n      M = Mlp - rh;\n      lat = imlfn(M / this.a, e0, e1, e2, e3);\n      lon = adjust_lon(this.long0 + Math.atan2(p.x, - 1 * p.y));\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n      //South pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      rh = Math.sqrt(p.x * p.x + p.y * p.y);\n      M = rh - Mlp;\n\n      lat = imlfn(M / this.a, e0, e1, e2, e3);\n      lon = adjust_lon(this.long0 + Math.atan2(p.x, p.y));\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n    else {\n      //default case\n      rh = Math.sqrt(p.x * p.x + p.y * p.y);\n      Az = Math.atan2(p.x, p.y);\n      N1 = gN(this.a, this.e, this.sin_p12);\n      cosAz = Math.cos(Az);\n      tmp = this.e * this.cos_p12 * cosAz;\n      A = -tmp * tmp / (1 - this.es);\n      B = 3 * this.es * (1 - A) * this.sin_p12 * this.cos_p12 * cosAz / (1 - this.es);\n      D = rh / N1;\n      Ee = D - A * (1 + A) * Math.pow(D, 3) / 6 - B * (1 + 3 * A) * Math.pow(D, 4) / 24;\n      F = 1 - A * Ee * Ee / 2 - D * Ee * Ee * Ee / 6;\n      psi = Math.asin(this.sin_p12 * Math.cos(Ee) + this.cos_p12 * Math.sin(Ee) * cosAz);\n      lon = adjust_lon(this.long0 + Math.asin(Math.sin(Az) * Math.sin(Ee) / Math.cos(psi)));\n      sinpsi = Math.sin(psi);\n      lat = Math.atan2((sinpsi - this.es * F * this.sin_p12) * Math.tan(psi), sinpsi * (1 - this.es));\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n  }\n\n}\n\nexport var names = [\"Azimuthal_Equidistant\", \"aeqd\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nimport asinz from '../common/asinz';\nimport {EPSLN, HALF_PI} from '../constants/values';\n\nexport function init() {\n  //double temp;      /* temporary variable    */\n\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  this.sin_p14 = Math.sin(this.lat0);\n  this.cos_p14 = Math.cos(this.lat0);\n}\n\n/* Orthographic forward equations--mapping lat,long to x,y\n    ---------------------------------------------------*/\nexport function forward(p) {\n  var sinphi, cosphi; /* sin and cos value        */\n  var dlon; /* delta longitude value      */\n  var coslon; /* cos of longitude        */\n  var ksp; /* scale factor          */\n  var g, x, y;\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n      -----------------*/\n  dlon = adjust_lon(lon - this.long0);\n\n  sinphi = Math.sin(lat);\n  cosphi = Math.cos(lat);\n\n  coslon = Math.cos(dlon);\n  g = this.sin_p14 * sinphi + this.cos_p14 * cosphi * coslon;\n  ksp = 1;\n  if ((g > 0) || (Math.abs(g) <= EPSLN)) {\n    x = this.a * ksp * cosphi * Math.sin(dlon);\n    y = this.y0 + this.a * ksp * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon);\n  }\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var rh; /* height above ellipsoid      */\n  var z; /* angle          */\n  var sinz, cosz; /* sin of z and cos of z      */\n  var con;\n  var lon, lat;\n  /* Inverse equations\n      -----------------*/\n  p.x -= this.x0;\n  p.y -= this.y0;\n  rh = Math.sqrt(p.x * p.x + p.y * p.y);\n  z = asinz(rh / this.a);\n\n  sinz = Math.sin(z);\n  cosz = Math.cos(z);\n\n  lon = this.long0;\n  if (Math.abs(rh) <= EPSLN) {\n    lat = this.lat0;\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  lat = asinz(cosz * this.sin_p14 + (p.y * sinz * this.cos_p14) / rh);\n  con = Math.abs(this.lat0) - HALF_PI;\n  if (Math.abs(con) <= EPSLN) {\n    if (this.lat0 >= 0) {\n      lon = adjust_lon(this.long0 + Math.atan2(p.x, - p.y));\n    }\n    else {\n      lon = adjust_lon(this.long0 - Math.atan2(-p.x, p.y));\n    }\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  lon = adjust_lon(this.long0 + Math.atan2((p.x * sinz), rh * this.cos_p14 * cosz - p.y * this.sin_p14 * sinz));\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"ortho\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","// QSC projection rewritten from the original PROJ4\n// https://github.com/OSGeo/proj.4/blob/master/src/PJ_qsc.c\n\nimport {EPSLN, TWO_PI, SPI, HALF_PI, FORTPI} from '../constants/values';\n\n/* constants */\nvar FACE_ENUM = {\n    FRONT: 1,\n    RIGHT: 2,\n    BACK: 3,\n    LEFT: 4,\n    TOP: 5,\n    BOTTOM: 6\n};\n\nvar AREA_ENUM = {\n    AREA_0: 1,\n    AREA_1: 2,\n    AREA_2: 3,\n    AREA_3: 4\n};\n\nexport function init() {\n\n  this.x0 = this.x0 || 0;\n  this.y0 = this.y0 || 0;\n  this.lat0 = this.lat0 || 0;\n  this.long0 = this.long0 || 0;\n  this.lat_ts = this.lat_ts || 0;\n  this.title = this.title || \"Quadrilateralized Spherical Cube\";\n\n  /* Determine the cube face from the center of projection. */\n  if (this.lat0 >= HALF_PI - FORTPI / 2.0) {\n    this.face = FACE_ENUM.TOP;\n  } else if (this.lat0 <= -(HALF_PI - FORTPI / 2.0)) {\n    this.face = FACE_ENUM.BOTTOM;\n  } else if (Math.abs(this.long0) <= FORTPI) {\n    this.face = FACE_ENUM.FRONT;\n  } else if (Math.abs(this.long0) <= HALF_PI + FORTPI) {\n    this.face = this.long0 > 0.0 ? FACE_ENUM.RIGHT : FACE_ENUM.LEFT;\n  } else {\n    this.face = FACE_ENUM.BACK;\n  }\n\n  /* Fill in useful values for the ellipsoid <-> sphere shift\n   * described in [LK12]. */\n  if (this.es !== 0) {\n    this.one_minus_f = 1 - (this.a - this.b) / this.a;\n    this.one_minus_f_squared = this.one_minus_f * this.one_minus_f;\n  }\n}\n\n// QSC forward equations--mapping lat,long to x,y\n// -----------------------------------------------------------------\nexport function forward(p) {\n  var xy = {x: 0, y: 0};\n  var lat, lon;\n  var theta, phi;\n  var t, mu;\n  /* nu; */\n  var area = {value: 0};\n\n  // move lon according to projection's lon\n  p.x -= this.long0;\n\n  /* Convert the geodetic latitude to a geocentric latitude.\n   * This corresponds to the shift from the ellipsoid to the sphere\n   * described in [LK12]. */\n  if (this.es !== 0) {//if (P->es != 0) {\n    lat = Math.atan(this.one_minus_f_squared * Math.tan(p.y));\n  } else {\n    lat = p.y;\n  }\n\n  /* Convert the input lat, lon into theta, phi as used by QSC.\n   * This depends on the cube face and the area on it.\n   * For the top and bottom face, we can compute theta and phi\n   * directly from phi, lam. For the other faces, we must use\n   * unit sphere cartesian coordinates as an intermediate step. */\n  lon = p.x; //lon = lp.lam;\n  if (this.face === FACE_ENUM.TOP) {\n    phi = HALF_PI - lat;\n    if (lon >= FORTPI && lon <= HALF_PI + FORTPI) {\n      area.value = AREA_ENUM.AREA_0;\n      theta = lon - HALF_PI;\n    } else if (lon > HALF_PI + FORTPI || lon <= -(HALF_PI + FORTPI)) {\n      area.value = AREA_ENUM.AREA_1;\n      theta = (lon > 0.0 ? lon - SPI : lon + SPI);\n    } else if (lon > -(HALF_PI + FORTPI) && lon <= -FORTPI) {\n      area.value = AREA_ENUM.AREA_2;\n      theta = lon + HALF_PI;\n    } else {\n      area.value = AREA_ENUM.AREA_3;\n      theta = lon;\n    }\n  } else if (this.face === FACE_ENUM.BOTTOM) {\n    phi = HALF_PI + lat;\n    if (lon >= FORTPI && lon <= HALF_PI + FORTPI) {\n      area.value = AREA_ENUM.AREA_0;\n      theta = -lon + HALF_PI;\n    } else if (lon < FORTPI && lon >= -FORTPI) {\n      area.value = AREA_ENUM.AREA_1;\n      theta = -lon;\n    } else if (lon < -FORTPI && lon >= -(HALF_PI + FORTPI)) {\n      area.value = AREA_ENUM.AREA_2;\n      theta = -lon - HALF_PI;\n    } else {\n      area.value = AREA_ENUM.AREA_3;\n      theta = (lon > 0.0 ? -lon + SPI : -lon - SPI);\n    }\n  } else {\n    var q, r, s;\n    var sinlat, coslat;\n    var sinlon, coslon;\n\n    if (this.face === FACE_ENUM.RIGHT) {\n      lon = qsc_shift_lon_origin(lon, +HALF_PI);\n    } else if (this.face === FACE_ENUM.BACK) {\n      lon = qsc_shift_lon_origin(lon, +SPI);\n    } else if (this.face === FACE_ENUM.LEFT) {\n      lon = qsc_shift_lon_origin(lon, -HALF_PI);\n    }\n    sinlat = Math.sin(lat);\n    coslat = Math.cos(lat);\n    sinlon = Math.sin(lon);\n    coslon = Math.cos(lon);\n    q = coslat * coslon;\n    r = coslat * sinlon;\n    s = sinlat;\n\n    if (this.face === FACE_ENUM.FRONT) {\n      phi = Math.acos(q);\n      theta = qsc_fwd_equat_face_theta(phi, s, r, area);\n    } else if (this.face === FACE_ENUM.RIGHT) {\n      phi = Math.acos(r);\n      theta = qsc_fwd_equat_face_theta(phi, s, -q, area);\n    } else if (this.face === FACE_ENUM.BACK) {\n      phi = Math.acos(-q);\n      theta = qsc_fwd_equat_face_theta(phi, s, -r, area);\n    } else if (this.face === FACE_ENUM.LEFT) {\n      phi = Math.acos(-r);\n      theta = qsc_fwd_equat_face_theta(phi, s, q, area);\n    } else {\n      /* Impossible */\n      phi = theta = 0;\n      area.value = AREA_ENUM.AREA_0;\n    }\n  }\n\n  /* Compute mu and nu for the area of definition.\n   * For mu, see Eq. (3-21) in [OL76], but note the typos:\n   * compare with Eq. (3-14). For nu, see Eq. (3-38). */\n  mu = Math.atan((12 / SPI) * (theta + Math.acos(Math.sin(theta) * Math.cos(FORTPI)) - HALF_PI));\n  t = Math.sqrt((1 - Math.cos(phi)) / (Math.cos(mu) * Math.cos(mu)) / (1 - Math.cos(Math.atan(1 / Math.cos(theta)))));\n\n  /* Apply the result to the real area. */\n  if (area.value === AREA_ENUM.AREA_1) {\n    mu += HALF_PI;\n  } else if (area.value === AREA_ENUM.AREA_2) {\n    mu += SPI;\n  } else if (area.value === AREA_ENUM.AREA_3) {\n    mu += 1.5 * SPI;\n  }\n\n  /* Now compute x, y from mu and nu */\n  xy.x = t * Math.cos(mu);\n  xy.y = t * Math.sin(mu);\n  xy.x = xy.x * this.a + this.x0;\n  xy.y = xy.y * this.a + this.y0;\n\n  p.x = xy.x;\n  p.y = xy.y;\n  return p;\n}\n\n// QSC inverse equations--mapping x,y to lat/long\n// -----------------------------------------------------------------\nexport function inverse(p) {\n  var lp = {lam: 0, phi: 0};\n  var mu, nu, cosmu, tannu;\n  var tantheta, theta, cosphi, phi;\n  var t;\n  var area = {value: 0};\n\n  /* de-offset */\n  p.x = (p.x - this.x0) / this.a;\n  p.y = (p.y - this.y0) / this.a;\n\n  /* Convert the input x, y to the mu and nu angles as used by QSC.\n   * This depends on the area of the cube face. */\n  nu = Math.atan(Math.sqrt(p.x * p.x + p.y * p.y));\n  mu = Math.atan2(p.y, p.x);\n  if (p.x >= 0.0 && p.x >= Math.abs(p.y)) {\n    area.value = AREA_ENUM.AREA_0;\n  } else if (p.y >= 0.0 && p.y >= Math.abs(p.x)) {\n    area.value = AREA_ENUM.AREA_1;\n    mu -= HALF_PI;\n  } else if (p.x < 0.0 && -p.x >= Math.abs(p.y)) {\n    area.value = AREA_ENUM.AREA_2;\n    mu = (mu < 0.0 ? mu + SPI : mu - SPI);\n  } else {\n    area.value = AREA_ENUM.AREA_3;\n    mu += HALF_PI;\n  }\n\n  /* Compute phi and theta for the area of definition.\n   * The inverse projection is not described in the original paper, but some\n   * good hints can be found here (as of 2011-12-14):\n   * http://fits.gsfc.nasa.gov/fitsbits/saf.93/saf.9302\n   * (search for \"Message-Id: <9302181759.AA25477 at fits.cv.nrao.edu>\") */\n  t = (SPI / 12) * Math.tan(mu);\n  tantheta = Math.sin(t) / (Math.cos(t) - (1 / Math.sqrt(2)));\n  theta = Math.atan(tantheta);\n  cosmu = Math.cos(mu);\n  tannu = Math.tan(nu);\n  cosphi = 1 - cosmu * cosmu * tannu * tannu * (1 - Math.cos(Math.atan(1 / Math.cos(theta))));\n  if (cosphi < -1) {\n    cosphi = -1;\n  } else if (cosphi > +1) {\n    cosphi = +1;\n  }\n\n  /* Apply the result to the real area on the cube face.\n   * For the top and bottom face, we can compute phi and lam directly.\n   * For the other faces, we must use unit sphere cartesian coordinates\n   * as an intermediate step. */\n  if (this.face === FACE_ENUM.TOP) {\n    phi = Math.acos(cosphi);\n    lp.phi = HALF_PI - phi;\n    if (area.value === AREA_ENUM.AREA_0) {\n      lp.lam = theta + HALF_PI;\n    } else if (area.value === AREA_ENUM.AREA_1) {\n      lp.lam = (theta < 0.0 ? theta + SPI : theta - SPI);\n    } else if (area.value === AREA_ENUM.AREA_2) {\n      lp.lam = theta - HALF_PI;\n    } else /* area.value == AREA_ENUM.AREA_3 */ {\n      lp.lam = theta;\n    }\n  } else if (this.face === FACE_ENUM.BOTTOM) {\n    phi = Math.acos(cosphi);\n    lp.phi = phi - HALF_PI;\n    if (area.value === AREA_ENUM.AREA_0) {\n      lp.lam = -theta + HALF_PI;\n    } else if (area.value === AREA_ENUM.AREA_1) {\n      lp.lam = -theta;\n    } else if (area.value === AREA_ENUM.AREA_2) {\n      lp.lam = -theta - HALF_PI;\n    } else /* area.value == AREA_ENUM.AREA_3 */ {\n      lp.lam = (theta < 0.0 ? -theta - SPI : -theta + SPI);\n    }\n  } else {\n    /* Compute phi and lam via cartesian unit sphere coordinates. */\n    var q, r, s;\n    q = cosphi;\n    t = q * q;\n    if (t >= 1) {\n      s = 0;\n    } else {\n      s = Math.sqrt(1 - t) * Math.sin(theta);\n    }\n    t += s * s;\n    if (t >= 1) {\n      r = 0;\n    } else {\n      r = Math.sqrt(1 - t);\n    }\n    /* Rotate q,r,s into the correct area. */\n    if (area.value === AREA_ENUM.AREA_1) {\n      t = r;\n      r = -s;\n      s = t;\n    } else if (area.value === AREA_ENUM.AREA_2) {\n      r = -r;\n      s = -s;\n    } else if (area.value === AREA_ENUM.AREA_3) {\n      t = r;\n      r = s;\n      s = -t;\n    }\n    /* Rotate q,r,s into the correct cube face. */\n    if (this.face === FACE_ENUM.RIGHT) {\n      t = q;\n      q = -r;\n      r = t;\n    } else if (this.face === FACE_ENUM.BACK) {\n      q = -q;\n      r = -r;\n    } else if (this.face === FACE_ENUM.LEFT) {\n      t = q;\n      q = r;\n      r = -t;\n    }\n    /* Now compute phi and lam from the unit sphere coordinates. */\n    lp.phi = Math.acos(-s) - HALF_PI;\n    lp.lam = Math.atan2(r, q);\n    if (this.face === FACE_ENUM.RIGHT) {\n      lp.lam = qsc_shift_lon_origin(lp.lam, -HALF_PI);\n    } else if (this.face === FACE_ENUM.BACK) {\n      lp.lam = qsc_shift_lon_origin(lp.lam, -SPI);\n    } else if (this.face === FACE_ENUM.LEFT) {\n      lp.lam = qsc_shift_lon_origin(lp.lam, +HALF_PI);\n    }\n  }\n\n  /* Apply the shift from the sphere to the ellipsoid as described\n   * in [LK12]. */\n  if (this.es !== 0) {\n    var invert_sign;\n    var tanphi, xa;\n    invert_sign = (lp.phi < 0 ? 1 : 0);\n    tanphi = Math.tan(lp.phi);\n    xa = this.b / Math.sqrt(tanphi * tanphi + this.one_minus_f_squared);\n    lp.phi = Math.atan(Math.sqrt(this.a * this.a - xa * xa) / (this.one_minus_f * xa));\n    if (invert_sign) {\n      lp.phi = -lp.phi;\n    }\n  }\n\n  lp.lam += this.long0;\n  p.x = lp.lam;\n  p.y = lp.phi;\n  return p;\n}\n\n/* Helper function for forward projection: compute the theta angle\n * and determine the area number. */\nfunction qsc_fwd_equat_face_theta(phi, y, x, area) {\n  var theta;\n  if (phi < EPSLN) {\n    area.value = AREA_ENUM.AREA_0;\n    theta = 0.0;\n  } else {\n    theta = Math.atan2(y, x);\n    if (Math.abs(theta) <= FORTPI) {\n      area.value = AREA_ENUM.AREA_0;\n    } else if (theta > FORTPI && theta <= HALF_PI + FORTPI) {\n      area.value = AREA_ENUM.AREA_1;\n      theta -= HALF_PI;\n    } else if (theta > HALF_PI + FORTPI || theta <= -(HALF_PI + FORTPI)) {\n      area.value = AREA_ENUM.AREA_2;\n      theta = (theta >= 0.0 ? theta - SPI : theta + SPI);\n    } else {\n      area.value = AREA_ENUM.AREA_3;\n      theta += HALF_PI;\n    }\n  }\n  return theta;\n}\n\n/* Helper function: shift the longitude. */\nfunction qsc_shift_lon_origin(lon, offset) {\n  var slon = lon + offset;\n  if (slon < -SPI) {\n    slon += TWO_PI;\n  } else if (slon > +SPI) {\n    slon -= TWO_PI;\n  }\n  return slon;\n}\n\nexport var names = [\"Quadrilateralized Spherical Cube\", \"Quadrilateralized_Spherical_Cube\", \"qsc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n","// Robinson projection\n// Based on https://github.com/OSGeo/proj.4/blob/master/src/PJ_robin.c\n// Polynomial coeficients from http://article.gmane.org/gmane.comp.gis.proj-4.devel/6039\n\nimport {HALF_PI, D2R, R2D, EPSLN} from '../constants/values';\nimport adjust_lon from '../common/adjust_lon';\n\nvar COEFS_X = [\n    [1.0000, 2.2199e-17, -7.15515e-05, 3.1103e-06],\n    [0.9986, -0.000482243, -2.4897e-05, -1.3309e-06],\n    [0.9954, -0.00083103, -4.48605e-05, -9.86701e-07],\n    [0.9900, -0.00135364, -5.9661e-05, 3.6777e-06],\n    [0.9822, -0.00167442, -4.49547e-06, -5.72411e-06],\n    [0.9730, -0.00214868, -9.03571e-05, 1.8736e-08],\n    [0.9600, -0.00305085, -9.00761e-05, 1.64917e-06],\n    [0.9427, -0.00382792, -6.53386e-05, -2.6154e-06],\n    [0.9216, -0.00467746, -0.00010457, 4.81243e-06],\n    [0.8962, -0.00536223, -3.23831e-05, -5.43432e-06],\n    [0.8679, -0.00609363, -0.000113898, 3.32484e-06],\n    [0.8350, -0.00698325, -6.40253e-05, 9.34959e-07],\n    [0.7986, -0.00755338, -5.00009e-05, 9.35324e-07],\n    [0.7597, -0.00798324, -3.5971e-05, -2.27626e-06],\n    [0.7186, -0.00851367, -7.01149e-05, -8.6303e-06],\n    [0.6732, -0.00986209, -0.000199569, 1.91974e-05],\n    [0.6213, -0.010418, 8.83923e-05, 6.24051e-06],\n    [0.5722, -0.00906601, 0.000182, 6.24051e-06],\n    [0.5322, -0.00677797, 0.000275608, 6.24051e-06]\n];\n\nvar COEFS_Y = [\n    [-5.20417e-18, 0.0124, 1.21431e-18, -8.45284e-11],\n    [0.0620, 0.0124, -1.26793e-09, 4.22642e-10],\n    [0.1240, 0.0124, 5.07171e-09, -1.60604e-09],\n    [0.1860, 0.0123999, -1.90189e-08, 6.00152e-09],\n    [0.2480, 0.0124002, 7.10039e-08, -2.24e-08],\n    [0.3100, 0.0123992, -2.64997e-07, 8.35986e-08],\n    [0.3720, 0.0124029, 9.88983e-07, -3.11994e-07],\n    [0.4340, 0.0123893, -3.69093e-06, -4.35621e-07],\n    [0.4958, 0.0123198, -1.02252e-05, -3.45523e-07],\n    [0.5571, 0.0121916, -1.54081e-05, -5.82288e-07],\n    [0.6176, 0.0119938, -2.41424e-05, -5.25327e-07],\n    [0.6769, 0.011713, -3.20223e-05, -5.16405e-07],\n    [0.7346, 0.0113541, -3.97684e-05, -6.09052e-07],\n    [0.7903, 0.0109107, -4.89042e-05, -1.04739e-06],\n    [0.8435, 0.0103431, -6.4615e-05, -1.40374e-09],\n    [0.8936, 0.00969686, -6.4636e-05, -8.547e-06],\n    [0.9394, 0.00840947, -0.000192841, -4.2106e-06],\n    [0.9761, 0.00616527, -0.000256, -4.2106e-06],\n    [1.0000, 0.00328947, -0.000319159, -4.2106e-06]\n];\n\nvar FXC = 0.8487;\nvar FYC = 1.3523;\nvar C1 = R2D/5; // rad to 5-degree interval\nvar RC1 = 1/C1;\nvar NODES = 18;\n\nvar poly3_val = function(coefs, x) {\n    return coefs[0] + x * (coefs[1] + x * (coefs[2] + x * coefs[3]));\n};\n\nvar poly3_der = function(coefs, x) {\n    return coefs[1] + x * (2 * coefs[2] + x * 3 * coefs[3]);\n};\n\nfunction newton_rapshon(f_df, start, max_err, iters) {\n    var x = start;\n    for (; iters; --iters) {\n        var upd = f_df(x);\n        x -= upd;\n        if (Math.abs(upd) < max_err) {\n            break;\n        }\n    }\n    return x;\n}\n\nexport function init() {\n    this.x0 = this.x0 || 0;\n    this.y0 = this.y0 || 0;\n    this.long0 = this.long0 || 0;\n    this.es = 0;\n    this.title = this.title || \"Robinson\";\n}\n\nexport function forward(ll) {\n    var lon = adjust_lon(ll.x - this.long0);\n\n    var dphi = Math.abs(ll.y);\n    var i = Math.floor(dphi * C1);\n    if (i < 0) {\n        i = 0;\n    } else if (i >= NODES) {\n        i = NODES - 1;\n    }\n    dphi = R2D * (dphi - RC1 * i);\n    var xy = {\n        x: poly3_val(COEFS_X[i], dphi) * lon,\n        y: poly3_val(COEFS_Y[i], dphi)\n    };\n    if (ll.y < 0) {\n        xy.y = -xy.y;\n    }\n\n    xy.x = xy.x * this.a * FXC + this.x0;\n    xy.y = xy.y * this.a * FYC + this.y0;\n    return xy;\n}\n\nexport function inverse(xy) {\n    var ll = {\n        x: (xy.x - this.x0) / (this.a * FXC),\n        y: Math.abs(xy.y - this.y0) / (this.a * FYC)\n    };\n\n    if (ll.y >= 1) { // pathologic case\n        ll.x /= COEFS_X[NODES][0];\n        ll.y = xy.y < 0 ? -HALF_PI : HALF_PI;\n    } else {\n        // find table interval\n        var i = Math.floor(ll.y * NODES);\n        if (i < 0) {\n            i = 0;\n        } else if (i >= NODES) {\n            i = NODES - 1;\n        }\n        for (;;) {\n            if (COEFS_Y[i][0] > ll.y) {\n                --i;\n            } else if (COEFS_Y[i+1][0] <= ll.y) {\n                ++i;\n            } else {\n                break;\n            }\n        }\n        // linear interpolation in 5 degree interval\n        var coefs = COEFS_Y[i];\n        var t = 5 * (ll.y - coefs[0]) / (COEFS_Y[i+1][0] - coefs[0]);\n        // find t so that poly3_val(coefs, t) = ll.y\n        t = newton_rapshon(function(x) {\n            return (poly3_val(coefs, x) - ll.y) / poly3_der(coefs, x);\n        }, t, EPSLN, 100);\n\n        ll.x /= poly3_val(COEFS_X[i], t);\n        ll.y = (5 * i + t) * D2R;\n        if (xy.y < 0) {\n            ll.y = -ll.y;\n        }\n    }\n\n    ll.x = adjust_lon(ll.x + this.long0);\n    return ll;\n}\n\nexport var names = [\"Robinson\", \"robin\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import {\n    geodeticToGeocentric,\n    geocentricToGeodetic\n} from '../datumUtils';\n\nexport function init() {\n    this.name = 'geocent';\n\n}\n\nexport function forward(p) {\n    var point = geodeticToGeocentric(p, this.es, this.a);\n    return point;\n}\n\nexport function inverse(p) {\n    var point = geocentricToGeodetic(p, this.es, this.a, this.b);\n    return point;\n}\n\nexport var names = [\"Geocentric\", 'geocentric', \"geocent\", \"Geocent\"];\nexport default {\n    init: init,\n    forward: forward,\n    inverse: inverse,\n    names: names\n};","\nvar mode = {\n  N_POLE: 0,\n  S_POLE: 1,\n  EQUIT: 2,\n  OBLIQ: 3\n};\n\nimport { D2R, HALF_PI, EPSLN } from \"../constants/values\";\nimport hypot from \"../common/hypot\";\n\nvar params = {\n  h:     { def: 100000, num: true },           // default is Karman line, no default in PROJ.7\n  azi:   { def: 0, num: true, degrees: true }, // default is North\n  tilt:  { def: 0, num: true, degrees: true }, // default is Nadir\n  long0: { def: 0, num: true },                // default is Greenwich, conversion to rad is automatic\n  lat0:  { def: 0, num: true }                 // default is Equator, conversion to rad is automatic\n};\n\nexport function init() {\n  Object.keys(params).forEach(function (p) {\n    if (typeof this[p] === \"undefined\") {\n      this[p] = params[p].def;\n    } else if (params[p].num && isNaN(this[p])) {\n      throw new Error(\"Invalid parameter value, must be numeric \" + p + \" = \" + this[p]);\n    } else if (params[p].num) {\n      this[p] = parseFloat(this[p]);\n    }\n    if (params[p].degrees) {\n      this[p] = this[p] * D2R;\n    }\n  }.bind(this));\n\n  if (Math.abs((Math.abs(this.lat0) - HALF_PI)) < EPSLN) {\n    this.mode = this.lat0 < 0 ? mode.S_POLE : mode.N_POLE;\n  } else if (Math.abs(this.lat0) < EPSLN) {\n    this.mode = mode.EQUIT;\n  } else {\n    this.mode = mode.OBLIQ;\n    this.sinph0 = Math.sin(this.lat0);\n    this.cosph0 = Math.cos(this.lat0);\n  }\n\n  this.pn1 = this.h / this.a;  // Normalize relative to the Earth's radius\n\n  if (this.pn1 <= 0 || this.pn1 > 1e10) {\n    throw new Error(\"Invalid height\");\n  }\n  \n  this.p = 1 + this.pn1;\n  this.rp = 1 / this.p;\n  this.h1 = 1 / this.pn1;\n  this.pfact = (this.p + 1) * this.h1;\n  this.es = 0;\n\n  var omega = this.tilt;\n  var gamma = this.azi;\n  this.cg = Math.cos(gamma);\n  this.sg = Math.sin(gamma);\n  this.cw = Math.cos(omega);\n  this.sw = Math.sin(omega);\n}\n\nexport function forward(p) {\n  p.x -= this.long0;\n  var sinphi = Math.sin(p.y);\n  var cosphi = Math.cos(p.y);\n  var coslam = Math.cos(p.x);\n  var x, y;\n  switch (this.mode) {\n    case mode.OBLIQ:\n      y = this.sinph0 * sinphi + this.cosph0 * cosphi * coslam;\n      break;\n    case mode.EQUIT:\n      y = cosphi * coslam;\n      break;\n    case mode.S_POLE:\n      y = -sinphi;\n      break;\n    case mode.N_POLE:\n      y = sinphi;\n      break;\n  }\n  y = this.pn1 / (this.p - y);\n  x = y * cosphi * Math.sin(p.x);\n\n  switch (this.mode) {\n    case mode.OBLIQ:\n      y *= this.cosph0 * sinphi - this.sinph0 * cosphi * coslam;\n      break;\n    case mode.EQUIT:\n      y *= sinphi;\n      break;\n    case mode.N_POLE:\n      y *= -(cosphi * coslam);\n      break;\n    case mode.S_POLE:\n      y *= cosphi * coslam;\n      break;\n  }\n\n  // Tilt \n  var yt, ba;\n  yt = y * this.cg + x * this.sg;\n  ba = 1 / (yt * this.sw * this.h1 + this.cw);\n  x = (x * this.cg - y * this.sg) * this.cw * ba;\n  y = yt * ba;\n\n  p.x = x * this.a;\n  p.y = y * this.a;\n  return p;\n}\n\nexport function inverse(p) {\n  p.x /= this.a;\n  p.y /= this.a;\n  var r = { x: p.x, y: p.y };\n\n  // Un-Tilt\n  var bm, bq, yt;\n  yt = 1 / (this.pn1 - p.y * this.sw);\n  bm = this.pn1 * p.x * yt;\n  bq = this.pn1 * p.y * this.cw * yt;\n  p.x = bm * this.cg + bq * this.sg;\n  p.y = bq * this.cg - bm * this.sg;\n\n  var rh = hypot(p.x, p.y);\n  if (Math.abs(rh) < EPSLN) {\n    r.x = 0;\n    r.y = p.y;\n  } else {\n    var cosz, sinz;\n    sinz = 1 - rh * rh * this.pfact;\n    sinz = (this.p - Math.sqrt(sinz)) / (this.pn1 / rh + rh / this.pn1);\n    cosz = Math.sqrt(1 - sinz * sinz);\n    switch (this.mode) {\n      case mode.OBLIQ:\n        r.y = Math.asin(cosz * this.sinph0 + p.y * sinz * this.cosph0 / rh);\n        p.y = (cosz - this.sinph0 * Math.sin(r.y)) * rh;\n        p.x *= sinz * this.cosph0;\n        break;\n      case mode.EQUIT:\n        r.y = Math.asin(p.y * sinz / rh);\n        p.y = cosz * rh;\n        p.x *= sinz;\n        break;\n      case mode.N_POLE:\n        r.y = Math.asin(cosz);\n        p.y = -p.y;\n        break;\n      case mode.S_POLE:\n        r.y = -Math.asin(cosz);\n        break;\n    }\n    r.x = Math.atan2(p.x, p.y);\n  }\n\n  p.x = r.x + this.long0;\n  p.y = r.y;\n  return p;\n}\n\nexport var names = [\"Tilted_Perspective\", \"tpers\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import hypot from '../common/hypot';\n\nexport function init() {\n    this.flip_axis = (this.sweep === 'x' ? 1 : 0);\n    this.h = Number(this.h);\n    this.radius_g_1 = this.h / this.a;\n\n    if (this.radius_g_1 <= 0 || this.radius_g_1 > 1e10) {\n        throw new Error();\n    }\n\n    this.radius_g = 1.0 + this.radius_g_1;\n    this.C = this.radius_g * this.radius_g - 1.0;\n\n    if (this.es !== 0.0) {\n        var one_es = 1.0 - this.es;\n        var rone_es = 1 / one_es;\n\n        this.radius_p = Math.sqrt(one_es);\n        this.radius_p2 = one_es;\n        this.radius_p_inv2 = rone_es;\n\n        this.shape = 'ellipse'; // Use as a condition in the forward and inverse functions.\n    } else {\n        this.radius_p = 1.0;\n        this.radius_p2 = 1.0;\n        this.radius_p_inv2 = 1.0;\n\n        this.shape = 'sphere';  // Use as a condition in the forward and inverse functions.\n    }\n\n    if (!this.title) {\n        this.title = \"Geostationary Satellite View\";\n    }\n}\n\nfunction forward(p) {\n    var lon = p.x;\n    var lat = p.y;\n    var tmp, v_x, v_y, v_z;\n    lon = lon - this.long0;\n\n    if (this.shape === 'ellipse') {\n        lat = Math.atan(this.radius_p2 * Math.tan(lat));\n        var r = this.radius_p / hypot(this.radius_p * Math.cos(lat), Math.sin(lat));\n\n        v_x = r * Math.cos(lon) * Math.cos(lat);\n        v_y = r * Math.sin(lon) * Math.cos(lat);\n        v_z = r * Math.sin(lat);\n\n        if (((this.radius_g - v_x) * v_x - v_y * v_y - v_z * v_z * this.radius_p_inv2) < 0.0) {\n            p.x = Number.NaN;\n            p.y = Number.NaN;\n            return p;\n        }\n\n        tmp = this.radius_g - v_x;\n        if (this.flip_axis) {\n            p.x = this.radius_g_1 * Math.atan(v_y / hypot(v_z, tmp));\n            p.y = this.radius_g_1 * Math.atan(v_z / tmp);\n        } else {\n            p.x = this.radius_g_1 * Math.atan(v_y / tmp);\n            p.y = this.radius_g_1 * Math.atan(v_z / hypot(v_y, tmp));\n        }\n    } else if (this.shape === 'sphere') {\n        tmp = Math.cos(lat);\n        v_x = Math.cos(lon) * tmp;\n        v_y = Math.sin(lon) * tmp;\n        v_z = Math.sin(lat);\n        tmp = this.radius_g - v_x;\n\n        if (this.flip_axis) {\n            p.x = this.radius_g_1 * Math.atan(v_y / hypot(v_z, tmp));\n            p.y = this.radius_g_1 * Math.atan(v_z / tmp);\n        } else {\n            p.x = this.radius_g_1 * Math.atan(v_y / tmp);\n            p.y = this.radius_g_1 * Math.atan(v_z / hypot(v_y, tmp));\n        }\n    }\n    p.x = p.x * this.a;\n    p.y = p.y * this.a;\n    return p;\n}\n\nfunction inverse(p) {\n    var v_x = -1.0;\n    var v_y = 0.0;\n    var v_z = 0.0;\n    var a, b, det, k;\n\n    p.x = p.x / this.a;\n    p.y = p.y / this.a;\n\n    if (this.shape === 'ellipse') {\n        if (this.flip_axis) {\n            v_z = Math.tan(p.y / this.radius_g_1);\n            v_y = Math.tan(p.x / this.radius_g_1) * hypot(1.0, v_z);\n        } else {\n            v_y = Math.tan(p.x / this.radius_g_1);\n            v_z = Math.tan(p.y / this.radius_g_1) * hypot(1.0, v_y);\n        }\n\n        var v_zp = v_z / this.radius_p;\n        a = v_y * v_y + v_zp * v_zp + v_x * v_x;\n        b = 2 * this.radius_g * v_x;\n        det = (b * b) - 4 * a * this.C;\n\n        if (det < 0.0) {\n            p.x = Number.NaN;\n            p.y = Number.NaN;\n            return p;\n        }\n\n        k = (-b - Math.sqrt(det)) / (2.0 * a);\n        v_x = this.radius_g + k * v_x;\n        v_y *= k;\n        v_z *= k;\n\n        p.x = Math.atan2(v_y, v_x);\n        p.y = Math.atan(v_z * Math.cos(p.x) / v_x);\n        p.y = Math.atan(this.radius_p_inv2 * Math.tan(p.y));\n    } else if (this.shape === 'sphere') {\n        if (this.flip_axis) {\n            v_z = Math.tan(p.y / this.radius_g_1);\n            v_y = Math.tan(p.x / this.radius_g_1) * Math.sqrt(1.0 + v_z * v_z);\n        } else {\n            v_y = Math.tan(p.x / this.radius_g_1);\n            v_z = Math.tan(p.y / this.radius_g_1) * Math.sqrt(1.0 + v_y * v_y);\n        }\n\n        a = v_y * v_y + v_z * v_z + v_x * v_x;\n        b = 2 * this.radius_g * v_x;\n        det = (b * b) - 4 * a * this.C;\n        if (det < 0.0) {\n            p.x = Number.NaN;\n            p.y = Number.NaN;\n            return p;\n        }\n\n        k = (-b - Math.sqrt(det)) / (2.0 * a);\n        v_x = this.radius_g + k * v_x;\n        v_y *= k;\n        v_z *= k;\n\n        p.x = Math.atan2(v_y, v_x);\n        p.y = Math.atan(v_z * Math.cos(p.x) / v_x);\n    }\n    p.x = p.x + this.long0;\n    return p;\n}\n\nexport var names = [\"Geostationary Satellite View\", \"Geostationary_Satellite\", \"geos\"];\nexport default {\n    init: init,\n    forward: forward,\n    inverse: inverse,\n    names: names,\n};\n\n","import tmerc from './lib/projections/tmerc';\nimport etmerc from './lib/projections/etmerc';\nimport utm from './lib/projections/utm';\nimport sterea from './lib/projections/sterea';\nimport stere from './lib/projections/stere';\nimport somerc from './lib/projections/somerc';\nimport omerc from './lib/projections/omerc';\nimport lcc from './lib/projections/lcc';\nimport krovak from './lib/projections/krovak';\nimport cass from './lib/projections/cass';\nimport laea from './lib/projections/laea';\nimport aea from './lib/projections/aea';\nimport gnom from './lib/projections/gnom';\nimport cea from './lib/projections/cea';\nimport eqc from './lib/projections/eqc';\nimport poly from './lib/projections/poly';\nimport nzmg from './lib/projections/nzmg';\nimport mill from './lib/projections/mill';\nimport sinu from './lib/projections/sinu';\nimport moll from './lib/projections/moll';\nimport eqdc from './lib/projections/eqdc';\nimport vandg from './lib/projections/vandg';\nimport aeqd from './lib/projections/aeqd';\nimport ortho from './lib/projections/ortho';\nimport qsc from './lib/projections/qsc';\nimport robin from './lib/projections/robin';\nimport geocent from './lib/projections/geocent';\nimport tpers from './lib/projections/tpers';\nimport geos from './lib/projections/geos';\nexport default function(proj4){\n  proj4.Proj.projections.add(tmerc);\n  proj4.Proj.projections.add(etmerc);\n  proj4.Proj.projections.add(utm);\n  proj4.Proj.projections.add(sterea);\n  proj4.Proj.projections.add(stere);\n  proj4.Proj.projections.add(somerc);\n  proj4.Proj.projections.add(omerc);\n  proj4.Proj.projections.add(lcc);\n  proj4.Proj.projections.add(krovak);\n  proj4.Proj.projections.add(cass);\n  proj4.Proj.projections.add(laea);\n  proj4.Proj.projections.add(aea);\n  proj4.Proj.projections.add(gnom);\n  proj4.Proj.projections.add(cea);\n  proj4.Proj.projections.add(eqc);\n  proj4.Proj.projections.add(poly);\n  proj4.Proj.projections.add(nzmg);\n  proj4.Proj.projections.add(mill);\n  proj4.Proj.projections.add(sinu);\n  proj4.Proj.projections.add(moll);\n  proj4.Proj.projections.add(eqdc);\n  proj4.Proj.projections.add(vandg);\n  proj4.Proj.projections.add(aeqd);\n  proj4.Proj.projections.add(ortho);\n  proj4.Proj.projections.add(qsc);\n  proj4.Proj.projections.add(robin);\n  proj4.Proj.projections.add(geocent);\n  proj4.Proj.projections.add(tpers);\n  proj4.Proj.projections.add(geos);\n}","import proj4 from './core';\nimport Proj from \"./Proj\";\nimport Point from \"./Point\";\nimport common from \"./common/toPoint\";\nimport defs from \"./defs\";\nimport nadgrid from \"./nadgrid\";\nimport transform from \"./transform\";\nimport mgrs from \"mgrs\";\nimport includedProjections from \"../projs\";\n\nproj4.defaultDatum = 'WGS84'; //default datum\nproj4.Proj = Proj;\nproj4.WGS84 = new proj4.Proj('WGS84');\nproj4.Point = Point;\nproj4.toPoint = common;\nproj4.defs = defs;\nproj4.nadgrid = nadgrid;\nproj4.transform = transform;\nproj4.mgrs = mgrs;\nproj4.version = '__VERSION__';\nincludedProjections(proj4);\nexport default proj4;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","var inherits = require('inherits')\nvar EventEmitter = require('events').EventEmitter\n\nmodule.exports = Queue\nmodule.exports.default = Queue\n\nfunction Queue (options) {\n  if (!(this instanceof Queue)) {\n    return new Queue(options)\n  }\n\n  EventEmitter.call(this)\n  options = options || {}\n  this.concurrency = options.concurrency || Infinity\n  this.timeout = options.timeout || 0\n  this.autostart = options.autostart || false\n  this.results = options.results || null\n  this.pending = 0\n  this.session = 0\n  this.running = false\n  this.jobs = []\n  this.timers = {}\n}\ninherits(Queue, EventEmitter)\n\nvar arrayMethods = [\n  'pop',\n  'shift',\n  'indexOf',\n  'lastIndexOf'\n]\n\narrayMethods.forEach(function (method) {\n  Queue.prototype[method] = function () {\n    return Array.prototype[method].apply(this.jobs, arguments)\n  }\n})\n\nQueue.prototype.slice = function (begin, end) {\n  this.jobs = this.jobs.slice(begin, end)\n  return this\n}\n\nQueue.prototype.reverse = function () {\n  this.jobs.reverse()\n  return this\n}\n\nvar arrayAddMethods = [\n  'push',\n  'unshift',\n  'splice'\n]\n\narrayAddMethods.forEach(function (method) {\n  Queue.prototype[method] = function () {\n    var methodResult = Array.prototype[method].apply(this.jobs, arguments)\n    if (this.autostart) {\n      this.start()\n    }\n    return methodResult\n  }\n})\n\nObject.defineProperty(Queue.prototype, 'length', {\n  get: function () {\n    return this.pending + this.jobs.length\n  }\n})\n\nQueue.prototype.start = function (cb) {\n  if (cb) {\n    callOnErrorOrEnd.call(this, cb)\n  }\n\n  this.running = true\n\n  if (this.pending >= this.concurrency) {\n    return\n  }\n\n  if (this.jobs.length === 0) {\n    if (this.pending === 0) {\n      done.call(this)\n    }\n    return\n  }\n\n  var self = this\n  var job = this.jobs.shift()\n  var once = true\n  var session = this.session\n  var timeoutId = null\n  var didTimeout = false\n  var resultIndex = null\n  var timeout = job.timeout || this.timeout\n\n  function next (err, result) {\n    if (once && self.session === session) {\n      once = false\n      self.pending--\n      if (timeoutId !== null) {\n        delete self.timers[timeoutId]\n        clearTimeout(timeoutId)\n      }\n\n      if (err) {\n        self.emit('error', err, job)\n      } else if (didTimeout === false) {\n        if (resultIndex !== null) {\n          self.results[resultIndex] = Array.prototype.slice.call(arguments, 1)\n        }\n        self.emit('success', result, job)\n      }\n\n      if (self.session === session) {\n        if (self.pending === 0 && self.jobs.length === 0) {\n          done.call(self)\n        } else if (self.running) {\n          self.start()\n        }\n      }\n    }\n  }\n\n  if (timeout) {\n    timeoutId = setTimeout(function () {\n      didTimeout = true\n      if (self.listeners('timeout').length > 0) {\n        self.emit('timeout', next, job)\n      } else {\n        next()\n      }\n    }, timeout)\n    this.timers[timeoutId] = timeoutId\n  }\n\n  if (this.results) {\n    resultIndex = this.results.length\n    this.results[resultIndex] = null\n  }\n\n  this.pending++\n  self.emit('start', job)\n  var promise = job(next)\n  if (promise && promise.then && typeof promise.then === 'function') {\n    promise.then(function (result) {\n      return next(null, result)\n    }).catch(function (err) {\n      return next(err || true)\n    })\n  }\n\n  if (this.running && this.jobs.length > 0) {\n    this.start()\n  }\n}\n\nQueue.prototype.stop = function () {\n  this.running = false\n}\n\nQueue.prototype.end = function (err) {\n  clearTimers.call(this)\n  this.jobs.length = 0\n  this.pending = 0\n  done.call(this, err)\n}\n\nfunction clearTimers () {\n  for (var key in this.timers) {\n    var timeoutId = this.timers[key]\n    delete this.timers[key]\n    clearTimeout(timeoutId)\n  }\n}\n\nfunction callOnErrorOrEnd (cb) {\n  var self = this\n  this.on('error', onerror)\n  this.on('end', onend)\n\n  function onerror (err) { self.end(err) }\n  function onend (err) {\n    self.removeListener('error', onerror)\n    self.removeListener('end', onend)\n    cb(err, this.results)\n  }\n}\n\nfunction done (err) {\n  this.session++\n  this.running = false\n  this.emit('end', err)\n}\n","!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(t=t||self).RBush=i()}(this,function(){\"use strict\";function t(t,r,e,a,h){!function t(n,r,e,a,h){for(;a>e;){if(a-e>600){var o=a-e+1,s=r-e+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1),m=Math.max(e,Math.floor(r-s*f/o+u)),c=Math.min(a,Math.floor(r+(o-s)*f/o+u));t(n,r,m,c,h)}var p=n[r],d=e,x=a;for(i(n,e,r),h(n[a],p)>0&&i(n,e,a);d<x;){for(i(n,d,x),d++,x--;h(n[d],p)<0;)d++;for(;h(n[x],p)>0;)x--}0===h(n[e],p)?i(n,e,x):i(n,++x,a),x<=r&&(e=x+1),r<=x&&(a=x-1)}}(t,r,e||0,a||t.length-1,h||n)}function i(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function n(t,i){return t<i?-1:t>i?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=i;a<n;a++){var h=t.children[a];o(e,t.leaf?r(h):h)}return e}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,e,a){for(var h=[n,r];h.length;)if(!((r=h.pop())-(n=h.pop())<=e)){var o=n+Math.ceil((r-n)/e/2)*e;t(i,o,n,r,a),h.push(n,o,o,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var i=this.data,n=[];if(!c(t,i))return n;for(var r=this.toBBox,e=[];i;){for(var a=0;a<i.children.length;a++){var h=i.children[a],o=i.leaf?r(h):h;c(t,o)&&(i.leaf?n.push(h):m(t,o)?this._all(h,n):e.push(h))}i=e.pop()}return n},r.prototype.collides=function(t){var i=this.data;if(!c(t,i))return!1;for(var n=[];i;){for(var r=0;r<i.children.length;r++){var e=i.children[r],a=i.leaf?this.toBBox(e):e;if(c(t,a)){if(i.leaf||m(t,a))return!0;n.push(e)}}i=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,i){if(!t)return this;for(var n,r,a,h=this.data,o=this.toBBox(t),s=[],l=[];h||s.length;){if(h||(h=s.pop(),r=s[s.length-1],n=l.pop(),a=!0),h.leaf){var f=e(t,h.children,i);if(-1!==f)return h.children.splice(f,1),s.push(h),this._condense(s),this}a||h.leaf||!m(h,o)?r?(n++,h=r.children[n],a=!1):h=null:(s.push(h),l.push(n),n=0,r=h,h=h.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,i){return t.minX-i.minX},r.prototype.compareMinY=function(t,i){return t.minY-i.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},r.prototype._build=function(t,i,n,r){var e,h=n-i+1,o=this._maxEntries;if(h<=o)return a(e=p(t.slice(i,n+1)),this.toBBox),e;r||(r=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,r-1))),(e=p([])).leaf=!1,e.height=r;var s=Math.ceil(h/o),l=s*Math.ceil(Math.sqrt(o));d(t,i,n,l,this.compareMinX);for(var f=i;f<=n;f+=l){var u=Math.min(f+l-1,n);d(t,f,u,s,this.compareMinY);for(var m=f;m<=u;m+=s){var c=Math.min(m+s-1,u);e.children.push(this._build(t,m,c,r-1))}}return a(e,this.toBBox),e},r.prototype._chooseSubtree=function(t,i,n,r){for(;r.push(i),!i.leaf&&r.length-1!==n;){for(var e=1/0,a=1/0,h=void 0,o=0;o<i.children.length;o++){var s=i.children[o],l=f(s),u=(m=t,c=s,(Math.max(c.maxX,m.maxX)-Math.min(c.minX,m.minX))*(Math.max(c.maxY,m.maxY)-Math.min(c.minY,m.minY))-l);u<a?(a=u,e=l<e?l:e,h=s):u===a&&l<e&&(e=l,h=s)}i=h||i.children[0]}var m,c;return i},r.prototype._insert=function(t,i,n){var r=n?t:this.toBBox(t),e=[],a=this._chooseSubtree(r,this.data,i,e);for(a.children.push(t),o(a,r);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(r,e,i)},r.prototype._split=function(t,i){var n=t[i],r=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,r);var h=this._chooseSplitIndex(n,e,r),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},r.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,i,n){for(var r,e,a,o,s,l,u,m=1/0,c=1/0,p=i;p<=n-i;p++){var d=h(t,0,p,this.toBBox),x=h(t,p,n,this.toBBox),v=(e=d,a=x,o=void 0,s=void 0,l=void 0,u=void 0,o=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),l=Math.min(e.maxX,a.maxX),u=Math.min(e.maxY,a.maxY),Math.max(0,l-o)*Math.max(0,u-s)),M=f(d)+f(x);v<m?(m=v,r=p,c=M<c?M:c):v===m&&M<c&&(c=M,r=p)}return r||n-i},r.prototype._chooseSplitAxis=function(t,i,n){var r=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:l;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,e)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,i,n,r){t.children.sort(r);for(var e=this.toBBox,a=h(t,0,i,e),s=h(t,n-i,n,e),l=u(a)+u(s),f=i;f<n-i;f++){var m=t.children[f];o(a,t.leaf?e(m):m),l+=u(a)}for(var c=n-i-1;c>=i;c--){var p=t.children[c];o(s,t.leaf?e(p):p),l+=u(s)}return l},r.prototype._adjustParentBBoxes=function(t,i,n){for(var r=n;r>=0;r--)o(i[r],t)},r.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},r});\n","'use strict';\n\nvar proj4 = require('proj4').hasOwnProperty('default') ? require('proj4').default : require('proj4');\n// Checks if `list` looks like a `[x, y]`.\nfunction isXY(list) {\n  return list.length >= 2 &&\n    typeof list[0] === 'number' &&\n    typeof list[1] === 'number';\n}\n\nfunction traverseCoords(coordinates, callback) {\n  if (isXY(coordinates)) return callback(coordinates);\n  return coordinates.map(function(coord){return traverseCoords(coord, callback);});\n}\n\n// Simplistic shallow clone that will work for a normal GeoJSON object.\nfunction clone(obj) {\n  if (null == obj || 'object' !== typeof obj) return obj;\n  var copy = obj.constructor();\n  for (var attr in obj) {\n    if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n  }\n  return copy;\n}\n\nfunction traverseGeoJson(geometryCb, nodeCb, geojson) {\n  if (geojson == null) return geojson;\n\n  var r = clone(geojson);\n  var self = traverseGeoJson.bind(this, geometryCb, nodeCb);\n\n  switch (geojson.type) {\n  case 'Feature':\n    r.geometry = self(geojson.geometry);\n    break;\n  case 'FeatureCollection':\n    r.features = r.features.map(self);\n    break;\n  case 'GeometryCollection':\n    r.geometries = r.geometries.map(self);\n    break;\n  default:\n    geometryCb(r);\n    break;\n  }\n\n  if (nodeCb) nodeCb(r);\n\n  return r;\n}\n\nfunction detectCrs(geojson, projs) {\n  var crsInfo = geojson.crs,\n      crs;\n\n  if (crsInfo === undefined) {\n    throw new Error('Unable to detect CRS, GeoJSON has no \"crs\" property.');\n  }\n\n  if (crsInfo.type === 'name') {\n    crs = projs[crsInfo.properties.name];\n  } else if (crsInfo.type === 'EPSG') {\n    crs = projs['EPSG:' + crsInfo.properties.code];\n  }\n\n  if (!crs) {\n    throw new Error('CRS defined in crs section could not be identified: ' + JSON.stringify(crsInfo));\n  }\n\n  return crs;\n}\n\nfunction determineCrs(crs, projs) {\n  if (typeof crs === 'string' || crs instanceof String) {\n    return projs[crs] || proj4.Proj(crs);\n  }\n\n  return crs;\n}\n\nfunction calcBbox(geojson) {\n  var min = [Number.MAX_VALUE, Number.MAX_VALUE],\n      max = [-Number.MAX_VALUE, -Number.MAX_VALUE];\n  traverseGeoJson(function(_gj) {\n    traverseCoords(_gj.coordinates, function(xy) {\n      min[0] = Math.min(min[0], xy[0]);\n      min[1] = Math.min(min[1], xy[1]);\n      max[0] = Math.max(max[0], xy[0]);\n      max[1] = Math.max(max[1], xy[1]);\n    });\n  }, null, geojson);\n  return [min[0], min[1], max[0], max[1]];\n}\n\nfunction reproject(geojson, from, to, projs) {\n  projs = projs || {};\n  if (!from) {\n    from = detectCrs(geojson, projs);\n  } else {\n    from = determineCrs(from, projs);\n  }\n\n  to = determineCrs(to, projs);\n  \n  var transformFunc = proj4(from, to).forward.bind(transformFunc);\n\n  function transform(coords) {\n    var transformed = transformFunc(coords);\n    if (coords.length === 3 && coords[2] !== undefined && transformed[2] === undefined) {\n      // If the projection doesn't explicitly handle Z coordinate, retain the old one.\n      transformed[2] = coords[2];\n    }\n    return transformed;\n  }\n\n  var transformGeometryCoords = function(gj) {\n    // No easy way to put correct CRS info into the GeoJSON,\n    // and definitely wrong to keep the old, so delete it.\n    if (gj.crs) {\n      delete gj.crs;\n    }\n    gj.coordinates = traverseCoords(gj.coordinates, transform);\n  }\n\n  var transformBbox = function(gj) {\n    if (gj.bbox) {\n      gj.bbox = calcBbox(gj);\n    }\n  }\n\n  return traverseGeoJson(transformGeometryCoords, transformBbox, geojson);\n}\n\nmodule.exports = {\n  detectCrs: detectCrs,\n\n  reproject: reproject,\n\n  reverse: function(geojson) {\n    return traverseGeoJson(function(gj) {\n      gj.coordinates = traverseCoords(gj.coordinates, function(xy) {\n        return [ xy[1], xy[0] ];\n      });\n    }, null, geojson);\n  },\n\n  toWgs84: function(geojson, from, projs) {\n    return reproject(geojson, from, proj4.WGS84, projs);\n  }\n};\n","\n// We are modularizing this manually because the current modularize setting in Emscripten has some issues:\n// https://github.com/kripken/emscripten/issues/5820\n// In addition, When you use emcc's modularization, it still expects to export a global object called `Module`,\n// which is able to be used/called before the WASM is loaded.\n// The modularization below exports a promise that loads and resolves to the actual sql.js module.\n// That way, this module can't be used before the WASM is finished loading.\n\n// We are going to define a function that a user will call to start loading initializing our Sql.js library\n// However, that function might be called multiple times, and on subsequent calls, we don't actually want it to instantiate a new instance of the Module\n// Instead, we want to return the previously loaded module\n\n// TODO: Make this not declare a global if used in the browser\nvar initSqlJsPromise = undefined;\n\nvar initSqlJs = function (moduleConfig) {\n\n    if (initSqlJsPromise){\n      return initSqlJsPromise;\n    }\n    // If we're here, we've never called this function before\n    initSqlJsPromise = new Promise(function (resolveModule, reject) {\n\n        // We are modularizing this manually because the current modularize setting in Emscripten has some issues:\n        // https://github.com/kripken/emscripten/issues/5820\n\n        // The way to affect the loading of emcc compiled modules is to create a variable called `Module` and add\n        // properties to it, like `preRun`, `postRun`, etc\n        // We are using that to get notified when the WASM has finished loading.\n        // Only then will we return our promise\n\n        // If they passed in a moduleConfig object, use that\n        // Otherwise, initialize Module to the empty object\n        var Module = typeof moduleConfig !== 'undefined' ? moduleConfig : {};\n\n        // EMCC only allows for a single onAbort function (not an array of functions)\n        // So if the user defined their own onAbort function, we remember it and call it\n        var originalOnAbortFunction = Module['onAbort'];\n        Module['onAbort'] = function (errorThatCausedAbort) {\n            reject(new Error(errorThatCausedAbort));\n            if (originalOnAbortFunction){\n              originalOnAbortFunction(errorThatCausedAbort);\n            }\n        };\n\n        Module['postRun'] = Module['postRun'] || [];\n        Module['postRun'].push(function () {\n            // When Emscripted calls postRun, this promise resolves with the built Module\n            resolveModule(Module);\n        });\n\n        // There is a section of code in the emcc-generated code below that looks like this:\n        // (Note that this is lowercase `module`)\n        // if (typeof module !== 'undefined') {\n        //     module['exports'] = Module;\n        // }\n        // When that runs, it's going to overwrite our own modularization export efforts in shell-post.js!\n        // The only way to tell emcc not to emit it is to pass the MODULARIZE=1 or MODULARIZE_INSTANCE=1 flags,\n        // but that carries with it additional unnecessary baggage/bugs we don't want either.\n        // So, we have three options:\n        // 1) We undefine `module`\n        // 2) We remember what `module['exports']` was at the beginning of this function and we restore it later\n        // 3) We write a script to remove those lines of code as part of the Make process.\n        //\n        // Since those are the only lines of code that care about module, we will undefine it. It's the most straightforward\n        // of the options, and has the side effect of reducing emcc's efforts to modify the module if its output were to change in the future.\n        // That's a nice side effect since we're handling the modularization efforts ourselves\n        module = undefined;\n\n        // The emcc-generated code and shell-post.js code goes below,\n        // meaning that all of it runs inside of this promise. If anything throws an exception, our promise will abort\n\nvar e;e||(e=typeof Module !== 'undefined' ? Module : {});null;\ne.onRuntimeInitialized=function(){function a(h,l){this.Ka=h;this.db=l;this.Ia=1;this.cb=[]}function b(h,l){this.db=l;l=aa(h)+1;this.Xa=ba(l);if(null===this.Xa)throw Error(\"Unable to allocate memory for the SQL string\");k(h,n,this.Xa,l);this.bb=this.Xa;this.Ta=this.hb=null}function c(h){this.filename=\"dbfile_\"+(4294967295*Math.random()>>>0);if(null!=h){var l=this.filename,p=\"/\",q=l;p&&(p=\"string\"==typeof p?p:ca(p),q=l?t(p+\"/\"+l):p);l=ea(!0,!0);q=fa(q,(void 0!==l?l:438)&4095|32768,0);if(h){if(\"string\"==\ntypeof h){p=Array(h.length);for(var y=0,H=h.length;y<H;++y)p[y]=h.charCodeAt(y);h=p}ha(q,l|146);p=w(q,577);ia(p,h,0,h.length,0,void 0);ja(p);ha(q,l)}}this.handleError(g(this.filename,d));this.db=x(d,\"i32\");ac(this.db);this.Ya={};this.Qa={}}var d=z(4),f=e.cwrap,g=f(\"sqlite3_open\",\"number\",[\"string\",\"number\"]),m=f(\"sqlite3_close_v2\",\"number\",[\"number\"]),r=f(\"sqlite3_exec\",\"number\",[\"number\",\"string\",\"number\",\"number\",\"number\"]),u=f(\"sqlite3_changes\",\"number\",[\"number\"]),v=f(\"sqlite3_prepare_v2\",\"number\",\n[\"number\",\"string\",\"number\",\"number\",\"number\"]),B=f(\"sqlite3_sql\",\"string\",[\"number\"]),R=f(\"sqlite3_normalized_sql\",\"string\",[\"number\"]),La=f(\"sqlite3_prepare_v2\",\"number\",[\"number\",\"number\",\"number\",\"number\",\"number\"]),bc=f(\"sqlite3_bind_text\",\"number\",[\"number\",\"number\",\"number\",\"number\",\"number\"]),kb=f(\"sqlite3_bind_blob\",\"number\",[\"number\",\"number\",\"number\",\"number\",\"number\"]),cc=f(\"sqlite3_bind_double\",\"number\",[\"number\",\"number\",\"number\"]),dc=f(\"sqlite3_bind_int\",\"number\",[\"number\",\"number\",\n\"number\"]),ec=f(\"sqlite3_bind_parameter_index\",\"number\",[\"number\",\"string\"]),fc=f(\"sqlite3_step\",\"number\",[\"number\"]),gc=f(\"sqlite3_errmsg\",\"string\",[\"number\"]),hc=f(\"sqlite3_column_count\",\"number\",[\"number\"]),ic=f(\"sqlite3_data_count\",\"number\",[\"number\"]),jc=f(\"sqlite3_column_double\",\"number\",[\"number\",\"number\"]),lb=f(\"sqlite3_column_text\",\"string\",[\"number\",\"number\"]),kc=f(\"sqlite3_column_blob\",\"number\",[\"number\",\"number\"]),lc=f(\"sqlite3_column_bytes\",\"number\",[\"number\",\"number\"]),mc=f(\"sqlite3_column_type\",\n\"number\",[\"number\",\"number\"]),nc=f(\"sqlite3_column_name\",\"string\",[\"number\",\"number\"]),oc=f(\"sqlite3_reset\",\"number\",[\"number\"]),pc=f(\"sqlite3_clear_bindings\",\"number\",[\"number\"]),qc=f(\"sqlite3_finalize\",\"number\",[\"number\"]),rc=f(\"sqlite3_create_function_v2\",\"number\",\"number string number number number number number number number\".split(\" \")),sc=f(\"sqlite3_value_type\",\"number\",[\"number\"]),tc=f(\"sqlite3_value_bytes\",\"number\",[\"number\"]),uc=f(\"sqlite3_value_text\",\"string\",[\"number\"]),vc=f(\"sqlite3_value_blob\",\n\"number\",[\"number\"]),wc=f(\"sqlite3_value_double\",\"number\",[\"number\"]),xc=f(\"sqlite3_result_double\",\"\",[\"number\",\"number\"]),mb=f(\"sqlite3_result_null\",\"\",[\"number\"]),yc=f(\"sqlite3_result_text\",\"\",[\"number\",\"string\",\"number\",\"number\"]),zc=f(\"sqlite3_result_blob\",\"\",[\"number\",\"number\",\"number\",\"number\"]),Ac=f(\"sqlite3_result_int\",\"\",[\"number\",\"number\"]),nb=f(\"sqlite3_result_error\",\"\",[\"number\",\"string\",\"number\"]),ac=f(\"RegisterExtensionFunctions\",\"number\",[\"number\"]);a.prototype.bind=function(h){if(!this.Ka)throw\"Statement closed\";\nthis.reset();return Array.isArray(h)?this.wb(h):null!=h&&\"object\"===typeof h?this.xb(h):!0};a.prototype.step=function(){if(!this.Ka)throw\"Statement closed\";this.Ia=1;var h=fc(this.Ka);switch(h){case 100:return!0;case 101:return!1;default:throw this.db.handleError(h);}};a.prototype.rb=function(h){null==h&&(h=this.Ia,this.Ia+=1);return jc(this.Ka,h)};a.prototype.Bb=function(h){null==h&&(h=this.Ia,this.Ia+=1);h=lb(this.Ka,h);if(\"function\"!==typeof BigInt)throw Error(\"BigInt is not supported\");return BigInt(h)};\na.prototype.Cb=function(h){null==h&&(h=this.Ia,this.Ia+=1);return lb(this.Ka,h)};a.prototype.getBlob=function(h){null==h&&(h=this.Ia,this.Ia+=1);var l=lc(this.Ka,h);h=kc(this.Ka,h);for(var p=new Uint8Array(l),q=0;q<l;q+=1)p[q]=A[h+q];return p};a.prototype.get=function(h,l){l=l||{};null!=h&&this.bind(h)&&this.step();h=[];for(var p=ic(this.Ka),q=0;q<p;q+=1)switch(mc(this.Ka,q)){case 1:var y=l.useBigInt?this.Bb(q):this.rb(q);h.push(y);break;case 2:h.push(this.rb(q));break;case 3:h.push(this.Cb(q));break;\ncase 4:h.push(this.getBlob(q));break;default:h.push(null)}return h};a.prototype.getColumnNames=function(){for(var h=[],l=hc(this.Ka),p=0;p<l;p+=1)h.push(nc(this.Ka,p));return h};a.prototype.getAsObject=function(h,l){h=this.get(h,l);l=this.getColumnNames();for(var p={},q=0;q<l.length;q+=1)p[l[q]]=h[q];return p};a.prototype.getSQL=function(){return B(this.Ka)};a.prototype.getNormalizedSQL=function(){return R(this.Ka)};a.prototype.run=function(h){null!=h&&this.bind(h);this.step();return this.reset()};\na.prototype.mb=function(h,l){null==l&&(l=this.Ia,this.Ia+=1);h=ka(h);var p=la(h);this.cb.push(p);this.db.handleError(bc(this.Ka,l,p,h.length-1,0))};a.prototype.vb=function(h,l){null==l&&(l=this.Ia,this.Ia+=1);var p=la(h);this.cb.push(p);this.db.handleError(kb(this.Ka,l,p,h.length,0))};a.prototype.lb=function(h,l){null==l&&(l=this.Ia,this.Ia+=1);this.db.handleError((h===(h|0)?dc:cc)(this.Ka,l,h))};a.prototype.yb=function(h){null==h&&(h=this.Ia,this.Ia+=1);kb(this.Ka,h,0,0,0)};a.prototype.nb=function(h,\nl){null==l&&(l=this.Ia,this.Ia+=1);switch(typeof h){case \"string\":this.mb(h,l);return;case \"number\":this.lb(h,l);return;case \"bigint\":this.mb(h.toString(),l);return;case \"boolean\":this.lb(h+0,l);return;case \"object\":if(null===h){this.yb(l);return}if(null!=h.length){this.vb(h,l);return}}throw\"Wrong API use : tried to bind a value of an unknown type (\"+h+\").\";};a.prototype.xb=function(h){var l=this;Object.keys(h).forEach(function(p){var q=ec(l.Ka,p);0!==q&&l.nb(h[p],q)});return!0};a.prototype.wb=function(h){for(var l=\n0;l<h.length;l+=1)this.nb(h[l],l+1);return!0};a.prototype.reset=function(){this.freemem();return 0===pc(this.Ka)&&0===oc(this.Ka)};a.prototype.freemem=function(){for(var h;void 0!==(h=this.cb.pop());)ma(h)};a.prototype.free=function(){this.freemem();var h=0===qc(this.Ka);delete this.db.Ya[this.Ka];this.Ka=0;return h};b.prototype.next=function(){if(null===this.Xa)return{done:!0};null!==this.Ta&&(this.Ta.free(),this.Ta=null);if(!this.db.db)throw this.fb(),Error(\"Database closed\");var h=na(),l=z(4);\noa(d);oa(l);try{this.db.handleError(La(this.db.db,this.bb,-1,d,l));this.bb=x(l,\"i32\");var p=x(d,\"i32\");if(0===p)return this.fb(),{done:!0};this.Ta=new a(p,this.db);this.db.Ya[p]=this.Ta;return{value:this.Ta,done:!1}}catch(q){throw this.hb=D(this.bb),this.fb(),q;}finally{pa(h)}};b.prototype.fb=function(){ma(this.Xa);this.Xa=null};b.prototype.getRemainingSQL=function(){return null!==this.hb?this.hb:D(this.bb)};\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator&&(b.prototype[Symbol.iterator]=\nfunction(){return this});c.prototype.run=function(h,l){if(!this.db)throw\"Database closed\";if(l){h=this.prepare(h,l);try{h.step()}finally{h.free()}}else this.handleError(r(this.db,h,0,0,d));return this};c.prototype.exec=function(h,l,p){if(!this.db)throw\"Database closed\";var q=na(),y=null;try{var H=aa(h)+1,E=z(H);k(h,A,E,H);var da=E;var X=z(4);for(h=[];0!==x(da,\"i8\");){oa(d);oa(X);this.handleError(La(this.db,da,-1,d,X));var C=x(d,\"i32\");da=x(X,\"i32\");if(0!==C){H=null;y=new a(C,this);for(null!=l&&y.bind(l);y.step();)null===\nH&&(H={columns:y.getColumnNames(),values:[]},h.push(H)),H.values.push(y.get(null,p));y.free()}}return h}catch(I){throw y&&y.free(),I;}finally{pa(q)}};c.prototype.each=function(h,l,p,q,y){\"function\"===typeof l&&(q=p,p=l,l=void 0);h=this.prepare(h,l);try{for(;h.step();)p(h.getAsObject(null,y))}finally{h.free()}if(\"function\"===typeof q)return q()};c.prototype.prepare=function(h,l){oa(d);this.handleError(v(this.db,h,-1,d,0));h=x(d,\"i32\");if(0===h)throw\"Nothing to prepare\";var p=new a(h,this);null!=l&&\np.bind(l);return this.Ya[h]=p};c.prototype.iterateStatements=function(h){return new b(h,this)};c.prototype[\"export\"]=function(){Object.values(this.Ya).forEach(function(l){l.free()});Object.values(this.Qa).forEach(qa);this.Qa={};this.handleError(m(this.db));var h=ra(this.filename);this.handleError(g(this.filename,d));this.db=x(d,\"i32\");return h};c.prototype.close=function(){null!==this.db&&(Object.values(this.Ya).forEach(function(h){h.free()}),Object.values(this.Qa).forEach(qa),this.Qa={},this.handleError(m(this.db)),\nsa(\"/\"+this.filename),this.db=null)};c.prototype.handleError=function(h){if(0===h)return null;h=gc(this.db);throw Error(h);};c.prototype.getRowsModified=function(){return u(this.db)};c.prototype.create_function=function(h,l){Object.prototype.hasOwnProperty.call(this.Qa,h)&&(qa(this.Qa[h]),delete this.Qa[h]);var p=ta(function(q,y,H){for(var E,da=[],X=0;X<y;X+=1){var C=x(H+4*X,\"i32\"),I=sc(C);if(1===I||2===I)C=wc(C);else if(3===I)C=uc(C);else if(4===I){I=C;C=tc(I);I=vc(I);for(var qb=new Uint8Array(C),\nva=0;va<C;va+=1)qb[va]=A[I+va];C=qb}else C=null;da.push(C)}try{E=l.apply(null,da)}catch(Dc){nb(q,Dc,-1);return}switch(typeof E){case \"boolean\":Ac(q,E?1:0);break;case \"number\":xc(q,E);break;case \"string\":yc(q,E,-1,-1);break;case \"object\":null===E?mb(q):null!=E.length?(y=la(E),zc(q,y,E.length,-1),ma(y)):nb(q,\"Wrong API use : tried to return a value of an unknown type (\"+E+\").\",-1);break;default:mb(q)}});this.Qa[h]=p;this.handleError(rc(this.db,h,l.length,1,0,p,0,0,0));return this};e.Database=c};\nvar ua=Object.assign({},e),wa=\"./this.program\",xa=\"object\"==typeof window,ya=\"function\"==typeof importScripts,za=\"object\"==typeof process&&\"object\"==typeof process.versions&&\"string\"==typeof process.versions.node,F=\"\",Aa,Ba,Ca,fs,Da,Ea;\nif(za)F=ya?require(\"path\").dirname(F)+\"/\":__dirname+\"/\",Ea=()=>{Da||(fs=require(\"fs\"),Da=require(\"path\"))},Aa=function(a,b){Ea();a=Da.normalize(a);return fs.readFileSync(a,b?void 0:\"utf8\")},Ca=a=>{a=Aa(a,!0);a.buffer||(a=new Uint8Array(a));return a},Ba=(a,b,c)=>{Ea();a=Da.normalize(a);fs.readFile(a,function(d,f){d?c(d):b(f.buffer)})},1<process.argv.length&&(wa=process.argv[1].replace(/\\\\/g,\"/\")),process.argv.slice(2),\"undefined\"!=typeof module&&(module.exports=e),e.inspect=function(){return\"[Emscripten Module object]\"};\nelse if(xa||ya)ya?F=self.location.href:\"undefined\"!=typeof document&&document.currentScript&&(F=document.currentScript.src),F=0!==F.indexOf(\"blob:\")?F.substr(0,F.replace(/[?#].*/,\"\").lastIndexOf(\"/\")+1):\"\",Aa=a=>{var b=new XMLHttpRequest;b.open(\"GET\",a,!1);b.send(null);return b.responseText},ya&&(Ca=a=>{var b=new XMLHttpRequest;b.open(\"GET\",a,!1);b.responseType=\"arraybuffer\";b.send(null);return new Uint8Array(b.response)}),Ba=(a,b,c)=>{var d=new XMLHttpRequest;d.open(\"GET\",a,!0);d.responseType=\"arraybuffer\";\nd.onload=()=>{200==d.status||0==d.status&&d.response?b(d.response):c()};d.onerror=c;d.send(null)};var Fa=e.print||console.log.bind(console),G=e.printErr||console.warn.bind(console);Object.assign(e,ua);ua=null;e.thisProgram&&(wa=e.thisProgram);var Ga=[],J;\nfunction ta(a){if(!J){J=new WeakMap;for(var b=K.length,c=0;c<0+b;c++){var d=K.get(c);d&&J.set(d,c)}}if(J.has(a))return J.get(a);if(Ga.length)b=Ga.pop();else{try{K.grow(1)}catch(g){if(!(g instanceof RangeError))throw g;throw\"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.\";}b=K.length-1}try{K.set(b,a)}catch(g){if(!(g instanceof TypeError))throw g;if(\"function\"==typeof WebAssembly.Function){d={i:\"i32\",j:\"i64\",f:\"f32\",d:\"f64\"};var f={parameters:[],results:[]};for(c=1;4>c;++c)f.parameters.push(d[\"viii\"[c]]);\nc=new WebAssembly.Function(f,a)}else{d=[1,0,1,96];f={i:127,j:126,f:125,d:124};d.push(3);for(c=0;3>c;++c)d.push(f[\"iii\"[c]]);d.push(0);d[1]=d.length-2;c=new Uint8Array([0,97,115,109,1,0,0,0].concat(d,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0]));c=new WebAssembly.Module(c);c=(new WebAssembly.Instance(c,{e:{f:a}})).exports.f}K.set(b,c)}J.set(a,b);return b}function qa(a){J.delete(K.get(a));Ga.push(a)}var Ha;e.wasmBinary&&(Ha=e.wasmBinary);var noExitRuntime=e.noExitRuntime||!0;\n\"object\"!=typeof WebAssembly&&L(\"no native wasm support detected\");\nfunction oa(a){var b=\"i32\";\"*\"===b.charAt(b.length-1)&&(b=\"i32\");switch(b){case \"i1\":A[a>>0]=0;break;case \"i8\":A[a>>0]=0;break;case \"i16\":Ia[a>>1]=0;break;case \"i32\":M[a>>2]=0;break;case \"i64\":N=[0,(O=0,1<=+Math.abs(O)?0<O?(Math.min(+Math.floor(O/4294967296),4294967295)|0)>>>0:~~+Math.ceil((O-+(~~O>>>0))/4294967296)>>>0:0)];M[a>>2]=N[0];M[a+4>>2]=N[1];break;case \"float\":Ja[a>>2]=0;break;case \"double\":Ka[a>>3]=0;break;default:L(\"invalid type for setValue: \"+b)}}\nfunction x(a,b=\"i8\"){\"*\"===b.charAt(b.length-1)&&(b=\"i32\");switch(b){case \"i1\":return A[a>>0];case \"i8\":return A[a>>0];case \"i16\":return Ia[a>>1];case \"i32\":return M[a>>2];case \"i64\":return M[a>>2];case \"float\":return Ja[a>>2];case \"double\":return Number(Ka[a>>3]);default:L(\"invalid type for getValue: \"+b)}return null}var Ma,Na=!1;\nfunction Oa(a,b,c,d){var f={string:function(v){var B=0;if(null!==v&&void 0!==v&&0!==v){var R=(v.length<<2)+1;B=z(R);k(v,n,B,R)}return B},array:function(v){var B=z(v.length);A.set(v,B);return B}};a=e[\"_\"+a];var g=[],m=0;if(d)for(var r=0;r<d.length;r++){var u=f[c[r]];u?(0===m&&(m=na()),g[r]=u(d[r])):g[r]=d[r]}c=a.apply(null,g);return c=function(v){0!==m&&pa(m);return\"string\"===b?D(v):\"boolean\"===b?!!v:v}(c)}var Pa=0,Qa=1;\nfunction la(a){var b=Pa==Qa?z(a.length):ba(a.length);a.subarray||a.slice||(a=new Uint8Array(a));n.set(a,b);return b}var Ra=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf8\"):void 0;\nfunction Sa(a,b,c){var d=b+c;for(c=b;a[c]&&!(c>=d);)++c;if(16<c-b&&a.buffer&&Ra)return Ra.decode(a.subarray(b,c));for(d=\"\";b<c;){var f=a[b++];if(f&128){var g=a[b++]&63;if(192==(f&224))d+=String.fromCharCode((f&31)<<6|g);else{var m=a[b++]&63;f=224==(f&240)?(f&15)<<12|g<<6|m:(f&7)<<18|g<<12|m<<6|a[b++]&63;65536>f?d+=String.fromCharCode(f):(f-=65536,d+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else d+=String.fromCharCode(f)}return d}function D(a,b){return a?Sa(n,a,b):\"\"}\nfunction k(a,b,c,d){if(!(0<d))return 0;var f=c;d=c+d-1;for(var g=0;g<a.length;++g){var m=a.charCodeAt(g);if(55296<=m&&57343>=m){var r=a.charCodeAt(++g);m=65536+((m&1023)<<10)|r&1023}if(127>=m){if(c>=d)break;b[c++]=m}else{if(2047>=m){if(c+1>=d)break;b[c++]=192|m>>6}else{if(65535>=m){if(c+2>=d)break;b[c++]=224|m>>12}else{if(c+3>=d)break;b[c++]=240|m>>18;b[c++]=128|m>>12&63}b[c++]=128|m>>6&63}b[c++]=128|m&63}}b[c]=0;return c-f}\nfunction aa(a){for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);55296<=d&&57343>=d&&(d=65536+((d&1023)<<10)|a.charCodeAt(++c)&1023);127>=d?++b:b=2047>=d?b+2:65535>=d?b+3:b+4}return b}function Ta(a){var b=aa(a)+1,c=ba(b);c&&k(a,A,c,b);return c}var Ua,A,n,Ia,M,Ja,Ka;\nfunction Va(){var a=Ma.buffer;Ua=a;e.HEAP8=A=new Int8Array(a);e.HEAP16=Ia=new Int16Array(a);e.HEAP32=M=new Int32Array(a);e.HEAPU8=n=new Uint8Array(a);e.HEAPU16=new Uint16Array(a);e.HEAPU32=new Uint32Array(a);e.HEAPF32=Ja=new Float32Array(a);e.HEAPF64=Ka=new Float64Array(a)}var K,Wa=[],Xa=[],Ya=[];function Za(){var a=e.preRun.shift();Wa.unshift(a)}var $a=0,ab=null,bb=null;e.preloadedImages={};e.preloadedAudios={};\nfunction L(a){if(e.onAbort)e.onAbort(a);a=\"Aborted(\"+a+\")\";G(a);Na=!0;throw new WebAssembly.RuntimeError(a+\". Build with -s ASSERTIONS=1 for more info.\");}function cb(){return P.startsWith(\"data:application/octet-stream;base64,\")}var P;P=\"sql-wasm.wasm\";if(!cb()){var db=P;P=e.locateFile?e.locateFile(db,F):F+db}function eb(){var a=P;try{if(a==P&&Ha)return new Uint8Array(Ha);if(Ca)return Ca(a);throw\"both async and sync fetching of the wasm failed\";}catch(b){L(b)}}\nfunction fb(){if(!Ha&&(xa||ya)){if(\"function\"==typeof fetch&&!P.startsWith(\"file://\"))return fetch(P,{credentials:\"same-origin\"}).then(function(a){if(!a.ok)throw\"failed to load wasm binary file at '\"+P+\"'\";return a.arrayBuffer()}).catch(function(){return eb()});if(Ba)return new Promise(function(a,b){Ba(P,function(c){a(new Uint8Array(c))},b)})}return Promise.resolve().then(function(){return eb()})}var O,N;\nfunction gb(a){for(;0<a.length;){var b=a.shift();if(\"function\"==typeof b)b(e);else{var c=b.Ib;\"number\"==typeof c?void 0===b.eb?K.get(c)():K.get(c)(b.eb):c(void 0===b.eb?null:b.eb)}}}function hb(a,b){for(var c=0,d=a.length-1;0<=d;d--){var f=a[d];\".\"===f?a.splice(d,1):\"..\"===f?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c;c--)a.unshift(\"..\");return a}\nfunction t(a){var b=\"/\"===a.charAt(0),c=\"/\"===a.substr(-1);(a=hb(a.split(\"/\").filter(function(d){return!!d}),!b).join(\"/\"))||b||(a=\".\");a&&c&&(a+=\"/\");return(b?\"/\":\"\")+a}function ib(a){var b=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/.exec(a).slice(1);a=b[0];b=b[1];if(!a&&!b)return\".\";b&&(b=b.substr(0,b.length-1));return a+b}function jb(a){if(\"/\"===a)return\"/\";a=t(a);a=a.replace(/\\/$/,\"\");var b=a.lastIndexOf(\"/\");return-1===b?a:a.substr(b+1)}\nfunction ob(){if(\"object\"==typeof crypto&&\"function\"==typeof crypto.getRandomValues){var a=new Uint8Array(1);return function(){crypto.getRandomValues(a);return a[0]}}if(za)try{var b=require(\"crypto\");return function(){return b.randomBytes(1)[0]}}catch(c){}return function(){L(\"randomDevice\")}}\nfunction pb(){for(var a=\"\",b=!1,c=arguments.length-1;-1<=c&&!b;c--){b=0<=c?arguments[c]:\"/\";if(\"string\"!=typeof b)throw new TypeError(\"Arguments to path.resolve must be strings\");if(!b)return\"\";a=b+\"/\"+a;b=\"/\"===b.charAt(0)}a=hb(a.split(\"/\").filter(function(d){return!!d}),!b).join(\"/\");return(b?\"/\":\"\")+a||\".\"}var rb=[];function sb(a,b){rb[a]={input:[],output:[],Wa:b};tb(a,ub)}\nvar ub={open:function(a){var b=rb[a.node.rdev];if(!b)throw new Q(43);a.tty=b;a.seekable=!1},close:function(a){a.tty.Wa.flush(a.tty)},flush:function(a){a.tty.Wa.flush(a.tty)},read:function(a,b,c,d){if(!a.tty||!a.tty.Wa.sb)throw new Q(60);for(var f=0,g=0;g<d;g++){try{var m=a.tty.Wa.sb(a.tty)}catch(r){throw new Q(29);}if(void 0===m&&0===f)throw new Q(6);if(null===m||void 0===m)break;f++;b[c+g]=m}f&&(a.node.timestamp=Date.now());return f},write:function(a,b,c,d){if(!a.tty||!a.tty.Wa.ib)throw new Q(60);\ntry{for(var f=0;f<d;f++)a.tty.Wa.ib(a.tty,b[c+f])}catch(g){throw new Q(29);}d&&(a.node.timestamp=Date.now());return f}},vb={sb:function(a){if(!a.input.length){var b=null;if(za){var c=Buffer.alloc(256),d=0;try{d=fs.readSync(process.stdin.fd,c,0,256,-1)}catch(f){if(f.toString().includes(\"EOF\"))d=0;else throw f;}0<d?b=c.slice(0,d).toString(\"utf-8\"):b=null}else\"undefined\"!=typeof window&&\"function\"==typeof window.prompt?(b=window.prompt(\"Input: \"),null!==b&&(b+=\"\\n\")):\"function\"==typeof readline&&(b=\nreadline(),null!==b&&(b+=\"\\n\"));if(!b)return null;a.input=ka(b,!0)}return a.input.shift()},ib:function(a,b){null===b||10===b?(Fa(Sa(a.output,0)),a.output=[]):0!=b&&a.output.push(b)},flush:function(a){a.output&&0<a.output.length&&(Fa(Sa(a.output,0)),a.output=[])}},wb={ib:function(a,b){null===b||10===b?(G(Sa(a.output,0)),a.output=[]):0!=b&&a.output.push(b)},flush:function(a){a.output&&0<a.output.length&&(G(Sa(a.output,0)),a.output=[])}},S={Oa:null,Pa:function(){return S.createNode(null,\"/\",16895,0)},\ncreateNode:function(a,b,c,d){if(24576===(c&61440)||4096===(c&61440))throw new Q(63);S.Oa||(S.Oa={dir:{node:{Na:S.Fa.Na,Ma:S.Fa.Ma,lookup:S.Fa.lookup,Za:S.Fa.Za,rename:S.Fa.rename,unlink:S.Fa.unlink,rmdir:S.Fa.rmdir,readdir:S.Fa.readdir,symlink:S.Fa.symlink},stream:{Sa:S.Ga.Sa}},file:{node:{Na:S.Fa.Na,Ma:S.Fa.Ma},stream:{Sa:S.Ga.Sa,read:S.Ga.read,write:S.Ga.write,kb:S.Ga.kb,$a:S.Ga.$a,ab:S.Ga.ab}},link:{node:{Na:S.Fa.Na,Ma:S.Fa.Ma,readlink:S.Fa.readlink},stream:{}},ob:{node:{Na:S.Fa.Na,Ma:S.Fa.Ma},\nstream:xb}});c=yb(a,b,c,d);16384===(c.mode&61440)?(c.Fa=S.Oa.dir.node,c.Ga=S.Oa.dir.stream,c.Ha={}):32768===(c.mode&61440)?(c.Fa=S.Oa.file.node,c.Ga=S.Oa.file.stream,c.La=0,c.Ha=null):40960===(c.mode&61440)?(c.Fa=S.Oa.link.node,c.Ga=S.Oa.link.stream):8192===(c.mode&61440)&&(c.Fa=S.Oa.ob.node,c.Ga=S.Oa.ob.stream);c.timestamp=Date.now();a&&(a.Ha[b]=c,a.timestamp=c.timestamp);return c},Jb:function(a){return a.Ha?a.Ha.subarray?a.Ha.subarray(0,a.La):new Uint8Array(a.Ha):new Uint8Array(0)},pb:function(a,\nb){var c=a.Ha?a.Ha.length:0;c>=b||(b=Math.max(b,c*(1048576>c?2:1.125)>>>0),0!=c&&(b=Math.max(b,256)),c=a.Ha,a.Ha=new Uint8Array(b),0<a.La&&a.Ha.set(c.subarray(0,a.La),0))},Fb:function(a,b){if(a.La!=b)if(0==b)a.Ha=null,a.La=0;else{var c=a.Ha;a.Ha=new Uint8Array(b);c&&a.Ha.set(c.subarray(0,Math.min(b,a.La)));a.La=b}},Fa:{Na:function(a){var b={};b.dev=8192===(a.mode&61440)?a.id:1;b.ino=a.id;b.mode=a.mode;b.nlink=1;b.uid=0;b.gid=0;b.rdev=a.rdev;16384===(a.mode&61440)?b.size=4096:32768===(a.mode&61440)?\nb.size=a.La:40960===(a.mode&61440)?b.size=a.link.length:b.size=0;b.atime=new Date(a.timestamp);b.mtime=new Date(a.timestamp);b.ctime=new Date(a.timestamp);b.zb=4096;b.blocks=Math.ceil(b.size/b.zb);return b},Ma:function(a,b){void 0!==b.mode&&(a.mode=b.mode);void 0!==b.timestamp&&(a.timestamp=b.timestamp);void 0!==b.size&&S.Fb(a,b.size)},lookup:function(){throw zb[44];},Za:function(a,b,c,d){return S.createNode(a,b,c,d)},rename:function(a,b,c){if(16384===(a.mode&61440)){try{var d=Ab(b,c)}catch(g){}if(d)for(var f in d.Ha)throw new Q(55);\n}delete a.parent.Ha[a.name];a.parent.timestamp=Date.now();a.name=c;b.Ha[c]=a;b.timestamp=a.parent.timestamp;a.parent=b},unlink:function(a,b){delete a.Ha[b];a.timestamp=Date.now()},rmdir:function(a,b){var c=Ab(a,b),d;for(d in c.Ha)throw new Q(55);delete a.Ha[b];a.timestamp=Date.now()},readdir:function(a){var b=[\".\",\"..\"],c;for(c in a.Ha)a.Ha.hasOwnProperty(c)&&b.push(c);return b},symlink:function(a,b,c){a=S.createNode(a,b,41471,0);a.link=c;return a},readlink:function(a){if(40960!==(a.mode&61440))throw new Q(28);\nreturn a.link}},Ga:{read:function(a,b,c,d,f){var g=a.node.Ha;if(f>=a.node.La)return 0;a=Math.min(a.node.La-f,d);if(8<a&&g.subarray)b.set(g.subarray(f,f+a),c);else for(d=0;d<a;d++)b[c+d]=g[f+d];return a},write:function(a,b,c,d,f,g){b.buffer===A.buffer&&(g=!1);if(!d)return 0;a=a.node;a.timestamp=Date.now();if(b.subarray&&(!a.Ha||a.Ha.subarray)){if(g)return a.Ha=b.subarray(c,c+d),a.La=d;if(0===a.La&&0===f)return a.Ha=b.slice(c,c+d),a.La=d;if(f+d<=a.La)return a.Ha.set(b.subarray(c,c+d),f),d}S.pb(a,f+\nd);if(a.Ha.subarray&&b.subarray)a.Ha.set(b.subarray(c,c+d),f);else for(g=0;g<d;g++)a.Ha[f+g]=b[c+g];a.La=Math.max(a.La,f+d);return d},Sa:function(a,b,c){1===c?b+=a.position:2===c&&32768===(a.node.mode&61440)&&(b+=a.node.La);if(0>b)throw new Q(28);return b},kb:function(a,b,c){S.pb(a.node,b+c);a.node.La=Math.max(a.node.La,b+c)},$a:function(a,b,c,d,f,g){if(0!==b)throw new Q(28);if(32768!==(a.node.mode&61440))throw new Q(43);a=a.node.Ha;if(g&2||a.buffer!==Ua){if(0<d||d+c<a.length)a.subarray?a=a.subarray(d,\nd+c):a=Array.prototype.slice.call(a,d,d+c);d=!0;c=65536*Math.ceil(c/65536);(g=Bb(65536,c))?(n.fill(0,g,g+c),c=g):c=0;if(!c)throw new Q(48);A.set(a,c)}else d=!1,c=a.byteOffset;return{Eb:c,ub:d}},ab:function(a,b,c,d,f){if(32768!==(a.node.mode&61440))throw new Q(43);if(f&2)return 0;S.Ga.write(a,b,0,d,c,!1);return 0}}},Cb=null,Db={},T=[],Eb=1,U=null,Fb=!0,Q=null,zb={},V=(a,b={})=>{a=pb(\"/\",a);if(!a)return{path:\"\",node:null};b=Object.assign({qb:!0,jb:0},b);if(8<b.jb)throw new Q(32);a=hb(a.split(\"/\").filter(m=>\n!!m),!1);for(var c=Cb,d=\"/\",f=0;f<a.length;f++){var g=f===a.length-1;if(g&&b.parent)break;c=Ab(c,a[f]);d=t(d+\"/\"+a[f]);c.Ua&&(!g||g&&b.qb)&&(c=c.Ua.root);if(!g||b.Ra)for(g=0;40960===(c.mode&61440);)if(c=Gb(d),d=pb(ib(d),c),c=V(d,{jb:b.jb+1}).node,40<g++)throw new Q(32);}return{path:d,node:c}},ca=a=>{for(var b;;){if(a===a.parent)return a=a.Pa.tb,b?\"/\"!==a[a.length-1]?a+\"/\"+b:a+b:a;b=b?a.name+\"/\"+b:a.name;a=a.parent}},Hb=(a,b)=>{for(var c=0,d=0;d<b.length;d++)c=(c<<5)-c+b.charCodeAt(d)|0;return(a+c>>>\n0)%U.length},Ib=a=>{var b=Hb(a.parent.id,a.name);if(U[b]===a)U[b]=a.Va;else for(b=U[b];b;){if(b.Va===a){b.Va=a.Va;break}b=b.Va}},Ab=(a,b)=>{var c;if(c=(c=Jb(a,\"x\"))?c:a.Fa.lookup?0:2)throw new Q(c,a);for(c=U[Hb(a.id,b)];c;c=c.Va){var d=c.name;if(c.parent.id===a.id&&d===b)return c}return a.Fa.lookup(a,b)},yb=(a,b,c,d)=>{a=new Kb(a,b,c,d);b=Hb(a.parent.id,a.name);a.Va=U[b];return U[b]=a},Lb={r:0,\"r+\":2,w:577,\"w+\":578,a:1089,\"a+\":1090},Mb=a=>{var b=[\"r\",\"w\",\"rw\"][a&3];a&512&&(b+=\"w\");return b},Jb=(a,\nb)=>{if(Fb)return 0;if(!b.includes(\"r\")||a.mode&292){if(b.includes(\"w\")&&!(a.mode&146)||b.includes(\"x\")&&!(a.mode&73))return 2}else return 2;return 0},Nb=(a,b)=>{try{return Ab(a,b),20}catch(c){}return Jb(a,\"wx\")},Ob=(a,b,c)=>{try{var d=Ab(a,b)}catch(f){return f.Ja}if(a=Jb(a,\"wx\"))return a;if(c){if(16384!==(d.mode&61440))return 54;if(d===d.parent||\"/\"===ca(d))return 10}else if(16384===(d.mode&61440))return 31;return 0},Pb=(a=0,b=4096)=>{for(;a<=b;a++)if(!T[a])return a;throw new Q(33);},Rb=(a,b)=>{Qb||\n(Qb=function(){},Qb.prototype={});a=Object.assign(new Qb,a);b=Pb(b,void 0);a.fd=b;return T[b]=a},xb={open:a=>{a.Ga=Db[a.node.rdev].Ga;a.Ga.open&&a.Ga.open(a)},Sa:()=>{throw new Q(70);}},tb=(a,b)=>{Db[a]={Ga:b}},Sb=(a,b)=>{var c=\"/\"===b,d=!b;if(c&&Cb)throw new Q(10);if(!c&&!d){var f=V(b,{qb:!1});b=f.path;f=f.node;if(f.Ua)throw new Q(10);if(16384!==(f.mode&61440))throw new Q(54);}b={type:a,Kb:{},tb:b,Db:[]};a=a.Pa(b);a.Pa=b;b.root=a;c?Cb=a:f&&(f.Ua=b,f.Pa&&f.Pa.Db.push(b))},fa=(a,b,c)=>{var d=V(a,{parent:!0}).node;\na=jb(a);if(!a||\".\"===a||\"..\"===a)throw new Q(28);var f=Nb(d,a);if(f)throw new Q(f);if(!d.Fa.Za)throw new Q(63);return d.Fa.Za(d,a,b,c)},W=(a,b)=>fa(a,(void 0!==b?b:511)&1023|16384,0),Tb=(a,b,c)=>{\"undefined\"==typeof c&&(c=b,b=438);fa(a,b|8192,c)},Ub=(a,b)=>{if(!pb(a))throw new Q(44);var c=V(b,{parent:!0}).node;if(!c)throw new Q(44);b=jb(b);var d=Nb(c,b);if(d)throw new Q(d);if(!c.Fa.symlink)throw new Q(63);c.Fa.symlink(c,b,a)},Vb=a=>{var b=V(a,{parent:!0}).node;a=jb(a);var c=Ab(b,a),d=Ob(b,a,!0);if(d)throw new Q(d);\nif(!b.Fa.rmdir)throw new Q(63);if(c.Ua)throw new Q(10);b.Fa.rmdir(b,a);Ib(c)},sa=a=>{var b=V(a,{parent:!0}).node;if(!b)throw new Q(44);a=jb(a);var c=Ab(b,a),d=Ob(b,a,!1);if(d)throw new Q(d);if(!b.Fa.unlink)throw new Q(63);if(c.Ua)throw new Q(10);b.Fa.unlink(b,a);Ib(c)},Gb=a=>{a=V(a).node;if(!a)throw new Q(44);if(!a.Fa.readlink)throw new Q(28);return pb(ca(a.parent),a.Fa.readlink(a))},Wb=(a,b)=>{a=V(a,{Ra:!b}).node;if(!a)throw new Q(44);if(!a.Fa.Na)throw new Q(63);return a.Fa.Na(a)},Xb=a=>Wb(a,!0),\nha=(a,b)=>{a=\"string\"==typeof a?V(a,{Ra:!0}).node:a;if(!a.Fa.Ma)throw new Q(63);a.Fa.Ma(a,{mode:b&4095|a.mode&-4096,timestamp:Date.now()})},Yb=(a,b)=>{if(0>b)throw new Q(28);a=\"string\"==typeof a?V(a,{Ra:!0}).node:a;if(!a.Fa.Ma)throw new Q(63);if(16384===(a.mode&61440))throw new Q(31);if(32768!==(a.mode&61440))throw new Q(28);var c=Jb(a,\"w\");if(c)throw new Q(c);a.Fa.Ma(a,{size:b,timestamp:Date.now()})},w=(a,b,c,d)=>{if(\"\"===a)throw new Q(44);if(\"string\"==typeof b){var f=Lb[b];if(\"undefined\"==typeof f)throw Error(\"Unknown file open mode: \"+\nb);b=f}c=b&64?(\"undefined\"==typeof c?438:c)&4095|32768:0;if(\"object\"==typeof a)var g=a;else{a=t(a);try{g=V(a,{Ra:!(b&131072)}).node}catch(m){}}f=!1;if(b&64)if(g){if(b&128)throw new Q(20);}else g=fa(a,c,0),f=!0;if(!g)throw new Q(44);8192===(g.mode&61440)&&(b&=-513);if(b&65536&&16384!==(g.mode&61440))throw new Q(54);if(!f&&(c=g?40960===(g.mode&61440)?32:16384===(g.mode&61440)&&(\"r\"!==Mb(b)||b&512)?31:Jb(g,Mb(b)):44))throw new Q(c);b&512&&Yb(g,0);b&=-131713;d=Rb({node:g,path:ca(g),flags:b,seekable:!0,\nposition:0,Ga:g.Ga,Hb:[],error:!1},d);d.Ga.open&&d.Ga.open(d);!e.logReadFiles||b&1||(Zb||(Zb={}),a in Zb||(Zb[a]=1));return d},ja=a=>{if(null===a.fd)throw new Q(8);a.gb&&(a.gb=null);try{a.Ga.close&&a.Ga.close(a)}catch(b){throw b;}finally{T[a.fd]=null}a.fd=null},$b=(a,b,c)=>{if(null===a.fd)throw new Q(8);if(!a.seekable||!a.Ga.Sa)throw new Q(70);if(0!=c&&1!=c&&2!=c)throw new Q(28);a.position=a.Ga.Sa(a,b,c);a.Hb=[]},Bc=(a,b,c,d,f)=>{if(0>d||0>f)throw new Q(28);if(null===a.fd)throw new Q(8);if(1===(a.flags&\n2097155))throw new Q(8);if(16384===(a.node.mode&61440))throw new Q(31);if(!a.Ga.read)throw new Q(28);var g=\"undefined\"!=typeof f;if(!g)f=a.position;else if(!a.seekable)throw new Q(70);b=a.Ga.read(a,b,c,d,f);g||(a.position+=b);return b},ia=(a,b,c,d,f,g)=>{if(0>d||0>f)throw new Q(28);if(null===a.fd)throw new Q(8);if(0===(a.flags&2097155))throw new Q(8);if(16384===(a.node.mode&61440))throw new Q(31);if(!a.Ga.write)throw new Q(28);a.seekable&&a.flags&1024&&$b(a,0,2);var m=\"undefined\"!=typeof f;if(!m)f=\na.position;else if(!a.seekable)throw new Q(70);b=a.Ga.write(a,b,c,d,f,g);m||(a.position+=b);return b},ra=a=>{var b=\"binary\";if(\"utf8\"!==b&&\"binary\"!==b)throw Error('Invalid encoding type \"'+b+'\"');var c;var d=w(a,d||0);a=Wb(a).size;var f=new Uint8Array(a);Bc(d,f,0,a,0);\"utf8\"===b?c=Sa(f,0):\"binary\"===b&&(c=f);ja(d);return c},Cc=()=>{Q||(Q=function(a,b){this.node=b;this.Gb=function(c){this.Ja=c};this.Gb(a);this.message=\"FS error\"},Q.prototype=Error(),Q.prototype.constructor=Q,[44].forEach(a=>{zb[a]=\nnew Q(a);zb[a].stack=\"<generic error, no stack>\"}))},Ec,ea=(a,b)=>{var c=0;a&&(c|=365);b&&(c|=146);return c},Gc=(a,b,c)=>{a=t(\"/dev/\"+a);var d=ea(!!b,!!c);Fc||(Fc=64);var f=Fc++<<8|0;tb(f,{open:g=>{g.seekable=!1},close:()=>{c&&c.buffer&&c.buffer.length&&c(10)},read:(g,m,r,u)=>{for(var v=0,B=0;B<u;B++){try{var R=b()}catch(La){throw new Q(29);}if(void 0===R&&0===v)throw new Q(6);if(null===R||void 0===R)break;v++;m[r+B]=R}v&&(g.node.timestamp=Date.now());return v},write:(g,m,r,u)=>{for(var v=0;v<u;v++)try{c(m[r+\nv])}catch(B){throw new Q(29);}u&&(g.node.timestamp=Date.now());return v}});Tb(a,d,f)},Fc,Y={},Qb,Zb;function Hc(a,b,c){if(\"/\"===b[0])return b;if(-100===a)a=\"/\";else{a=T[a];if(!a)throw new Q(8);a=a.path}if(0==b.length){if(!c)throw new Q(44);return a}return t(a+\"/\"+b)}\nfunction Ic(a,b,c){try{var d=a(b)}catch(f){if(f&&f.node&&t(b)!==t(ca(f.node)))return-54;throw f;}M[c>>2]=d.dev;M[c+4>>2]=0;M[c+8>>2]=d.ino;M[c+12>>2]=d.mode;M[c+16>>2]=d.nlink;M[c+20>>2]=d.uid;M[c+24>>2]=d.gid;M[c+28>>2]=d.rdev;M[c+32>>2]=0;N=[d.size>>>0,(O=d.size,1<=+Math.abs(O)?0<O?(Math.min(+Math.floor(O/4294967296),4294967295)|0)>>>0:~~+Math.ceil((O-+(~~O>>>0))/4294967296)>>>0:0)];M[c+40>>2]=N[0];M[c+44>>2]=N[1];M[c+48>>2]=4096;M[c+52>>2]=d.blocks;M[c+56>>2]=d.atime.getTime()/1E3|0;M[c+60>>2]=\n0;M[c+64>>2]=d.mtime.getTime()/1E3|0;M[c+68>>2]=0;M[c+72>>2]=d.ctime.getTime()/1E3|0;M[c+76>>2]=0;N=[d.ino>>>0,(O=d.ino,1<=+Math.abs(O)?0<O?(Math.min(+Math.floor(O/4294967296),4294967295)|0)>>>0:~~+Math.ceil((O-+(~~O>>>0))/4294967296)>>>0:0)];M[c+80>>2]=N[0];M[c+84>>2]=N[1];return 0}var Jc=void 0;function Kc(){Jc+=4;return M[Jc-4>>2]}function Z(a){a=T[a];if(!a)throw new Q(8);return a}\nfunction Lc(a,b,c){function d(u){return(u=u.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?u[1]:\"GMT\"}var f=(new Date).getFullYear(),g=new Date(f,0,1),m=new Date(f,6,1);f=g.getTimezoneOffset();var r=m.getTimezoneOffset();M[a>>2]=60*Math.max(f,r);M[b>>2]=Number(f!=r);a=d(g);b=d(m);a=Ta(a);b=Ta(b);r<f?(M[c>>2]=a,M[c+4>>2]=b):(M[c>>2]=b,M[c+4>>2]=a)}function Mc(a,b,c){Mc.Ab||(Mc.Ab=!0,Lc(a,b,c))}var Nc;Nc=za?()=>{var a=process.hrtime();return 1E3*a[0]+a[1]/1E6}:()=>performance.now();var Oc={};\nfunction Pc(){if(!Qc){var a={USER:\"web_user\",LOGNAME:\"web_user\",PATH:\"/\",PWD:\"/\",HOME:\"/home/web_user\",LANG:(\"object\"==typeof navigator&&navigator.languages&&navigator.languages[0]||\"C\").replace(\"-\",\"_\")+\".UTF-8\",_:wa||\"./this.program\"},b;for(b in Oc)void 0===Oc[b]?delete a[b]:a[b]=Oc[b];var c=[];for(b in a)c.push(b+\"=\"+a[b]);Qc=c}return Qc}var Qc;function Kb(a,b,c,d){a||(a=this);this.parent=a;this.Pa=a.Pa;this.Ua=null;this.id=Eb++;this.name=b;this.mode=c;this.Fa={};this.Ga={};this.rdev=d}\nObject.defineProperties(Kb.prototype,{read:{get:function(){return 365===(this.mode&365)},set:function(a){a?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(this.mode&146)},set:function(a){a?this.mode|=146:this.mode&=-147}}});Cc();U=Array(4096);Sb(S,\"/\");W(\"/tmp\");W(\"/home\");W(\"/home/web_user\");\n(()=>{W(\"/dev\");tb(259,{read:()=>0,write:(b,c,d,f)=>f});Tb(\"/dev/null\",259);sb(1280,vb);sb(1536,wb);Tb(\"/dev/tty\",1280);Tb(\"/dev/tty1\",1536);var a=ob();Gc(\"random\",a);Gc(\"urandom\",a);W(\"/dev/shm\");W(\"/dev/shm/tmp\")})();(()=>{W(\"/proc\");var a=W(\"/proc/self\");W(\"/proc/self/fd\");Sb({Pa:()=>{var b=yb(a,\"fd\",16895,73);b.Fa={lookup:(c,d)=>{var f=T[+d];if(!f)throw new Q(8);c={parent:null,Pa:{tb:\"fake\"},Fa:{readlink:()=>f.path}};return c.parent=c}};return b}},\"/proc/self/fd\")})();\nfunction ka(a,b){var c=Array(aa(a)+1);a=k(a,c,0,c.length);b&&(c.length=a);return c}\nvar Sc={a:function(a,b,c,d){L(\"Assertion failed: \"+D(a)+\", at: \"+[b?D(b):\"unknown filename\",c,d?D(d):\"unknown function\"])},h:function(a,b){try{return a=D(a),ha(a,b),0}catch(c){if(\"undefined\"==typeof Y||!(c instanceof Q))throw c;return-c.Ja}},H:function(a,b,c){try{b=D(b);b=Hc(a,b);if(c&-8)var d=-28;else{var f=V(b,{Ra:!0}).node;f?(a=\"\",c&4&&(a+=\"r\"),c&2&&(a+=\"w\"),c&1&&(a+=\"x\"),d=a&&Jb(f,a)?-2:0):d=-44}return d}catch(g){if(\"undefined\"==typeof Y||!(g instanceof Q))throw g;return-g.Ja}},i:function(a,b){try{var c=\nT[a];if(!c)throw new Q(8);ha(c.node,b);return 0}catch(d){if(\"undefined\"==typeof Y||!(d instanceof Q))throw d;return-d.Ja}},g:function(a){try{var b=T[a];if(!b)throw new Q(8);var c=b.node;var d=\"string\"==typeof c?V(c,{Ra:!0}).node:c;if(!d.Fa.Ma)throw new Q(63);d.Fa.Ma(d,{timestamp:Date.now()});return 0}catch(f){if(\"undefined\"==typeof Y||!(f instanceof Q))throw f;return-f.Ja}},b:function(a,b,c){Jc=c;try{var d=Z(a);switch(b){case 0:var f=Kc();return 0>f?-28:w(d.path,d.flags,0,f).fd;case 1:case 2:return 0;\ncase 3:return d.flags;case 4:return f=Kc(),d.flags|=f,0;case 5:return f=Kc(),Ia[f+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return M[Rc()>>2]=28,-1;default:return-28}}catch(g){if(\"undefined\"==typeof Y||!(g instanceof Q))throw g;return-g.Ja}},G:function(a,b){try{var c=Z(a);return Ic(Wb,c.path,b)}catch(d){if(\"undefined\"==typeof Y||!(d instanceof Q))throw d;return-d.Ja}},B:function(a,b){try{var c=T[a];if(!c)throw new Q(8);if(0===(c.flags&2097155))throw new Q(28);Yb(c.node,b);return 0}catch(d){if(\"undefined\"==\ntypeof Y||!(d instanceof Q))throw d;return-d.Ja}},A:function(a,b){try{if(0===b)return-28;if(b<aa(\"/\")+1)return-68;k(\"/\",n,a,b);return a}catch(c){if(\"undefined\"==typeof Y||!(c instanceof Q))throw c;return-c.Ja}},E:function(a,b){try{return a=D(a),Ic(Xb,a,b)}catch(c){if(\"undefined\"==typeof Y||!(c instanceof Q))throw c;return-c.Ja}},x:function(a,b){try{return a=D(a),a=t(a),\"/\"===a[a.length-1]&&(a=a.substr(0,a.length-1)),W(a,b),0}catch(c){if(\"undefined\"==typeof Y||!(c instanceof Q))throw c;return-c.Ja}},\nD:function(a,b,c,d){try{b=D(b);var f=d&256;b=Hc(a,b,d&4096);return Ic(f?Xb:Wb,b,c)}catch(g){if(\"undefined\"==typeof Y||!(g instanceof Q))throw g;return-g.Ja}},u:function(a,b,c,d){Jc=d;try{b=D(b);b=Hc(a,b);var f=d?Kc():0;return w(b,c,f).fd}catch(g){if(\"undefined\"==typeof Y||!(g instanceof Q))throw g;return-g.Ja}},s:function(a,b,c,d){try{b=D(b);b=Hc(a,b);if(0>=d)var f=-28;else{var g=Gb(b),m=Math.min(d,aa(g)),r=A[c+m];k(g,n,c,d+1);A[c+m]=r;f=m}return f}catch(u){if(\"undefined\"==typeof Y||!(u instanceof\nQ))throw u;return-u.Ja}},r:function(a){try{return a=D(a),Vb(a),0}catch(b){if(\"undefined\"==typeof Y||!(b instanceof Q))throw b;return-b.Ja}},F:function(a,b){try{return a=D(a),Ic(Wb,a,b)}catch(c){if(\"undefined\"==typeof Y||!(c instanceof Q))throw c;return-c.Ja}},o:function(a,b,c){try{return b=D(b),b=Hc(a,b),0===c?sa(b):512===c?Vb(b):L(\"Invalid flags passed to unlinkat\"),0}catch(d){if(\"undefined\"==typeof Y||!(d instanceof Q))throw d;return-d.Ja}},m:function(a,b,c){try{b=D(b);b=Hc(a,b,!0);if(c){var d=\nM[c>>2],f=M[c+4>>2];g=1E3*d+f/1E6;c+=8;d=M[c>>2];f=M[c+4>>2];m=1E3*d+f/1E6}else var g=Date.now(),m=g;a=g;var r=V(b,{Ra:!0}).node;r.Fa.Ma(r,{timestamp:Math.max(a,m)});return 0}catch(u){if(\"undefined\"==typeof Y||!(u instanceof Q))throw u;return-u.Ja}},e:function(){return Date.now()},j:function(a,b){a=new Date(1E3*M[a>>2]);M[b>>2]=a.getSeconds();M[b+4>>2]=a.getMinutes();M[b+8>>2]=a.getHours();M[b+12>>2]=a.getDate();M[b+16>>2]=a.getMonth();M[b+20>>2]=a.getFullYear()-1900;M[b+24>>2]=a.getDay();var c=new Date(a.getFullYear(),\n0,1);M[b+28>>2]=(a.getTime()-c.getTime())/864E5|0;M[b+36>>2]=-(60*a.getTimezoneOffset());var d=(new Date(a.getFullYear(),6,1)).getTimezoneOffset();c=c.getTimezoneOffset();M[b+32>>2]=(d!=c&&a.getTimezoneOffset()==Math.min(c,d))|0},v:function(a,b,c,d,f,g,m){try{var r=T[f];if(!r)return-8;if(0!==(c&2)&&0===(d&2)&&2!==(r.flags&2097155))throw new Q(2);if(1===(r.flags&2097155))throw new Q(2);if(!r.Ga.$a)throw new Q(43);var u=r.Ga.$a(r,a,b,g,c,d);var v=u.Eb;M[m>>2]=u.ub;return v}catch(B){if(\"undefined\"==\ntypeof Y||!(B instanceof Q))throw B;return-B.Ja}},w:function(a,b,c,d,f,g){try{var m=T[f];if(m&&c&2){var r=n.slice(a,a+b);m&&m.Ga.ab&&m.Ga.ab(m,r,g,b,d)}}catch(u){if(\"undefined\"==typeof Y||!(u instanceof Q))throw u;return-u.Ja}},n:Mc,p:function(){return 2147483648},d:Nc,c:function(a){var b=n.length;a>>>=0;if(2147483648<a)return!1;for(var c=1;4>=c;c*=2){var d=b*(1+.2/c);d=Math.min(d,a+100663296);var f=Math;d=Math.max(a,d);f=f.min.call(f,2147483648,d+(65536-d%65536)%65536);a:{try{Ma.grow(f-Ua.byteLength+\n65535>>>16);Va();var g=1;break a}catch(m){}g=void 0}if(g)return!0}return!1},y:function(a,b){var c=0;Pc().forEach(function(d,f){var g=b+c;f=M[a+4*f>>2]=g;for(g=0;g<d.length;++g)A[f++>>0]=d.charCodeAt(g);A[f>>0]=0;c+=d.length+1});return 0},z:function(a,b){var c=Pc();M[a>>2]=c.length;var d=0;c.forEach(function(f){d+=f.length+1});M[b>>2]=d;return 0},f:function(a){try{var b=Z(a);ja(b);return 0}catch(c){if(\"undefined\"==typeof Y||!(c instanceof Q))throw c;return c.Ja}},l:function(a,b){try{var c=Z(a);A[b>>\n0]=c.tty?2:16384===(c.mode&61440)?3:40960===(c.mode&61440)?7:4;return 0}catch(d){if(\"undefined\"==typeof Y||!(d instanceof Q))throw d;return d.Ja}},t:function(a,b,c,d){try{a:{for(var f=Z(a),g=a=0;g<c;g++){var m=M[b+(8*g+4)>>2],r=Bc(f,A,M[b+8*g>>2],m,void 0);if(0>r){var u=-1;break a}a+=r;if(r<m)break}u=a}M[d>>2]=u;return 0}catch(v){if(\"undefined\"==typeof Y||!(v instanceof Q))throw v;return v.Ja}},k:function(a,b,c,d,f){try{var g=Z(a);a=4294967296*c+(b>>>0);if(-9007199254740992>=a||9007199254740992<=\na)return-61;$b(g,a,d);N=[g.position>>>0,(O=g.position,1<=+Math.abs(O)?0<O?(Math.min(+Math.floor(O/4294967296),4294967295)|0)>>>0:~~+Math.ceil((O-+(~~O>>>0))/4294967296)>>>0:0)];M[f>>2]=N[0];M[f+4>>2]=N[1];g.gb&&0===a&&0===d&&(g.gb=null);return 0}catch(m){if(\"undefined\"==typeof Y||!(m instanceof Q))throw m;return m.Ja}},C:function(a){try{var b=Z(a);return b.Ga&&b.Ga.fsync?-b.Ga.fsync(b):0}catch(c){if(\"undefined\"==typeof Y||!(c instanceof Q))throw c;return c.Ja}},q:function(a,b,c,d){try{a:{for(var f=\nZ(a),g=a=0;g<c;g++){var m=ia(f,A,M[b+8*g>>2],M[b+(8*g+4)>>2],void 0);if(0>m){var r=-1;break a}a+=m}r=a}M[d>>2]=r;return 0}catch(u){if(\"undefined\"==typeof Y||!(u instanceof Q))throw u;return u.Ja}}};\n(function(){function a(f){e.asm=f.exports;Ma=e.asm.I;Va();K=e.asm.za;Xa.unshift(e.asm.J);$a--;e.monitorRunDependencies&&e.monitorRunDependencies($a);0==$a&&(null!==ab&&(clearInterval(ab),ab=null),bb&&(f=bb,bb=null,f()))}function b(f){a(f.instance)}function c(f){return fb().then(function(g){return WebAssembly.instantiate(g,d)}).then(function(g){return g}).then(f,function(g){G(\"failed to asynchronously prepare wasm: \"+g);L(g)})}var d={a:Sc};$a++;e.monitorRunDependencies&&e.monitorRunDependencies($a);\nif(e.instantiateWasm)try{return e.instantiateWasm(d,a)}catch(f){return G(\"Module.instantiateWasm callback failed with error: \"+f),!1}(function(){return Ha||\"function\"!=typeof WebAssembly.instantiateStreaming||cb()||P.startsWith(\"file://\")||\"function\"!=typeof fetch?c(b):fetch(P,{credentials:\"same-origin\"}).then(function(f){return WebAssembly.instantiateStreaming(f,d).then(b,function(g){G(\"wasm streaming compile failed: \"+g);G(\"falling back to ArrayBuffer instantiation\");return c(b)})})})();return{}})();\ne.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.J).apply(null,arguments)};e._sqlite3_free=function(){return(e._sqlite3_free=e.asm.K).apply(null,arguments)};e._sqlite3_value_double=function(){return(e._sqlite3_value_double=e.asm.L).apply(null,arguments)};e._sqlite3_value_text=function(){return(e._sqlite3_value_text=e.asm.M).apply(null,arguments)};var Rc=e.___errno_location=function(){return(Rc=e.___errno_location=e.asm.N).apply(null,arguments)};\ne._sqlite3_prepare_v2=function(){return(e._sqlite3_prepare_v2=e.asm.O).apply(null,arguments)};e._sqlite3_step=function(){return(e._sqlite3_step=e.asm.P).apply(null,arguments)};e._sqlite3_finalize=function(){return(e._sqlite3_finalize=e.asm.Q).apply(null,arguments)};e._sqlite3_reset=function(){return(e._sqlite3_reset=e.asm.R).apply(null,arguments)};e._sqlite3_value_int=function(){return(e._sqlite3_value_int=e.asm.S).apply(null,arguments)};\ne._sqlite3_clear_bindings=function(){return(e._sqlite3_clear_bindings=e.asm.T).apply(null,arguments)};e._sqlite3_value_blob=function(){return(e._sqlite3_value_blob=e.asm.U).apply(null,arguments)};e._sqlite3_value_bytes=function(){return(e._sqlite3_value_bytes=e.asm.V).apply(null,arguments)};e._sqlite3_value_type=function(){return(e._sqlite3_value_type=e.asm.W).apply(null,arguments)};e._sqlite3_result_blob=function(){return(e._sqlite3_result_blob=e.asm.X).apply(null,arguments)};\ne._sqlite3_result_double=function(){return(e._sqlite3_result_double=e.asm.Y).apply(null,arguments)};e._sqlite3_result_error=function(){return(e._sqlite3_result_error=e.asm.Z).apply(null,arguments)};e._sqlite3_result_int=function(){return(e._sqlite3_result_int=e.asm._).apply(null,arguments)};e._sqlite3_result_int64=function(){return(e._sqlite3_result_int64=e.asm.$).apply(null,arguments)};e._sqlite3_result_null=function(){return(e._sqlite3_result_null=e.asm.aa).apply(null,arguments)};\ne._sqlite3_result_text=function(){return(e._sqlite3_result_text=e.asm.ba).apply(null,arguments)};e._sqlite3_sql=function(){return(e._sqlite3_sql=e.asm.ca).apply(null,arguments)};e._sqlite3_column_count=function(){return(e._sqlite3_column_count=e.asm.da).apply(null,arguments)};e._sqlite3_data_count=function(){return(e._sqlite3_data_count=e.asm.ea).apply(null,arguments)};e._sqlite3_column_blob=function(){return(e._sqlite3_column_blob=e.asm.fa).apply(null,arguments)};\ne._sqlite3_column_bytes=function(){return(e._sqlite3_column_bytes=e.asm.ga).apply(null,arguments)};e._sqlite3_column_double=function(){return(e._sqlite3_column_double=e.asm.ha).apply(null,arguments)};e._sqlite3_column_text=function(){return(e._sqlite3_column_text=e.asm.ia).apply(null,arguments)};e._sqlite3_column_type=function(){return(e._sqlite3_column_type=e.asm.ja).apply(null,arguments)};e._sqlite3_column_name=function(){return(e._sqlite3_column_name=e.asm.ka).apply(null,arguments)};\ne._sqlite3_bind_blob=function(){return(e._sqlite3_bind_blob=e.asm.la).apply(null,arguments)};e._sqlite3_bind_double=function(){return(e._sqlite3_bind_double=e.asm.ma).apply(null,arguments)};e._sqlite3_bind_int=function(){return(e._sqlite3_bind_int=e.asm.na).apply(null,arguments)};e._sqlite3_bind_text=function(){return(e._sqlite3_bind_text=e.asm.oa).apply(null,arguments)};e._sqlite3_bind_parameter_index=function(){return(e._sqlite3_bind_parameter_index=e.asm.pa).apply(null,arguments)};\ne._sqlite3_normalized_sql=function(){return(e._sqlite3_normalized_sql=e.asm.qa).apply(null,arguments)};e._sqlite3_errmsg=function(){return(e._sqlite3_errmsg=e.asm.ra).apply(null,arguments)};e._sqlite3_exec=function(){return(e._sqlite3_exec=e.asm.sa).apply(null,arguments)};e._sqlite3_changes=function(){return(e._sqlite3_changes=e.asm.ta).apply(null,arguments)};e._sqlite3_close_v2=function(){return(e._sqlite3_close_v2=e.asm.ua).apply(null,arguments)};\ne._sqlite3_create_function_v2=function(){return(e._sqlite3_create_function_v2=e.asm.va).apply(null,arguments)};e._sqlite3_open=function(){return(e._sqlite3_open=e.asm.wa).apply(null,arguments)};var ba=e._malloc=function(){return(ba=e._malloc=e.asm.xa).apply(null,arguments)},ma=e._free=function(){return(ma=e._free=e.asm.ya).apply(null,arguments)};e._RegisterExtensionFunctions=function(){return(e._RegisterExtensionFunctions=e.asm.Aa).apply(null,arguments)};\nvar Bb=e._emscripten_builtin_memalign=function(){return(Bb=e._emscripten_builtin_memalign=e.asm.Ba).apply(null,arguments)},na=e.stackSave=function(){return(na=e.stackSave=e.asm.Ca).apply(null,arguments)},pa=e.stackRestore=function(){return(pa=e.stackRestore=e.asm.Da).apply(null,arguments)},z=e.stackAlloc=function(){return(z=e.stackAlloc=e.asm.Ea).apply(null,arguments)};\ne.cwrap=function(a,b,c,d){c=c||[];var f=c.every(function(g){return\"number\"===g});return\"string\"!==b&&f&&!d?e[\"_\"+a]:function(){return Oa(a,b,c,arguments)}};e.UTF8ToString=D;e.stackSave=na;e.stackRestore=pa;e.stackAlloc=z;var Tc;bb=function Uc(){Tc||Vc();Tc||(bb=Uc)};\nfunction Vc(){function a(){if(!Tc&&(Tc=!0,e.calledRun=!0,!Na)){e.noFSInit||Ec||(Ec=!0,Cc(),e.stdin=e.stdin,e.stdout=e.stdout,e.stderr=e.stderr,e.stdin?Gc(\"stdin\",e.stdin):Ub(\"/dev/tty\",\"/dev/stdin\"),e.stdout?Gc(\"stdout\",null,e.stdout):Ub(\"/dev/tty\",\"/dev/stdout\"),e.stderr?Gc(\"stderr\",null,e.stderr):Ub(\"/dev/tty1\",\"/dev/stderr\"),w(\"/dev/stdin\",0),w(\"/dev/stdout\",1),w(\"/dev/stderr\",1));Fb=!1;gb(Xa);if(e.onRuntimeInitialized)e.onRuntimeInitialized();if(e.postRun)for(\"function\"==typeof e.postRun&&(e.postRun=\n[e.postRun]);e.postRun.length;){var b=e.postRun.shift();Ya.unshift(b)}gb(Ya)}}if(!(0<$a)){if(e.preRun)for(\"function\"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)Za();gb(Wa);0<$a||(e.setStatus?(e.setStatus(\"Running...\"),setTimeout(function(){setTimeout(function(){e.setStatus(\"\")},1);a()},1)):a())}}e.run=Vc;if(e.preInit)for(\"function\"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();Vc();\n\n\n        // The shell-pre.js and emcc-generated code goes above\n        return Module;\n    }); // The end of the promise being returned\n\n  return initSqlJsPromise;\n} // The end of our initSqlJs function\n\n// This bit below is copied almost exactly from what you get when you use the MODULARIZE=1 flag with emcc\n// However, we don't want to use the emcc modularization. See shell-pre.js\nif (typeof exports === 'object' && typeof module === 'object'){\n    module.exports = initSqlJs;\n    // This will allow the module to be used in ES6 or CommonJS\n    module.exports.default = initSqlJs;\n}\nelse if (typeof define === 'function' && define['amd']) {\n    define([], function() { return initSqlJs; });\n}\nelse if (typeof exports === 'object'){\n    exports[\"Module\"] = initSqlJs;\n}\n","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","/*\n (c) 2017, Vladimir Agafonkin\n Simplify.js, a high-performance JS polyline simplification library\n mourner.github.io/simplify-js\n*/\n\n(function () { 'use strict';\n\n// to suit your point format, run search/replace for '.x' and '.y';\n// for 3D version, see 3d branch (configurability would draw significant performance overhead)\n\n// square distance between 2 points\nfunction getSqDist(p1, p2) {\n\n    var dx = p1.x - p2.x,\n        dy = p1.y - p2.y;\n\n    return dx * dx + dy * dy;\n}\n\n// square distance from a point to a segment\nfunction getSqSegDist(p, p1, p2) {\n\n    var x = p1.x,\n        y = p1.y,\n        dx = p2.x - x,\n        dy = p2.y - y;\n\n    if (dx !== 0 || dy !== 0) {\n\n        var t = ((p.x - x) * dx + (p.y - y) * dy) / (dx * dx + dy * dy);\n\n        if (t > 1) {\n            x = p2.x;\n            y = p2.y;\n\n        } else if (t > 0) {\n            x += dx * t;\n            y += dy * t;\n        }\n    }\n\n    dx = p.x - x;\n    dy = p.y - y;\n\n    return dx * dx + dy * dy;\n}\n// rest of the code doesn't care about point format\n\n// basic distance-based simplification\nfunction simplifyRadialDist(points, sqTolerance) {\n\n    var prevPoint = points[0],\n        newPoints = [prevPoint],\n        point;\n\n    for (var i = 1, len = points.length; i < len; i++) {\n        point = points[i];\n\n        if (getSqDist(point, prevPoint) > sqTolerance) {\n            newPoints.push(point);\n            prevPoint = point;\n        }\n    }\n\n    if (prevPoint !== point) newPoints.push(point);\n\n    return newPoints;\n}\n\nfunction simplifyDPStep(points, first, last, sqTolerance, simplified) {\n    var maxSqDist = sqTolerance,\n        index;\n\n    for (var i = first + 1; i < last; i++) {\n        var sqDist = getSqSegDist(points[i], points[first], points[last]);\n\n        if (sqDist > maxSqDist) {\n            index = i;\n            maxSqDist = sqDist;\n        }\n    }\n\n    if (maxSqDist > sqTolerance) {\n        if (index - first > 1) simplifyDPStep(points, first, index, sqTolerance, simplified);\n        simplified.push(points[index]);\n        if (last - index > 1) simplifyDPStep(points, index, last, sqTolerance, simplified);\n    }\n}\n\n// simplification using Ramer-Douglas-Peucker algorithm\nfunction simplifyDouglasPeucker(points, sqTolerance) {\n    var last = points.length - 1;\n\n    var simplified = [points[0]];\n    simplifyDPStep(points, 0, last, sqTolerance, simplified);\n    simplified.push(points[last]);\n\n    return simplified;\n}\n\n// both algorithms combined for awesome performance\nfunction simplify(points, tolerance, highestQuality) {\n\n    if (points.length <= 2) return points;\n\n    var sqTolerance = tolerance !== undefined ? tolerance * tolerance : 1;\n\n    points = highestQuality ? points : simplifyRadialDist(points, sqTolerance);\n    points = simplifyDouglasPeucker(points, sqTolerance);\n\n    return points;\n}\n\n// export as AMD module / Node module / browser or worker variable\nif (typeof define === 'function' && define.amd) define(function() { return simplify; });\nelse if (typeof module !== 'undefined') {\n    module.exports = simplify;\n    module.exports.default = simplify;\n} else if (typeof self !== 'undefined') self.simplify = simplify;\nelse window.simplify = simplify;\n\n})();\n","var ClientRequest = require('./lib/request')\nvar response = require('./lib/response')\nvar extend = require('xtend')\nvar statusCodes = require('builtin-status-codes')\nvar url = require('url')\n\nvar http = exports\n\nhttp.request = function (opts, cb) {\n\tif (typeof opts === 'string')\n\t\topts = url.parse(opts)\n\telse\n\t\topts = extend(opts)\n\n\t// Normally, the page is loaded from http or https, so not specifying a protocol\n\t// will result in a (valid) protocol-relative url. However, this won't work if\n\t// the protocol is something else, like 'file:'\n\tvar defaultProtocol = global.location.protocol.search(/^https?:$/) === -1 ? 'http:' : ''\n\n\tvar protocol = opts.protocol || defaultProtocol\n\tvar host = opts.hostname || opts.host\n\tvar port = opts.port\n\tvar path = opts.path || '/'\n\n\t// Necessary for IPv6 addresses\n\tif (host && host.indexOf(':') !== -1)\n\t\thost = '[' + host + ']'\n\n\t// This may be a relative url. The browser should always be able to interpret it correctly.\n\topts.url = (host ? (protocol + '//' + host) : '') + (port ? ':' + port : '') + path\n\topts.method = (opts.method || 'GET').toUpperCase()\n\topts.headers = opts.headers || {}\n\n\t// Also valid opts.auth, opts.mode\n\n\tvar req = new ClientRequest(opts)\n\tif (cb)\n\t\treq.on('response', cb)\n\treturn req\n}\n\nhttp.get = function get (opts, cb) {\n\tvar req = http.request(opts, cb)\n\treq.end()\n\treturn req\n}\n\nhttp.ClientRequest = ClientRequest\nhttp.IncomingMessage = response.IncomingMessage\n\nhttp.Agent = function () {}\nhttp.Agent.defaultMaxSockets = 4\n\nhttp.globalAgent = new http.Agent()\n\nhttp.STATUS_CODES = statusCodes\n\nhttp.METHODS = [\n\t'CHECKOUT',\n\t'CONNECT',\n\t'COPY',\n\t'DELETE',\n\t'GET',\n\t'HEAD',\n\t'LOCK',\n\t'M-SEARCH',\n\t'MERGE',\n\t'MKACTIVITY',\n\t'MKCOL',\n\t'MOVE',\n\t'NOTIFY',\n\t'OPTIONS',\n\t'PATCH',\n\t'POST',\n\t'PROPFIND',\n\t'PROPPATCH',\n\t'PURGE',\n\t'PUT',\n\t'REPORT',\n\t'SEARCH',\n\t'SUBSCRIBE',\n\t'TRACE',\n\t'UNLOCK',\n\t'UNSUBSCRIBE'\n]","exports.fetch = isFunction(global.fetch) && isFunction(global.ReadableStream)\n\nexports.writableStream = isFunction(global.WritableStream)\n\nexports.abortController = isFunction(global.AbortController)\n\n// The xhr request to example.com may violate some restrictive CSP configurations,\n// so if we're running in a browser that supports `fetch`, avoid calling getXHR()\n// and assume support for certain features below.\nvar xhr\nfunction getXHR () {\n\t// Cache the xhr value\n\tif (xhr !== undefined) return xhr\n\n\tif (global.XMLHttpRequest) {\n\t\txhr = new global.XMLHttpRequest()\n\t\t// If XDomainRequest is available (ie only, where xhr might not work\n\t\t// cross domain), use the page location. Otherwise use example.com\n\t\t// Note: this doesn't actually make an http request.\n\t\ttry {\n\t\t\txhr.open('GET', global.XDomainRequest ? '/' : 'https://example.com')\n\t\t} catch(e) {\n\t\t\txhr = null\n\t\t}\n\t} else {\n\t\t// Service workers don't have XHR\n\t\txhr = null\n\t}\n\treturn xhr\n}\n\nfunction checkTypeSupport (type) {\n\tvar xhr = getXHR()\n\tif (!xhr) return false\n\ttry {\n\t\txhr.responseType = type\n\t\treturn xhr.responseType === type\n\t} catch (e) {}\n\treturn false\n}\n\n// If fetch is supported, then arraybuffer will be supported too. Skip calling\n// checkTypeSupport(), since that calls getXHR().\nexports.arraybuffer = exports.fetch || checkTypeSupport('arraybuffer')\n\n// These next two tests unavoidably show warnings in Chrome. Since fetch will always\n// be used if it's available, just return false for these to avoid the warnings.\nexports.msstream = !exports.fetch && checkTypeSupport('ms-stream')\nexports.mozchunkedarraybuffer = !exports.fetch && checkTypeSupport('moz-chunked-arraybuffer')\n\n// If fetch is supported, then overrideMimeType will be supported too. Skip calling\n// getXHR().\nexports.overrideMimeType = exports.fetch || (getXHR() ? isFunction(getXHR().overrideMimeType) : false)\n\nfunction isFunction (value) {\n\treturn typeof value === 'function'\n}\n\nxhr = null // Help gc\n","var capability = require('./capability')\nvar inherits = require('inherits')\nvar response = require('./response')\nvar stream = require('readable-stream')\n\nvar IncomingMessage = response.IncomingMessage\nvar rStates = response.readyStates\n\nfunction decideMode (preferBinary, useFetch) {\n\tif (capability.fetch && useFetch) {\n\t\treturn 'fetch'\n\t} else if (capability.mozchunkedarraybuffer) {\n\t\treturn 'moz-chunked-arraybuffer'\n\t} else if (capability.msstream) {\n\t\treturn 'ms-stream'\n\t} else if (capability.arraybuffer && preferBinary) {\n\t\treturn 'arraybuffer'\n\t} else {\n\t\treturn 'text'\n\t}\n}\n\nvar ClientRequest = module.exports = function (opts) {\n\tvar self = this\n\tstream.Writable.call(self)\n\n\tself._opts = opts\n\tself._body = []\n\tself._headers = {}\n\tif (opts.auth)\n\t\tself.setHeader('Authorization', 'Basic ' + Buffer.from(opts.auth).toString('base64'))\n\tObject.keys(opts.headers).forEach(function (name) {\n\t\tself.setHeader(name, opts.headers[name])\n\t})\n\n\tvar preferBinary\n\tvar useFetch = true\n\tif (opts.mode === 'disable-fetch' || ('requestTimeout' in opts && !capability.abortController)) {\n\t\t// If the use of XHR should be preferred. Not typically needed.\n\t\tuseFetch = false\n\t\tpreferBinary = true\n\t} else if (opts.mode === 'prefer-streaming') {\n\t\t// If streaming is a high priority but binary compatibility and\n\t\t// the accuracy of the 'content-type' header aren't\n\t\tpreferBinary = false\n\t} else if (opts.mode === 'allow-wrong-content-type') {\n\t\t// If streaming is more important than preserving the 'content-type' header\n\t\tpreferBinary = !capability.overrideMimeType\n\t} else if (!opts.mode || opts.mode === 'default' || opts.mode === 'prefer-fast') {\n\t\t// Use binary if text streaming may corrupt data or the content-type header, or for speed\n\t\tpreferBinary = true\n\t} else {\n\t\tthrow new Error('Invalid value for opts.mode')\n\t}\n\tself._mode = decideMode(preferBinary, useFetch)\n\tself._fetchTimer = null\n\tself._socketTimeout = null\n\tself._socketTimer = null\n\n\tself.on('finish', function () {\n\t\tself._onFinish()\n\t})\n}\n\ninherits(ClientRequest, stream.Writable)\n\nClientRequest.prototype.setHeader = function (name, value) {\n\tvar self = this\n\tvar lowerName = name.toLowerCase()\n\t// This check is not necessary, but it prevents warnings from browsers about setting unsafe\n\t// headers. To be honest I'm not entirely sure hiding these warnings is a good thing, but\n\t// http-browserify did it, so I will too.\n\tif (unsafeHeaders.indexOf(lowerName) !== -1)\n\t\treturn\n\n\tself._headers[lowerName] = {\n\t\tname: name,\n\t\tvalue: value\n\t}\n}\n\nClientRequest.prototype.getHeader = function (name) {\n\tvar header = this._headers[name.toLowerCase()]\n\tif (header)\n\t\treturn header.value\n\treturn null\n}\n\nClientRequest.prototype.removeHeader = function (name) {\n\tvar self = this\n\tdelete self._headers[name.toLowerCase()]\n}\n\nClientRequest.prototype._onFinish = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\tvar opts = self._opts\n\n\tif ('timeout' in opts && opts.timeout !== 0) {\n\t\tself.setTimeout(opts.timeout)\n\t}\n\n\tvar headersObj = self._headers\n\tvar body = null\n\tif (opts.method !== 'GET' && opts.method !== 'HEAD') {\n        body = new Blob(self._body, {\n            type: (headersObj['content-type'] || {}).value || ''\n        });\n    }\n\n\t// create flattened list of headers\n\tvar headersList = []\n\tObject.keys(headersObj).forEach(function (keyName) {\n\t\tvar name = headersObj[keyName].name\n\t\tvar value = headersObj[keyName].value\n\t\tif (Array.isArray(value)) {\n\t\t\tvalue.forEach(function (v) {\n\t\t\t\theadersList.push([name, v])\n\t\t\t})\n\t\t} else {\n\t\t\theadersList.push([name, value])\n\t\t}\n\t})\n\n\tif (self._mode === 'fetch') {\n\t\tvar signal = null\n\t\tif (capability.abortController) {\n\t\t\tvar controller = new AbortController()\n\t\t\tsignal = controller.signal\n\t\t\tself._fetchAbortController = controller\n\n\t\t\tif ('requestTimeout' in opts && opts.requestTimeout !== 0) {\n\t\t\t\tself._fetchTimer = global.setTimeout(function () {\n\t\t\t\t\tself.emit('requestTimeout')\n\t\t\t\t\tif (self._fetchAbortController)\n\t\t\t\t\t\tself._fetchAbortController.abort()\n\t\t\t\t}, opts.requestTimeout)\n\t\t\t}\n\t\t}\n\n\t\tglobal.fetch(self._opts.url, {\n\t\t\tmethod: self._opts.method,\n\t\t\theaders: headersList,\n\t\t\tbody: body || undefined,\n\t\t\tmode: 'cors',\n\t\t\tcredentials: opts.withCredentials ? 'include' : 'same-origin',\n\t\t\tsignal: signal\n\t\t}).then(function (response) {\n\t\t\tself._fetchResponse = response\n\t\t\tself._resetTimers(false)\n\t\t\tself._connect()\n\t\t}, function (reason) {\n\t\t\tself._resetTimers(true)\n\t\t\tif (!self._destroyed)\n\t\t\t\tself.emit('error', reason)\n\t\t})\n\t} else {\n\t\tvar xhr = self._xhr = new global.XMLHttpRequest()\n\t\ttry {\n\t\t\txhr.open(self._opts.method, self._opts.url, true)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\t// Can't set responseType on really old browsers\n\t\tif ('responseType' in xhr)\n\t\t\txhr.responseType = self._mode\n\n\t\tif ('withCredentials' in xhr)\n\t\t\txhr.withCredentials = !!opts.withCredentials\n\n\t\tif (self._mode === 'text' && 'overrideMimeType' in xhr)\n\t\t\txhr.overrideMimeType('text/plain; charset=x-user-defined')\n\n\t\tif ('requestTimeout' in opts) {\n\t\t\txhr.timeout = opts.requestTimeout\n\t\t\txhr.ontimeout = function () {\n\t\t\t\tself.emit('requestTimeout')\n\t\t\t}\n\t\t}\n\n\t\theadersList.forEach(function (header) {\n\t\t\txhr.setRequestHeader(header[0], header[1])\n\t\t})\n\n\t\tself._response = null\n\t\txhr.onreadystatechange = function () {\n\t\t\tswitch (xhr.readyState) {\n\t\t\t\tcase rStates.LOADING:\n\t\t\t\tcase rStates.DONE:\n\t\t\t\t\tself._onXHRProgress()\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// Necessary for streaming in Firefox, since xhr.response is ONLY defined\n\t\t// in onprogress, not in onreadystatechange with xhr.readyState = 3\n\t\tif (self._mode === 'moz-chunked-arraybuffer') {\n\t\t\txhr.onprogress = function () {\n\t\t\t\tself._onXHRProgress()\n\t\t\t}\n\t\t}\n\n\t\txhr.onerror = function () {\n\t\t\tif (self._destroyed)\n\t\t\t\treturn\n\t\t\tself._resetTimers(true)\n\t\t\tself.emit('error', new Error('XHR error'))\n\t\t}\n\n\t\ttry {\n\t\t\txhr.send(body)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t}\n}\n\n/**\n * Checks if xhr.status is readable and non-zero, indicating no error.\n * Even though the spec says it should be available in readyState 3,\n * accessing it throws an exception in IE8\n */\nfunction statusValid (xhr) {\n\ttry {\n\t\tvar status = xhr.status\n\t\treturn (status !== null && status !== 0)\n\t} catch (e) {\n\t\treturn false\n\t}\n}\n\nClientRequest.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tself._resetTimers(false)\n\n\tif (!statusValid(self._xhr) || self._destroyed)\n\t\treturn\n\n\tif (!self._response)\n\t\tself._connect()\n\n\tself._response._onXHRProgress(self._resetTimers.bind(self))\n}\n\nClientRequest.prototype._connect = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\n\tself._response = new IncomingMessage(self._xhr, self._fetchResponse, self._mode, self._resetTimers.bind(self))\n\tself._response.on('error', function(err) {\n\t\tself.emit('error', err)\n\t})\n\n\tself.emit('response', self._response)\n}\n\nClientRequest.prototype._write = function (chunk, encoding, cb) {\n\tvar self = this\n\n\tself._body.push(chunk)\n\tcb()\n}\n\nClientRequest.prototype._resetTimers = function (done) {\n\tvar self = this\n\n\tglobal.clearTimeout(self._socketTimer)\n\tself._socketTimer = null\n\n\tif (done) {\n\t\tglobal.clearTimeout(self._fetchTimer)\n\t\tself._fetchTimer = null\n\t} else if (self._socketTimeout) {\n\t\tself._socketTimer = global.setTimeout(function () {\n\t\t\tself.emit('timeout')\n\t\t}, self._socketTimeout)\n\t}\n}\n\nClientRequest.prototype.abort = ClientRequest.prototype.destroy = function (err) {\n\tvar self = this\n\tself._destroyed = true\n\tself._resetTimers(true)\n\tif (self._response)\n\t\tself._response._destroyed = true\n\tif (self._xhr)\n\t\tself._xhr.abort()\n\telse if (self._fetchAbortController)\n\t\tself._fetchAbortController.abort()\n\n\tif (err)\n\t\tself.emit('error', err)\n}\n\nClientRequest.prototype.end = function (data, encoding, cb) {\n\tvar self = this\n\tif (typeof data === 'function') {\n\t\tcb = data\n\t\tdata = undefined\n\t}\n\n\tstream.Writable.prototype.end.call(self, data, encoding, cb)\n}\n\nClientRequest.prototype.setTimeout = function (timeout, cb) {\n\tvar self = this\n\n\tif (cb)\n\t\tself.once('timeout', cb)\n\n\tself._socketTimeout = timeout\n\tself._resetTimers(false)\n}\n\nClientRequest.prototype.flushHeaders = function () {}\nClientRequest.prototype.setNoDelay = function () {}\nClientRequest.prototype.setSocketKeepAlive = function () {}\n\n// Taken from http://www.w3.org/TR/XMLHttpRequest/#the-setrequestheader%28%29-method\nvar unsafeHeaders = [\n\t'accept-charset',\n\t'accept-encoding',\n\t'access-control-request-headers',\n\t'access-control-request-method',\n\t'connection',\n\t'content-length',\n\t'cookie',\n\t'cookie2',\n\t'date',\n\t'dnt',\n\t'expect',\n\t'host',\n\t'keep-alive',\n\t'origin',\n\t'referer',\n\t'te',\n\t'trailer',\n\t'transfer-encoding',\n\t'upgrade',\n\t'via'\n]\n","var capability = require('./capability')\nvar inherits = require('inherits')\nvar stream = require('readable-stream')\n\nvar rStates = exports.readyStates = {\n\tUNSENT: 0,\n\tOPENED: 1,\n\tHEADERS_RECEIVED: 2,\n\tLOADING: 3,\n\tDONE: 4\n}\n\nvar IncomingMessage = exports.IncomingMessage = function (xhr, response, mode, resetTimers) {\n\tvar self = this\n\tstream.Readable.call(self)\n\n\tself._mode = mode\n\tself.headers = {}\n\tself.rawHeaders = []\n\tself.trailers = {}\n\tself.rawTrailers = []\n\n\t// Fake the 'close' event, but only once 'end' fires\n\tself.on('end', function () {\n\t\t// The nextTick is necessary to prevent the 'request' module from causing an infinite loop\n\t\tprocess.nextTick(function () {\n\t\t\tself.emit('close')\n\t\t})\n\t})\n\n\tif (mode === 'fetch') {\n\t\tself._fetchResponse = response\n\n\t\tself.url = response.url\n\t\tself.statusCode = response.status\n\t\tself.statusMessage = response.statusText\n\t\t\n\t\tresponse.headers.forEach(function (header, key){\n\t\t\tself.headers[key.toLowerCase()] = header\n\t\t\tself.rawHeaders.push(key, header)\n\t\t})\n\n\t\tif (capability.writableStream) {\n\t\t\tvar writable = new WritableStream({\n\t\t\t\twrite: function (chunk) {\n\t\t\t\t\tresetTimers(false)\n\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\tif (self._destroyed) {\n\t\t\t\t\t\t\treject()\n\t\t\t\t\t\t} else if(self.push(Buffer.from(chunk))) {\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself._resumeFetch = resolve\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tclose: function () {\n\t\t\t\t\tresetTimers(true)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.push(null)\n\t\t\t\t},\n\t\t\t\tabort: function (err) {\n\t\t\t\t\tresetTimers(true)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\ttry {\n\t\t\t\tresponse.body.pipeTo(writable).catch(function (err) {\n\t\t\t\t\tresetTimers(true)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t} catch (e) {} // pipeTo method isn't defined. Can't find a better way to feature test this\n\t\t}\n\t\t// fallback for when writableStream or pipeTo aren't available\n\t\tvar reader = response.body.getReader()\n\t\tfunction read () {\n\t\t\treader.read().then(function (result) {\n\t\t\t\tif (self._destroyed)\n\t\t\t\t\treturn\n\t\t\t\tresetTimers(result.done)\n\t\t\t\tif (result.done) {\n\t\t\t\t\tself.push(null)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tself.push(Buffer.from(result.value))\n\t\t\t\tread()\n\t\t\t}).catch(function (err) {\n\t\t\t\tresetTimers(true)\n\t\t\t\tif (!self._destroyed)\n\t\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t}\n\t\tread()\n\t} else {\n\t\tself._xhr = xhr\n\t\tself._pos = 0\n\n\t\tself.url = xhr.responseURL\n\t\tself.statusCode = xhr.status\n\t\tself.statusMessage = xhr.statusText\n\t\tvar headers = xhr.getAllResponseHeaders().split(/\\r?\\n/)\n\t\theaders.forEach(function (header) {\n\t\t\tvar matches = header.match(/^([^:]+):\\s*(.*)/)\n\t\t\tif (matches) {\n\t\t\t\tvar key = matches[1].toLowerCase()\n\t\t\t\tif (key === 'set-cookie') {\n\t\t\t\t\tif (self.headers[key] === undefined) {\n\t\t\t\t\t\tself.headers[key] = []\n\t\t\t\t\t}\n\t\t\t\t\tself.headers[key].push(matches[2])\n\t\t\t\t} else if (self.headers[key] !== undefined) {\n\t\t\t\t\tself.headers[key] += ', ' + matches[2]\n\t\t\t\t} else {\n\t\t\t\t\tself.headers[key] = matches[2]\n\t\t\t\t}\n\t\t\t\tself.rawHeaders.push(matches[1], matches[2])\n\t\t\t}\n\t\t})\n\n\t\tself._charset = 'x-user-defined'\n\t\tif (!capability.overrideMimeType) {\n\t\t\tvar mimeType = self.rawHeaders['mime-type']\n\t\t\tif (mimeType) {\n\t\t\t\tvar charsetMatch = mimeType.match(/;\\s*charset=([^;])(;|$)/)\n\t\t\t\tif (charsetMatch) {\n\t\t\t\t\tself._charset = charsetMatch[1].toLowerCase()\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!self._charset)\n\t\t\t\tself._charset = 'utf-8' // best guess\n\t\t}\n\t}\n}\n\ninherits(IncomingMessage, stream.Readable)\n\nIncomingMessage.prototype._read = function () {\n\tvar self = this\n\n\tvar resolve = self._resumeFetch\n\tif (resolve) {\n\t\tself._resumeFetch = null\n\t\tresolve()\n\t}\n}\n\nIncomingMessage.prototype._onXHRProgress = function (resetTimers) {\n\tvar self = this\n\n\tvar xhr = self._xhr\n\n\tvar response = null\n\tswitch (self._mode) {\n\t\tcase 'text':\n\t\t\tresponse = xhr.responseText\n\t\t\tif (response.length > self._pos) {\n\t\t\t\tvar newData = response.substr(self._pos)\n\t\t\t\tif (self._charset === 'x-user-defined') {\n\t\t\t\t\tvar buffer = Buffer.alloc(newData.length)\n\t\t\t\t\tfor (var i = 0; i < newData.length; i++)\n\t\t\t\t\t\tbuffer[i] = newData.charCodeAt(i) & 0xff\n\n\t\t\t\t\tself.push(buffer)\n\t\t\t\t} else {\n\t\t\t\t\tself.push(newData, self._charset)\n\t\t\t\t}\n\t\t\t\tself._pos = response.length\n\t\t\t}\n\t\t\tbreak\n\t\tcase 'arraybuffer':\n\t\t\tif (xhr.readyState !== rStates.DONE || !xhr.response)\n\t\t\t\tbreak\n\t\t\tresponse = xhr.response\n\t\t\tself.push(Buffer.from(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'moz-chunked-arraybuffer': // take whole\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING || !response)\n\t\t\t\tbreak\n\t\t\tself.push(Buffer.from(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'ms-stream':\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING)\n\t\t\t\tbreak\n\t\t\tvar reader = new global.MSStreamReader()\n\t\t\treader.onprogress = function () {\n\t\t\t\tif (reader.result.byteLength > self._pos) {\n\t\t\t\t\tself.push(Buffer.from(new Uint8Array(reader.result.slice(self._pos))))\n\t\t\t\t\tself._pos = reader.result.byteLength\n\t\t\t\t}\n\t\t\t}\n\t\t\treader.onload = function () {\n\t\t\t\tresetTimers(true)\n\t\t\t\tself.push(null)\n\t\t\t}\n\t\t\t// reader.onerror = ??? // TODO: this\n\t\t\treader.readAsArrayBuffer(response)\n\t\t\tbreak\n\t}\n\n\t// The ms-stream case handles end separately in reader.onload()\n\tif (self._xhr.readyState === rStates.DONE && self._mode !== 'ms-stream') {\n\t\tresetTimers(true)\n\t\tself.push(null)\n\t}\n}\n","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\nconst Readable = require('./_stream_readable');\nconst Writable = require('./_stream_writable');\nrequire('inherits')(Duplex, Readable);\n{\n  // Allow the keys array to be GC'ed.\n  const keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    const method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get() {\n    return this._writableState.length;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(onEndNT, this);\n}\nfunction onEndNT(self) {\n  self.end();\n}\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\nconst Transform = require('./_stream_transform');\nrequire('inherits')(PassThrough, Transform);\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nconst EE = require('events').EventEmitter;\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\nconst Buffer = require('buffer').Buffer;\nconst OurUint8Array = (typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}).Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*<replacement>*/\nconst debugUtil = require('util');\nlet debug;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\nconst BufferList = require('./internal/streams/buffer_list');\nconst destroyImpl = require('./internal/streams/destroy');\nconst _require = require('./internal/streams/state'),\n  getHighWaterMark = _require.getHighWaterMark;\nconst _require$codes = require('../errors').codes,\n  ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n  ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n  ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;\n\n// Lazy loaded to improve the startup performance.\nlet StringDecoder;\nlet createReadableStreamAsyncIterator;\nlet from;\nrequire('inherits')(Readable, Stream);\nconst errorOrDestroy = destroyImpl.errorOrDestroy;\nconst kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true;\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = options.emitClose !== false;\n\n  // Should .destroy() be called after 'end' (and potentially 'finish')\n  this.autoDestroy = !!options.autoDestroy;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n  const isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex);\n\n  // legacy\n  this.readable = true;\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n  Stream.call(this);\n}\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  }\n\n  // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n  return er;\n}\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  const decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder;\n  // If setEncoding(null), decoder.encoding equals utf8\n  this._readableState.encoding = this._readableState.decoder.encoding;\n\n  // Iterate over current buffer to convert already stored Buffers:\n  let p = this._readableState.buffer.head;\n  let content = '';\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n  this._readableState.buffer.clear();\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n};\n\n// Don't raise the hwm > 1GB\nconst MAX_HWM = 0x40000000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  }\n\n  // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    const len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n  return dest;\n};\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    for (var i = 0; i < len; i++) dests[i].emit('unpipe', this, {\n      hasUnpiped: false\n    });\n    return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  const res = Stream.prototype.on.call(this, ev, fn);\n  const state = this._readableState;\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0;\n\n    // Try start flowing on next tick if stream isn't explicitly paused\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\nReadable.prototype.removeListener = function (ev, fn) {\n  const res = Stream.prototype.removeListener.call(this, ev, fn);\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n  return res;\n};\nReadable.prototype.removeAllListeners = function (ev) {\n  const res = Stream.prototype.removeAllListeners.apply(this, arguments);\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n  return res;\n};\nfunction updateReadableListening(self) {\n  const state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true;\n\n    // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n  state.paused = false;\n  return this;\n};\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n  if (!state.reading) {\n    stream.read(0);\n  }\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  this._readableState.paused = true;\n  return this;\n};\nfunction flow(stream) {\n  const state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null);\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', () => {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) this.push(chunk);\n    }\n    this.push(null);\n  });\n  stream.on('data', chunk => {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n    var ret = this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = n => {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n  return this;\n};\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n    return createReadableStreamAsyncIterator(this);\n  };\n}\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get() {\n    return this._readableState.length;\n  }\n});\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length);\n\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      const wState = stream._writableState;\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n    return from(Readable, iterable, opts);\n  };\n}\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\nconst _require$codes = require('../errors').codes,\n  ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n  ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n  ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\nconst Duplex = require('./_stream_duplex');\nrequire('inherits')(Transform, Duplex);\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null)\n    // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\nfunction prefinish() {\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush((er, data) => {\n      done(this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, err2 => {\n    cb(err2);\n  });\n};\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null)\n    // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  this.next = null;\n  this.entry = null;\n  this.finish = () => {\n    onCorkedFinish(this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nconst internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\nconst Buffer = require('buffer').Buffer;\nconst OurUint8Array = (typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}).Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\nconst destroyImpl = require('./internal/streams/destroy');\nconst _require = require('./internal/streams/state'),\n  getHighWaterMark = _require.getHighWaterMark;\nconst _require$codes = require('../errors').codes,\n  ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n  ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n  ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n  ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n  ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n  ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n  ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\nconst errorOrDestroy = destroyImpl.errorOrDestroy;\nrequire('inherits')(Writable, Stream);\nfunction nop() {}\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = options.emitClose !== false;\n\n  // Should .destroy() be called after 'finish' (and potentially 'end')\n  this.autoDestroy = !!options.autoDestroy;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n  const isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex);\n\n  // legacy.\n  this.writable = true;\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END();\n  // TODO: defer error events consistently everywhere, not just the cb\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n  return true;\n}\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk,\n      encoding,\n      isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n  return ret;\n}\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\nWritable.prototype._writev = null;\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get() {\n    return this._writableState.length;\n  }\n});\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(err => {\n    state.pendingcb--;\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        const rState = stream._readableState;\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n  return need;\n}\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n\n  // reuse the free corkReq.\n  state.corkedRequestsFree.next = corkReq;\n}\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","'use strict';\n\nconst finished = require('./end-of-stream');\nconst kLastResolve = Symbol('lastResolve');\nconst kLastReject = Symbol('lastReject');\nconst kError = Symbol('error');\nconst kEnded = Symbol('ended');\nconst kLastPromise = Symbol('lastPromise');\nconst kHandlePromise = Symbol('handlePromise');\nconst kStream = Symbol('stream');\nfunction createIterResult(value, done) {\n  return {\n    value,\n    done\n  };\n}\nfunction readAndResolve(iter) {\n  const resolve = iter[kLastResolve];\n  if (resolve !== null) {\n    const data = iter[kStream].read();\n    // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\nfunction wrapForNext(lastPromise, iter) {\n  return (resolve, reject) => {\n    lastPromise.then(() => {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\nconst AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nconst ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf({\n  get stream() {\n    return this[kStream];\n  },\n  next() {\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    const error = this[kError];\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise((resolve, reject) => {\n        process.nextTick(() => {\n          if (this[kError]) {\n            reject(this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    }\n\n    // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n    const lastPromise = this[kLastPromise];\n    let promise;\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      const data = this[kStream].read();\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n      promise = new Promise(this[kHandlePromise]);\n    }\n    this[kLastPromise] = promise;\n    return promise;\n  },\n  [Symbol.asyncIterator]() {\n    return this;\n  },\n  return() {\n    // destroy(err, cb) is a private API\n    // we can guarantee we have that here, because we control the\n    // Readable class this is attached to\n    return new Promise((resolve, reject) => {\n      this[kStream].destroy(null, err => {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve(createIterResult(undefined, true));\n      });\n    });\n  }\n}, AsyncIteratorPrototype);\nconst createReadableStreamAsyncIterator = stream => {\n  const iterator = Object.create(ReadableStreamAsyncIteratorPrototype, {\n    [kStream]: {\n      value: stream,\n      writable: true\n    },\n    [kLastResolve]: {\n      value: null,\n      writable: true\n    },\n    [kLastReject]: {\n      value: null,\n      writable: true\n    },\n    [kError]: {\n      value: null,\n      writable: true\n    },\n    [kEnded]: {\n      value: stream._readableState.endEmitted,\n      writable: true\n    },\n    // the function passed to new Promise\n    // is cached so we avoid allocating a new\n    // closure at every run\n    [kHandlePromise]: {\n      value: (resolve, reject) => {\n        const data = iterator[kStream].read();\n        if (data) {\n          iterator[kLastPromise] = null;\n          iterator[kLastResolve] = null;\n          iterator[kLastReject] = null;\n          resolve(createIterResult(data, false));\n        } else {\n          iterator[kLastResolve] = resolve;\n          iterator[kLastReject] = reject;\n        }\n      },\n      writable: true\n    }\n  });\n  iterator[kLastPromise] = null;\n  finished(stream, err => {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      const reject = iterator[kLastReject];\n      // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n      iterator[kError] = err;\n      return;\n    }\n    const resolve = iterator[kLastResolve];\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\nmodule.exports = createReadableStreamAsyncIterator;","'use strict';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nconst _require = require('buffer'),\n  Buffer = _require.Buffer;\nconst _require2 = require('util'),\n  inspect = _require2.inspect;\nconst custom = inspect && inspect.custom || 'inspect';\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\nmodule.exports = class BufferList {\n  constructor() {\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n  push(v) {\n    const entry = {\n      data: v,\n      next: null\n    };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  }\n  unshift(v) {\n    const entry = {\n      data: v,\n      next: this.head\n    };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  }\n  shift() {\n    if (this.length === 0) return;\n    const ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  }\n  clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  }\n  join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) ret += s + p.data;\n    return ret;\n  }\n  concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    const ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  }\n\n  // Consumes a specified amount of bytes or characters from the buffered data.\n  consume(n, hasStrings) {\n    var ret;\n    if (n < this.head.data.length) {\n      // `slice` is the same for buffers and strings.\n      ret = this.head.data.slice(0, n);\n      this.head.data = this.head.data.slice(n);\n    } else if (n === this.head.data.length) {\n      // First chunk is a perfect match.\n      ret = this.shift();\n    } else {\n      // Result spans more than one buffer.\n      ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n    }\n    return ret;\n  }\n  first() {\n    return this.head.data;\n  }\n\n  // Consumes a specified amount of characters from the buffered data.\n  _getString(n) {\n    var p = this.head;\n    var c = 1;\n    var ret = p.data;\n    n -= ret.length;\n    while (p = p.next) {\n      const str = p.data;\n      const nb = n > str.length ? str.length : n;\n      if (nb === str.length) ret += str;else ret += str.slice(0, n);\n      n -= nb;\n      if (n === 0) {\n        if (nb === str.length) {\n          ++c;\n          if (p.next) this.head = p.next;else this.head = this.tail = null;\n        } else {\n          this.head = p;\n          p.data = str.slice(nb);\n        }\n        break;\n      }\n      ++c;\n    }\n    this.length -= c;\n    return ret;\n  }\n\n  // Consumes a specified amount of bytes from the buffered data.\n  _getBuffer(n) {\n    const ret = Buffer.allocUnsafe(n);\n    var p = this.head;\n    var c = 1;\n    p.data.copy(ret);\n    n -= p.data.length;\n    while (p = p.next) {\n      const buf = p.data;\n      const nb = n > buf.length ? buf.length : n;\n      buf.copy(ret, ret.length - n, 0, nb);\n      n -= nb;\n      if (n === 0) {\n        if (nb === buf.length) {\n          ++c;\n          if (p.next) this.head = p.next;else this.head = this.tail = null;\n        } else {\n          this.head = p;\n          p.data = buf.slice(nb);\n        }\n        break;\n      }\n      ++c;\n    }\n    this.length -= c;\n    return ret;\n  }\n\n  // Make sure the linked list only shows the minimal necessary information.\n  [custom](_, options) {\n    return inspect(this, _objectSpread(_objectSpread({}, options), {}, {\n      // Only inspect one level.\n      depth: 0,\n      // It should not recurse.\n      customInspect: false\n    }));\n  }\n};","'use strict';\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  const readableDestroyed = this._readableState && this._readableState.destroyed;\n  const writableDestroyed = this._writableState && this._writableState.destroyed;\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n  this._destroy(err || null, err => {\n    if (!cb && err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, this, err);\n      } else {\n        process.nextTick(emitCloseNT, this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, this);\n    }\n  });\n  return this;\n}\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n\n  const rState = stream._readableState;\n  const wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\nmodule.exports = {\n  destroy,\n  undestroy,\n  errorOrDestroy\n};","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n\n'use strict';\n\nconst ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\nfunction once(callback) {\n  let called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    callback.apply(this, args);\n  };\n}\nfunction noop() {}\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  let readable = opts.readable || opts.readable !== false && stream.readable;\n  let writable = opts.writable || opts.writable !== false && stream.writable;\n  const onlegacyfinish = () => {\n    if (!stream.writable) onfinish();\n  };\n  var writableEnded = stream._writableState && stream._writableState.finished;\n  const onfinish = () => {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n  const onend = () => {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n  const onerror = err => {\n    callback.call(stream, err);\n  };\n  const onclose = () => {\n    let err;\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n  const onrequest = () => {\n    stream.req.on('finish', onfinish);\n  };\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\nmodule.exports = eos;","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser')\n};\n","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n\n'use strict';\n\nlet eos;\nfunction once(callback) {\n  let called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback(...arguments);\n  };\n}\nconst _require$codes = require('../../../errors').codes,\n  ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n  ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  let closed = false;\n  stream.on('close', () => {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, err => {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  let destroyed = false;\n  return err => {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true;\n\n    // request.destroy just do .end - .abort is what we want\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\nfunction call(fn) {\n  fn();\n}\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n  const callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n  let error;\n  const destroys = streams.map(function (stream, i) {\n    const reading = i < streams.length - 1;\n    const writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\nmodule.exports = pipeline;","'use strict';\n\nconst ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  const hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      const name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n    return Math.floor(hwm);\n  }\n\n  // Default value\n  return state.objectMode ? 16 : 16 * 1024;\n}\nmodule.exports = {\n  getHighWaterMark\n};","module.exports = require('events').EventEmitter;\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AbstractTokenizer = void 0;\r\nconst peek_readable_1 = require(\"peek-readable\");\r\n/**\r\n * Core tokenizer\r\n */\r\nclass AbstractTokenizer {\r\n    constructor(fileInfo) {\r\n        /**\r\n         * Tokenizer-stream position\r\n         */\r\n        this.position = 0;\r\n        this.numBuffer = new Uint8Array(8);\r\n        this.fileInfo = fileInfo ? fileInfo : {};\r\n    }\r\n    /**\r\n     * Read a token from the tokenizer-stream\r\n     * @param token - The token to read\r\n     * @param position - If provided, the desired position in the tokenizer-stream\r\n     * @returns Promise with token data\r\n     */\r\n    async readToken(token, position = this.position) {\r\n        const uint8Array = Buffer.alloc(token.len);\r\n        const len = await this.readBuffer(uint8Array, { position });\r\n        if (len < token.len)\r\n            throw new peek_readable_1.EndOfStreamError();\r\n        return token.get(uint8Array, 0);\r\n    }\r\n    /**\r\n     * Peek a token from the tokenizer-stream.\r\n     * @param token - Token to peek from the tokenizer-stream.\r\n     * @param position - Offset where to begin reading within the file. If position is null, data will be read from the current file position.\r\n     * @returns Promise with token data\r\n     */\r\n    async peekToken(token, position = this.position) {\r\n        const uint8Array = Buffer.alloc(token.len);\r\n        const len = await this.peekBuffer(uint8Array, { position });\r\n        if (len < token.len)\r\n            throw new peek_readable_1.EndOfStreamError();\r\n        return token.get(uint8Array, 0);\r\n    }\r\n    /**\r\n     * Read a numeric token from the stream\r\n     * @param token - Numeric token\r\n     * @returns Promise with number\r\n     */\r\n    async readNumber(token) {\r\n        const len = await this.readBuffer(this.numBuffer, { length: token.len });\r\n        if (len < token.len)\r\n            throw new peek_readable_1.EndOfStreamError();\r\n        return token.get(this.numBuffer, 0);\r\n    }\r\n    /**\r\n     * Read a numeric token from the stream\r\n     * @param token - Numeric token\r\n     * @returns Promise with number\r\n     */\r\n    async peekNumber(token) {\r\n        const len = await this.peekBuffer(this.numBuffer, { length: token.len });\r\n        if (len < token.len)\r\n            throw new peek_readable_1.EndOfStreamError();\r\n        return token.get(this.numBuffer, 0);\r\n    }\r\n    /**\r\n     * Ignore number of bytes, advances the pointer in under tokenizer-stream.\r\n     * @param length - Number of bytes to ignore\r\n     * @return resolves the number of bytes ignored, equals length if this available, otherwise the number of bytes available\r\n     */\r\n    async ignore(length) {\r\n        if (this.fileInfo.size !== undefined) {\r\n            const bytesLeft = this.fileInfo.size - this.position;\r\n            if (length > bytesLeft) {\r\n                this.position += bytesLeft;\r\n                return bytesLeft;\r\n            }\r\n        }\r\n        this.position += length;\r\n        return length;\r\n    }\r\n    async close() {\r\n        // empty\r\n    }\r\n    normalizeOptions(uint8Array, options) {\r\n        if (options && options.position !== undefined && options.position < this.position) {\r\n            throw new Error('`options.position` must be equal or greater than `tokenizer.position`');\r\n        }\r\n        if (options) {\r\n            return {\r\n                mayBeLess: options.mayBeLess === true,\r\n                offset: options.offset ? options.offset : 0,\r\n                length: options.length ? options.length : (uint8Array.length - (options.offset ? options.offset : 0)),\r\n                position: options.position ? options.position : this.position\r\n            };\r\n        }\r\n        return {\r\n            mayBeLess: false,\r\n            offset: 0,\r\n            length: uint8Array.length,\r\n            position: this.position\r\n        };\r\n    }\r\n}\r\nexports.AbstractTokenizer = AbstractTokenizer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BufferTokenizer = void 0;\r\nconst peek_readable_1 = require(\"peek-readable\");\r\nconst AbstractTokenizer_1 = require(\"./AbstractTokenizer\");\r\nclass BufferTokenizer extends AbstractTokenizer_1.AbstractTokenizer {\r\n    /**\r\n     * Construct BufferTokenizer\r\n     * @param uint8Array - Uint8Array to tokenize\r\n     * @param fileInfo - Pass additional file information to the tokenizer\r\n     */\r\n    constructor(uint8Array, fileInfo) {\r\n        super(fileInfo);\r\n        this.uint8Array = uint8Array;\r\n        this.fileInfo.size = this.fileInfo.size ? this.fileInfo.size : uint8Array.length;\r\n    }\r\n    /**\r\n     * Read buffer from tokenizer\r\n     * @param uint8Array - Uint8Array to tokenize\r\n     * @param options - Read behaviour options\r\n     * @returns {Promise<number>}\r\n     */\r\n    async readBuffer(uint8Array, options) {\r\n        if (options && options.position) {\r\n            if (options.position < this.position) {\r\n                throw new Error('`options.position` must be equal or greater than `tokenizer.position`');\r\n            }\r\n            this.position = options.position;\r\n        }\r\n        const bytesRead = await this.peekBuffer(uint8Array, options);\r\n        this.position += bytesRead;\r\n        return bytesRead;\r\n    }\r\n    /**\r\n     * Peek (read ahead) buffer from tokenizer\r\n     * @param uint8Array\r\n     * @param options - Read behaviour options\r\n     * @returns {Promise<number>}\r\n     */\r\n    async peekBuffer(uint8Array, options) {\r\n        const normOptions = this.normalizeOptions(uint8Array, options);\r\n        const bytes2read = Math.min(this.uint8Array.length - normOptions.position, normOptions.length);\r\n        if ((!normOptions.mayBeLess) && bytes2read < normOptions.length) {\r\n            throw new peek_readable_1.EndOfStreamError();\r\n        }\r\n        else {\r\n            uint8Array.set(this.uint8Array.subarray(normOptions.position, normOptions.position + bytes2read), normOptions.offset);\r\n            return bytes2read;\r\n        }\r\n    }\r\n    async close() {\r\n        // empty\r\n    }\r\n}\r\nexports.BufferTokenizer = BufferTokenizer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.fromFile = exports.FileTokenizer = void 0;\r\nconst AbstractTokenizer_1 = require(\"./AbstractTokenizer\");\r\nconst peek_readable_1 = require(\"peek-readable\");\r\nconst fs = require(\"./FsPromise\");\r\nclass FileTokenizer extends AbstractTokenizer_1.AbstractTokenizer {\r\n    constructor(fd, fileInfo) {\r\n        super(fileInfo);\r\n        this.fd = fd;\r\n    }\r\n    /**\r\n     * Read buffer from file\r\n     * @param uint8Array - Uint8Array to write result to\r\n     * @param options - Read behaviour options\r\n     * @returns Promise number of bytes read\r\n     */\r\n    async readBuffer(uint8Array, options) {\r\n        const normOptions = this.normalizeOptions(uint8Array, options);\r\n        this.position = normOptions.position;\r\n        const res = await fs.read(this.fd, uint8Array, normOptions.offset, normOptions.length, normOptions.position);\r\n        this.position += res.bytesRead;\r\n        if (res.bytesRead < normOptions.length && (!options || !options.mayBeLess)) {\r\n            throw new peek_readable_1.EndOfStreamError();\r\n        }\r\n        return res.bytesRead;\r\n    }\r\n    /**\r\n     * Peek buffer from file\r\n     * @param uint8Array - Uint8Array (or Buffer) to write data to\r\n     * @param options - Read behaviour options\r\n     * @returns Promise number of bytes read\r\n     */\r\n    async peekBuffer(uint8Array, options) {\r\n        const normOptions = this.normalizeOptions(uint8Array, options);\r\n        const res = await fs.read(this.fd, uint8Array, normOptions.offset, normOptions.length, normOptions.position);\r\n        if ((!normOptions.mayBeLess) && res.bytesRead < normOptions.length) {\r\n            throw new peek_readable_1.EndOfStreamError();\r\n        }\r\n        return res.bytesRead;\r\n    }\r\n    async close() {\r\n        return fs.close(this.fd);\r\n    }\r\n}\r\nexports.FileTokenizer = FileTokenizer;\r\nasync function fromFile(sourceFilePath) {\r\n    const stat = await fs.stat(sourceFilePath);\r\n    if (!stat.isFile) {\r\n        throw new Error(`File not a file: ${sourceFilePath}`);\r\n    }\r\n    const fd = await fs.open(sourceFilePath, 'r');\r\n    return new FileTokenizer(fd, { path: sourceFilePath, size: stat.size });\r\n}\r\nexports.fromFile = fromFile;\r\n","\"use strict\";\r\n/**\r\n * Module convert fs functions to promise based functions\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.readFile = exports.writeFileSync = exports.writeFile = exports.read = exports.open = exports.close = exports.stat = exports.createReadStream = exports.pathExists = void 0;\r\nconst fs = require(\"fs\");\r\nexports.pathExists = fs.existsSync;\r\nexports.createReadStream = fs.createReadStream;\r\nasync function stat(path) {\r\n    return new Promise((resolve, reject) => {\r\n        fs.stat(path, (err, stats) => {\r\n            if (err)\r\n                reject(err);\r\n            else\r\n                resolve(stats);\r\n        });\r\n    });\r\n}\r\nexports.stat = stat;\r\nasync function close(fd) {\r\n    return new Promise((resolve, reject) => {\r\n        fs.close(fd, err => {\r\n            if (err)\r\n                reject(err);\r\n            else\r\n                resolve();\r\n        });\r\n    });\r\n}\r\nexports.close = close;\r\nasync function open(path, mode) {\r\n    return new Promise((resolve, reject) => {\r\n        fs.open(path, mode, (err, fd) => {\r\n            if (err)\r\n                reject(err);\r\n            else\r\n                resolve(fd);\r\n        });\r\n    });\r\n}\r\nexports.open = open;\r\nasync function read(fd, buffer, offset, length, position) {\r\n    return new Promise((resolve, reject) => {\r\n        fs.read(fd, buffer, offset, length, position, (err, bytesRead, _buffer) => {\r\n            if (err)\r\n                reject(err);\r\n            else\r\n                resolve({ bytesRead, buffer: _buffer });\r\n        });\r\n    });\r\n}\r\nexports.read = read;\r\nasync function writeFile(path, data) {\r\n    return new Promise((resolve, reject) => {\r\n        fs.writeFile(path, data, err => {\r\n            if (err)\r\n                reject(err);\r\n            else\r\n                resolve();\r\n        });\r\n    });\r\n}\r\nexports.writeFile = writeFile;\r\nfunction writeFileSync(path, data) {\r\n    fs.writeFileSync(path, data);\r\n}\r\nexports.writeFileSync = writeFileSync;\r\nasync function readFile(path) {\r\n    return new Promise((resolve, reject) => {\r\n        fs.readFile(path, (err, buffer) => {\r\n            if (err)\r\n                reject(err);\r\n            else\r\n                resolve(buffer);\r\n        });\r\n    });\r\n}\r\nexports.readFile = readFile;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ReadStreamTokenizer = void 0;\r\nconst AbstractTokenizer_1 = require(\"./AbstractTokenizer\");\r\nconst peek_readable_1 = require(\"peek-readable\");\r\nconst maxBufferSize = 256000;\r\nclass ReadStreamTokenizer extends AbstractTokenizer_1.AbstractTokenizer {\r\n    constructor(stream, fileInfo) {\r\n        super(fileInfo);\r\n        this.streamReader = new peek_readable_1.StreamReader(stream);\r\n    }\r\n    /**\r\n     * Get file information, an HTTP-client may implement this doing a HEAD request\r\n     * @return Promise with file information\r\n     */\r\n    async getFileInfo() {\r\n        return this.fileInfo;\r\n    }\r\n    /**\r\n     * Read buffer from tokenizer\r\n     * @param uint8Array - Target Uint8Array to fill with data read from the tokenizer-stream\r\n     * @param options - Read behaviour options\r\n     * @returns Promise with number of bytes read\r\n     */\r\n    async readBuffer(uint8Array, options) {\r\n        const normOptions = this.normalizeOptions(uint8Array, options);\r\n        const skipBytes = normOptions.position - this.position;\r\n        if (skipBytes > 0) {\r\n            await this.ignore(skipBytes);\r\n            return this.readBuffer(uint8Array, options);\r\n        }\r\n        else if (skipBytes < 0) {\r\n            throw new Error('`options.position` must be equal or greater than `tokenizer.position`');\r\n        }\r\n        if (normOptions.length === 0) {\r\n            return 0;\r\n        }\r\n        const bytesRead = await this.streamReader.read(uint8Array, normOptions.offset, normOptions.length);\r\n        this.position += bytesRead;\r\n        if ((!options || !options.mayBeLess) && bytesRead < normOptions.length) {\r\n            throw new peek_readable_1.EndOfStreamError();\r\n        }\r\n        return bytesRead;\r\n    }\r\n    /**\r\n     * Peek (read ahead) buffer from tokenizer\r\n     * @param uint8Array - Uint8Array (or Buffer) to write data to\r\n     * @param options - Read behaviour options\r\n     * @returns Promise with number of bytes peeked\r\n     */\r\n    async peekBuffer(uint8Array, options) {\r\n        const normOptions = this.normalizeOptions(uint8Array, options);\r\n        let bytesRead = 0;\r\n        if (normOptions.position) {\r\n            const skipBytes = normOptions.position - this.position;\r\n            if (skipBytes > 0) {\r\n                const skipBuffer = new Uint8Array(normOptions.length + skipBytes);\r\n                bytesRead = await this.peekBuffer(skipBuffer, { mayBeLess: normOptions.mayBeLess });\r\n                uint8Array.set(skipBuffer.subarray(skipBytes), normOptions.offset);\r\n                return bytesRead - skipBytes;\r\n            }\r\n            else if (skipBytes < 0) {\r\n                throw new Error('Cannot peek from a negative offset in a stream');\r\n            }\r\n        }\r\n        if (normOptions.length > 0) {\r\n            try {\r\n                bytesRead = await this.streamReader.peek(uint8Array, normOptions.offset, normOptions.length);\r\n            }\r\n            catch (err) {\r\n                if (options && options.mayBeLess && err instanceof peek_readable_1.EndOfStreamError) {\r\n                    return 0;\r\n                }\r\n                throw err;\r\n            }\r\n            if ((!normOptions.mayBeLess) && bytesRead < normOptions.length) {\r\n                throw new peek_readable_1.EndOfStreamError();\r\n            }\r\n        }\r\n        return bytesRead;\r\n    }\r\n    async ignore(length) {\r\n        // debug(`ignore ${this.position}...${this.position + length - 1}`);\r\n        const bufSize = Math.min(maxBufferSize, length);\r\n        const buf = new Uint8Array(bufSize);\r\n        let totBytesRead = 0;\r\n        while (totBytesRead < length) {\r\n            const remaining = length - totBytesRead;\r\n            const bytesRead = await this.readBuffer(buf, { length: Math.min(bufSize, remaining) });\r\n            if (bytesRead < 0) {\r\n                return bytesRead;\r\n            }\r\n            totBytesRead += bytesRead;\r\n        }\r\n        return totBytesRead;\r\n    }\r\n}\r\nexports.ReadStreamTokenizer = ReadStreamTokenizer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.fromBuffer = exports.fromStream = exports.EndOfStreamError = void 0;\r\nconst ReadStreamTokenizer_1 = require(\"./ReadStreamTokenizer\");\r\nconst BufferTokenizer_1 = require(\"./BufferTokenizer\");\r\nvar peek_readable_1 = require(\"peek-readable\");\r\nObject.defineProperty(exports, \"EndOfStreamError\", { enumerable: true, get: function () { return peek_readable_1.EndOfStreamError; } });\r\n/**\r\n * Construct ReadStreamTokenizer from given Stream.\r\n * Will set fileSize, if provided given Stream has set the .path property/\r\n * @param stream - Read from Node.js Stream.Readable\r\n * @param fileInfo - Pass the file information, like size and MIME-type of the corresponding stream.\r\n * @returns ReadStreamTokenizer\r\n */\r\nfunction fromStream(stream, fileInfo) {\r\n    fileInfo = fileInfo ? fileInfo : {};\r\n    return new ReadStreamTokenizer_1.ReadStreamTokenizer(stream, fileInfo);\r\n}\r\nexports.fromStream = fromStream;\r\n/**\r\n * Construct ReadStreamTokenizer from given Buffer.\r\n * @param uint8Array - Uint8Array to tokenize\r\n * @param fileInfo - Pass additional file information to the tokenizer\r\n * @returns BufferTokenizer\r\n */\r\nfunction fromBuffer(uint8Array, fileInfo) {\r\n    return new BufferTokenizer_1.BufferTokenizer(uint8Array, fileInfo);\r\n}\r\nexports.fromBuffer = fromBuffer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.fromStream = exports.fromBuffer = exports.EndOfStreamError = exports.fromFile = void 0;\r\nconst fs = require(\"./FsPromise\");\r\nconst core = require(\"./core\");\r\nvar FileTokenizer_1 = require(\"./FileTokenizer\");\r\nObject.defineProperty(exports, \"fromFile\", { enumerable: true, get: function () { return FileTokenizer_1.fromFile; } });\r\nvar core_1 = require(\"./core\");\r\nObject.defineProperty(exports, \"EndOfStreamError\", { enumerable: true, get: function () { return core_1.EndOfStreamError; } });\r\nObject.defineProperty(exports, \"fromBuffer\", { enumerable: true, get: function () { return core_1.fromBuffer; } });\r\n/**\r\n * Construct ReadStreamTokenizer from given Stream.\r\n * Will set fileSize, if provided given Stream has set the .path property.\r\n * @param stream - Node.js Stream.Readable\r\n * @param fileInfo - Pass additional file information to the tokenizer\r\n * @returns Tokenizer\r\n */\r\nasync function fromStream(stream, fileInfo) {\r\n    fileInfo = fileInfo ? fileInfo : {};\r\n    if (stream.path) {\r\n        const stat = await fs.stat(stream.path);\r\n        fileInfo.path = stream.path;\r\n        fileInfo.size = stat.size;\r\n    }\r\n    return core.fromStream(stream, fileInfo);\r\n}\r\nexports.fromStream = fromStream;\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AnsiStringType = exports.StringType = exports.BufferType = exports.Uint8ArrayType = exports.IgnoreType = exports.Float80_LE = exports.Float80_BE = exports.Float64_LE = exports.Float64_BE = exports.Float32_LE = exports.Float32_BE = exports.Float16_LE = exports.Float16_BE = exports.INT64_BE = exports.UINT64_BE = exports.INT64_LE = exports.UINT64_LE = exports.INT32_LE = exports.INT32_BE = exports.INT24_BE = exports.INT24_LE = exports.INT16_LE = exports.INT16_BE = exports.INT8 = exports.UINT32_BE = exports.UINT32_LE = exports.UINT24_BE = exports.UINT24_LE = exports.UINT16_BE = exports.UINT16_LE = exports.UINT8 = void 0;\nconst ieee754 = require(\"ieee754\");\n// Primitive types\nfunction dv(array) {\n    return new DataView(array.buffer, array.byteOffset);\n}\n/**\n * 8-bit unsigned integer\n */\nexports.UINT8 = {\n    len: 1,\n    get(array, offset) {\n        return dv(array).getUint8(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setUint8(offset, value);\n        return offset + 1;\n    }\n};\n/**\n * 16-bit unsigned integer, Little Endian byte order\n */\nexports.UINT16_LE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getUint16(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setUint16(offset, value, true);\n        return offset + 2;\n    }\n};\n/**\n * 16-bit unsigned integer, Big Endian byte order\n */\nexports.UINT16_BE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getUint16(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setUint16(offset, value);\n        return offset + 2;\n    }\n};\n/**\n * 24-bit unsigned integer, Little Endian byte order\n */\nexports.UINT24_LE = {\n    len: 3,\n    get(array, offset) {\n        const dataView = dv(array);\n        return dataView.getUint8(offset) + (dataView.getUint16(offset + 1, true) << 8);\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint8(offset, value & 0xff);\n        dataView.setUint16(offset + 1, value >> 8, true);\n        return offset + 3;\n    }\n};\n/**\n * 24-bit unsigned integer, Big Endian byte order\n */\nexports.UINT24_BE = {\n    len: 3,\n    get(array, offset) {\n        const dataView = dv(array);\n        return (dataView.getUint16(offset) << 8) + dataView.getUint8(offset + 2);\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint16(offset, value >> 8);\n        dataView.setUint8(offset + 2, value & 0xff);\n        return offset + 3;\n    }\n};\n/**\n * 32-bit unsigned integer, Little Endian byte order\n */\nexports.UINT32_LE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getUint32(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setUint32(offset, value, true);\n        return offset + 4;\n    }\n};\n/**\n * 32-bit unsigned integer, Big Endian byte order\n */\nexports.UINT32_BE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getUint32(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setUint32(offset, value);\n        return offset + 4;\n    }\n};\n/**\n * 8-bit signed integer\n */\nexports.INT8 = {\n    len: 1,\n    get(array, offset) {\n        return dv(array).getInt8(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setInt8(offset, value);\n        return offset + 1;\n    }\n};\n/**\n * 16-bit signed integer, Big Endian byte order\n */\nexports.INT16_BE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getInt16(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setInt16(offset, value);\n        return offset + 2;\n    }\n};\n/**\n * 16-bit signed integer, Little Endian byte order\n */\nexports.INT16_LE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getInt16(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setInt16(offset, value, true);\n        return offset + 2;\n    }\n};\n/**\n * 24-bit signed integer, Little Endian byte order\n */\nexports.INT24_LE = {\n    len: 3,\n    get(array, offset) {\n        const unsigned = exports.UINT24_LE.get(array, offset);\n        return unsigned > 0x7fffff ? unsigned - 0x1000000 : unsigned;\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint8(offset, value & 0xff);\n        dataView.setUint16(offset + 1, value >> 8, true);\n        return offset + 3;\n    }\n};\n/**\n * 24-bit signed integer, Big Endian byte order\n */\nexports.INT24_BE = {\n    len: 3,\n    get(array, offset) {\n        const unsigned = exports.UINT24_BE.get(array, offset);\n        return unsigned > 0x7fffff ? unsigned - 0x1000000 : unsigned;\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint16(offset, value >> 8);\n        dataView.setUint8(offset + 2, value & 0xff);\n        return offset + 3;\n    }\n};\n/**\n * 32-bit signed integer, Big Endian byte order\n */\nexports.INT32_BE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getInt32(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setInt32(offset, value);\n        return offset + 4;\n    }\n};\n/**\n * 32-bit signed integer, Big Endian byte order\n */\nexports.INT32_LE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getInt32(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setInt32(offset, value, true);\n        return offset + 4;\n    }\n};\n/**\n * 64-bit unsigned integer, Little Endian byte order\n */\nexports.UINT64_LE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigUint64(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setBigUint64(offset, value, true);\n        return offset + 8;\n    }\n};\n/**\n * 64-bit signed integer, Little Endian byte order\n */\nexports.INT64_LE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigInt64(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setBigInt64(offset, value, true);\n        return offset + 8;\n    }\n};\n/**\n * 64-bit unsigned integer, Big Endian byte order\n */\nexports.UINT64_BE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigUint64(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setBigUint64(offset, value);\n        return offset + 8;\n    }\n};\n/**\n * 64-bit signed integer, Big Endian byte order\n */\nexports.INT64_BE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigInt64(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setBigInt64(offset, value);\n        return offset + 8;\n    }\n};\n/**\n * IEEE 754 16-bit (half precision) float, big endian\n */\nexports.Float16_BE = {\n    len: 2,\n    get(dataView, offset) {\n        return ieee754.read(dataView, offset, false, 10, this.len);\n    },\n    put(dataView, offset, value) {\n        ieee754.write(dataView, value, offset, false, 10, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * IEEE 754 16-bit (half precision) float, little endian\n */\nexports.Float16_LE = {\n    len: 2,\n    get(array, offset) {\n        return ieee754.read(array, offset, true, 10, this.len);\n    },\n    put(array, offset, value) {\n        ieee754.write(array, value, offset, true, 10, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * IEEE 754 32-bit (single precision) float, big endian\n */\nexports.Float32_BE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getFloat32(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat32(offset, value);\n        return offset + 4;\n    }\n};\n/**\n * IEEE 754 32-bit (single precision) float, little endian\n */\nexports.Float32_LE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getFloat32(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat32(offset, value, true);\n        return offset + 4;\n    }\n};\n/**\n * IEEE 754 64-bit (double precision) float, big endian\n */\nexports.Float64_BE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getFloat64(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat64(offset, value);\n        return offset + 8;\n    }\n};\n/**\n * IEEE 754 64-bit (double precision) float, little endian\n */\nexports.Float64_LE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getFloat64(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat64(offset, value, true);\n        return offset + 8;\n    }\n};\n/**\n * IEEE 754 80-bit (extended precision) float, big endian\n */\nexports.Float80_BE = {\n    len: 10,\n    get(array, offset) {\n        return ieee754.read(array, offset, false, 63, this.len);\n    },\n    put(array, offset, value) {\n        ieee754.write(array, value, offset, false, 63, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * IEEE 754 80-bit (extended precision) float, little endian\n */\nexports.Float80_LE = {\n    len: 10,\n    get(array, offset) {\n        return ieee754.read(array, offset, true, 63, this.len);\n    },\n    put(array, offset, value) {\n        ieee754.write(array, value, offset, true, 63, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * Ignore a given number of bytes\n */\nclass IgnoreType {\n    /**\n     * @param len number of bytes to ignore\n     */\n    constructor(len) {\n        this.len = len;\n    }\n    // ToDo: don't read, but skip data\n    get(array, off) {\n    }\n}\nexports.IgnoreType = IgnoreType;\nclass Uint8ArrayType {\n    constructor(len) {\n        this.len = len;\n    }\n    get(array, offset) {\n        return array.subarray(offset, offset + this.len);\n    }\n}\nexports.Uint8ArrayType = Uint8ArrayType;\nclass BufferType {\n    constructor(len) {\n        this.len = len;\n    }\n    get(uint8Array, off) {\n        return Buffer.from(uint8Array.subarray(off, off + this.len));\n    }\n}\nexports.BufferType = BufferType;\n/**\n * Consume a fixed number of bytes from the stream and return a string with a specified encoding.\n */\nclass StringType {\n    constructor(len, encoding) {\n        this.len = len;\n        this.encoding = encoding;\n    }\n    get(uint8Array, offset) {\n        return Buffer.from(uint8Array).toString(this.encoding, offset, offset + this.len);\n    }\n}\nexports.StringType = StringType;\n/**\n * ANSI Latin 1 String\n * Using windows-1252 / ISO 8859-1 decoding\n */\nclass AnsiStringType {\n    constructor(len) {\n        this.len = len;\n    }\n    static decode(buffer, offset, until) {\n        let str = '';\n        for (let i = offset; i < until; ++i) {\n            str += AnsiStringType.codePointToString(AnsiStringType.singleByteDecoder(buffer[i]));\n        }\n        return str;\n    }\n    static inRange(a, min, max) {\n        return min <= a && a <= max;\n    }\n    static codePointToString(cp) {\n        if (cp <= 0xFFFF) {\n            return String.fromCharCode(cp);\n        }\n        else {\n            cp -= 0x10000;\n            return String.fromCharCode((cp >> 10) + 0xD800, (cp & 0x3FF) + 0xDC00);\n        }\n    }\n    static singleByteDecoder(bite) {\n        if (AnsiStringType.inRange(bite, 0x00, 0x7F)) {\n            return bite;\n        }\n        const codePoint = AnsiStringType.windows1252[bite - 0x80];\n        if (codePoint === null) {\n            throw Error('invaliding encoding');\n        }\n        return codePoint;\n    }\n    get(buffer, offset = 0) {\n        return AnsiStringType.decode(buffer, offset, offset + this.len);\n    }\n}\nexports.AnsiStringType = AnsiStringType;\nAnsiStringType.windows1252 = [8364, 129, 8218, 402, 8222, 8230, 8224, 8225, 710, 8240, 352,\n    8249, 338, 141, 381, 143, 144, 8216, 8217, 8220, 8221, 8226, 8211, 8212, 732,\n    8482, 353, 8250, 339, 157, 382, 376, 160, 161, 162, 163, 164, 165, 166, 167, 168,\n    169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184,\n    185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200,\n    201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216,\n    217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232,\n    233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247,\n    248, 249, 250, 251, 252, 253, 254, 255];\n","import { GeoPackage } from './geoPackage';\nimport { GeoPackageConnection } from './db/geoPackageConnection';\nimport { GeoPackageValidate } from './validate/geoPackageValidate';\nimport { Canvas } from './canvas/canvas';\nimport path from 'path';\nimport fs from 'fs';\n\n/**\n * This module is the entry point to the GeoPackage API, providing static\n * methods for opening and building GeoPackage files.\n */\n\nexport class GeoPackageAPI {\n  static readonly version: string = '3.0.0';\n  /**\n   * In Node, open a GeoPackage file at the given path, or in a browser, load an\n   * in-memory GeoPackage from the given byte array.\n   * @param  {string|Uint8Array|Buffer} gppathOrByteArray path to the GeoPackage file or `Uint8Array` of GeoPackage bytes\n   * @return {Promise<GeoPackage>} promise that resolves with the open {@link module:geoPackage~GeoPackage} object or rejects with an `Error`\n   */\n  static async open(gppathOrByteArray: string | Uint8Array | Buffer): Promise<GeoPackage> {\n    let geoPackage: GeoPackage;\n    const valid =\n      typeof gppathOrByteArray !== 'string' ||\n      (typeof gppathOrByteArray === 'string' &&\n        (gppathOrByteArray.indexOf('http') === 0 ||\n          !GeoPackageValidate.validateGeoPackageExtension(gppathOrByteArray)));\n    if (!valid) {\n      throw new Error('Invalid GeoPackage - Invalid GeoPackage Extension');\n    }\n    try {\n      await Canvas.initializeAdapter();\n    } catch (e) {\n      throw new Error('Unable to initialize canvas.');\n    }\n    try {\n      const connection = await GeoPackageConnection.connect(gppathOrByteArray);\n      if (gppathOrByteArray && typeof gppathOrByteArray === 'string') {\n        geoPackage = new GeoPackage(path.basename(gppathOrByteArray), gppathOrByteArray, connection);\n      } else {\n        geoPackage = new GeoPackage('geopackage', undefined, connection);\n      }\n    } catch (e) {\n      throw new Error('Unable to open GeoPackage.');\n    }\n    return geoPackage;\n  }\n\n  /**\n   * In Node, create a GeoPackage file at the given file path, or in a browser,\n   * create an in-memory GeoPackage.\n   * @param  {string} gppath path of the created GeoPackage file; ignored in the browser\n   * @return {Promise<typeof GeoPackage>} promise that resolves with the open {@link module:geoPackage~GeoPackage} object or rejects with an  `Error`\n   */\n  static async create(gppath?: string): Promise<GeoPackage> {\n    let geoPackage: GeoPackage;\n    const valid =\n      typeof gppath !== 'string' ||\n      (typeof gppath === 'string' && !GeoPackageValidate.validateGeoPackageExtension(gppath));\n    if (!valid) {\n      throw new Error('Invalid GeoPackage');\n    }\n\n    if (typeof process !== 'undefined' && process.version && gppath) {\n      try {\n        fs.mkdirSync(path.dirname(gppath));\n      } catch (e) {\n        // it's fine if we can't create the directory\n      }\n    }\n\n    try {\n      await Canvas.initializeAdapter();\n    } catch (e) {\n      throw new Error('Unable to initialize canvas.');\n    }\n    try {\n      const connection = await GeoPackageConnection.connect(gppath);\n      connection.setApplicationId();\n      if (gppath) {\n        geoPackage = new GeoPackage(path.basename(gppath), gppath, connection);\n      } else {\n        geoPackage = new GeoPackage('geopackage', undefined, connection);\n      }\n      await geoPackage.createRequiredTables();\n      geoPackage.createSupportedExtensions();\n    } catch (e) {\n      throw new Error('Unable to create GeoPackage.')\n    }\n    return geoPackage;\n  }\n}\n","/**\n * @module user/custom\n */\nimport { UserColumn } from '../user/userColumn';\nimport { GeoPackageDataType } from '../db/geoPackageDataType';\nimport { DBValue } from '../db/dbAdapter';\nimport { UserTableDefaults } from '../user/userTableDefaults';\n\n/**\n * Attribute Column\n */\nexport class AttributesColumn extends UserColumn {\n  constructor(\n    index: number,\n    name: string,\n    dataType: GeoPackageDataType,\n    max?: number,\n    notNull?: boolean,\n    defaultValue?: DBValue,\n    primaryKey?: boolean,\n    autoincrement?: boolean,\n  ) {\n    super(index, name, dataType, max, notNull, defaultValue, primaryKey, autoincrement);\n    // eslint-disable-next-line eqeqeq\n    if (dataType === null) {\n      throw new Error('Data type is required to create column: ' + name);\n    }\n  }\n\n  /**\n   * Create a new column\n   * @param index\n   * @param name\n   * @param type\n   * @param notNull\n   * @param defaultValue\n   * @param max\n   * @param autoincrement\n   */\n  static createColumn(\n    index: number,\n    name: string,\n    type: GeoPackageDataType,\n    notNull = false,\n    defaultValue?: DBValue,\n    max?: number,\n    autoincrement?: boolean,\n  ): AttributesColumn {\n    return new AttributesColumn(index, name, type, max, notNull, defaultValue, false, autoincrement);\n  }\n\n  /**\n   * Create a new primary key column\n   * @param index\n   * @param name\n   * @param autoincrement\n   */\n  static createPrimaryKeyColumn(\n    index: number,\n    name: string,\n    autoincrement: boolean = UserTableDefaults.DEFAULT_AUTOINCREMENT,\n  ): AttributesColumn {\n    return new AttributesColumn(index, name, GeoPackageDataType.INTEGER, undefined, undefined, undefined, true, autoincrement);\n  }\n\n  copy(): AttributesColumn {\n    return new AttributesColumn(this.index, this.name, this.dataType, this.max, this.notNull, this.defaultValue, this.primaryKey, this.autoincrement);\n  }\n}\n","/**\n * @module attributes\n */\n\nimport { UserColumns } from '../user/userColumns';\nimport { AttributesColumn } from './attributesColumn';\n\n/**\n * UserCustomColumns\n */\nexport class AttributesColumns extends UserColumns<AttributesColumn> {\n  constructor(tableName: string, columns: AttributesColumn[], custom: boolean) {\n    super(tableName, columns, custom);\n    this.updateColumns();\n  }\n\n  copy(): AttributesColumns {\n    return new AttributesColumns(this.getTableName(), this.getColumns(), this.isCustom());\n  }\n}\n","/**\n * @module attributes/attributesDao\n */\nimport { UserDao } from '../user/userDao';\nimport { GeoPackage } from '../geoPackage';\nimport { AttributesTable } from './attributesTable';\nimport { AttributesRow } from './attributesRow';\nimport { Contents } from '../core/contents/contents';\nimport { DBValue } from '../db/dbAdapter';\nimport { GeoPackageDataType } from '../db/geoPackageDataType';\n\n/**\n * Attribute DAO for reading attribute user data tables\n * @class AttributesDao\n * @extends UserDao\n * @param  {module:geoPackage~GeoPackage} geoPackage              geopackage object\n * @param  {module:attributes/attributesTable~AttributeTable} table           attribute table\n */\nexport class AttributesDao<T extends AttributesRow> extends UserDao<AttributesRow> {\n  /**\n   * Contents of this AttributeDao\n   * @member {module:core/contents~Contents}\n   */\n  contents: Contents;\n\n  constructor(geoPackage: GeoPackage, table: AttributesTable) {\n    super(geoPackage, table);\n    if (!table.contents) {\n      throw new Error('Attributes table has null Contents');\n    }\n\n    this.contents = table.contents;\n  }\n\n  get table(): AttributesTable {\n    return this._table as AttributesTable;\n  }\n\n  /**\n   * Create a new attribute row with the column types and values\n   * @param  {Array} columnTypes column types\n   * @param  {module:dao/columnValues~ColumnValues[]} values      values\n   * @return {module:attributes/attributesRow~AttributeRow}             attribute row\n   */\n  newRow(columnTypes?: { [key: string]: GeoPackageDataType }, values?: Record<string, DBValue>): AttributesRow {\n    return new AttributesRow(this.table, columnTypes, values);\n  }\n\n  static readTable(geoPackage: GeoPackage, tableName: string): AttributesDao<AttributesRow> {\n    return geoPackage.getAttributeDao(tableName);\n  }\n}\n","import { AttributesTable } from './attributesTable';\nimport { UserRow } from '../user/userRow';\nimport { DBValue } from '../db/dbAdapter';\nimport { GeoPackageDataType } from '../db/geoPackageDataType';\n\n/**\n * Attribute Row containing the values from a single result set row\n * @class AttributesRow\n * @param  {module:attributes/attributesTable~AttributeTable} attributeTable attribute table\n * @param  {module:db/geoPackageDataType[]} columnTypes  column types\n * @param  {module:dao/columnValues~ColumnValues[]} values      values\n */\nexport class AttributesRow extends UserRow {\n  constructor(\n    attributeTable: AttributesTable,\n    columnTypes?: { [key: string]: GeoPackageDataType },\n    values?: Record<string, DBValue>,\n  ) {\n    super(attributeTable, columnTypes, values);\n  }\n}\n","/**\n * @module attributes/attributesTable\n */\nimport { UserTable } from '../user/userTable';\nimport { Contents } from '../core/contents/contents';\nimport { AttributesColumn } from './attributesColumn';\nimport { AttributesColumns } from './attributesColumns';\nimport { ContentsDataType } from '../core/contents/contentsDataType';\n\n/**\n * Represents a user attribute table\n * @class AttributesTable\n * @extends UserTable\n * @constructor\n * @param  {string} tableName table name\n * @param  {module:user/userColumn~UserColumn[]} columns   attribute columns\n */\nexport class AttributesTable extends UserTable<AttributesColumn> {\n  contents: Contents;\n\n  constructor(tableName: string, columns: AttributesColumn[]) {\n    super(new AttributesColumns(tableName, columns, false));\n  }\n\n  /**\n   * Set the contents\n   * @param  {module:core/contents~Contents} contents the contents\n   */\n  setContents(contents: Contents): boolean {\n    this.contents = contents;\n    if (contents.data_type !== ContentsDataType.ATTRIBUTES) {\n      throw new Error(\n        `The Contents of an Attributes Table must have a data type of ${ContentsDataType.ATTRIBUTES}`,\n      );\n    }\n    return true;\n  }\n}\n","/**\n * attributeTableReader module.\n * @module attributes/attributesTableReader\n */\n\nimport { UserTableReader } from '../user/userTableReader';\nimport { AttributesTable } from './attributesTable';\nimport { UserColumn } from '../user/userColumn';\nimport { AttributesColumn } from './attributesColumn';\nimport { TableColumn } from '../db/table/tableColumn';\nimport { GeoPackage } from '../geoPackage';\n\n/**\n * Reads the metadata from an existing attribute table\n * @class AttributesTableReader\n * @extends UserTableReader\n * @classdesc Reads the metadata from an existing attributes table\n */\nexport class AttributesTableReader extends UserTableReader<AttributesColumn, AttributesTable> {\n\n  constructor(table_name: string) {\n    super(table_name);\n  }\n\n  /**\n   * Read the attribute table\n   * @param geoPackage\n   */\n  readAttributeTable(geoPackage: GeoPackage): AttributesTable {\n    return this.readTable(geoPackage.database) as AttributesTable;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  createTable(tableName: string, columns: UserColumn[]): AttributesTable {\n    return new AttributesTable(tableName, columns);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  createColumn(tableColumn: TableColumn): AttributesColumn {\n    return new AttributesColumn(tableColumn.index, tableColumn.name, tableColumn.dataType, tableColumn.max, tableColumn.notNull, tableColumn.defaultValue, tableColumn.primaryKey, tableColumn.autoincrement);\n  }\n}\n","import proj4 from 'proj4';\nimport { Envelope } from './geom/envelope';\nimport { Feature, Polygon } from 'geojson';\nimport { Projection } from './projection/projection';\nimport { ProjectionConstants } from './projection/projectionConstants';\n\n/**\n * Create a new bounding box\n * @class BoundingBox\n */\nexport class BoundingBox {\n  _minLongitude: number;\n  _maxLongitude: number;\n  _minLatitude: number;\n  _maxLatitude: number;\n  _width: number;\n  _height: number;\n  /**\n   * @param  {BoundingBox | Number} minLongitudeOrBoundingBox minimum longitude or bounding box to copy (west)\n   * @param  {Number} [maxLongitude]              maximum longitude (east)\n   * @param  {Number} [minLatitude]               Minimum latitude (south)\n   * @param  {Number} [maxLatitude]               Maximum latitude (north)\n   */\n  constructor(\n    minLongitudeOrBoundingBox: BoundingBox | number,\n    maxLongitude?: number,\n    minLatitude?: number,\n    maxLatitude?: number,\n  ) {\n    // if there is a second argument the first argument is the minLongitude\n    if (minLongitudeOrBoundingBox instanceof BoundingBox) {\n      this.minLongitude = minLongitudeOrBoundingBox.minLongitude;\n      this.maxLongitude = minLongitudeOrBoundingBox.maxLongitude;\n      this.minLatitude = minLongitudeOrBoundingBox.minLatitude;\n      this.maxLatitude = minLongitudeOrBoundingBox.maxLatitude;\n    } else {\n      this.minLongitude = minLongitudeOrBoundingBox;\n      this.maxLongitude = maxLongitude;\n      this.minLatitude = minLatitude;\n      this.maxLatitude = maxLatitude;\n    }\n  }\n\n  get minLongitude (): number {\n    return this._minLongitude\n  }\n\n  set minLongitude (longitude: number) {\n    this._minLongitude = longitude;\n    this.width = this.maxLongitude - this.minLongitude;\n  }\n\n  get maxLongitude (): number {\n    return this._maxLongitude\n  }\n\n  set maxLongitude (longitude: number) {\n    this._maxLongitude = longitude;\n    this.width = this.maxLongitude - this.minLongitude;\n  }\n\n  get minLatitude (): number {\n    return this._minLatitude\n  }\n\n  set minLatitude (latitude: number) {\n    this._minLatitude = latitude;\n    this.height = this.maxLatitude - this.minLatitude;\n  }\n\n  get maxLatitude (): number {\n    return this._maxLatitude\n  }\n\n  set maxLatitude (latitude: number) {\n    this._maxLatitude = latitude;\n    this.height = this.maxLatitude - this.minLatitude;\n  }\n\n  get width (): number {\n    return this._width\n  }\n\n  set width (width: number) {\n    this._width = width;\n  }\n\n  get height (): number {\n    return this._height\n  }\n\n  set height (height: number) {\n    this._height = height;\n  }\n\n\n  /**\n   * Build a Geometry Envelope from the bounding box\n   *\n   * @return geometry envelope\n   */\n  buildEnvelope(): Envelope {\n    return {\n      minY: this.minLatitude,\n      minX: this.minLongitude,\n      maxY: this.maxLatitude,\n      maxX: this.maxLongitude,\n    };\n  }\n  toGeoJSON(): Feature<Polygon> {\n    return {\n      type: 'Feature',\n      properties: {},\n      geometry: {\n        type: 'Polygon',\n        coordinates: [\n          [\n            [this.minLongitude, this.minLatitude],\n            [this.maxLongitude, this.minLatitude],\n            [this.maxLongitude, this.maxLatitude],\n            [this.minLongitude, this.maxLatitude],\n            [this.minLongitude, this.minLatitude],\n          ],\n        ],\n      },\n    };\n  }\n  /**\n   * Determine if equal to the provided bounding box\n   * @param  {BoundingBox} boundingBox bounding boundingBox\n   * @return {Boolean}             true if equal, false if not\n   */\n  equals(boundingBox: BoundingBox): boolean {\n    if (!boundingBox) {\n      return false;\n    }\n    if (this === boundingBox) {\n      return true;\n    }\n    return (\n      this.maxLatitude === boundingBox.maxLatitude &&\n      this.minLatitude === boundingBox.minLatitude &&\n      this.maxLongitude === boundingBox.maxLongitude &&\n      this.maxLatitude === boundingBox.maxLatitude\n    );\n  }\n\n  /**\n   * Project the bounding box into a new projection\n   *\n   * @param {string} from\n   * @param {string} to\n   * @return {BoundingBox}\n   */\n  projectBoundingBox(from?: string | proj4.Converter, to?: string | proj4.Converter): BoundingBox {\n    let minLatitude = this.minLatitude;\n    let maxLatitude = this.maxLatitude;\n    let minLongitude = this.minLongitude;\n    let maxLongitude = this.maxLongitude;\n\n    if (from && from !== 'undefined' && to && to !== 'undefined') {\n      // if we are going from 4326 to 3857, we first need to trim to the maximum for 3857\n      if (Projection.isWebMercator(to) && Projection.isWGS84(from)) {\n        maxLatitude = Math.min(maxLatitude, ProjectionConstants.WEB_MERCATOR_MAX_LAT_RANGE);\n        minLatitude = Math.max(minLatitude, ProjectionConstants.WEB_MERCATOR_MIN_LAT_RANGE);\n        maxLongitude = Math.min(maxLongitude, ProjectionConstants.WEB_MERCATOR_MAX_LON_RANGE);\n        minLongitude = Math.max(minLongitude, ProjectionConstants.WEB_MERCATOR_MIN_LON_RANGE);\n      }\n\n      let toConverter: proj4.Converter;\n      if (Projection.isConverter(to)) {\n        toConverter = to;\n      } else {\n        toConverter = Projection.getConverter(to);\n      }\n      let fromConverter: proj4.Converter;\n      if (Projection.isConverter(from)) {\n        fromConverter = from;\n      } else {\n        fromConverter = Projection.getConverter(from);\n      }\n\n      // no need to convert if converters are the same\n      if (Projection.convertersMatch(toConverter, fromConverter)) {\n        return new BoundingBox(minLongitude, maxLongitude, minLatitude, maxLatitude);\n      } else {\n        const sw = toConverter.forward(fromConverter.inverse([minLongitude, minLatitude]));\n        const ne = toConverter.forward(fromConverter.inverse([maxLongitude, maxLatitude]));\n        const se = toConverter.forward(fromConverter.inverse([maxLongitude, minLatitude]));\n        const nw = toConverter.forward(fromConverter.inverse([minLongitude, maxLatitude]));\n\n        return new BoundingBox(\n          Math.min(sw[0], nw[0]),\n          Math.max(ne[0], se[0]),\n          Math.min(sw[1], se[1]),\n          Math.max(ne[1], se[1]),\n        );\n      }\n    }\n    return this;\n  }\n}\n","import { CanvasAdapter } from './canvasAdapter';\n\nexport class Canvas {\n  private static adapter: CanvasAdapter = undefined;\n\n  static registerCanvasAdapter (adapter: new () => CanvasAdapter) {\n    Canvas.adapter = new adapter();\n  }\n\n  static adapterInitialized (): boolean {\n    return Canvas.adapter != null && Canvas.adapter.isInitialized();\n  }\n\n  static async initializeAdapter () {\n    if (Canvas.adapter.isInitialized()) {\n      return;\n    }\n    try {\n      await Canvas.adapter.initialize();\n    }\n    catch (err) {\n      if (err instanceof Error) {\n        throw err;\n      }\n      throw new Error('error intializing canvas adapter: ' + String(err));\n    }\n  }\n\n  static checkCanvasAdapter() {\n    if (!Canvas.adapter) {\n      throw new Error('Canvas adapter not registered.');\n    } else if (!Canvas.adapter.isInitialized()) {\n      throw new Error('Canvas adapter not initialized.');\n    }\n  }\n\n  static create (width, height) {\n    Canvas.checkCanvasAdapter();\n    return Canvas.adapter.create(width, height);\n  }\n\n  static async createImage (data: any, contentType: string = 'image/png'): Promise<{image: any, width: number, height: number}> {\n    Canvas.checkCanvasAdapter();\n    return Canvas.adapter.createImage(data, contentType);\n  }\n\n  static createImageData (width, height) {\n    Canvas.checkCanvasAdapter();\n    return Canvas.adapter.createImageData(width, height);\n  }\n\n  static disposeCanvas(canvas) {\n    Canvas.checkCanvasAdapter();\n    Canvas.adapter.disposeCanvas(canvas);\n  }\n\n  static measureText(context: CanvasRenderingContext2D, fontFace: string, fontSize: number, text: string): number {\n    Canvas.checkCanvasAdapter();\n    return Canvas.adapter.measureText(context, fontFace, fontSize, text);\n  }\n\n  static drawText(context: CanvasRenderingContext2D, text: string, location: number[], fontFace: string, fontSize: number, fontColor: string) {\n    Canvas.checkCanvasAdapter();\n    return Canvas.adapter.drawText(context, text, location, fontFace, fontSize, fontColor);\n  }\n\n  static scaleImage(image: {image: any, width: number, height: number}, scale: number) {\n    Canvas.checkCanvasAdapter();\n    return Canvas.adapter.scaleImage(image, scale);\n  }\n\n  static scaleImageToDimensions(image: {image: any, width: number, height: number}, scaledWidth: number, scaledHeight: number) {\n    Canvas.checkCanvasAdapter();\n    return Canvas.adapter.scaleImageToDimensions(image, scaledWidth, scaledHeight);\n  }\n\n  static async toDataURL(canvas, format = 'image/png'): Promise<string> {\n    Canvas.checkCanvasAdapter();\n    return Canvas.adapter.toDataURL(canvas, format)\n  }\n\n  static disposeImage(image: {image: any, width: number, height: number}) {\n    Canvas.checkCanvasAdapter();\n    Canvas.adapter.disposeImage(image);\n  }\n}\n","import { CanvasAdapter } from './canvasAdapter';\nimport path from 'path';\nimport fs from 'fs';\nimport http from 'http';\nimport CanvasKitInit from '../../canvaskit/canvaskit.js';\nimport { CanvasUtils } from './canvasUtils';\n\n/**\n * Node based canvas creation\n */\nexport class CanvasKitCanvasAdapter implements CanvasAdapter {\n  private static CanvasKit;\n  private static initialized = false;\n\n  // default wasm locator\n  static canvasKitWasmLocateFile: (filename: string) => string = (filename) => {\n    return path.join(__dirname, '..', '..', 'canvaskit', filename);\n  };\n\n  // allow user to set the locate file function, if they place it somewhere else\n  static setCanvasKitWasmLocateFile(locateFile: (filename: string) => string) {\n    CanvasKitCanvasAdapter.canvasKitWasmLocateFile = locateFile;\n  }\n\n  // Let user set CanvasKit from outside of this module. i.e. they load it into their context and then pass the CanvasKit object to this adapter.\n  static setCanvasKit (CanvasKit) {\n    CanvasKitCanvasAdapter.CanvasKit = CanvasKit;\n    CanvasKitCanvasAdapter.initialized = true;\n  }\n\n  initialize(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      try {\n        CanvasKitInit({\n          locateFile: CanvasKitCanvasAdapter.canvasKitWasmLocateFile\n        }).then(CanvasKit => {\n          CanvasKitCanvasAdapter.CanvasKit = CanvasKit;\n          CanvasKitCanvasAdapter.initialized = true;\n          resolve();\n        }).catch(err => {\n          console.error('error initializing CanvasKit:', err);\n          if (err instanceof Error) {\n            return reject(err);\n          }\n          reject('Failed to load the CanvasKit WebAssembly file at ' + CanvasKitCanvasAdapter.canvasKitWasmLocateFile('canvaskit.wasm') + '.\\nUpdate file locator function using NodeCanvasAdapter.setCanvasKitWasmLocateFile.');\n        });\n      } catch (e) {\n        reject('Failed to load the CanvasKit WebAssembly file at ' + CanvasKitCanvasAdapter.canvasKitWasmLocateFile('canvaskit.wasm') + '.\\nUpdate file locator function using NodeCanvasAdapter.setCanvasKitWasmLocateFile.');\n      }\n    });\n  }\n\n  isInitialized(): boolean {\n    return CanvasKitCanvasAdapter.initialized;\n  }\n\n  create(width: number, height: number): any {\n    return CanvasKitCanvasAdapter.CanvasKit.MakeCanvas(width, height);\n  }\n\n  /**\n   * Supports creating an image from file, base64 encoded image, image data buffer or url\n   * @param imageData\n   * @param contentType\n   */\n  async createImage(imageData: any, contentType: string): Promise<{image: any, width: number, height: number}> {\n    let src = imageData;\n    let image;\n    let width;\n    let height;\n    try {\n      if (typeof imageData === 'string') {\n        if (/^\\s*data:/.test(imageData)) {\n          src = CanvasUtils.base64toUInt8Array(imageData.split(',')[1]);\n        } else if (/^\\s*https?:\\/\\//.test(imageData)) {\n          src = await new Promise((resolve, reject) => {\n            http.get(imageData, res => {\n              const data = [];\n              if (res.statusCode === 200) {\n                res.on('data', function(chunk) {\n                  data.push(chunk);\n                }).on('end', function() {\n                  resolve(Buffer.concat(data).buffer);\n                }).on('error', function(e) {\n                  reject(e);\n                });\n              } else {\n                reject('Code: ' + res.statusCode);\n              }\n            })\n          });\n        } else {\n          // imageData is a file path\n          src = await new Promise((resolve, reject) => {\n            fs.readFile(imageData, (e, data) => {\n              if (e) {\n                reject(e);\n              } else {\n                resolve(data);\n              }\n            })\n          });\n        }\n      }\n      image = CanvasKitCanvasAdapter.CanvasKit.MakeImageFromEncoded(src);\n      if (image != null) {\n        width = image.width();\n        height = image.height();\n      }\n    } catch (e) {\n      throw new Error('Failed to create image.');\n    }\n\n    if (image == null) {\n      throw new Error('Failed to create image.');\n    }\n\n    return {image: image, width: width, height: height};\n  }\n\n  createImageData(width, height): any {\n    return new CanvasKitCanvasAdapter.CanvasKit.ImageData(width, height);\n  }\n\n  disposeCanvas(canvas: any) {\n    if (canvas != null) {\n      canvas.dispose();\n      canvas = null;\n    }\n  }\n\n  measureText(context: any, fontFace: string, fontSize: number, text: string): number {\n    const font = new CanvasKitCanvasAdapter.CanvasKit.Font(null, fontSize);\n    const ids = font.getGlyphIDs(text);\n    const paint = new CanvasKitCanvasAdapter.CanvasKit.Paint();\n    paint.setStyle(CanvasKitCanvasAdapter.CanvasKit.PaintStyle.Fill);\n    const size = font.getGlyphWidths(ids, paint).reduce(function(a, b){\n      return a + b;\n    }, 0);\n    paint.delete();\n    return size;\n  }\n\n  drawText(context: any, text: string, location: number[], fontFace: string, fontSize: number, fontColor: string): void {\n    context.save();\n    context.fillStyle = fontColor;\n    context.font = fontSize + 'px \\'' + fontFace + '\\'';\n    context.textBaseline = 'middle';\n    const textWidth = this.measureText(context, fontFace, fontSize, text);\n    context.fillText(text, location[0] - textWidth / 2, location[1] + fontSize / 4);\n    context.restore();\n  }\n\n  toDataURL(canvas: any, format: string = 'image/png'): Promise<string> {\n    return Promise.resolve(canvas.toDataURL(format));\n  }\n\n  async scaleImage(image: { image: any; width: number; height: number }, scale: number): Promise<{ image: any; width: number; height: number }> {\n    const scaledWidth = Math.round(scale * image.width);\n    const scaledHeight = Math.round(scale * image.height);\n    return this.scaleImageToDimensions(image, scaledWidth, scaledHeight);\n  }\n\n  async scaleImageToDimensions(image: { image: any; width: number; height: number }, scaledWidth: number, scaledHeight: number): Promise<{ image: any; width: number; height: number }> {\n    const canvas: any = this.create(scaledWidth, scaledHeight);\n    const ctx = canvas.getContext('2d');\n    ctx.drawImage(image.image, 0, 0, scaledWidth, scaledHeight);\n    const result = await this.createImage(await this.toDataURL(canvas, 'image/png'), 'image/png');\n    this.disposeCanvas(canvas);\n    return result;\n  }\n\n  disposeImage(image: {image: any, width: number, height: number}): void {\n    if (image != null && image.image && image.image.delete) {\n      image.image.delete();\n      image.image = null;\n    }\n  }\n}\n","export class CanvasUtils {\n  static base64toUInt8Array(data) {\n    const bytes = Buffer.from(data, 'base64').toString('binary');\n    let length = bytes.length;\n    let out = new Uint8Array(length);\n\n    // Loop and convert.\n    while (length--) {\n      out[length] = bytes.charCodeAt(length);\n    }\n\n    return out;\n  };\n}\n","import { CanvasAdapter } from './canvasAdapter';\n\n/**\n * Browser based canvas adapter\n */\nexport class HtmlCanvasAdapter implements CanvasAdapter {\n  private static initialized = false;\n\n  initialize(): Promise<void> {\n    return new Promise(resolve => {\n      HtmlCanvasAdapter.initialized = true;\n      resolve();\n    });\n  }\n\n  isInitialized(): boolean {\n    return HtmlCanvasAdapter.initialized;\n  }\n\n  create(width: number, height: number): any {\n    const c = document.createElement('canvas');\n    c.width = width;\n    c.height = height;\n    return c;\n  }\n\n  createImage(data: any, contentType: string): Promise<{image: any, width: number, height: number}> {\n    return new Promise((resolve, reject) => {\n      let src = data;\n      if (data instanceof Buffer || Object.prototype.toString.call(data) === '[object Uint8Array]') {\n        src = URL.createObjectURL(new Blob([data], {type: contentType}));\n      }\n      const image = new Image();\n      image.onload = () => {\n        const result = {\n          image: image,\n          width: image.width,\n          height: image.height,\n        }\n        resolve(result);\n      };\n      image.onerror = (error: any): void => {\n        reject(error);\n      };\n      image.crossOrigin = 'Anonymous';\n      image.src = src;\n    })\n  }\n\n  createImageData(width, height) {\n    return new ImageData(width, height);\n  }\n\n  disposeCanvas(canvas: any) {\n    canvas = null;\n  }\n\n  measureText(context: any, fontFace: string, fontSize: number, text: string): number {\n    context.save();\n    context.font = fontSize + 'px' + (fontFace != null ? (' \\'' + fontFace + '\\'') : '');\n    context.textBaseline = 'middle';\n    context.textAlign = 'center';\n    const width = context.measureText(text).width;\n    context.restore();\n    return width;\n  }\n\n  drawText(context: any, text: string, location: number[], fontFace: string, fontSize: number, fontColor: string) {\n    context.save();\n    context.font = fontSize + 'px' + (fontFace != null ? (' \\'' + fontFace + '\\'') : '');\n    context.fillStyle = fontColor;\n    context.textBaseline = 'middle';\n    context.textAlign = 'center';\n    context.fillText(text, location[0], location[1]);\n    context.restore();\n  }\n\n  async scaleImage(image: { image: any; width: number; height: number }, scale: number): Promise<{ image: any; width: number; height: number }> {\n    if (scale === 1.0) {\n      return image;\n    }\n    const scaledWidth = Math.round(scale * image.width);\n    const scaledHeight = Math.round(scale * image.height);\n    return this.scaleImageToDimensions(image, scaledWidth, scaledHeight);\n  }\n\n  async scaleImageToDimensions(image: { image: any; width: number; height: number }, scaledWidth: number, scaledHeight: number): Promise<{ image: any; width: number; height: number }> {\n    const canvas: any = this.create(scaledWidth, scaledHeight);\n    const ctx = canvas.getContext('2d');\n    ctx.drawImage(image.image, 0, 0, scaledWidth, scaledHeight);\n    const result = await this.createImage(await this.toDataURL(canvas, 'image/png'), 'image/png');\n    this.disposeCanvas(canvas);\n    return result;\n  }\n\n  toDataURL(canvas: any, format: string = 'image/png'): Promise<string> {\n    return Promise.resolve(canvas.toDataURL(format));\n  }\n\n  disposeImage(image: {image: any, width: number, height: number}): void {\n  }\n}\n","import { CanvasAdapter } from './canvasAdapter';\nimport { CanvasUtils } from './canvasUtils';\n\ndeclare class OffscreenCanvas {\n  constructor(width: number, height: number);\n}\n\n/**\n * OffscreenCanvas canvas adapter. This can only run inside a web worker.\n */\nexport class OffscreenCanvasAdapter implements CanvasAdapter {\n  private static initialized = false;\n\n  initialize(): Promise<void> {\n    return new Promise(resolve => {\n      OffscreenCanvasAdapter.initialized = true;\n      resolve();\n    });\n  }\n\n  isInitialized(): boolean {\n    return OffscreenCanvasAdapter.initialized;\n  }\n\n  create(width: number, height: number): any {\n    return new OffscreenCanvas(width, height);\n  }\n\n  createImage(data: any, contentType: string = 'image/png'): Promise<{image: any, width: number, height: number}> {\n    return new Promise((resolve, reject) => {\n      let blob = data;\n      if (data instanceof Buffer || Object.prototype.toString.call(data) === '[object Uint8Array]') {\n        blob = new Blob([data], {type: contentType});\n      } else if (typeof data === 'string') {\n        blob = new Blob([CanvasUtils.base64toUInt8Array(data.split(',')[1])], {type: contentType});\n      }\n      createImageBitmap(blob).then(image => {\n        resolve({\n          image: image,\n          width: image.width,\n          height: image.height,\n        });\n      }).catch(error => {\n        reject(error);\n      });\n    })\n  }\n\n  createImageData(width, height) {\n    return new ImageData(width, height);\n  }\n\n  disposeCanvas(canvas: any) {\n    canvas = null;\n  }\n\n  measureText(context: any, fontFace: string, fontSize: number, text: string): number {\n    context.save();\n    context.font = fontSize + 'px' + (fontFace != null ? (' \\'' + fontFace + '\\'') : '');\n    context.textBaseline = 'middle';\n    context.textAlign = 'center';\n    const width = context.measureText(text).width;\n    context.restore();\n    return width;\n  }\n\n  drawText(context: any, text: string, location: number[], fontFace: string, fontSize: number, fontColor: string) {\n    context.save();\n    context.font = fontSize + 'px' + (fontFace != null ? (' \\'' + fontFace + '\\'') : '');\n    context.fillStyle = fontColor;\n    context.textBaseline = 'middle';\n    context.textAlign = 'center';\n    context.fillText(text, location[0], location[1]);\n    context.restore();\n  }\n\n  async scaleImage(image: { image: any; width: number; height: number }, scale: number): Promise<{ image: any; width: number; height: number }> {\n    if (scale === 1.0) {\n      return image;\n    }\n    const scaledWidth = Math.round(scale * image.width);\n    const scaledHeight = Math.round(scale * image.height);\n    return this.scaleImageToDimensions(image, scaledWidth, scaledHeight);\n  }\n\n  async scaleImageToDimensions(image: { image: any; width: number; height: number }, scaledWidth: number, scaledHeight: number): Promise<{ image: any; width: number; height: number }> {\n    const canvas: any = this.create(scaledWidth, scaledHeight);\n    const ctx = canvas.getContext('2d');\n    ctx.drawImage(image.image, 0, 0, scaledWidth, scaledHeight);\n    const result = {\n      image: canvas.transferToImageBitmap(),\n      width: scaledWidth,\n      height: scaledHeight\n    };\n    this.disposeCanvas(canvas);\n    return result;\n  }\n\n  toDataURL(canvas: any, format: string = 'image/png'): Promise<string> {\n    // @ts-ignore\n    return new Promise((resolve) => {\n      canvas.convertToBlob({type: format}).then(blob => {\n        const reader = new FileReader();\n        reader.addEventListener('load', () => {\n          const result: string = reader.result as string;\n          resolve(result)\n        });\n        reader.readAsDataURL(blob);\n      })\n    })\n  }\n\n  disposeImage(image: {image: any, width: number, height: number}): void {\n  }\n}\n","import { Db } from '../db/db';\nimport { DBAdapter } from '../db/dbAdapter';\nimport { SqliteAdapter } from '../db/sqliteAdapter';\nimport { SqljsAdapter } from '../db/sqljsAdapter';\nimport { Canvas } from '../canvas/canvas';\nimport { CanvasAdapter } from '../canvas/canvasAdapter';\nimport { CanvasKitCanvasAdapter } from '../canvas/canvasKitCanvasAdapter';\nimport { HtmlCanvasAdapter } from '../canvas/htmlCanvasAdapter';\nimport { OffscreenCanvasAdapter } from '../canvas/offscreenCanvasAdapter';\n\nexport class Context {\n  static isNode: boolean = typeof process !== 'undefined' && process.versions != null && process.versions.node != null;\n  static isBrowser: boolean = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  // @ts-ignore\n  static isWebWorker: boolean = typeof importScripts !== 'undefined';\n\n  static async initializeContext () {\n    await Canvas.initializeAdapter();\n  }\n\n  /**\n   * Registers the sqlite adapter. Will check for better-sqlite3 dependency before trying.\n   * @private\n   */\n  private static registerSqliteAdapter () {\n    try {\n      // better-sqlite3 is an optional dependency\n      require('better-sqlite3');\n      Db.registerDbAdapter(SqliteAdapter);\n    } catch (e) {\n      console.error('Unable to register SqliteAdapter. The better-sqlite3 module was not found. Falling back to SqljsAdapter.', e);\n      // fallback to sqljs adapter\n      Db.registerDbAdapter(SqljsAdapter);\n    }\n  }\n\n  static setupNodeContext () {\n    Context.registerSqliteAdapter();\n    Canvas.registerCanvasAdapter(CanvasKitCanvasAdapter);\n  }\n\n  static setupBrowserContext () {\n    Db.registerDbAdapter(SqljsAdapter);\n    Canvas.registerCanvasAdapter(HtmlCanvasAdapter);\n  }\n\n  static setupWebWorkerContext () {\n    Db.registerDbAdapter(SqljsAdapter);\n    Canvas.registerCanvasAdapter(OffscreenCanvasAdapter);\n  }\n\n  /**\n   * Will attempt to register a custom context.\n   * @param dbAdapter\n   * @param canvasAdapter\n   */\n  static setupCustomContext(dbAdapter: new (path: string | Buffer | Uint8Array | undefined) => DBAdapter, canvasAdapter: new () => CanvasAdapter) {\n    Db.registerDbAdapter(dbAdapter);\n    Canvas.registerCanvasAdapter(canvasAdapter);\n  }\n\n  static setupDefaultContext () {\n    if (Context.isNode) {\n      Context.setupNodeContext();\n    } else if (Context.isBrowser) {\n      Context.setupBrowserContext()\n    } else if (Context.isWebWorker) {\n      Context.setupWebWorkerContext()\n    }\n  }\n}\n","/**\n * The Contents class models rows in the [`gpkg_contents`](https://www.geopackage.org/spec121/index.html#_contents)\n * table.  The contents table stores identifying and descriptive information\n * that an application can display to a user in a menu of geospatial data\n * available in a GeoPackage.\n * @see https://www.geopackage.org/spec121/index.html#_contents\n */\nexport class Contents {\n  /**\n   * the name of the tiles, or feature table\n   * @member {string}\n   */\n  table_name: string;\n\n  /**\n   * Type of data stored in the table:. features per clause Features,\n   * tiles per clause Tiles, or an implementer-defined value for other data\n   * tables per clause in an Extended GeoPackage.\n   * @member {string}\n   */\n  data_type: string;\n\n  /**\n   * A human-readable identifier (e.g. short name) for the table_name content\n   * @member {string}\n   */\n  identifier: string;\n\n  /**\n   * A human-readable description for the table_name content\n   * @member {string}\n   */\n  description: string;\n\n  /**\n   * timestamp value in ISO 8601 format as defined by the strftime function\n   * %Y-%m-%dT%H:%M:%fZ format string applied to the current time\n   * @member {Date}\n   */\n  last_change: string;\n\n  /**\n   * Bounding box minimum easting or longitude for all content in table_name\n   * @member {Number}\n   */\n  min_x: number;\n\n  /**\n   * Bounding box minimum northing or latitude for all content in table_name\n   * @member {Number}\n   */\n  min_y: number;\n\n  /**\n   * Bounding box maximum easting or longitude for all content in table_name\n   * @member {Number}\n   */\n  max_x: number;\n\n  /**\n   * Bounding box maximum northing or latitude for all content in table_name\n   * @member {Number}\n   */\n  max_y: number;\n\n  /**\n   * Unique identifier for each Spatial Reference System within a GeoPackage\n   * @member {SRSRef}\n   */\n  srs_id: number;\n\n  /**\n   * Copy function\n   */\n  copy(): Contents {\n    let contents = new Contents();\n    contents.table_name = this.table_name;\n    contents.data_type = this.data_type;\n    contents.identifier = this.identifier;\n    contents.description = this.description;\n    contents.min_x = this.min_x;\n    contents.max_x = this.max_x;\n    contents.min_y = this.min_y;\n    contents.max_y = this.max_y;\n    contents.srs_id = this.srs_id;\n    return contents;\n  }\n\n  getTableName(): string {\n    return this.table_name;\n  }\n\n}\n","import { Dao } from '../../dao/dao';\nimport { TileMatrixDao } from '../../tiles/matrix/tileMatrixDao';\nimport { TileMatrixSetDao } from '../../tiles/matrixset/tileMatrixSetDao';\nimport { GeometryColumnsDao } from '../../features/columns/geometryColumnsDao';\nimport { Contents } from './contents';\nimport { ColumnValues } from '../../dao/columnValues';\nimport { GeometryColumns } from '../../features/columns/geometryColumns';\nimport { TileMatrixSet } from '../../tiles/matrixset/tileMatrixSet';\nimport { TileMatrix } from '../../tiles/matrix/tileMatrix';\nimport { SpatialReferenceSystem } from '../srs/spatialReferenceSystem';\nimport { BoundingBox } from '../../boundingBox';\nimport { DBValue } from '../../db/dbAdapter';\nimport { ContentsDataType } from './contentsDataType';\nimport { ProjectionConstants } from '../../projection/projectionConstants';\n\n/**\n * Contents object. Provides identifying and descriptive information that an\n * application can display to a user in a menu of geospatial data that is\n * available for access and/or update.\n * @class ContentsDao\n * @extends Dao\n */\nexport class ContentsDao extends Dao<Contents> {\n  public static readonly TABLE_NAME: string = 'gpkg_contents';\n\n  public static readonly COLUMN_PK: string = 'table_name';\n\n  public static readonly COLUMN_TABLE_NAME: string = 'table_name';\n\n  public static readonly COLUMN_DATA_TYPE: string = 'data_type';\n\n  public static readonly COLUMN_IDENTIFIER: string = 'identifier';\n\n  public static readonly COLUMN_DESCRIPTION: string = 'description';\n\n  public static readonly COLUMN_LAST_CHANGE: string = 'last_change';\n\n  public static readonly COLUMN_MIN_X: string = 'min_x';\n\n  public static readonly COLUMN_MIN_Y: string = 'min_y';\n\n  public static readonly COLUMN_MAX_X: string = 'max_x';\n\n  public static readonly COLUMN_MAX_Y: string = 'max_y';\n\n  public static readonly COLUMN_SRS_ID: string = 'srs_id';\n\n  readonly gpkgTableName: string = ContentsDao.TABLE_NAME;\n\n  readonly idColumns: string[] = [ContentsDao.COLUMN_PK];\n\n  /**\n   * Creates a new Contents object\n   * @return {module:core/contents~Contents} new Contents object\n   */\n  createObject(results?: Record<string, DBValue>): Contents {\n    const c = new Contents();\n    if (results) {\n      c.table_name = results.table_name as string;\n      c.data_type = results.data_type as string;\n      c.identifier = results.identifier as string;\n      c.description = results.description as string;\n      c.last_change = results.last_change as string;\n      c.min_y = results.min_y as number;\n      c.max_y = results.max_y as number;\n      c.min_x = results.min_x as number;\n      c.max_x = results.max_x as number;\n      c.srs_id = results.srs_id as number;\n    }\n    return c;\n  }\n\n  /**\n   * Get table names by table type\n   * @param  {string} [tableType] table type to query for\n   * @return {string[]}           Array of table names\n   */\n  getTables(tableType?: string): string[] {\n    let results;\n    if (tableType) {\n      const fieldValues = new ColumnValues();\n      fieldValues.addColumn(ContentsDao.COLUMN_DATA_TYPE, tableType);\n      results = this.queryForColumns('table_name', fieldValues);\n    } else {\n      results = this.queryForColumns('table_name');\n    }\n    const tableNames = [];\n    for (let i = 0; i < results.length; i++) {\n      tableNames.push(results[i].table_name as string);\n    }\n    return tableNames;\n  }\n\n  getContentsForTableType(tableType?: string, reprojectTo4326 = false): Contents[] {\n    const results: Contents[] = [];\n    if (tableType) {\n      const fieldValues = new ColumnValues();\n      fieldValues.addColumn(ContentsDao.COLUMN_DATA_TYPE, tableType);\n      for (const row of this.queryForFieldValues(fieldValues)) {\n        const contents = (row as unknown) as Contents;\n        if (reprojectTo4326) {\n          const bb = new BoundingBox(contents.min_x, contents.max_x, contents.min_y, contents.max_y).projectBoundingBox(\n            this.getProjection(contents),\n            ProjectionConstants.EPSG_4326\n          );\n          contents.min_x = bb.minLongitude;\n          contents.max_x = bb.maxLongitude;\n          contents.min_y = bb.minLatitude;\n          contents.max_y = bb.maxLatitude;\n        }\n        results.push(contents);\n      }\n    }\n    return results;\n  }\n\n  /**\n   * Returns the proj4 projection for the Contents\n   * @param  {module:core/contents~Contents} contents Contents to get the projection from\n   * @return {*}          proj4 projection\n   */\n  getProjection(contents: Contents): proj4.Converter {\n    const srs = this.getSrs(contents);\n    return this.geoPackage.spatialReferenceSystemDao.getProjection(srs);\n  }\n\n  /**\n   * Get the SpatialReferenceSystemDao for the Contents\n   * @param  {module:core/contents~Contents} contents Contents to get the SpatialReferenceSystemDao from\n   * @return {module:core/srs~SpatialReferenceSystemDao}\n   */\n  getSrs(contents: Contents): SpatialReferenceSystem {\n    return this.geoPackage.spatialReferenceSystemDao.queryForId(contents.srs_id);\n  }\n\n  /**\n   * Get the GeometryColumns for the Contents\n   * @param  {module:core/contents~Contents} contents Contents\n   * @return {module:features/columns~GeometryColumns}\n   */\n  getGeometryColumns(contents: Contents): GeometryColumns {\n    const dao: GeometryColumnsDao = this.geoPackage.geometryColumnsDao;\n    const results = dao.queryForAllEq(GeometryColumnsDao.COLUMN_TABLE_NAME, contents.table_name);\n    if (results?.length) {\n      const gc: GeometryColumns = dao.createObject(results[0]);\n      return gc;\n    }\n    return undefined;\n  }\n\n  /**\n   * Get the TileMatrixSet for the Contents\n   * @param  {module:core/contents~Contents} contents Contents\n   * @return {module:tiles/matrixset~TileMatrixSet}\n   */\n  getTileMatrixSet(contents: Contents): TileMatrixSet {\n    const dao = this.geoPackage.tileMatrixSetDao;\n    const results = dao.queryForAllEq(TileMatrixSetDao.COLUMN_TABLE_NAME, contents.table_name);\n    if (results?.length) {\n      return dao.createObject(results[0]);\n    }\n    return undefined;\n  }\n\n  /**\n   * Get the TileMatrix for the Contents\n   * @param  {module:core/contents~Contents} contents Contents\n   * @return {module:tiles/matrix~TileMatrix}\n   */\n  getTileMatrix(contents: Contents): TileMatrix[] {\n    const dao = this.geoPackage.tileMatrixDao;\n    const results = dao.queryForAllEq(TileMatrixDao.COLUMN_TABLE_NAME, contents.table_name);\n    if (!results || !results.length) return undefined;\n    const tileMatrices = [];\n    for (let i = 0; i < results.length; i++) {\n      const gc = dao.createObject(results[i]);\n      tileMatrices.push(gc);\n    }\n    return tileMatrices;\n  }\n\n  deleteCascadeContents(contents: Contents): number {\n    let count = 0;\n    if (contents !== null && contents !== undefined) {\n      let dataType = ContentsDataType.fromName(contents.data_type);\n      if (dataType !== null && dataType !== undefined) {\n        switch (dataType) {\n          case ContentsDataType.FEATURES:\n            // Delete Geometry Columns\n            let geometryColumnsDao = this.geoPackage.geometryColumnsDao;\n            if (geometryColumnsDao.isTableExists()) {\n              let geometryColumns = this.getGeometryColumns(contents);\n              if (geometryColumns !== null && geometryColumns !== undefined) {\n                geometryColumnsDao.deleteByMultiId([geometryColumns.table_name, geometryColumns.column_name]);\n              }\n            }\n            break;\n          case ContentsDataType.TILES:\n          // case GRIDDED_COVERAGE:\n            // Delete Tile Matrix collection\n            let tileMatrixDao = this.geoPackage.tileMatrixDao;\n            if (tileMatrixDao.isTableExists()) {\n              let tileMatrixCollection = this.getTileMatrix(contents);\n              if (tileMatrixCollection !== null && tileMatrixCollection !== undefined && tileMatrixCollection.length > 0) {\n                tileMatrixCollection.forEach(tileMatrix => {\n                  tileMatrixDao.deleteByMultiId([tileMatrix.table_name, tileMatrix.zoom_level]);\n                });\n              }\n            }\n            // Delete Tile Matrix Set\n            let tileMatrixSetDao = this.geoPackage.tileMatrixSetDao;\n            if (tileMatrixSetDao.isTableExists()) {\n              let tileMatrixSet = this.getTileMatrixSet(contents);\n              if (tileMatrixSet !== null && tileMatrixSet !== undefined) {\n                tileMatrixSetDao.deleteById(tileMatrixSet.table_name);\n              }\n            }\n            break;\n          case ContentsDataType.ATTRIBUTES:\n            this.dropTableWithTableName(contents.table_name);\n            break;\n\n        }\n\n      } else {\n        this.dropTableWithTableName(contents.table_name);\n      }\n\n      count = this.delete(contents);\n    }\n\n    return count;\n  }\n\n  deleteCascade(contents: Contents, userTable: boolean): number {\n    let count = this.deleteCascadeContents(contents);\n    if (userTable) {\n      this.dropTableWithTableName(contents.table_name);\n    }\n    return count;\n  }\n\n  deleteByIdCascade(id: string, userTable: boolean): number {\n    let count = 0;\n    if (id !== null && id !== undefined) {\n      let contents = this.queryForId(id);\n      if (contents !== null && contents !== undefined) {\n        count = this.deleteCascade(contents, userTable);\n      } else if (userTable) {\n        this.dropTableWithTableName(id);\n      }\n    }\n    return count;\n  }\n\n\ndeleteTable(table: string) {\n    try {\n      this.deleteByIdCascade(table, true);\n    } catch (e) {\n      throw new Error('Failed to delete table: ' + table);\n    }\n  }\n}\n","export enum ContentsDataType {\n  FEATURES = 'features',\n  TILES = 'tiles',\n  ATTRIBUTES = 'attributes'\n}\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace ContentsDataType {\n  export function nameFromType(type: ContentsDataType): string {\n    return ContentsDataType[type];\n  }\n\n  export function fromName(type: string): ContentsDataType {\n    let dataType = null;\n    if (type !== null && type !== undefined) {\n      switch (type.toLowerCase()) {\n        case ContentsDataType.FEATURES:\n          dataType = ContentsDataType.FEATURES;\n          break;\n        case ContentsDataType.TILES:\n          dataType = ContentsDataType.TILES;\n          break;\n        case ContentsDataType.ATTRIBUTES:\n          dataType = ContentsDataType.ATTRIBUTES;\n          break;\n        default:\n          break;\n      }\n    }\n    return dataType;\n  }\n}\n","/* eslint-disable camelcase */\n/**\n * SpatialReferenceSystem module.\n * @module core/srs\n */\nimport proj4 from 'proj4';\nimport { Projection } from '../../projection/projection';\nimport { ProjectionConstants } from '../../projection/projectionConstants';\n\n/**\n * Spatial Reference System object. The coordinate reference system definitions it contains are referenced by the GeoPackage Contents and GeometryColumns objects to relate the vector and tile data in user tables to locations on the earth.\n * @class SpatialReferenceSystem\n */\nexport class SpatialReferenceSystem {\n  public static readonly TABLE_NAME = 'gpkg_spatial_ref_sys';\n  /**\n   * Human readable name of this SRS\n   * @type {string}\n   */\n  srs_name: string;\n  /**\n   * Unique identifier for each Spatial Reference System within a GeoPackage\n   * @type {Number}\n   */\n  srs_id: number;\n  /**\n   * Case-insensitive name of the defining organization e.g. EPSG or epsg\n   * @type {string}\n   */\n  organization: string;\n  /**\n   * Numeric ID of the Spatial Reference System assigned by the organization\n   * @type {Number}\n   */\n  organization_coordsys_id: number;\n  /**\n   * Well-known Text [32] Representation of the Spatial Reference System\n   * @type {string}\n   */\n  definition: string;\n  /**\n   * Human readable description of this SRS\n   * @type {string}\n   */\n  description: string;\n  /**\n   * Well-known Text Representation of the Spatial Reference System\n   * @type {string}\n   */\n  definition_12_063: string;\n\n  /**\n   * Return the proj4 projection specified by this SpatialReferenceSystem\n   * @return {*}\n   */\n  get projection(): proj4.Converter {\n    if (this.organization === 'NONE') return null;\n    if (!!this.organization && this.organization.toUpperCase() === ProjectionConstants.EPSG && (this.organization_coordsys_id === ProjectionConstants.EPSG_CODE_4326 || this.organization_coordsys_id === ProjectionConstants.EPSG_CODE_3857)) {\n      return Projection.getEPSGConverter(this.organization_coordsys_id);\n    } else if (this.definition_12_063 && this.definition_12_063 !== '' && this.definition_12_063 !== 'undefined') {\n      return Projection.getConverter(this.definition_12_063);\n    } else if (this.definition && this.definition !== '' && this.definition !== 'undefined') {\n      return Projection.getConverter(this.definition);\n    }\n    return null;\n  }\n}\n","import { Dao } from '../../dao/dao';\nimport { SpatialReferenceSystem } from './spatialReferenceSystem';\nimport { DBValue } from '../../db/dbAdapter';\nimport { ColumnValues } from '../../dao/columnValues';\nimport { ProjectionConstants } from '../../projection/projectionConstants';\n/**\n * Spatial Reference System Data Access Object\n * @extends Dao\n * @class SpatialReferenceSystemDao\n * @param {module:geoPackage~GeoPackage} geoPackage The GeoPackage object\n */\nexport class SpatialReferenceSystemDao extends Dao<SpatialReferenceSystem> {\n  /**\n   * Spatial Reference System Table Name\n   * @type {String}\n   */\n  public static readonly TABLE_NAME: string = 'gpkg_spatial_ref_sys';\n\n  /**\n   * srsName field name\n   * @type {String}\n   */\n  public static readonly COLUMN_SRS_NAME: string = 'srs_name';\n\n  /**\n   * srsId field name\n   * @type {String}\n   */\n  public static readonly COLUMN_SRS_ID: string = 'srs_id';\n\n  /**\n   * id field name, srsId\n   * @type {String}\n   */\n  public static readonly COLUMN_ID: string = SpatialReferenceSystemDao.COLUMN_SRS_ID;\n\n  /**\n   * organization field name\n   * @type {String}\n   */\n  public static readonly COLUMN_ORGANIZATION: string = 'organization';\n\n  /**\n   * organizationCoordsysId field name\n   * @type {String}\n   */\n  public static readonly COLUMN_ORGANIZATION_COORDSYS_ID: string = 'organization_coordsys_id';\n\n  /**\n   * definition field name\n   * @type {String}\n   */\n  public static readonly COLUMN_DEFINITION: string = 'definition';\n\n  /**\n   * description field name\n   * @type {String}\n   */\n  public static readonly COLUMN_DESCRIPTION: string = 'description';\n\n  readonly idColumns: string[] = [SpatialReferenceSystemDao.COLUMN_SRS_ID];\n  /**\n   * Table Name\n   * @type {String}\n   */\n  readonly gpkgTableName: string = SpatialReferenceSystemDao.TABLE_NAME;\n  /**\n   * Create a new SpatialReferenceSystem object\n   * @return {module:core/srs~SpatialReferenceSystem}\n   */\n  createObject(results?: Record<string, DBValue>): SpatialReferenceSystem {\n    const srs = new SpatialReferenceSystem();\n    if (results) {\n      srs.srs_name = results.srs_name as string;\n      srs.srs_id = results.srs_id as number;\n      srs.organization = results.organization as string;\n      srs.organization_coordsys_id = results.organization_coordsys_id as number;\n      srs.definition = results.definition as string;\n      srs.definition_12_063 = results.definition as string;\n      srs.description = results.description as string;\n    }\n    return srs;\n  }\n\n  getAllSpatialReferenceSystems(): SpatialReferenceSystem[] {\n    const spatialRefSystems: SpatialReferenceSystem[] = [];\n    if (this.connection != null && this.isTableExists()) {\n      const results: Record<string, DBValue>[] = this.queryForAll();\n      if (results && results.length) {\n        for (let i = 0; i < results.length; i++) {\n          spatialRefSystems.push(this.createObject(results[i]));\n        }\n      }\n    }\n    return spatialRefSystems;\n  }\n\n  getByOrganizationAndCoordSysId(organization: string, organizationCoordSysId: number): SpatialReferenceSystem {\n    const cv = new ColumnValues();\n    cv.addColumn('organization', organization);\n    cv.addColumn('organization_coordsys_id', organizationCoordSysId);\n    const results: Record<string, DBValue>[] = this.queryForAll(this.buildWhere(cv), this.buildWhereArgs(cv));\n    if (results && results.length) {\n      return this.createObject(results[0]);\n    }\n  }\n  /**\n   * Get the Spatial Reference System for the provided id\n   * @param  {Number}   srsId srs id\n   * @return {module:core/srs~SpatialReferenceSystem}\n   */\n  getBySrsId(srsId: number): SpatialReferenceSystem {\n    return this.queryForId(srsId);\n  }\n  /**\n   * Return the proj4 projection specified by this SpatialReferenceSystem\n   * @return {typeof proj4}\n   */\n  getProjection(srs: SpatialReferenceSystem): proj4.Converter {\n    return srs.projection;\n  }\n  /**\n   * Creates the required EPSG WGS84 Spatial Reference System (spec\n   * Requirement 11)\n   * @return {Number} id of the created row\n   */\n  createWgs84(): number {\n    let srs = this.getBySrsId(ProjectionConstants.EPSG_CODE_4326);\n    if (srs) {\n      return srs.srs_id;\n    }\n    srs = new SpatialReferenceSystem();\n    srs.srs_name = 'WGS 84 geodetic';\n    srs.srs_id = ProjectionConstants.EPSG_CODE_4326;\n    srs.organization = 'EPSG';\n    srs.organization_coordsys_id = ProjectionConstants.EPSG_CODE_4326;\n    srs.definition =\n      'GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.01745329251994328,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]]';\n    srs.description = 'longitude/latitude coordinates in decimal degrees on the WGS 84 spheroid';\n    if (this.connection.columnAndTableExists('gpkg_spatial_ref_sys', 'definition_12_063')) {\n      srs.definition_12_063 =\n        'GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.01745329251994328,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]]';\n    }\n    return this.create(srs);\n  }\n  /**\n   * Creates the required Undefined Cartesian Spatial Reference System (spec\n   * Requirement 11)\n   * @return {Number} id of the created row\n   */\n  createUndefinedCartesian(): number {\n    let srs = this.getBySrsId(-1);\n    if (srs) {\n      return srs.srs_id;\n    }\n    srs = new SpatialReferenceSystem();\n    srs.srs_name = 'Undefined cartesian SRS';\n    srs.srs_id = -1;\n    srs.organization = 'NONE';\n    srs.organization_coordsys_id = -1;\n    srs.definition = 'undefined';\n    srs.description = 'undefined cartesian coordinate reference system';\n    if (this.connection.columnAndTableExists('gpkg_spatial_ref_sys', 'definition_12_063')) {\n      srs.definition_12_063 = 'undefined';\n    }\n    return this.create(srs);\n  }\n  /**\n   * Creates the required Undefined Geographic Spatial Reference System (spec\n   * Requirement 11)\n   * @return {Number} id of the created row\n   */\n  createUndefinedGeographic(): number {\n    let srs = this.getBySrsId(0);\n    if (srs) {\n      return srs.srs_id;\n    }\n    srs = new SpatialReferenceSystem();\n    srs.srs_name = 'Undefined geographic SRS';\n    srs.srs_id = 0;\n    srs.organization = 'NONE';\n    srs.organization_coordsys_id = 0;\n    srs.definition = 'undefined';\n    srs.description = 'undefined geographic coordinate reference system';\n    if (this.connection.columnAndTableExists('gpkg_spatial_ref_sys', 'definition_12_063')) {\n      srs.definition_12_063 = 'undefined';\n    }\n    return this.create(srs);\n  }\n  /**\n   * Creates the Web Mercator Spatial Reference System if it does not already\n   * exist\n   * @return {Number} id of the created row\n   */\n  createWebMercator(): number {\n    let srs = this.getByOrganizationAndCoordSysId(ProjectionConstants.EPSG, ProjectionConstants.EPSG_CODE_3857);\n    if (srs) {\n      return srs.srs_id;\n    }\n    srs = new SpatialReferenceSystem();\n    srs.srs_name = 'WGS 84 / Pseudo-Mercator';\n    srs.srs_id = ProjectionConstants.EPSG_CODE_3857;\n    srs.organization = 'EPSG';\n    srs.organization_coordsys_id = ProjectionConstants.EPSG_CODE_3857;\n    srs.definition =\n      'PROJCS[\"WGS 84 / Pseudo-Mercator\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Mercator_1SP\"],PARAMETER[\"central_meridian\",0],PARAMETER[\"scale_factor\",1],PARAMETER[\"false_easting\",0],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"X\",EAST],AXIS[\"Y\",NORTH],EXTENSION[\"PROJ4\",\"+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs\"],AUTHORITY[\"EPSG\",\"3857\"]]';\n    srs.description = 'Spherical Mercator projection coordinate system';\n    if (this.connection.columnAndTableExists('gpkg_spatial_ref_sys', 'definition_12_063')) {\n      srs.definition_12_063 =\n        'PROJCS[\"WGS 84 / Pseudo-Mercator\",GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]],PROJECTION[\"Mercator_1SP\"],PARAMETER[\"central_meridian\",0],PARAMETER[\"scale_factor\",1],PARAMETER[\"false_easting\",0],PARAMETER[\"false_northing\",0],UNIT[\"metre\",1,AUTHORITY[\"EPSG\",\"9001\"]],AXIS[\"X\",EAST],AXIS[\"Y\",NORTH],EXTENSION[\"PROJ4\",\"+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs\"],AUTHORITY[\"EPSG\",\"3857\"]]';\n    }\n    return this.create(srs);\n  }\n}\n","import { UserColumn } from '../user/userColumn';\n\n/**\n * @module dao/columnValues\n */\n/**\n * Structure to define columns in a table\n * @class ColumnValues\n */\nexport class ColumnValues {\n  values: { [key: string]: UserColumn | any } = {};\n  columns: string[] = [];\n  /**\n   * adds a column to the structure\n   * @param  {string} columnName  name of column to add\n   * @param  {module:user/userColumn~UserColumn} column column to add\n   */\n  addColumn(columnName: string, column: UserColumn | any): void {\n    this.columns.push(columnName);\n    this.values[columnName] = column;\n  }\n  /**\n   * Gets the column by name\n   * @param  {string} columnName name of column\n   * @return {module:user/userColumn~UserColumn}            user column\n   */\n  getValue(columnName: string): UserColumn | any {\n    return this.values[columnName];\n  }\n}\n","import { GeoPackage } from '../geoPackage';\nimport { GeoPackageConnection } from '../db/geoPackageConnection';\nimport { ColumnValues } from './columnValues';\n/**\n * Dao module.\n */\n\nimport { SqliteQueryBuilder } from '../db/sqliteQueryBuilder';\nimport { DBValue } from '../db/dbAdapter';\nimport { CoreSQLUtils } from '../db/coreSQLUtils';\n\n/**\n * Base DAO\n */\nexport abstract class Dao<T> {\n  /**\n   * Database connection to the sqlite file\n   */\n  readonly connection: GeoPackageConnection;\n\n  /**\n   * ID Columns for this DAO\n   */\n  idColumns: string[];\n\n  /**\n   * Name of the table within the GeoPackage\n   */\n  gpkgTableName: string;\n\n  /**\n   *\n   * @param geoPackage GeoPackage object this dao belongs to\n   */\n  constructor(readonly geoPackage: GeoPackage) {\n    this.connection = geoPackage.database;\n  }\n\n  /**\n   * Creates a object from the result\n   */\n  abstract createObject(result: Record<string, DBValue>): T;\n\n  /**\n   * Checks if the table exists\n   */\n  isTableExists(): boolean {\n    return this.connection.isTableExists(this.gpkgTableName);\n  }\n\n  /**\n   * Refreshes the object by id\n   * @param object object to refresh\n   */\n  refresh(object: T): T | undefined {\n    return this.queryForSameId(object);\n  }\n\n  /**\n   * Query for object by id\n   * @param  id ID of the object to query for\n   * @return object created from the raw database object\n   */\n  queryForId(id: DBValue): T | undefined {\n    const whereString = this.buildPkWhere(id);\n    const whereArgs = this.buildPkWhereArgs(id);\n    const query = SqliteQueryBuilder.buildQuery(false, \"'\" + this.gpkgTableName + \"'\", undefined, whereString);\n    const result = this.connection.get(query, whereArgs);\n    if (!result) return;\n    return this.createObject(result);\n  }\n\n  queryForSameId(object: T): T {\n    const idArray = this.getMultiId(object);\n    return this.queryForMultiId(idArray);\n  }\n\n  getMultiId(object: T | any): any[] {\n    const idValues: any[] = [];\n    for (let i = 0; i < this.idColumns.length; i++) {\n      const idValue = object.values ? object.values[this.idColumns[i]] : object[this.idColumns[i]];\n      if (idValue !== undefined) {\n        idValues.push(idValue);\n      }\n    }\n    return idValues;\n  }\n\n  /**\n   * Query for object by multi id\n   * @param  idValues ColumnValues with the multi id\n   * @return object created from the raw database object\n   */\n  queryForMultiId(idValues: DBValue[]): T {\n    const whereString = this.buildPkWhere(idValues);\n    const whereArgs = this.buildPkWhereArgs(idValues);\n    const query = SqliteQueryBuilder.buildQuery(false, \"'\" + this.gpkgTableName + \"'\", undefined, whereString);\n    const result = this.connection.get(query, whereArgs);\n    if (!result) return;\n    return this.createObject(result);\n  }\n\n  /**\n   * Queries for all matches and returns them in the callback.  Be aware this pulls all results into memory\n   * @param  {string} [where]     Optional where clause\n   * @param  {object[]} [whereArgs] Optional where args array\n   * @return {Object[]} raw object array from the database\n   */\n  queryForAll(where?: string, whereArgs?: DBValue[]): Record<string, DBValue>[] {\n    const query = SqliteQueryBuilder.buildQuery(false, \"'\" + this.gpkgTableName + \"'\", undefined, where);\n    return this.connection.all(query, whereArgs);\n  }\n\n  /**\n   * Queries for all matches and returns them in the callback.  Be aware this pulls all results into memory\n   * @param  {string} fieldName name of the field to query for\n   * @param  {string} value     value of the like clause\n   * @return {Object[]} raw object array from the database\n   */\n  queryForLike(fieldName: string, value: string): Record<string, DBValue>[] {\n    const values = new ColumnValues();\n    values.addColumn(fieldName, value);\n    const where = this.buildWhereLike(values);\n    const whereArgs = this.buildWhereArgs(value);\n    const query = SqliteQueryBuilder.buildQuery(false, \"'\" + this.gpkgTableName + \"'\", undefined, where);\n    return this.connection.all(query, whereArgs);\n  }\n\n  /**\n   * Queries for all matches and returns them.  Only queries for the specified column name  Be aware this pulls all results into memory\n   * @param {string}  columnName  name of the column to query for\n   * @param {module:dao/columnValues~ColumnValues} [fieldValues] optional values to filter on\n   * @return {Object[]} raw object array from the database\n   */\n  queryForColumns(columnName: string, fieldValues?: ColumnValues): Record<string, DBValue>[] {\n    let where: string | undefined = undefined;\n    let whereArgs: DBValue[] | null = null;\n    if (fieldValues) {\n      where = this.buildWhere(fieldValues);\n      whereArgs = this.buildWhereArgs(fieldValues);\n    }\n    const query = SqliteQueryBuilder.buildQuery(false, \"'\" + this.gpkgTableName + \"'\", [columnName], where);\n    return this.connection.all(query, whereArgs);\n  }\n\n  /**\n   * Queries for all items in the table with a page size and page number\n   * @param  {number} pageSize size of the chunk to query for\n   * @param  {number} page     chunk number to query for\n   * @return {Object[]} raw object array from the database\n   */\n  queryForChunk(pageSize: number, page: number): Record<string, DBValue>[] {\n    const query = SqliteQueryBuilder.buildQuery(\n      false,\n      \"'\" + this.gpkgTableName + \"'\",\n      undefined,\n      undefined,\n      undefined,\n      undefined,\n      undefined,\n      this.idColumns[0],\n      pageSize,\n      page * pageSize,\n    );\n    return this.connection.all(query);\n  }\n\n  /**\n   * Iterate all items in the table one at a time.  If no parameters are passed, iterates the entire table.  Returns an Iterable object\n   * @param  {string} [field]   field to filter on\n   * @param  {Object} [value]   value to filter on\n   * @param  {string} [groupBy] group by clause\n   * @param  {string} [having]  having clause\n   * @param  {string} [orderBy] order by clause\n   * @param  {Array<string>} [columns] columns to retrieve\n   * @return {IterableIterator<any>} iterable of database objects\n   */\n  queryForEach(\n    field?: string,\n    value?: DBValue,\n    groupBy?: string,\n    having?: string,\n    orderBy?: string,\n    columns?: Array<string>\n  ): IterableIterator<Record<string, DBValue>> {\n    if (!field) {\n      const query: string = SqliteQueryBuilder.buildQuery(\n        false,\n        \"'\" + this.gpkgTableName + \"'\",\n        columns,\n        undefined,\n        undefined,\n        groupBy,\n        having,\n        orderBy,\n      );\n      return this.connection.each(query);\n    } else {\n      const whereString: string = this.buildWhereWithFieldAndValue(field, value);\n      const whereArgs: DBValue[] | null = this.buildWhereArgs(value);\n      const query = SqliteQueryBuilder.buildQuery(\n        false,\n        \"'\" + this.gpkgTableName + \"'\",\n        undefined,\n        whereString,\n        undefined,\n        groupBy,\n        having,\n        orderBy,\n      );\n      return this.connection.each(query, whereArgs);\n    }\n  }\n\n  /**\n   * Iterate all objects in thet able that match the ColumnValues passed in\n   * @param  {module:dao/columnValues~ColumnValues} fieldValues ColumnValues to query for\n   * @return {IterableIterator<any>}\n   */\n  queryForFieldValues(fieldValues: ColumnValues): IterableIterator<Record<string, DBValue>> {\n    const whereString: string = this.buildWhere(fieldValues);\n    const whereArgs: DBValue[] = this.buildWhereArgs(fieldValues);\n    const query = SqliteQueryBuilder.buildQuery(false, \"'\" + this.gpkgTableName + \"'\", undefined, whereString);\n    return this.connection.each(query, whereArgs);\n  }\n\n  /**\n   * Iterate all matching objects\n   * @param  {string} join      join clause\n   * @param  {string} where     where clause\n   * @param  {Object[]} whereArgs array of where query values\n   * @param  {string[]} columns   columns to query for\n   * @return {IterableIterator<any>}\n   */\n  queryJoinWhereWithArgs(\n    join: string,\n    where?: string,\n    whereArgs?: DBValue[],\n    columns?: string[],\n  ): IterableIterator<Record<string, DBValue>> {\n    const query = SqliteQueryBuilder.buildQuery(false, \"'\" + this.gpkgTableName + \"'\", columns, where, join);\n    return this.connection.each(query, whereArgs);\n  }\n\n  /**\n   * Count all matching objects\n   * @param  {string} join      join clause\n   * @param  {string} where     where clause\n   * @param  {Object[]} whereArgs array of where query values\n   * @return {number}\n   */\n  countJoinWhereWithArgs(join: string, where?: string, whereArgs?: DBValue[]): number {\n    const query = \"select COUNT(*) as count from '\" + this.gpkgTableName + \"' \" + join + ' where ' + where;\n    const result = this.connection.get(query, whereArgs);\n    return result?.count;\n  }\n\n  /**\n   * Iterate all distinct matching rows in the table\n   * @param  {string} where     where clause\n   * @param  {Object[]} whereArgs array of where query values\n   * @return {IterableIterator<any>}\n   */\n  queryWhereWithArgsDistinct(where: string, whereArgs?: DBValue[]): IterableIterator<Record<string, DBValue>> {\n    const query = SqliteQueryBuilder.buildQuery(true, \"'\" + this.gpkgTableName + \"'\", undefined, where);\n    return this.connection.each(query, whereArgs);\n  }\n\n  /**\n   * Iterate all matching rows\n   * @param  {string} [where]     where clause\n   * @param  {Object[]} [whereArgs] array of where query values\n   * @param  {string} [groupBy]   group by clause\n   * @param  {string} [having]    having clause\n   * @param  {string} [orderBy]   order by clause\n   * @param  {number} [limit]     limit clause\n   * @return {IterableIterator<any>}\n   */\n  queryWhere(\n    where?: string,\n    whereArgs?: DBValue[],\n    groupBy?: string,\n    having?: string,\n    orderBy?: string,\n    limit?: number,\n  ): IterableIterator<Record<string, DBValue>> {\n    const query: string = SqliteQueryBuilder.buildQuery(\n      false,\n      \"'\" + this.gpkgTableName + \"'\",\n      undefined,\n      where,\n      undefined,\n      groupBy,\n      having,\n      orderBy,\n      limit,\n    );\n    return this.connection.each(query, whereArgs);\n  }\n\n  /**\n   * Get the primary key where clause\n   * @param  {Object|Object[]} idValue id\n   * @return {string} primary key where clause\n   */\n  buildPkWhere(idValue: any[] | any): string {\n    if (Array.isArray(idValue)) {\n      const idValuesArray = idValue;\n      const idColumnValues = new ColumnValues();\n      for (let i = 0; i < idValuesArray.length; i++) {\n        idColumnValues.addColumn(this.idColumns[i], idValuesArray[i]);\n      }\n      return this.buildWhere(idColumnValues);\n    }\n    return this.buildWhereWithFieldAndValue(this.idColumns[0], idValue);\n  }\n\n  /**\n   * Get the primary key where args\n   * @param  {Object} idValue id\n   * @return {Object[]} where args\n   */\n  buildPkWhereArgs(idValue: DBValue[] | DBValue): DBValue[] {\n    if (Array.isArray(idValue)) {\n      const idValuesArray = idValue;\n      let values: DBValue[] = [];\n      for (let i = 0; i < idValuesArray.length; i++) {\n        values = values.concat(this.buildWhereArgs(idValuesArray[i]));\n      }\n      return values;\n    }\n    return this.buildWhereArgs(idValue);\n  }\n\n  /**\n   * Build where (or selection) LIKE statement for fields\n   * @param  {module:dao/columnValues~ColumnValues} fields    columns and values\n   * @param  {string} [operation] AND or OR\n   * @return {string} where clause\n   */\n  buildWhereLike(fields: ColumnValues, operation?: string): string {\n    let whereString = '';\n    for (let i = 0; i < fields.columns.length; i++) {\n      const column = fields.columns[i];\n      if (i) {\n        whereString += ' ' + operation + ' ';\n      }\n      whereString += this.buildWhereWithFieldAndValue(column, fields.getValue(column), 'like');\n    }\n    return whereString;\n  }\n\n  /**\n   * Build where or selection statement for fields\n   * @param  fields    columns and values\n   * @param  [operation=AND] AND or OR\n   * @return where clause\n   */\n  buildWhere(fields: ColumnValues, operation = 'and'): string {\n    let whereString = '';\n    for (let i = 0; i < fields.columns.length; i++) {\n      const column = fields.columns[i];\n      if (i) {\n        whereString += ' ' + operation + ' ';\n      }\n      whereString += this.buildWhereWithFieldAndValue(column, fields.getValue(column));\n    }\n    return whereString;\n  }\n\n  /**\n   * Builds a where args array\n   * @param {any[]|ColumnValues|any} values argument values to push\n   * @returns {any[]}\n   */\n  buildWhereArgs(values: DBValue[] | ColumnValues | DBValue): DBValue[] | null {\n    let args: DBValue[] = [];\n    if (Array.isArray(values)) {\n      args = this._buildWhereArgsWithArray(values);\n    } else if (values instanceof ColumnValues) {\n      args = this._buildWhereArgsWithColumnValues(values);\n    } else {\n      if (values !== undefined && values !== null) {\n        args.push(values);\n      }\n    }\n    return args.length ? args : null;\n  }\n\n  /**\n   * Builds a where args array\n   * @param {any[]} values argument values to push\n   * @returns {any[]}\n   */\n  _buildWhereArgsWithArray(values: DBValue[]): DBValue[] {\n    const args = [];\n    for (let i = 0; i < values.length; i++) {\n      const value = values[i];\n      if (value !== undefined && value !== null) {\n        args.push(value);\n      }\n    }\n    return args;\n  }\n\n  /**\n   * Builds a where args array\n   * @param {ColumnValues} values argument values to push\n   * @returns {any[]}\n   */\n  _buildWhereArgsWithColumnValues(values: ColumnValues): DBValue[] {\n    const args = [];\n    for (let i = 0; i < values.columns.length; i++) {\n      const column = values.columns[i];\n      const value = values.getValue(column);\n      if (value !== undefined && value !== null) {\n        args.push(value);\n      }\n    }\n    return args;\n  }\n\n  /**\n   * Builds a where clause from the field and value with an optional operation.  If the value is empty, 'is null' is added to the query for the field\n   * @param  {string} field     field name\n   * @param  {Object} [value]     optional value to filter on\n   * @param  {string} [operation='='] optional operation\n   * @return {string} where clause\n   */\n  buildWhereWithFieldAndValue(field: string, value: DBValue, operation = '='): string {\n    let whereString = '' + field + ' ';\n    if (value === undefined || value === null) {\n      whereString += 'is null';\n    } else {\n      whereString += operation + ' ?';\n    }\n    return whereString;\n  }\n\n  /**\n   * Query for all rows in the table that match\n   * @param  {string} field   field to match\n   * @param  {*} value   value to match\n   * @param  {string} [groupBy] group by clause\n   * @param  {string} [having]  having clause\n   * @param  {string} [orderBy] order by clause\n   * @return {Object[]} array of raw database objects\n   */\n  queryForAllEq(\n    field: string,\n    value: DBValue,\n    groupBy?: string,\n    having?: string,\n    orderBy?: string,\n  ): Record<string, DBValue>[] {\n    const whereString = this.buildWhereWithFieldAndValue(field, value);\n    const whereArgs = this.buildWhereArgs(value);\n    const query = SqliteQueryBuilder.buildQuery(\n      false,\n      \"'\" + this.gpkgTableName + \"'\",\n      undefined,\n      whereString,\n      undefined,\n      groupBy,\n      having,\n      orderBy,\n    );\n    return this.connection.all(query, whereArgs);\n  }\n\n  /**\n   * Count rows in the table optionally filtered by the parameters specified\n   * @param  {module:dao/columnValues~ColumnValues|string} [fields] Either a ColumnValues object or a string specifying a field name\n   * @param  {Object} [value]  value to filter on if fields is a string\n   * @return {number} count of objects\n   */\n  count(fields?: ColumnValues | string, value?: DBValue): number {\n    if (!fields) {\n      return this.connection.count(this.gpkgTableName);\n    }\n    let where;\n    let whereArgs;\n    let query;\n    if (fields instanceof ColumnValues) {\n      where = this.buildWhere(fields, 'and');\n      whereArgs = this.buildWhereArgs(fields);\n      query = SqliteQueryBuilder.buildCount(\"'\" + this.gpkgTableName + \"'\", where);\n    } else {\n      const whereString = this.buildWhereWithFieldAndValue(fields, value);\n      whereArgs = this.buildWhereArgs(value);\n      query = SqliteQueryBuilder.buildCount(\"'\" + this.gpkgTableName + \"'\", whereString);\n    }\n    const result = this.connection.get(query, whereArgs);\n    return result?.count;\n  }\n\n  /**\n   * Count rows in the table optionally filtered by the parameters specified\n   * @param  {string} where where string\n   * @param  {any[]} whereArgs arguments to filter on\n   * @return {number} count of objects\n   */\n  countWhere(where: string, whereArgs: DBValue[]): number {\n    const query = SqliteQueryBuilder.buildCount(\"'\" + this.gpkgTableName + \"'\", where);\n    const result = this.connection.get(query, whereArgs);\n    return result?.count;\n  }\n\n  /**\n   * Get the min of the column\n   * @param  {string} column    column name\n   * @param  {string} [where]     where clause\n   * @param  {Object[]} [whereArgs] where args\n   * @return {number}\n   */\n  minOfColumn(column: string, where?: string, whereArgs?: DBValue[]): number {\n    return this.connection.minOfColumn(\"'\" + this.gpkgTableName + \"'\", column, where, whereArgs);\n  }\n\n  /**\n   * Get the max of the column\n   * @param  {string} column    column name\n   * @param  {string} [where]     where clause\n   * @param  {Object[]} [whereArgs] where args\n   * @return {number}\n   */\n  maxOfColumn(column: string, where?: string, whereArgs?: DBValue[]): number {\n    return this.connection.maxOfColumn(\"'\" + this.gpkgTableName + \"'\", column, where, whereArgs);\n  }\n\n  /**\n   * Delete the object passed in.  Object is deleted by id\n   * @param  {Object} object object to delete\n   * @return {number} number of objects deleted\n   */\n  delete(object: T | Record<string, DBValue>): number {\n    if (typeof (object as any).getId === 'function') {\n      return this.deleteById((object as any).getId());\n    }\n    return this.deleteByMultiId(this.getMultiId(object));\n  }\n\n  /**\n   * Delete the object specified by the id\n   * @param  {Object} idValue id value\n   * @return {number} number of objects deleted\n   */\n  deleteById(idValue: DBValue): number {\n    const where = this.buildPkWhere(idValue);\n    const whereArgs = this.buildPkWhereArgs(idValue);\n    return this.connection.delete(\"'\" + this.gpkgTableName + \"'\", where, whereArgs);\n  }\n\n  /**\n   * Delete the object specified by the ids\n   * @param  {module:dao/columnValues~ColumnValues} idValues id values\n   * @return {number} number of objects deleted\n   */\n  deleteByMultiId(idValues: any[]): number {\n    const where = this.buildPkWhere(idValues);\n    const whereArgs = this.buildPkWhereArgs(idValues);\n    return this.connection.delete(\"'\" + this.gpkgTableName + \"'\", where, whereArgs);\n  }\n\n  /**\n   * Delete objects that match the query\n   * @param  {string} where     where clause\n   * @param  {Object[]} whereArgs where arguments\n   * @return {number} number of objects deleted\n   */\n  deleteWhere(where: string, whereArgs: DBValue[]): number {\n    return this.connection.delete(\"'\" + this.gpkgTableName + \"'\", where, whereArgs);\n  }\n\n  /**\n   * Delete all objects in the table\n   * @return {number} number of objects deleted\n   */\n  deleteAll(): number {\n    return this.connection.delete(\"'\" + this.gpkgTableName + \"'\", '', []);\n  }\n\n  /**\n   * Insert the object into the table\n   * @param  {Object} object object to be inserted\n   * @return {number} id of the inserted object\n   */\n  create(object: T): number {\n    const sql = SqliteQueryBuilder.buildInsert(\"'\" + this.gpkgTableName + \"'\", object);\n    const insertObject = SqliteQueryBuilder.buildUpdateOrInsertObject(object);\n    return this.connection.insert(sql, insertObject);\n  }\n\n  /**\n   * Update all rows that match the query\n   * @param  {module:dao/columnValues~ColumnValues} values    values to insert\n   * @param  {string} where     where clause\n   * @param  {Object[]} whereArgs where arguments\n   * @return {number} number of objects updated\n   */\n  updateWithValues(\n    values: Record<string, DBValue>,\n    where: string,\n    whereArgs: DBValue[],\n  ): {\n    changes: number;\n    lastInsertRowid: number;\n  } {\n    const update = SqliteQueryBuilder.buildUpdate(\"'\" + this.gpkgTableName + \"'\", values, where, whereArgs);\n    return this.connection.run(update.sql, update.args);\n  }\n\n  /**\n   * Update the object specified\n   * @param  {Object} object object with updated values\n   * @return {number} number of objects updated\n   */\n  update(\n    object: T,\n  ): {\n    changes: number;\n    lastInsertRowid: number;\n  } {\n    const updateValues = SqliteQueryBuilder.buildUpdateOrInsertObject(object);\n    let update = SqliteQueryBuilder.buildObjectUpdate(\"'\" + this.gpkgTableName + \"'\", object);\n    const multiId = this.getMultiId(object);\n    if (multiId.length) {\n      let where = ' where ';\n      for (let i = 0; i < multiId.length; i++) {\n        where += '\"' + this.idColumns[i] + '\" = $' + SqliteQueryBuilder.fixColumnName(this.idColumns[i]);\n        updateValues[SqliteQueryBuilder.fixColumnName(this.idColumns[i])] = multiId[i];\n      }\n      update += where;\n    }\n    return this.connection.run(update, updateValues);\n  }\n\n  /**\n   * Queries for the object by id, and if it exists, updates it, otherwise creates a new object\n   * @param  {Object} object object to update or create\n   * @return {number} number of objects modified\n   */\n  createOrUpdate(object: T): number {\n    const existing = this.queryForSameId(object);\n    if (!existing) {\n      return this.create(object);\n    } else {\n      return this.update(object).changes;\n    }\n  }\n\n  /**\n   * Drops this table\n   * @return {boolean} results of the drop\n   */\n  dropTable(): boolean {\n    return this.connection.dropTable(this.gpkgTableName);\n  }\n\n  /**\n   * Drops this table\n   */\n  dropTableWithTableName(tableName: string) {\n    CoreSQLUtils.dropTable(this.geoPackage.connection, tableName);\n  }\n\n  /**\n   * Rename the table\n   * @param {string} newName\n   */\n  rename(newName: string): void {\n    this.connection.run('ALTER TABLE ' + \"'\" + this.gpkgTableName + \"' RENAME TO '\" + newName + \"'\");\n    this.gpkgTableName = newName;\n  }\n}\n","/**\n * Contains data to specify restrictions on basic data type column values\n * @class DataColumnConstraints\n */\nexport class DataColumnConstraints {\n  /**\n   * Case sensitive name of constraint\n   * @member {string}\n   */\n  constraint_name: string;\n  /**\n   * Lowercase type name of constraint: range | enum | glob\n   * @member {string}\n   */\n  constraint_type: string;\n  /**\n   * Specified case sensitive value for enum or glob or NULL for range constraint_type\n   * @member {string}\n   */\n  value: string;\n  /**\n   * Minimum value for 'range' or NULL for 'enum' or 'glob' constraint_type\n   * @member {Number}\n   */\n  min: number;\n  /**\n   * 0 (false) if min value is exclusive, or 1 (true) if min value is inclusive\n   * @member {Number}\n   */\n  min_is_inclusive: boolean;\n  /**\n   * Maximum value for 'range' or NULL for 'enum' or 'glob' constraint_type\n   * @member {Number}\n   */\n  max: number;\n  /**\n   * 0 (false) if max value is exclusive, or 1 (true) if max value is inclusive\n   */\n  max_is_inclusive: boolean;\n  /**\n   * For ranges and globs, describes the constraing; for enums, describes the enum value.\n   */\n  description: string;\n}\n","import { Dao } from '../dao/dao';\nimport { DataColumnConstraints } from './dataColumnConstraints';\nimport { DBValue } from '../db/dbAdapter';\n\n/**\n * DataColumnConstraints module.\n * @module dataColumnConstraints\n */\n\n/**\n * Data Column Constraints Data Access Object\n * @class\n * @extends Dao\n * @param  {module:geoPackage~GeoPackage} geoPackage GeoPackage object\n */\nexport class DataColumnConstraintsDao extends Dao<DataColumnConstraints> {\n  public static readonly TABLE_NAME: string = 'gpkg_data_column_constraints';\n  public static readonly COLUMN_CONSTRAINT_NAME: string = 'constraint_name';\n  public static readonly COLUMN_CONSTRAINT_TYPE: string = 'constraint_type';\n  public static readonly COLUMN_VALUE: string = 'value';\n  public static readonly COLUMN_MIN: string = 'min';\n  public static readonly COLUMN_MIN_IS_INCLUSIVE: string = 'min_is_inclusive';\n  public static readonly COLUMN_MAX: string = 'max';\n  public static readonly COLUMN_MAX_IS_INCLUSIVE: string = 'max_is_inclusive';\n  public static readonly COLUMN_DESCRIPTION: string = 'description';\n\n  public static readonly ENUM_TYPE: string = 'enum';\n  public static readonly GLOB_TYPE: string = 'glob';\n  public static readonly RANGE_TYPE: string = 'range';\n\n  readonly gpkgTableName: string = DataColumnConstraintsDao.TABLE_NAME;\n  readonly idColumns: string[] = [\n    DataColumnConstraintsDao.COLUMN_CONSTRAINT_NAME,\n    DataColumnConstraintsDao.COLUMN_CONSTRAINT_TYPE,\n    DataColumnConstraintsDao.COLUMN_VALUE,\n  ];\n  /**\n   * Creates a new DataColumnConstraints object\n   * @return {module:dataColumnConstraints~DataColumnConstraints}\n   */\n  createObject(results?: Record<string, DBValue>): DataColumnConstraints {\n    const dcc = new DataColumnConstraints();\n    if (results) {\n      dcc.constraint_name = results.constraint_name as string;\n      dcc.constraint_type = results.constraint_type as string;\n      dcc.value = results.value as string;\n      dcc.min = results.min as number;\n      dcc.max = results.max as number;\n      dcc.min_is_inclusive = results.min_is_inclusive as boolean;\n      dcc.max_is_inclusive = results.max_is_inclusive as boolean;\n      dcc.description = results.description as string;\n    }\n    return dcc;\n  }\n  /**\n   * query by constraint name\n   * @param  {String} constraintName     constraint name\n   * @return {Iterable}\n   */\n  queryByConstraintName(constraintName: string): IterableIterator<DataColumnConstraints> {\n    return (this.queryForEach(\n      DataColumnConstraintsDao.COLUMN_CONSTRAINT_NAME,\n      constraintName,\n    ) as unknown) as IterableIterator<DataColumnConstraints>;\n  }\n  /**\n   * Query by the unique column values\n   * @param  {String} constraintName     constraint name\n   * @param  {String} constraintType     constraint type\n   * @param  {String} value              value\n   * @return {module:dataColumnConstraints~DataColumnConstraints}\n   */\n  queryUnique(constraintName: string, constraintType: string, value: string): DataColumnConstraints {\n    const dataColumnConstraints = new DataColumnConstraints();\n    dataColumnConstraints.constraint_name = constraintName;\n    dataColumnConstraints.constraint_type = constraintType;\n    dataColumnConstraints.value = value;\n    return this.queryForSameId(dataColumnConstraints);\n  }\n}\n","/**\n * Stores minimal application schema identifying, descriptive and MIME type\n * information about columns in user vector feature and tile matrix data tables\n * that supplements the data available from the SQLite sqlite_master table and\n * pragma table_info(table_name) SQL function. The gpkg_data_columns data CAN be\n * used to provide more specific column data types and value ranges and\n * application specific structural and semantic information to enable more\n * informative user menu displays and more effective user decisions on the\n * suitability of GeoPackage contents for specific purposes.\n * @class DataColumns\n */\nexport class DataColumns {\n  /**\n   * the name of the tiles, or feature table\n   * @member {string}\n   */\n  table_name: string;\n\n  /**\n   * the name of the table column\n   * @member {string}\n   */\n  column_name: string;\n\n  /**\n   * A human-readable identifier (e.g. short name) for the column_name content\n   * @member {string}\n   */\n  name?: string;\n\n  /**\n   * A human-readable formal title for the column_name content\n   * @member {string}\n   */\n  title?: string;\n\n  /**\n   * A human-readable description for the table_name contents\n   * @member {string}\n   */\n  description?: string;\n\n  /**\n   * MIME type of columnName if BLOB type or NULL for other types\n   * @member {string}\n   */\n  mime_type?: string;\n\n  /**\n   * Case sensitive column value constraint name specified\n   */\n  constraint_name?: string;\n\n  /**\n   *\n   * @param {object} [object] object containing properties to apply to this\n   */\n  constructor(object?: DataColumns) {\n    object = object || ({} as DataColumns);\n    this.table_name = object.table_name;\n    this.column_name = object.column_name;\n    this.name = object.name;\n    this.title = object.title;\n    this.description = object.description;\n    this.mime_type = object.mime_type;\n    this.constraint_name = object.constraint_name;\n  }\n}\n","import { Dao } from '../dao/dao';\nimport { ContentsDao } from '../core/contents/contentsDao';\nimport { DataColumns } from './dataColumns';\nimport { Contents } from '../core/contents/contents';\nimport { DBValue } from '../db/dbAdapter';\n/**\n * DataColumns module.\n * @module dataColumns\n */\n\n/**\n * Contents object. Provides identifying and descriptive information that an\n * application can display to a user in a menu of geospatial data that is\n * available for access and/or update.\n * @class\n * @extends Dao\n * @param  {module:geoPackage~GeoPackage} geoPackage GeoPackage object\n */\nexport class DataColumnsDao extends Dao<DataColumns> {\n  public static readonly TABLE_NAME: string = 'gpkg_data_columns';\n  public static readonly COLUMN_PK1: string = 'table_name';\n  public static readonly COLUMN_PK2: string = 'column_name';\n  public static readonly COLUMN_TABLE_NAME: string = 'table_name';\n  public static readonly COLUMN_COLUMN_NAME: string = 'column_name';\n  public static readonly COLUMN_NAME: string = 'name';\n  public static readonly COLUMN_TITLE: string = 'title';\n  public static readonly COLUMN_DESCRIPTION: string = 'description';\n  public static readonly COLUMN_MIME_TYPE: string = 'mime_type';\n  public static readonly COLUMN_CONSTRAINT_NAME: string = 'constraint_name';\n\n  readonly gpkgTableName: string = DataColumnsDao.TABLE_NAME;\n  readonly idColumns: string[] = [DataColumnsDao.COLUMN_PK1, DataColumnsDao.COLUMN_PK2];\n\n  /**\n   * Creates a new {module:dataColumns~DataColumns} object\n   * @return {module:dataColumns~DataColumns}\n   */\n  createObject(results?: Record<string, DBValue>): DataColumns {\n    const dc = new DataColumns();\n    if (results) {\n      dc.table_name = results.table_name as string;\n      dc.column_name = results.column_name as string;\n      dc.name = results.name as string;\n      dc.title = results.title as string;\n      dc.description = results.description as string;\n      dc.mime_type = results.mime_type as string;\n      dc.constraint_name = results.constraint_name as string;\n    }\n    return dc;\n  }\n  /**\n   * Get the Contents from the Data Columns\n   * @param  {module:dataColumns~DataColumns} dataColumns data columns\n   * @return {module:core/contents~Contents}             contents\n   */\n  getContents(dataColumns: DataColumns): Contents {\n    const cd = new ContentsDao(this.geoPackage);\n    return cd.queryForId(dataColumns.table_name);\n  }\n  /**\n   * Query by constraint name\n   * @param  {String} constraintName     constraint name\n   * @return {Iterable.<Object>} iterator of database objects\n   */\n  queryByConstraintName(constraintName: string): IterableIterator<DataColumns> {\n    return (this.queryForEach(DataColumnsDao.COLUMN_CONSTRAINT_NAME, constraintName) as unknown) as IterableIterator<\n      DataColumns\n    >;\n  }\n  /**\n   * Get DataColumn by column name and table name\n   * @param  {String} tableName  table name\n   * @param  {String} columnName column name\n   * @return {module:dataColumns~DataColumns}\n   */\n  getDataColumns(tableName: string, columnName: string): DataColumns {\n    const exists = this.isTableExists();\n    if (!exists) {\n      return;\n    }\n    const where =\n      this.buildWhereWithFieldAndValue(DataColumnsDao.COLUMN_TABLE_NAME, tableName) +\n      ' and ' +\n      this.buildWhereWithFieldAndValue(DataColumnsDao.COLUMN_COLUMN_NAME, columnName);\n    const values = [tableName, columnName];\n    let dataColumn: DataColumns;\n    for (const row of this.queryWhere(where, values)) {\n      dataColumn = this.createObject(row);\n    }\n    return dataColumn;\n  }\n\n  deleteByTableName(table: string): number {\n    let where = '';\n    where += this.buildWhereWithFieldAndValue(DataColumnsDao.COLUMN_TABLE_NAME, table);\n    const whereArgs = this.buildWhereArgs(table);\n    return this.deleteWhere(where, whereArgs);\n  }\n}\n","import { GeoPackageConnection } from './geoPackageConnection'\nimport { UserTable } from '../user/userTable'\nimport { UserCustomTableReader } from '../user/custom/userCustomTableReader'\nimport { CoreSQLUtils } from './coreSQLUtils'\nimport { StringUtils } from './stringUtils'\nimport { UserCustomTable } from '../user/custom/userCustomTable'\nimport { TableMapping } from './tableMapping'\nimport { UserColumn } from '../user/userColumn'\nimport { Constraint } from './table/constraint'\nimport { RawConstraint } from './table/rawConstraint'\nimport { ConstraintParser } from './table/constraintParser'\nimport { SQLiteMaster } from './master/sqliteMaster'\nimport { SQLiteMasterColumn } from './master/sqliteMasterColumn'\nimport { SQLiteMasterType } from './master/sqliteMasterType'\nimport { SQLiteMasterQuery } from './master/sqliteMasterQuery'\nimport { RTreeIndexDao } from '../extension/rtree/rtreeIndexDao'\n/**\n * Builds and performs alter table statements\n */\nexport class AlterTable {\n  /**\n   * Create the ALTER TABLE SQL command prefix\n   * @param table table name\n   * @return alter table SQL prefix\n   */\n  static alterTableSQL (table: string) {\n    return 'ALTER TABLE ' + StringUtils.quoteWrap(table)\n  }\n\n  /**\n   * Rename a table\n   * @param db connection\n   * @param tableName table name\n   * @param newTableName  new table name\n   */\n  static renameTable (db: GeoPackageConnection, tableName: string, newTableName: string) {\n    const sql = AlterTable.renameTableSQL(tableName, newTableName)\n    db.run(sql)\n  }\n\n  /**\n   * Create the rename table SQL\n   * @param tableName table name\n   * @param newTableName new table name\n   * @return rename table SQL\n   */\n  static renameTableSQL (tableName: string, newTableName: string) {\n    return AlterTable.alterTableSQL(tableName) + ' RENAME TO ' + StringUtils.quoteWrap(newTableName)\n  }\n\n  /**\n   * Rename a column\n   * @param db connection\n   * @param tableName table name\n   * @param columnName column name\n   * @param newColumnName new column name\n   */\n  static renameColumn (db: GeoPackageConnection, tableName: string, columnName: string, newColumnName: string) {\n    const sql = AlterTable.renameColumnSQL(tableName, columnName, newColumnName)\n    db.run(sql)\n  }\n\n  /**\n   * Create the rename column SQL\n   * @param tableName table name\n   * @param columnName column name\n   * @param newColumnName new column name\n   * @return rename table SQL\n   */\n  static renameColumnSQL (tableName: string, columnName: string, newColumnName: string) {\n    return AlterTable.alterTableSQL(tableName) + ' RENAME COLUMN ' + StringUtils.quoteWrap(columnName) + ' TO ' + StringUtils.quoteWrap(newColumnName)\n  }\n\n  /**\n   * Add a column\n   * @param db connection\n   * @param tableName table name\n   * @param columnName column name\n   * @param columnDef column definition\n   */\n  static addColumn (db: GeoPackageConnection, tableName: string, columnName: string, columnDef: string) {\n    const sql = AlterTable.addColumnSQL(tableName, columnName, columnDef)\n    db.run(sql)\n  }\n\n  /**\n   * Create the add column SQL\n   * @param tableName table name\n   * @param columnName column name\n   * @param columnDef column definition\n   * @return add column SQL\n   */\n  static addColumnSQL (tableName: string, columnName: string, columnDef: string) {\n    return AlterTable.alterTableSQL(tableName) + ' ADD COLUMN ' + StringUtils.quoteWrap(columnName) + ' ' + columnDef\n  }\n\n  /**\n   * Drop a column\n   * @param db connection\n   * @param table table\n   * @param columnName  column name\n   */\n  static dropColumnForUserTable (db: GeoPackageConnection, table: UserTable<UserColumn>, columnName: string) {\n    AlterTable.dropColumnsForUserTable(db, table, [columnName])\n  }\n\n  /**\n   * Drop columns\n   *\n   * @param db connection\n   * @param table table\n   * @param columnNames column names\n   */\n  static dropColumnsForUserTable (db: GeoPackageConnection, table: UserTable<UserColumn>, columnNames: Array<string>) {\n    const newTable: UserTable<UserColumn> = table.copy()\n    columnNames.forEach(columnName => {\n      newTable.dropColumnWithName(columnName)\n    })\n    // Build the table mapping\n    const tableMapping = new TableMapping(newTable.getTableName(), newTable.getTableName(), newTable.getUserColumns().getColumns())\n    columnNames.forEach(columnName => {\n      tableMapping.addDroppedColumn(columnName)\n    })\n\n    AlterTable.alterTableWithTableMapping(db, newTable, tableMapping)\n\n    columnNames.forEach(columnName => {\n      table.dropColumnWithName(columnName)\n    })\n  }\n\n  /**\n   * Drop a column\n   * @param db connection\n   * @param tableName table name\n   * @param columnName column name\n   */\n   static dropColumn(db: GeoPackageConnection, tableName: string, columnName: string) {\n    AlterTable.dropColumns(db, tableName, [columnName])\n  }\n\n  /**\n   * Drop columns\n   *\n   * @param db connection\n   * @param tableName table name\n   * @param columnNames column names\n   */\n  static dropColumns (db: GeoPackageConnection, tableName: string, columnNames: Array<string>) {\n    const userTable: UserTable<UserColumn> = new UserCustomTableReader(tableName).readTable(db)\n    AlterTable.dropColumnsForUserTable(db, userTable, columnNames)\n  }\n\n  /**\n   * Alter a column\n   * @param db connection\n   * @param table table\n   * @param column column\n   * @param user column type\n   */\n  static alterColumnForTable(db: GeoPackageConnection, table: UserTable<UserColumn>, column: any) {\n    AlterTable.alterColumnsForTable(db, table, [column])\n  }\n\n  /**\n   * Alter columns\n   * @param db connection\n   * @param table table\n   * @param columns columns\n   */\n  static alterColumnsForTable(db: GeoPackageConnection, table: UserTable<UserColumn>, columns: UserColumn[]) {\n    const newTable: UserTable<UserColumn> = table.copy()\n\n    columns.forEach(column => {\n      newTable.alterColumn(column)\n    })\n\n    AlterTable.alterTable(db, newTable)\n\n    columns.forEach(column => {\n      table.alterColumn(column)\n    })\n  }\n\n  /**\n   * Alter a column\n   * @param db connection\n   * @param tableName table name\n   * @param column column\n   */\n  static alterColumn(db: GeoPackageConnection, tableName: string, column: UserColumn) {\n    AlterTable.alterColumns(db, tableName, [column])\n  }\n\n  /**\n   * Alter columns\n   * @param db connection\n   * @param tableName table name\n   * @param columns columns\n   */\n  static alterColumns(db: GeoPackageConnection, tableName: string, columns: UserColumn[]) {\n    const userTable: UserCustomTable = new UserCustomTableReader(tableName).readTable(db)\n    AlterTable.alterColumnsForTable(db, userTable, columns)\n  }\n\n  /**\n   * Copy the table\n   * @param db connection\n   * @param table table\n   * @param newTableName new table name\n   * @param transferContent transfer row content to the new table\n   */\n  static copyTable(db: GeoPackageConnection, table: UserTable<UserColumn>, newTableName: string, transferContent: boolean = true) {\n    // Build the table mapping\n    const tableMapping = new TableMapping(table.getTableName(), newTableName, table.getUserColumns().getColumns())\n    tableMapping.transferContent = transferContent\n    AlterTable.alterTableWithTableMapping(db, table, tableMapping)\n  }\n\n  /**\n   * Copy the table\n   * @param db connection\n   * @param tableName table name\n   * @param newTableName new table name\n   * @param transferContent transfer row content to the new table\n   */\n  static copyTableWithName(db: GeoPackageConnection, tableName: string, newTableName: string, transferContent: boolean = true) {\n    const userTable: UserCustomTable = new UserCustomTableReader(tableName).readTable(db)\n    AlterTable.copyTable(db, userTable, newTableName, transferContent)\n  }\n\n  /**\n   * Alter a table with a new table schema assuming a default table mapping.\n   * This removes views on the table, creates a new table, transfers the old\n   * table data to the new, drops the old table, and renames the new table to\n   * the old. Indexes, triggers, and views that reference deleted columns are\n   * not recreated. An attempt is made to recreate the others including any\n   * modifications for renamed columns.\n   *\n   * Making Other Kinds Of Table Schema Changes:\n   * https://www.sqlite.org/lang_altertable.html\n   *\n   * @param db connection\n   * @param newTable  new table schema\n   */\n  static alterTable(db: GeoPackageConnection, newTable: UserTable<UserColumn>) {\n    // Build the table mapping\n    const tableMapping = new TableMapping(newTable.getTableName(), newTable.getTableName(), newTable.getUserColumns().getColumns())\n    AlterTable.alterTableWithTableMapping(db, newTable, tableMapping)\n  }\n\n  /**\n   * Alter a table with a new table schema and table mapping.\n   *\n   * Altering a table: Removes views on the table, creates a new table,\n   * transfers the old table data to the new, drops the old table, and renames\n   * the new table to the old. Indexes, triggers, and views that reference\n   * deleted columns are not recreated. An attempt is made to recreate the\n   * others including any modifications for renamed columns.\n   *\n   * Creating a new table: Creates a new table and transfers the table data to\n   * the new. Triggers are not created on the new table. Indexes and views\n   * that reference deleted columns are not recreated. An attempt is made to\n   * create the others on the new table.\n   *\n   * Making Other Kinds Of Table Schema Changes:\n   * https://www.sqlite.org/lang_altertable.html\n   *\n   * @param db connection\n   * @param newTable new table schema\n   * @param tableMapping table mapping\n   */\n  static alterTableWithTableMapping(db: GeoPackageConnection, newTable: UserTable<UserColumn>, tableMapping: TableMapping) {\n    // Update column constraints\n    newTable.getUserColumns().getColumns().forEach((column: UserColumn) => {\n      const columnConstraints = column.clearConstraints()\n      columnConstraints.forEach((columnConstraint: Constraint) => {\n        const updatedSql = CoreSQLUtils.modifySQL(null, columnConstraint.name, columnConstraint.buildSql(), tableMapping)\n        if (updatedSql !== null && updatedSql !== undefined) {\n          column.addConstraint(new RawConstraint(columnConstraint.type, ConstraintParser.getName(updatedSql), updatedSql))\n        }\n      })\n    })\n\n    // Update table constraints\n    const tableConstraints = newTable.clearConstraints()\n    tableConstraints.forEach((tableConstraint: Constraint) => {\n      const updatedSql = CoreSQLUtils.modifySQL(null, tableConstraint.name, tableConstraint.buildSql(), tableMapping)\n      if (updatedSql !== null && updatedSql !== undefined) {\n        newTable.addConstraint(new RawConstraint(tableConstraint.type, tableConstraint.name, updatedSql))\n      }\n    })\n\n    // Build the create table sql\n    const sql = CoreSQLUtils.createTableSQL(newTable)\n    AlterTable.alterTableWithSQLAndTableMapping(db, sql, tableMapping)\n  }\n\n/**\n * Alter a table with a new table SQL creation statement and table mapping.\n *\n * Altering a table: Removes views on the table, creates a new table,\n * transfers the old table data to the new, drops the old table, and renames\n * the new table to the old. Indexes, triggers, and views that reference\n * deleted columns are not recreated. An attempt is made to recreate the\n * others including any modifications for renamed columns.\n *\n * Creating a new table: Creates a new table and transfers the table data to\n * the new. Triggers are not created on the new table. Indexes and views\n * that reference deleted columns are not recreated. An attempt is made to\n * create the others on the new table.\n *\n * Making Other Kinds Of Table Schema Changes:\n * https://www.sqlite.org/lang_altertable.html\n *\n * @param db\n *            connection\n * @param sql\n *            new table SQL\n * @param tableMapping\n *            table mapping\n */\nstatic alterTableWithSQLAndTableMapping(db: GeoPackageConnection, sql: string, tableMapping: TableMapping) {\n\n  let tableName = tableMapping.fromTable\n\n  // Determine if a new table copy vs an alter table\n  let newTable = tableMapping.isNewTable()\n\n  // 1. Disable foreign key constraints\n  let enableForeignKeys = CoreSQLUtils.setForeignKeys(db, false)\n\n  // 2. Start a transaction\n  let successful = true\n  db.transaction(() => {\n    try {\n      // 9a. Query for views\n      let views = SQLiteMaster.queryViewsOnTable(db, [SQLiteMasterColumn.NAME, SQLiteMasterColumn.SQL], tableName)\n      // Remove the views if not a new table\n      if (!newTable) {\n        for (let i = 0; i < views.count(); i++) {\n          let viewName = views.getName(i)\n          try {\n            CoreSQLUtils.dropView(db, viewName)\n          } catch (error) {\n            console.warn('Failed to drop view: ' + viewName + ', table: ' + tableName, error)\n          }\n        }\n      }\n\n      // 3. Query indexes and triggers\n      let indexesAndTriggers = SQLiteMaster.query(db,\n        [SQLiteMasterColumn.NAME, SQLiteMasterColumn.TYPE, SQLiteMasterColumn.SQL],\n        [SQLiteMasterType.INDEX, SQLiteMasterType.TRIGGER],\n        SQLiteMasterQuery.createForColumnValue(SQLiteMasterColumn.TBL_NAME, tableName))\n\n      // Get the temporary or new table name\n      let transferTable\n      if (newTable) {\n        transferTable = tableMapping.toTable\n      } else {\n        transferTable = CoreSQLUtils.tempTableName(db, 'new', tableName)\n        tableMapping.toTable = transferTable\n      }\n\n      // 4. Create the new table\n      sql = sql.replace('\"' + tableName + '\"', '\"' + transferTable + '\"')\n\n      db.run(sql)\n\n      // If transferring content\n      if (tableMapping.isTransferContent()) {\n        // 5. Transfer content to new table\n        CoreSQLUtils.transferTableContentForTableMapping(db, tableMapping)\n\n      }\n      // If altering a table\n      if (!newTable) {\n        // 6. Drop the old table\n        CoreSQLUtils.dropTable(db, tableName)\n        // 7. Rename the new table\n        AlterTable.renameTable(db, transferTable, tableName)\n        tableMapping.toTable = tableName\n      }\n      // 8. Create the indexes and triggers\n      for (let i = 0; i < indexesAndTriggers.count(); i++) {\n        let create = !newTable\n        if (!create) {\n          // Don't create rtree triggers for new tables\n          create = indexesAndTriggers.getType(i) != SQLiteMasterType.TRIGGER || !indexesAndTriggers.getName(i).startsWith(RTreeIndexDao.PREFIX)\n        }\n        if (create) {\n          let tableSql = indexesAndTriggers.getSql(i)\n          if (tableSql != null) {\n            tableSql = CoreSQLUtils.modifySQL(db,\n              indexesAndTriggers.getName(i), tableSql,\n              tableMapping)\n            if (tableSql != null) {\n              try {\n                db.run(tableSql)\n              } catch (e) {\n                console.warn('Failed to recreate '\n                  + indexesAndTriggers.getType(i)\n                  + ' after table alteration. table: '\n                  + tableMapping.toTable + ', sql: '\n                  + tableSql, e)\n              }\n            }\n          }\n        }\n      }\n      // 9b. Recreate views\n      for (let i = 0; i < views.count(); i++) {\n        let viewSql = views.getSql(i)\n        if (viewSql !== null && viewSql !== undefined) {\n          viewSql = CoreSQLUtils.modifySQL(db, views.getName(i), viewSql, tableMapping)\n          if (viewSql !== null && viewSql !== undefined) {\n            try {\n              db.run(viewSql)\n            } catch (e) {\n              console.warn(\n                'Failed to recreate view: '\n                + views.getName(i) + ', table: '\n                + tableMapping.toTable\n                + ', sql: ' + viewSql,\n                e)\n            }\n          }\n        }\n      }\n\n      // 10. Foreign key check\n      if (enableForeignKeys) {\n        AlterTable.foreignKeyCheck(db)\n      }\n    } catch (e) {\n      successful = false\n    }\n  })\n\n  // 12. Re-enable foreign key constraints\n  if (enableForeignKeys) {\n    CoreSQLUtils.setForeignKeys(db, true)\n  }\n}\n\n/**\n * Perform a foreign key check for violations\n * @param db connection\n */\n  static foreignKeyCheck (db: GeoPackageConnection) {\n    const violations = CoreSQLUtils.foreignKeyCheck(db)\n\n    if (violations.length > 0) {\n      let violationsMessage = []\n      for (let i = 0; i < violations.length; i++) {\n        if (i > 0) {\n          violationsMessage = violationsMessage.concat(' ')\n        }\n        violationsMessage = violationsMessage.concat(i + 1).concat(': ')\n        let violation = violations[i]\n        for (let j = 0; j < violation.length; j++) {\n          if (j > 0) {\n            violationsMessage = violationsMessage.concat(', ')\n          }\n          violationsMessage = violationsMessage.concat(violation.get(j))\n        }\n      }\n      throw new Error('Foreign Key Check Violations: ' + violationsMessage)\n    }\n\n  }\n}\n","/**\n * Core SQL Utility methods\n */\nimport { StringUtils } from './stringUtils';\nimport { UserColumn } from '../user/userColumn';\nimport { UserTable } from '../user/userTable';\nimport { GeoPackageConnection } from './geoPackageConnection';\nimport { TableMapping } from './tableMapping';\nimport { TableInfo } from './table/tableInfo';\nimport { SQLiteMaster } from './master/sqliteMaster';\nimport { SQLiteMasterQuery } from './master/sqliteMasterQuery';\nimport { SQLiteMasterColumn } from './master/sqliteMasterColumn';\n\nexport class CoreSQLUtils {\n\n  /**\n   * Pattern for matching numbers\n   */\n  static NUMBER_PATTERN = '\\\\d+';\n\n  /**\n   * Create the user defined table SQL\n   *\n   * @param table user table\n   * @param <TColumn> column type\n   * @return create table SQL\n   */\n  static createTableSQL(table: UserTable<UserColumn>): string {\n\n    // Build the create table sql\n    let sql = '';\n    sql = sql.concat('CREATE TABLE ')\n      .concat(StringUtils.quoteWrap(table.getTableName()))\n      .concat(' (');\n\n    // Add each column to the sql\n    let columns = table.getUserColumns().getColumns();\n    for (let i = 0; i < columns.length; i++) {\n      let column = columns[i];\n      if (i > 0) {\n        sql = sql.concat(',');\n      }\n      sql = sql.concat('\\n  ');\n      sql = sql.concat(CoreSQLUtils.columnSQL(column));\n    }\n\n    // Add unique constraints\n    table.getConstraints().all().forEach(constraint => {\n      sql = sql.concat(',\\n  ');\n      sql = sql.concat(constraint.buildSql());\n    });\n\n    sql = sql.concat('\\n);');\n    return sql;\n  }\n\n  /**\n   * Create the column SQL in the format:\n   * \"column_name\" column_type[(max)] [NOT NULL] [PRIMARY KEY AUTOINCREMENT]\n   * @param column user column\n   * @return column SQL\n   */\n  static columnSQL(column: UserColumn): string {\n    return StringUtils.quoteWrap(column.getName()) + ' ' + CoreSQLUtils.columnDefinition(column);\n  }\n\n  /**\n   * Create the column definition SQL in the format:\n   * column_type[(max)] [NOT NULL] [PRIMARY KEY AUTOINCREMENT]\n   * @param column  user column\n   * @return column definition SQL\n   */\n  static columnDefinition(column: UserColumn): string {\n    let sql = '';\n\n    sql = sql.concat(column.getType());\n    if (column.hasMax()) {\n      sql = sql.concat('(').concat(column.getMax().toString()).concat(')');\n    }\n\n    column.getConstraints().all().forEach(constraint => {\n      sql = sql.concat(' ');\n      sql = sql.concat(column.buildConstraintSql(constraint));\n    });\n\n    return sql.toString();\n  }\n\n  /**\n   * Query for the foreign keys value\n   *\n   * @param db\n   *            connection\n   * @return true if enabled, false if disabled\n   * @since 3.3.0\n   */\n  static foreignKeys(db: GeoPackageConnection): boolean {\n    let foreignKeys = db.get('PRAGMA foreign_keys', null)[0] as boolean;\n    return foreignKeys !== null && foreignKeys !== undefined && foreignKeys;\n  }\n\n  /**\n   * Change the foreign keys state\n   * @param db connection\n   * @param on true to turn on, false to turn off\n   * @return previous foreign keys value\n   */\n  static setForeignKeys(db: GeoPackageConnection, on: boolean): boolean {\n    let foreignKeys = CoreSQLUtils.foreignKeys(db);\n    if (foreignKeys !== on) {\n      let sql = CoreSQLUtils.foreignKeysSQL(on);\n      db.run(sql);\n    }\n    return foreignKeys;\n  }\n\n  /**\n   * Create the foreign keys SQL\n   * @param on true to turn on, false to turn off\n   * @return foreign keys SQL\n   */\n  static foreignKeysSQL(on: boolean): string {\n    return 'PRAGMA foreign_keys = ' + on;\n  }\n\n  /**\n   * Perform a foreign key check\n   * @param db connection\n   * @return empty list if valid or violation errors, 4 column values for each violation. see SQLite PRAGMA foreign_key_check\n   */\n  static foreignKeyCheck(db: GeoPackageConnection): any[] {\n    let sql = CoreSQLUtils.foreignKeyCheckSQL(null);\n    return db.all(sql, null);\n  }\n\n  /**\n   * Perform a foreign key check\n   * @param db connection\n   * @param tableName table name\n   * @return empty list if valid or violation errors, 4 column values for each violation. see SQLite PRAGMA foreign_key_check\n   */\n  static foreignKeyCheckForTable(db: GeoPackageConnection, tableName: string): any[] {\n    let sql = CoreSQLUtils.foreignKeyCheckSQL(tableName);\n    return db.all(sql, null);\n  }\n\n  /**\n   * Create the foreign key check SQL\n   * @param tableName table name\n   * @return foreign key check SQL\n   */\n  static foreignKeyCheckSQL(tableName: string): string {\n    return 'PRAGMA foreign_key_check' + (tableName !== null && tableName !== undefined ? '(' + StringUtils.quoteWrap(tableName) + ')' : '');\n  }\n\n  /**\n   * Create the integrity check SQL\n   * @return integrity check SQL\n   */\n  static integrityCheckSQL(): string {\n    return 'PRAGMA integrity_check';\n  }\n\n  /**\n   * Create the quick check SQL\n   * @return quick check SQL\n   */\n  static quickCheckSQL(): string {\n    return 'PRAGMA quick_check';\n  }\n\n  /**\n   * Drop the table if it exists\n   * @param db connection\n   * @param tableName table name\n   */\n  static dropTable(db: GeoPackageConnection, tableName: string) {\n    const sql = CoreSQLUtils.dropTableSQL(tableName);\n    db.run(sql);\n  }\n\n  /**\n   * Create the drop table if exists SQL\n   * @param tableName table name\n   * @return drop table SQL\n   */\n  static dropTableSQL(tableName: string): string {\n    return 'DROP TABLE IF EXISTS ' + StringUtils.quoteWrap(tableName);\n  }\n\n  /**\n   * Drop the view if it exists\n   * @param db connection\n   * @param viewName view name\n   */\n  static dropView(db: GeoPackageConnection, viewName: string) {\n    const sql = CoreSQLUtils.dropViewSQL(viewName);\n    db.run(sql);\n  }\n\n  /**\n   * Create the drop view if exists SQL\n   * @param viewName view name\n   * @return drop view SQL\n   */\n  static dropViewSQL(viewName: string): string {\n    return 'DROP VIEW IF EXISTS ' + StringUtils.quoteWrap(viewName);\n  }\n\n  /**\n   * Transfer table content from one table to another\n   * @param db connection\n   * @param tableMapping table mapping\n   */\n  static transferTableContentForTableMapping(db: GeoPackageConnection, tableMapping: TableMapping) {\n    const sql = CoreSQLUtils.transferTableContentSQL(tableMapping);\n    db.run(sql);\n  }\n\n  /**\n   * Create insert SQL to transfer table content from one table to another\n   * @param tableMapping table mapping\n   * @return transfer SQL\n   */\n  static transferTableContentSQL(tableMapping: TableMapping): string {\n    let insert = 'INSERT INTO ';\n    insert = insert.concat(StringUtils.quoteWrap(tableMapping.toTable));\n    insert = insert.concat(' (');\n    let selectColumns = '';\n    let where = '';\n    if (tableMapping.hasWhere()) {\n      where = where.concat(tableMapping.where);\n    }\n    const columns = tableMapping.getColumns();\n    tableMapping.getColumnNames().forEach((key: string) => {\n      let toColumn = key;\n      let column = columns[key];\n      if (selectColumns.length > 0) {\n        insert = insert.concat(', ');\n        selectColumns = selectColumns.concat(', ');\n      }\n      insert = insert.concat(StringUtils.quoteWrap(toColumn));\n\n      if (column.hasConstantValue()) {\n        selectColumns = selectColumns.concat(column.getConstantValueAsString());\n      } else {\n        if (column.hasDefaultValue()) {\n          selectColumns = selectColumns.concat('ifnull(');\n        }\n        selectColumns = selectColumns.concat(StringUtils.quoteWrap(column.fromColumn));\n        if (column.hasDefaultValue()) {\n          selectColumns = selectColumns.concat(',');\n          selectColumns = selectColumns.concat(column.getDefaultValueAsString());\n          selectColumns = selectColumns.concat(')');\n        }\n      }\n\n      if (column.hasWhereValue()) {\n        if (where.length > 0) {\n          where = where.concat(' AND ');\n        }\n        where = where.concat(StringUtils.quoteWrap(column.fromColumn));\n        where = where.concat(' ');\n        where = where.concat(column.whereOperator);\n        where = where.concat(' ');\n        where = where.concat(column.getWhereValueAsString());\n      }\n    });\n\n    insert = insert.concat(') SELECT ');\n    insert = insert.concat(selectColumns);\n    insert = insert.concat(' FROM ');\n    insert = insert.concat(StringUtils.quoteWrap(tableMapping.fromTable));\n\n    if (where.length > 0) {\n      insert = insert.concat(' WHERE ');\n      insert = insert.concat(where);\n    }\n\n    return insert.toString();\n  }\n\n  /**\n   * Transfer table content to itself with new rows containing a new column\n   * value. All rows containing the current column value are inserted as new\n   * rows with the new column value.\n   * @param db connection\n   * @param tableName table name\n   * @param columnName column name\n   * @param newColumnValue new column value for new rows\n   * @param currentColumnValue column value for rows to insert as new rows\n   * @param idColumnName id column name\n   */\n  static transferTableContent(db: GeoPackageConnection, tableName: string, columnName: string, newColumnValue: any, currentColumnValue: any, idColumnName?: string) {\n    let tableInfo = TableInfo.info(db, tableName);\n    let tableMapping = TableMapping.fromTableInfo(tableInfo);\n    if (idColumnName != null) {\n      tableMapping.removeColumn(idColumnName);\n    }\n    let column = tableMapping.getColumn(columnName);\n    column.constantValue = newColumnValue;\n    column.whereValue = currentColumnValue;\n    CoreSQLUtils.transferTableContentForTableMapping(db, tableMapping);\n  }\n\n  /**\n   * Get an available temporary table name. Starts with prefix_baseName and\n   * then continues with prefix#_baseName starting at 1 and increasing.\n   * @param db connection\n   * @param prefix name prefix\n   * @param baseName base name\n   * @return unused table name\n   */\n  static tempTableName(db: GeoPackageConnection, prefix: string, baseName: string) {\n    let name = prefix + '_' + baseName;\n    let nameNumber = 0;\n    while (db.tableExists(name)) {\n      name = prefix + (++nameNumber) + '_' + baseName;\n    }\n    return name;\n  }\n\n\n  /**\n   * Modify the SQL with a name change and the table mapping modifications\n   * @param db optional connection, used for SQLite Master name conflict detection\n   * @param name statement name\n   * @param sql SQL statement\n   * @param tableMapping table mapping\n   * @return updated SQL, null if SQL contains a deleted column\n   */\n  static modifySQL(db: GeoPackageConnection, name: string, sql: string, tableMapping: TableMapping): string {\n    let updatedSql = sql;\n    if (name !== null && name !== undefined && tableMapping.isNewTable()) {\n      let newName = CoreSQLUtils.createName(db, name, tableMapping.fromTable, tableMapping.toTable);\n      let updatedName = CoreSQLUtils.replaceName(updatedSql, name, newName);\n      if (updatedName !== null && updatedName !== undefined) {\n        updatedSql = updatedName;\n      }\n      let updatedTable = CoreSQLUtils.replaceName(updatedSql, tableMapping.fromTable, tableMapping.toTable);\n      if (updatedTable !== null && updatedTable !== undefined) {\n        updatedSql = updatedTable;\n      }\n    }\n    updatedSql = CoreSQLUtils.modifySQLWithTableMapping(updatedSql, tableMapping);\n    return updatedSql;\n  }\n\n  /**\n   * Modify the SQL with table mapping modifications\n   * @param sql SQL statement\n   * @param tableMapping table mapping\n   * @return updated SQL, null if SQL contains a deleted column\n   */\n  static modifySQLWithTableMapping(sql: string, tableMapping: TableMapping): string {\n    let updatedSql = sql;\n\n    let droppedColumns = Array.from(tableMapping.droppedColumns);\n    for (let i = 0; i < droppedColumns.length; i++) {\n      let column = droppedColumns[i];\n      let updated = CoreSQLUtils.replaceName(updatedSql, column, ' ');\n      if (updated !== null && updated !== undefined) {\n        updatedSql = null;\n        break;\n      }\n    }\n\n    if (updatedSql !== null && updatedSql !== undefined) {\n      tableMapping.getMappedColumns().forEach(column => {\n        if (column.hasNewName()) {\n          let updated = CoreSQLUtils.replaceName(updatedSql, column.fromColumn, column.toColumn);\n          if (updated !== null && updated !== undefined) {\n            updatedSql = updated;\n          }\n        }\n      });\n    }\n    return updatedSql;\n  }\n\n  /**\n   * Replace the name (table, column, etc) in the SQL with the replacement.\n   * The name must be surrounded by non word characters (i.e. not a subset of\n   * another name).\n   * @param sql SQL statement\n   * @param name name\n   * @param replacement replacement value\n   * @return null if not modified, SQL value if replaced at least once\n   */\n  static replaceName(sql: string, name: string, replacement: string): string {\n\n    let updatedSql = null;\n\n    // Quick check if contained in the SQL\n    if (sql.indexOf(name) >= 0) {\n\n      let updated = false;\n      let updatedSqlBuilder = '';\n\n      // Split the SQL apart by the name\n      let parts = sql.split(name);\n\n      for (let i = 0; i <= parts.length; i++) {\n        if (i > 0) {\n          // Find the character before the name\n          let before = '_';\n          let beforePart = parts[i - 1];\n          if (beforePart.length === 0) {\n            if (i == 1) {\n              // SQL starts with the name, allow\n              before = ' ';\n            }\n          } else {\n            before = beforePart.substring(beforePart.length - 1);\n          }\n\n          // Find the character after the name\n          let after = '_';\n          if (i < parts.length) {\n            let afterPart = parts[i];\n            if (afterPart.length !== 0) {\n              after = afterPart.substring(0, 1);\n            }\n          } else if (sql.endsWith(name)) {\n            // SQL ends with the name, allow\n            after = ' ';\n          } else {\n            break;\n          }\n\n          // Check the before and after characters for non word\n          // characters\n          if (before.match('\\\\W').length > 0 && after.match('\\\\W').length > 0) {\n            // Replace the name\n            updatedSqlBuilder = updatedSqlBuilder.concat(replacement);\n            updated = true;\n          } else {\n            // Preserve the name\n            updatedSqlBuilder = updatedSqlBuilder.concat(name);\n          }\n        }\n\n        // Add the part to the SQL\n        if (i < parts.length) {\n          updatedSqlBuilder = updatedSqlBuilder.concat(parts[i]);\n        }\n      }\n      // Set if the SQL was modified\n      if (updated) {\n        updatedSql = updatedSqlBuilder.toString();\n      }\n    }\n    return updatedSql;\n  }\n\n  /**\n   * Create a new name by replacing a case insensitive value with a new value.\n   * If no replacement is done, create a new name in the form name_#, where #\n   * is either 2 or one greater than an existing name number suffix. When a db\n   * connection is provided, check for conflicting SQLite Master names and\n   * increment # until an available name is found.\n   * @param db optional connection, used for SQLite Master name conflict detection\n   * @param name current name\n   * @param replace value to replace\n   * @param replacement replacement value\n   * @return new name\n   */\n  static createName(db: GeoPackageConnection, name: string, replace: string, replacement: string): string {\n    // Attempt the replacement\n    let newName = name.replace(new RegExp(replace), replacement);\n\n    // If no name change was made\n    if (newName === name) {\n      let baseName = newName;\n      let count = 1;\n      // Find any existing end number: name_#\n      let index = baseName.lastIndexOf('_');\n      if (index >= 0 && index + 1 < baseName.length) {\n        let numberPart = baseName.substring(index + 1);\n        if (numberPart.match(CoreSQLUtils.NUMBER_PATTERN).length > 0) {\n          baseName = baseName.substring(0, index);\n          count = parseInt(numberPart);\n        }\n      }\n      // Set the new name to name_2 or name_(#+1)\n      newName = baseName + '_' + (++count);\n\n      if (db !== null && db !== undefined) {\n        // Check for conflicting SQLite Master table names\n        while (SQLiteMaster.count(db, null, SQLiteMasterQuery.createForColumnValue(SQLiteMasterColumn.NAME, newName)) > 0) {\n          newName = baseName + '_' + (++count);\n        }\n      }\n\n    }\n    return newName;\n  }\n\n  /**\n   * Rebuild the GeoPackage, repacking it into a minimal amount of disk space\n   * @param db connection\n   */\n  static vacuum(db: GeoPackageConnection) {\n    db.run('VACUUM');\n  }\n\n}\n","import { DBAdapter } from './dbAdapter';\n\nexport class Db {\n  private static adapterCreator: new (path: string | Buffer | Uint8Array | undefined) => DBAdapter = undefined;\n\n  static registerDbAdapter (adapter: new (path: string | Buffer | Uint8Array | undefined) => DBAdapter) {\n    Db.adapterCreator = adapter;\n  }\n\n  static create (path?: string | Buffer | Uint8Array | undefined): DBAdapter {\n    return new Db.adapterCreator(path);\n  }\n}\n","import { Db } from './db';\nimport { DBAdapter } from './dbAdapter';\nimport { GeoPackageConstants } from '../geoPackageConstants';\n\n/**\n * Represents a connection to the GeoPackage database\n */\nexport class GeoPackageConnection {\n  filePath: string | Buffer | Uint8Array | undefined;\n  adapter: DBAdapter;\n  registeredFunctions: string[];\n  /**\n   * Construct a new connection to the GeoPackage SQLite file\n   * @param filePath path to the sqlite file\n   */\n  constructor(filePath: string | Buffer | Uint8Array | undefined) {\n    this.filePath = filePath;\n    this.registeredFunctions = [];\n  }\n  /**\n   * Creates a connection to the SQLite file and when connected, returns a promise that resolves the connection.\n   * This will create a {module:db/sqliteAdapter~Adapter} if running in node.\n   * This will create a {module:db/sqljsAdapter~Adapter} if running in the browser\n   * @return {Promise<GeoPackageConnection>}\n   */\n  async init(): Promise<GeoPackageConnection> {\n    try {\n      this.adapter = Db.create(this.filePath);\n      await this.adapter.initialize();\n    } catch (e) {\n      console.log('Failed to create adapter', e);\n      throw e;\n    }\n    return this;\n  }\n\n  transaction(func: Function): void {\n    this.adapter.transaction(func);\n  }\n\n  /**\n   * Close the database.\n   */\n  close(): void {\n    this.adapter.close();\n  }\n  /**\n   * exports the GeoPackage as a file\n   * @param  {Function} callback called with an err and the buffer containing the contents of the file\n   */\n  async export(): Promise<any> {\n    return this.adapter.export();\n  }\n  /**\n   * Gets the raw connection to the database\n   * @return {any}\n   */\n  getDBConnection(): any {\n    return this.adapter.db;\n  }\n  /**\n   * Connects to a GeoPackage database\n   * @param  {any} db database to connect to\n   */\n  setDBConnection(db: any): void {\n    this.adapter = Db.create();\n    this.adapter.db = db;\n  }\n  /**\n   * Registers the given function so that it can be used by SQL statements\n   * @param  {string} name name of function to register\n   * @param  {Function} functionDefinition function to register\n   * @return {DBAdapter} the adapter in use\n   */\n  registerFunction(name: string, functionDefinition: Function): DBAdapter {\n    if (this.registeredFunctions.indexOf(name) === -1) {\n      this.registeredFunctions.push(name);\n      this.adapter.registerFunction(name, functionDefinition);\n    }\n    return this.adapter;\n  }\n  /**\n   * Gets the first result from the query\n   * @param  {string} sql    sql query to run\n   * @param  {Array|Object} [params] array of substitution parameters\n   * @return {any}\n   */\n  get(sql: string, params?: [] | Record<string, any>): any {\n    return this.adapter.get(sql, params);\n  }\n  /**\n   * Checks if table exists in database\n   * @param {string} tableName\n   * @returns {Boolean}\n   */\n  isTableExists(tableName: string): boolean {\n    return this.adapter.isTableExists(tableName);\n  }\n  /**\n   * Run the given SQL and return the results.\n   * @param  {string} sql    sql to run\n   * @param  {Array|Object} [params] array of substitution parameters\n   * @return {{changes: number, lastInsertRowid: number}} object: `{ \"changes\": number, \"lastInsertROWID\": number }`\n   * * `changes`: number of rows the statement changed\n   * * `lastInsertROWID`: ID of the last inserted row\n   */\n  run(sql: string, params?: Record<string, any> | []): { changes: number; lastInsertRowid: number } {\n    return this.adapter.run(sql, params);\n  }\n  /**\n   * Executes the query and returns all results in an array\n   * @param  {string} sql sql to run\n   * @param  {Array|Object} [params] substitution parameters\n   * @return {any[]}\n   */\n  all(sql: string, params?: [] | Record<string, any> | null): any[] {\n    return this.adapter.all(sql, params);\n  }\n  /**\n   * Executes the query and returns an Iterable object of results\n   * @param  {string} sql    sql to run\n   * @param  {Array|Object} [params] substitution parameters\n   * @return {IterableIterator<Object>}\n   */\n  each(sql: string, params?: [] | Record<string, any>): IterableIterator<any> {\n    return this.adapter.each(sql, params);\n  }\n  /**\n   * Gets the minimum value from the column\n   * @param  {string} table     table to query\n   * @param  {string} column    column to get the min value from\n   * @param  {string} [where]     where clause\n   * @param  {Array|Object} [whereArgs] substitution parameters\n   * @return {number}\n   */\n  minOfColumn(table: string, column: string, where?: string, whereArgs?: [] | Record<string, any>): number {\n    let minStatement = 'select min(' + column + ') as min from ' + table;\n    if (where) {\n      minStatement += ' ';\n      if (where.indexOf('where')) {\n        where = 'where ' + where;\n      }\n      minStatement += where;\n    }\n    return this.adapter.get(minStatement, whereArgs).min;\n  }\n  /**\n   * Gets the maximum value from the column\n   * @param  {string} table     table to query\n   * @param  {string} column    column to get the max value from\n   * @param  {string} [where]     where clause\n   * @param  {Array|Object} [whereArgs] substitution parameters\n   * @return {number}\n   */\n  maxOfColumn(table: string, column: string, where?: string, whereArgs?: [] | Record<string, any>): number {\n    let maxStatement = 'select max(' + column + ') as max from ' + table;\n    if (where) {\n      maxStatement += ' ';\n      if (where.indexOf('where')) {\n        where = 'where ' + where;\n      }\n      maxStatement += where;\n    }\n    return this.adapter.get(maxStatement, whereArgs).max;\n  }\n  /**\n   * Return the count of objects in the table\n   * @param  {string} table table name\n   * @param  {string} [where] where clause\n   * @param  {Array|Object} [whereArgs] substitution parameters\n   * @return {number}\n   */\n  count(table: string, where?: string, whereArgs?: [] | Record<string, any>): number {\n    return this.adapter.count(table, where, whereArgs);\n  }\n  /**\n   * Executes an insert statement and returns the last id inserted\n   * @param  {string} sql    sql to insert\n   * @param  {Array|Object} params substitution parameters\n   * @return {Object} last row id inserted\n   */\n  insert(sql: string, params: [] | Record<string, any>): number {\n    return this.adapter.insert(sql, params);\n  }\n  /**\n   * Delete from the table\n   * @param  {string} tableName table name to delete from\n   * @param  {string} [where]     where clause\n   * @param  {Array|Object} [whereArgs] substitution parameters\n   * @return {number} number of rows deleted\n   */\n  delete(tableName: string, where?: string, whereArgs?: [] | Record<string, any>): number {\n    let deleteStatement = 'DELETE FROM ' + tableName + '';\n    if (where) {\n      deleteStatement += ' WHERE ' + where;\n    }\n    return this.adapter.delete(deleteStatement, whereArgs);\n  }\n  /**\n   * Drops the table specified\n   * @param  {string} tableName table to drop\n   * @return {Boolean} results of table drop\n   */\n  dropTable(tableName: string): boolean {\n    return this.adapter.dropTable(tableName);\n  }\n  /**\n   * Gets information about the table specified.  If data is returned, the table exists\n   * @param  {string} tableName table to check\n   * @return {Object}\n   */\n  tableExists(tableName: string): boolean {\n    return this.adapter.isTableExists(tableName);\n  }\n  /**\n   * Checks if a table and column exist\n   * @param  {string} tableName  table to check\n   * @param  {string} columnName column to check\n   * @return {Boolean}\n   */\n  columnAndTableExists(tableName: string, columnName: string): boolean {\n    const columns = this.adapter.all(\"PRAGMA table_info('\" + tableName + \"')\");\n    for (let i = 0; i < columns.length; i++) {\n      if (columns[i].name === columnName) {\n        return true;\n      }\n    }\n    return false;\n  }\n  /**\n   * Sets the APPLICATION_ID and user_version for GeoPackage\n   */\n  setApplicationId(): void {\n    const buff = Buffer.from(GeoPackageConstants.APPLICATION_ID);\n    const applicationId = buff.readUInt32BE(0);\n    this.adapter.run('PRAGMA application_id = ' + applicationId);\n    this.adapter.run('PRAGMA user_version = ' + GeoPackageConstants.USER_VERSION);\n  }\n  /**\n   * gets the application_id from the sqlite file\n   * @return {number}\n   */\n  getApplicationId(): string {\n    return this.adapter.get('PRAGMA application_id').application_id;\n  }\n  /**\n   * Convenience method\n   * @see {module:db/geoPackageConnection~GeoPackageConnection}\n   * @see {module:db/sqliteAdapter~Adapter}\n   * @see {module:db/sqljsAdapter~Adapter}\n   * @param  {string|Buffer|Uint8Array} filePath string path to an existing file or a path to where a new file will be created or a Buffer containing the contents of the file, if undefined, an in memory database is created\n   * @return {Promise} that resolves\n   */\n  static connect(filePath: string | Buffer | Uint8Array): Promise<GeoPackageConnection> {\n    return new GeoPackageConnection(filePath).init();\n  }\n  /**\n   * Convenience method\n   * @param  {Object}   db       open database to connect to\n   * @return {Promise}\n   */\n  static async connectWithDatabase(db: any): Promise<GeoPackageConnection> {\n    const connection = await new GeoPackageConnection(undefined).init();\n    connection.setDBConnection(db);\n    return connection;\n  }\n}\n","export enum GeoPackageDataType {\n  BOOLEAN,\n  TINYINT,\n  SMALLINT,\n  MEDIUMINT,\n  INT,\n  INTEGER,\n  FLOAT,\n  DOUBLE,\n  REAL,\n  TEXT,\n  BLOB,\n  DATE,\n  DATETIME,\n}\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace GeoPackageDataType {\n  export function nameFromType(type: GeoPackageDataType): string {\n    return GeoPackageDataType[type];\n  }\n\n  export function fromName(type: string): GeoPackageDataType {\n    return GeoPackageDataType[type as keyof typeof GeoPackageDataType] as GeoPackageDataType;\n  }\n\n  /**\n   * Get the column default value as a string\n   * @param defaultValue default value\n   * @param dataType data type\n   * @return default value\n   */\n  export function columnDefaultValue(defaultValue: any, dataType: GeoPackageDataType): string {\n    let value = null;\n\n    if (defaultValue !== null && defaultValue !== undefined) {\n      if (dataType !== null && dataType !== undefined) {\n        switch (dataType) {\n          case GeoPackageDataType.BOOLEAN:\n            let booleanValue = null;\n            if (typeof defaultValue === 'boolean') {\n              booleanValue = defaultValue;\n            } else if (typeof defaultValue === 'string') {;\n              switch (defaultValue) {\n                case '0':\n                  booleanValue = false;\n                  break;\n                case '1':\n                  booleanValue = true;\n                  break;\n                case 'true':\n                  booleanValue = true;\n                  break;\n                case 'false':\n                  booleanValue = false;\n                  break;\n                default:\n                  break;\n              }\n            }\n            if (booleanValue !== null && booleanValue !== undefined) {\n              if (booleanValue) {\n                value = '1';\n              } else {\n                value = '0';\n              }\n            }\n            break;\n          case GeoPackageDataType.TEXT:\n            value = defaultValue.toString();\n            if (!value.startsWith('\\'') || !value.endsWith('\\'')) {\n              value = '\\'' + value + '\\'';\n            }\n            break;\n          default:\n        }\n      }\n\n      if (value === null || value === undefined) {\n        value = defaultValue.toString();\n      }\n    }\n    return value;\n  }\n}\n","import { GeoPackageDataType } from './geoPackageDataType'\nimport isNil from 'lodash/isNil'\nimport isEqual from 'lodash/isEqual'\n\n/**\n * Mapped column, to a column and potentially from a differently named column\n */\nexport class MappedColumn {\n  /**\n   * To column\n   */\n  _toColumn: string\n\n  /**\n   * From column or null if the same as to column\n   */\n  _fromColumn: string\n\n  /**\n   * Default to column value\n   */\n  _defaultValue: any\n\n  /**\n   * Column data type\n   */\n  _dataType: GeoPackageDataType\n\n  /**\n   * Constant value\n   */\n  _constantValue: any\n\n  /**\n   * Where value\n   */\n  _whereValue: any\n\n  /**\n   * Where value comparison operator (=, <, etc)\n   */\n  _whereOperator: string\n\n  /**\n   * Constructor\n   *\n   * @param toColumn to column\n   * @param fromColumn from column\n   * @param defaultValue default value\n   * @param dataType data type\n   */\n  constructor (toColumn: string, fromColumn: string, defaultValue: any, dataType: GeoPackageDataType) {\n    this._toColumn = toColumn\n    this._fromColumn = fromColumn\n    this._defaultValue = defaultValue\n    this._dataType = dataType\n  }\n\n  /**\n   * Get the to column\n   * @return to column\n   */\n  get toColumn(): string {\n    return this._toColumn\n  }\n\n  /**\n   * Set the to column\n   * @param toColumn to column\n   */\n  set toColumn(toColumn: string) {\n    this._toColumn = toColumn\n  }\n\n  /**\n   * Determine if the column has a new name\n   *\n   * @return true if the to and from column names are different\n   */\n  hasNewName(): boolean {\n    return !isNil(this._fromColumn) && !isEqual(this._fromColumn, this._toColumn)\n  }\n\n  /**\n   * Get the from column\n   * @return from column\n   */\n  get fromColumn(): string {\n    return this._fromColumn\n  }\n\n  /**\n   * Set the from column\n   * @param fromColumn to column\n   */\n  set fromColumn(fromColumn: string) {\n    this._fromColumn = fromColumn\n  }\n\n  /**\n   * Check if the column has a default value\n   * @return true if has a default value\n   */\n  hasDefaultValue(): boolean {\n    return !isNil(this._defaultValue)\n  }\n\n  /**\n   * Get the default value\n   * @return default value\n   */\n  get defaultValue(): any {\n    return this._defaultValue\n  }\n\n  /**\n   * Get the default value as a string\n   * @return default value as string\n   */\n  getDefaultValueAsString(): string {\n    return GeoPackageDataType.columnDefaultValue(this._defaultValue, this._dataType)\n  }\n\n  /**\n   * Set the default value\n   * @param defaultValue default value\n   */\n  set defaultValue(defaultValue: any) {\n    this._defaultValue = defaultValue\n  }\n\n  /**\n   * Get the data type\n   * @return data type\n   */\n  get dataType(): GeoPackageDataType {\n    return this._dataType\n  }\n\n  /**\n   * Set the data type\n   * @param dataType data type\n   */\n  set dataType(dataType: GeoPackageDataType) {\n    this._dataType = dataType\n  }\n\n  /**\n   * Check if the column has a constant value\n   * @return true if has a constant value\n   */\n  hasConstantValue(): boolean {\n    return !isNil(this._constantValue)\n  }\n\n  /**\n   * Get the constant value\n   * @return constant value\n   */\n  get constantValue(): any {\n    return this._constantValue\n  }\n\n  /**\n   * Get the constant value as a string\n   * @return constant value as string\n   */\n  getConstantValueAsString(): string {\n    return GeoPackageDataType.columnDefaultValue(this._constantValue, this._dataType)\n  }\n\n  /**\n   * Set the constant value\n   * @param constantValue constant value\n   */\n  set constantValue(constantValue: any) {\n    this._constantValue = constantValue\n  }\n\n  /**\n   * Check if the column has a where value\n   * @return true if has a where value\n   */\n  hasWhereValue(): boolean {\n    return !isNil(this._whereValue)\n  }\n\n  /**\n   * Get the where value\n   * @return where value\n   */\n  get whereValue(): any {\n    return this._whereValue\n  }\n\n  /**\n   * Get the where value as a string\n   * @return where value as string\n   */\n  getWhereValueAsString(): string {\n    return GeoPackageDataType.columnDefaultValue(this._whereValue, this._dataType)\n  }\n\n  /**\n   * Set the where value\n   * @param whereValue where value\n   */\n  set whereValue(whereValue: any) {\n    this._whereValue = whereValue\n  }\n\n  /**\n   * Set the where value\n   * @param whereValue where value\n   * @param whereOperator where operator\n   */\n  setWhereValueAndOperator(whereValue: any, whereOperator: string) {\n    this._whereValue = whereValue\n    this.whereOperator = whereOperator\n  }\n\n  /**\n   * Get the where operator\n   * @return where operator\n   */\n  get whereOperator(): string {\n    return !isNil(this._whereOperator) ? this._whereOperator : '='\n  }\n\n  /**\n   * Set the where operator\n   * @param whereOperator where operator\n   */\n  set whereOperator(whereOperator: string) {\n    this._whereOperator = whereOperator\n  }\n}\n","/**\n * SQLite Master table queries (sqlite_master)\n */\nimport {SQLiteMasterColumn} from './sqliteMasterColumn';\nimport {SQLiteMasterType} from './sqliteMasterType';\nimport {TableConstraints} from '../table/tableConstraints';\nimport {ConstraintParser} from '../table/constraintParser';\nimport {GeoPackageConnection} from '../geoPackageConnection';\nimport {SQLiteMasterQuery} from './sqliteMasterQuery';\n\nexport class SQLiteMaster {\n\n\t/**\n\t * Table Name\n\t */\n\tstatic TABLE_NAME = 'sqlite_master';\n\n\t/**\n\t * SQLiteMaster query results\n\t */\n\t_results: any[];\n\n\t/**\n\t * Mapping between result columns and indices\n\t */\n\t_columns = {};\n\n\t/**\n\t * Query result count\n\t */\n\t_count: number;\n\n\t/**\n\t * Constructor\n\t * @param results query results\n\t * @param columns query columns\n\t */\n\tconstructor(results: any[], columns: SQLiteMasterColumn[]) {\n\t\tif (columns !== null && columns !== undefined && columns.length > 0) {\n\t\t\tthis._results = results;\n\t\t\tthis._count = results.length;\n\t\t\tfor (let i = 0; i < columns.length; i++) {\n\t\t\t\tthis._columns[SQLiteMasterColumn.nameFromType(columns[i])] = i;\n\t\t\t}\n\t\t} else {\n\t\t\t// Count only result\n\t\t\tthis._results = [];\n\t\t\tthis._count = results[0].cnt;\n\t\t}\n\t}\n\n\t/**\n\t * Result count\n\t * @return count\n\t */\n\tcount(): number {\n\t\treturn this._count;\n\t}\n\n\t/**\n\t * Get the columns in the result\n\t * @return columns\n\t */\n\tcolumns(): SQLiteMasterColumn[] {\n\t\treturn Object.keys(this._columns).map(key => SQLiteMasterColumn.fromName(key));\n\t}\n\n\t/**\n\t * Get the type\n\t * @param row row index\n\t * @return type\n\t */\n\tgetType(row: number): SQLiteMasterType {\n\t\treturn SQLiteMasterType.fromName(this.getTypeString(row).toUpperCase());\n\t}\n\n\t/**\n\t * Get the type string\n\t * @param row row index\n\t * @return type string\n\t */\n\tgetTypeString(row: number): string {\n\t\treturn  this.getValueForRowAndColumn(row, SQLiteMasterColumn.TYPE);\n\t}\n\n\t/**\n\t * Get the name\n\t * @param row row index\n\t * @return name\n\t */\n\tgetName(row: number): string {\n\t\treturn this.getValueForRowAndColumn(row, SQLiteMasterColumn.NAME);\n\t}\n\n\t/**\n\t * Get the table name\n\t * @param row row index\n\t * @return name\n\t */\n\tgetTableName(row: number): string {\n\t\treturn this.getValueForRowAndColumn(row, SQLiteMasterColumn.TBL_NAME);\n\t}\n\n\t/**\n\t * Get the rootpage\n\t * @param row row index\n\t * @return name\n\t */\n\tgetRootpage(row: number): number {\n\t\treturn this.getValueForRowAndColumn(row, SQLiteMasterColumn.ROOTPAGE);\n\t}\n\n\t/**\n\t * Get the sql\n\t * @param row row index\n\t * @return name\n\t */\n\tgetSql(row: number): string {\n\t\treturn this.getValueForRowAndColumn(row, SQLiteMasterColumn.SQL);\n\t}\n\n\t/**\n\t * Get the value of the column at the row index\n\t *\n\t * @param row row index\n\t * @param column column type\n\t * @return value\n\t */\n\tgetValueForRowAndColumn(row: number, column: SQLiteMasterColumn): any {\n\t\treturn SQLiteMaster.getValue(this.getRow(row), column);\n\t}\n\n\t/**\n\t * Get the row at the row index\n\t * @param row row index\n\t * @return row column values\n\t */\n\tgetRow(row: number): any[] {\n\t\tif (row < 0 || row >= this._results.length) {\n\t\t\tlet message;\n\t\t\tif (this._results.length === 0) {\n\t\t\t\tmessage = 'Results are empty';\n\t\t\t} else {\n\t\t\t\tmessage = 'Row index: ' + row + ', not within range 0 to ' + (this._results.length - 1);\n\t\t\t}\n\t\t\tthrow new Error(message);\n\t\t}\n\t\treturn this._results[row];\n\t}\n\n\t/**\n\t * Get the value in the row at the column index\n\t * @param row row\n\t * @param column column type\n\t * @return value\n\t */\n\tstatic getValue(row: any[], column: SQLiteMasterColumn): any {\n\t\treturn row[SQLiteMasterColumn.nameFromType(column).toLowerCase()];\n\t}\n\n\t/**\n\t * Get the constraints from table SQL\n\t * @param row row index\n\t * @return constraints\n\t */\n\tgetConstraints(row: number): TableConstraints {\n\t\tlet constraints = new TableConstraints();\n\t\tif (this.getType(row) === SQLiteMasterType.TABLE) {\n\t\t\tlet sql = this.getSql(row);\n\t\t\tif (sql !== null && sql !== undefined) {\n\t\t\t\tconstraints = ConstraintParser.getConstraints(sql);\n\t\t\t}\n\t\t}\n\t\treturn constraints;\n\t}\n\n\t/**\n\t * Count the sqlite_master table\n\t *\n\t * @param db connection\n\t * @param types result types\n\t * @param query query\n\t * @return count\n\t */\n\tstatic count(db: GeoPackageConnection, types: SQLiteMasterType[], query: SQLiteMasterQuery): number {\n\t\treturn SQLiteMaster.query(db, null, types, query).count();\n\t}\n\n\t/**\n\t * Query the sqlite_master table\n\t *\n\t * @param db connection\n\t * @param columns result columns\n\t * @param types result types\n\t * @param query query\n\t * @return SQLiteMaster result\n\t */\n\tstatic query(db: GeoPackageConnection, columns: SQLiteMasterColumn[], types: SQLiteMasterType[], query: SQLiteMasterQuery): SQLiteMaster {\n\t\tlet sql = 'SELECT ';\n\t\tlet args = [];\n\n\t\tif (columns !== null && columns !== undefined && columns.length > 0) {\n\t\t\tfor (let i = 0; i < columns.length; i++) {\n\t\t\t\tif (i > 0) {\n\t\t\t\t\tsql = sql.concat(', ');\n\t\t\t\t}\n\t\t\t\tsql = sql.concat(SQLiteMasterColumn.nameFromType(columns[i]).toLowerCase());\n\t\t\t}\n\n\t\t} else {\n\t\t\tsql = sql.concat('count(*) as cnt');\n\t\t}\n\n\t\tsql = sql.concat(' FROM ');\n\t\tsql = sql.concat(SQLiteMaster.TABLE_NAME);\n\n\t\tlet hasQuery = query !== null && query !== undefined && query.has();\n\t\tlet hasTypes = types !== null && types !== undefined && types.length > 0;\n\n\t\tif (hasQuery || hasTypes) {\n\t\t\tsql = sql.concat(\" WHERE \");\n\n\t\t\tif (hasQuery) {\n\t\t\t\tsql = sql.concat(query.buildSQL());\n\t\t\t\targs.push(...query.getArguments());\n\t\t\t}\n\n\t\t\tif (hasTypes) {\n\t\t\t\tif (hasQuery) {\n\t\t\t\t\tsql = sql.concat(\" AND\");\n\t\t\t\t}\n\n\t\t\t\tsql = sql.concat(\" type IN (\");\n\t\t\t\tfor (let i = 0; i < types.length; i++) {\n\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\tsql = sql.concat(\", \");\n\t\t\t\t\t}\n\t\t\t\t\tsql = sql.concat(\"?\");\n\t\t\t\t\targs.push(SQLiteMasterType.nameFromType(types[i]).toLowerCase());\n\t\t\t\t}\n\t\t\t\tsql = sql.concat(\")\");\n\t\t\t}\n\t\t}\n\n\t\tlet results = db.all(sql, args);\n\t\treturn new SQLiteMaster(results, columns);\n\t}\n\n\t/**\n\t * Query the sqlite_master views on the table\n\t * @param db connection\n\t * @param columns result columns\n\t * @param tableName table name\n\t * @return SQLiteMaster result\n\t */\n\tstatic queryViewsOnTable(db: GeoPackageConnection, columns: SQLiteMasterColumn[], tableName: string): SQLiteMaster {\n\t\treturn SQLiteMaster.query(db, columns, [SQLiteMasterType.VIEW], SQLiteMasterQuery.createTableViewQuery(tableName));\n\t}\n\n\t/**\n\t * Count the sqlite_master views on the table\n\t * @param db connection\n\t * @param tableName table name\n\t * @return count\n\t */\n\tstatic countViewsOnTable(db: GeoPackageConnection, tableName: string): number {\n\t\treturn SQLiteMaster.count(db, [SQLiteMasterType.VIEW], SQLiteMasterQuery.createTableViewQuery(tableName));\n\t}\n\n\t/**\n\t * Query for the table constraints\n\t * @param db  connection\n\t * @param tableName able name\n\t * @return SQL constraints\n\t */\n\tstatic queryForConstraints(db: GeoPackageConnection, tableName: string): TableConstraints {\n\t\tlet constraints = new TableConstraints();\n\t\tlet tableMaster = SQLiteMaster.query(db, [SQLiteMasterColumn.TYPE, SQLiteMasterColumn.NAME, SQLiteMasterColumn.TBL_NAME, SQLiteMasterColumn.ROOTPAGE, SQLiteMasterColumn.SQL], [SQLiteMasterType.TABLE], SQLiteMasterQuery.createForColumnValue(SQLiteMasterColumn.TBL_NAME, tableName));\n\t\tfor (let i = 0; i < tableMaster.count(); i++) {\n\t\t\tconstraints.addTableConstraints(tableMaster.getConstraints(i).constraints);\n\t\t}\n\t\treturn constraints;\n\t}\n\n}\n","/**\n * SQLite Master table (sqlite_master) column keywords\n */\nexport enum SQLiteMasterColumn {\n\n\t/**\n\t * The sqlite_master.type column will be one of the following text strings:\n\t * 'table', 'index', 'view', or 'trigger' according to the type of object\n\t * defined. The 'table' string is used for both ordinary and virtual tables.\n\t */\n\tTYPE,\n\n\t/**\n\t * The sqlite_master.name column will hold the name of the object.\n\t */\n\tNAME,\n\n\t/**\n\t * The sqlite_master.tbl_name column holds the name of a table or view that\n\t * the object is associated with. For a table or view, the tbl_name column\n\t * is a copy of the name column. For an index, the tbl_name is the name of\n\t * the table that is indexed. For a trigger, the tbl_name column stores the\n\t * name of the table or view that causes the trigger to fire.\n\t */\n\tTBL_NAME,\n\n\t/**\n\t * The sqlite_master.rootpage column stores the page number of the root\n\t * b-tree page for tables and indexes. For rows that define views, triggers,\n\t * and virtual tables, the rootpage column is 0 or NULL.\n\t */\n\tROOTPAGE,\n\n\t/**\n\t * The sqlite_master.sql column stores SQL text that describes the object.\n\t * This SQL text is a CREATE TABLE, CREATE VIRTUAL TABLE, CREATE INDEX,\n\t * CREATE VIEW, or CREATE TRIGGER statement that if evaluated against the\n\t * database file when it is the main database of a database connection would\n\t * recreate the object.\n\t */\n\tSQL\n}\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace SQLiteMasterColumn {\n\texport function nameFromType(type: SQLiteMasterColumn): string {\n\t\treturn SQLiteMasterColumn[type];\n\t}\n\n\texport function fromName(type: string): SQLiteMasterColumn {\n\t\treturn SQLiteMasterColumn[type as keyof typeof SQLiteMasterColumn] as SQLiteMasterColumn;\n\t}\n\n\texport function asArray(): SQLiteMasterColumn[] {\n\t\treturn [SQLiteMasterColumn.TYPE, SQLiteMasterColumn.NAME, SQLiteMasterColumn.TBL_NAME, SQLiteMasterColumn.ROOTPAGE, SQLiteMasterColumn.SQL]\n\t}\n}\n","/**\n * Query on the SQLiteMaster table\n */\nimport { SQLiteMasterColumn } from './sqliteMasterColumn';\nimport { StringUtils } from '../stringUtils';\n\nexport class SQLiteMasterQuery {\n\n\t/**\n\t * Combine operation for multiple queries\n\t */\n\tcombineOperation: string;\n\n\t/**\n\t * List of queries\n\t */\n\tqueries: string[] = [];\n\n\t/**\n\t * List of arguments\n\t */\n\targuments: string[] = [];\n\n\t/**\n\t * Create a query with the combine operation\n\t * @param combineOperation combine operation\n\t */\n\tconstructor(combineOperation: string) {\n\t\tthis.combineOperation = combineOperation;\n\t}\n\n\t/**\n\t * Add a query\n\t * @param column  column\n\t * @param operation operation\n\t * @param value value\n\t */\n\tadd(column: SQLiteMasterColumn, operation: string, value: string) {\n\t\tthis.validateAdd();\n\t\tthis.queries.push('LOWER(' + StringUtils.quoteWrap(SQLiteMasterColumn.nameFromType(column).toLowerCase()) + ') ' + operation + ' LOWER(?)');\n\t\tthis.arguments.push(value);\n\t}\n\n\t/**\n\t * Add an is null query\n\t * @param column column\n\t */\n\taddIsNull(column: SQLiteMasterColumn) {\n\t\tthis.validateAdd();\n\t\tthis.queries.push(StringUtils.quoteWrap(SQLiteMasterColumn.nameFromType(column).toLowerCase()) + ' IS NULL');\n\t}\n\n\t/**\n\t * Add an is not null query\n\t * @param column column\n\t */\n\taddIsNotNull(column: SQLiteMasterColumn) {\n\t\tthis.validateAdd();\n\t\tthis.queries.push(StringUtils.quoteWrap(SQLiteMasterColumn.nameFromType(column).toLowerCase()) + ' IS NOT NULL');\n\t}\n\n\t/**\n\t * Validate the state of the query when adding to the query\n\t */\n\tvalidateAdd() {\n\t\tif ((this.combineOperation === null || this.combineOperation === undefined) && this.queries.length !== 0) {\n\t\t\tthrow new Error('Query without a combination operation supports only a single query');\n\t\t}\n\t}\n\n\t/**\n\t * Determine a query has been set\n\t * @return true if has a query\n\t */\n\thas() {\n\t\treturn this.queries.length !== 0;\n\t}\n\n\t/**\n\t * Build the query SQL\n\t * @return sql\n\t */\n\tbuildSQL(): string {\n\t\tlet sql = '';\n\t\tif (this.queries.length > 1) {\n\t\t\tsql = sql.concat('( ');\n\t\t}\n\t\tfor (let i = 0; i < this.queries.length; i++) {\n\t\t\tif (i > 0) {\n\t\t\t\tsql = sql.concat(' ');\n\t\t\t\tsql = sql.concat(this.combineOperation);\n\t\t\t\tsql = sql.concat(' ');\n\t\t\t}\n\t\t\tsql = sql.concat(this.queries[i]);\n\t\t}\n\t\tif (this.queries.length > 1) {\n\t\t\tsql = sql.concat(' )');\n\t\t}\n\t\treturn sql;\n\t}\n\n\t/**\n\t * Get the query arguments\n\t * @return arguments\n\t */\n\tgetArguments(): string[] {\n\t\treturn this.arguments;\n\t}\n\n\t/**\n\t * Create an empty query that supports a single query\n\t * @return query\n\t */\n\tstatic create(): SQLiteMasterQuery {\n\t\treturn new SQLiteMasterQuery(null);\n\t}\n\n\t/**\n\t * Create a query with multiple queries combined by an OR\n\t * @return query\n\t */\n\tstatic createOr(): SQLiteMasterQuery {\n\t\treturn new SQLiteMasterQuery('OR');\n\t}\n\n\t/**\n\t * Create a query with multiple queries combined by an AND\n\t * @return query\n\t */\n\tstatic createAnd(): SQLiteMasterQuery {\n\t\treturn new SQLiteMasterQuery('AND');\n\t}\n\n\t/**\n\t * Create a single equality query\n\t *\n\t * @param column column\n\t * @param value value\n\t * @return query\n\t */\n\tstatic createForColumnValue(column: SQLiteMasterColumn, value: string): SQLiteMasterQuery {\n\t\tlet query = this.create();\n\t\tquery.add(column, '=', value);\n\t\treturn query;\n\t}\n\n\t/**\n\t * Create a single query\n\t * @param column column\n\t * @param operation operation\n\t * @param value value\n\t * @return query\n\t */\n\tstatic createForOperationAndColumnValue(column: SQLiteMasterColumn, operation: string, value: string): SQLiteMasterQuery {\n\t\tlet query = this.create();\n\t\tquery.add(column, operation, value);\n\t\treturn query;\n\t}\n\n\t/**\n\t * Create an equality query with multiple values for a single column\n\t * combined with an OR\n\t * @param column column\n\t * @param values value\n\t * @return query\n\t */\n\tstatic createOrForColumnValue(column: SQLiteMasterColumn, values: string[]): SQLiteMasterQuery {\n\t\tlet query = this.createOr();\n\t\tvalues.forEach(value => {\n\t\t\tquery.add(column, '=', value);\n\t\t});\n\t\treturn query;\n\t}\n\n\t/**\n\t * Create a query with multiple values for a single column combined with an\n\t * OR\n\t *\n\t * @param column column\n\t * @param operation operation\n\t * @param values value\n\t * @return query\n\t */\n\tstatic createOrForOperationAndColumnValue(column: SQLiteMasterColumn, operation: string, values: string[]): SQLiteMasterQuery {\n\t\tlet query = this.createOr();\n\t\tvalues.forEach(value => {\n\t\t\tquery.add(column, operation, value);\n\t\t});\n\t\treturn query;\n\t}\n\n\t/**\n\t * Create an equality query with multiple values for a single column\n\t * combined with an AND\n\t * @param column column\n\t * @param values value\n\t * @return query\n\t */\n\tstatic createAndForColumnValue(column: SQLiteMasterColumn, values: string[]): SQLiteMasterQuery {\n\t\tlet query = this.createAnd();\n\t\tvalues.forEach(value => {\n\t\t\tquery.add(column, '=', value);\n\t\t});\n\t\treturn query;\n\t}\n\n\t/**\n\t * Create a query with multiple values for a single column combined with an\n\t * AND\n\t * @param column column\n\t * @param operation operation\n\t * @param values value\n\t * @return query\n\t */\n\tstatic createAndForOperationAndColumnValue(column: SQLiteMasterColumn, operation: string, values: string[]): SQLiteMasterQuery {\n\t\tlet query = this.createAnd();\n\t\tvalues.forEach(value => {\n\t\t\tquery.add(column, operation, value);\n\t\t});\n\t\treturn query;\n\t}\n\n\t/**\n\t * Create a query to find views in the sql column referring to the table\n\t * @param tableName table name\n\t * @return query\n\t */\n\tstatic createTableViewQuery(tableName: string): SQLiteMasterQuery{\n\t\tlet queries = [];\n\t\tqueries.push('%\\\"' + tableName + '\\\"%');\n\t\tqueries.push('% ' + tableName + ' %');\n\t\tqueries.push('%,' + tableName + ' %');\n\t\tqueries.push('% ' + tableName + ',%');\n\t\tqueries.push('%,' + tableName + ',%');\n\t\tqueries.push('% ' + tableName);\n\t\tqueries.push('%,' + tableName);\n\t\treturn SQLiteMasterQuery.createOrForOperationAndColumnValue(SQLiteMasterColumn.SQL, 'LIKE', queries);\n\t}\n\n}\n","/**\n * SQLite Master table (sqlite_master) type column keywords\n */\n\nexport enum SQLiteMasterType {\n\n\t/**\n\t * Table keyword\n\t */\n\tTABLE,\n\n\t/**\n\t * Index keyword\n\t */\n\tINDEX,\n\n\t/**\n\t * View keyword\n\t */\n\tVIEW,\n\n\t/**\n\t * Trigger keyword\n\t */\n\tTRIGGER\n\n}\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace SQLiteMasterType {\n\texport function nameFromType(type: SQLiteMasterType): string {\n\t\treturn SQLiteMasterType[type];\n\t}\n\n\texport function fromName(type: string): SQLiteMasterType {\n\t\treturn SQLiteMasterType[type as keyof typeof SQLiteMasterType] as SQLiteMasterType;\n\t}\n}\n","import { DBAdapter, DBValue } from './dbAdapter';\nimport fs from 'fs';\nimport path from 'path';\nimport http from 'http';\nimport os from 'os';\n\n/**\n * This adapter uses better-sqlite3 to execute queries against the GeoPackage database\n * @see {@link https://github.com/JoshuaWise/better-sqlite3|better-sqlite3}\n */\nexport class SqliteAdapter implements DBAdapter {\n  filePath: string | Buffer | Uint8Array;\n  db: any;\n\n  /**\n   * Returns a Promise which, when resolved, returns a DBAdapter which has connected to the GeoPackage database file\n   */\n  async initialize(): Promise<this> {\n    // @ts-ignore\n    try {\n      const Database = require('better-sqlite3');\n      if (this.filePath && typeof this.filePath === 'string') {\n        if (this.filePath.indexOf('http') === 0) {\n          const url: string = this.filePath as string;\n          return new Promise((resolve, reject) => {\n            http\n              .get(url, response => {\n                if (response.statusCode !== 200) {\n                  reject(new Error('Unable to reach url: ' + this.filePath));\n                }\n                const tmpPath = path.join(os.tmpdir(), Date.now() + Math.floor(Math.random() * 100) + '.gpkg');\n                const writeStream = fs.createWriteStream(tmpPath);\n                response.pipe(writeStream);\n                writeStream.on('close', () => {\n                  try {\n                    this.db = new Database(tmpPath);\n                    // verify that this is an actual database\n                    this.db.pragma('journal_mode = WAL');\n                    this.filePath = tmpPath;\n                    resolve(this);\n                  } catch (err) {\n                    console.log('error', err);\n                    reject(err);\n                  }\n                });\n              })\n              .on('error', e => {\n                reject(e);\n              });\n          });\n        } else {\n          this.db = new Database(this.filePath);\n          return this;\n        }\n      } else if (this.filePath) {\n        // write this byte array to a file then open it\n        const byteArray = this.filePath;\n        const tmpPath = path.join(os.tmpdir(), Date.now() + '.gpkg');\n        return new Promise((resolve, reject) => {\n          fs.writeFile(tmpPath, byteArray, () => {\n            this.db = new Database(tmpPath);\n            // verify that this is an actual database\n            try {\n              this.db.pragma('journal_mode = WAL');\n            } catch (err) {\n              console.log('error', err);\n              reject(err);\n            }\n            this.filePath = tmpPath;\n            resolve(this);\n          });\n        });\n      } else {\n        console.log('create in memory');\n        this.db = new Database(':memory:');\n        return this;\n      }\n    } catch (err) {\n      console.log('Error opening database', err);\n      throw err;\n    }\n  }\n  // /**\n  //  * Creates an adapter from an already established better-sqlite3 database connection\n  //  * @param  {*} db better-sqlite3 database connection\n  //  * @return {module:db/sqliteAdapter~Adapter}\n  //  */\n  // static createAdapterFromDb(db) {\n  //   return new SqliteAdapter(db);\n  // };\n\n  constructor(filePath?: string | Buffer | Uint8Array) {\n    this.filePath = filePath;\n  }\n  /**\n   * Closes the connection to the GeoPackage\n   */\n  close(): void {\n    this.db.pragma('wal_autocheckpoint=0');\n    this.db.pragma('wal_checkpoint(RESTART)');\n    this.db.close();\n  }\n  /**\n   * Get the connection to the database file\n   * @return {*}\n   */\n  getDBConnection(): any {\n    return this.db;\n  }\n\n  getFunctionList(): any[] {\n    return this.db.pragma('function_list');\n  }\n\n  /**\n   * Returns a Buffer containing the contents of the database as a file\n   */\n  async export(): Promise<any> {\n    return new Promise(resolve => {\n      return fs.readFile(this.filePath as string, (err, data) => {\n        resolve(data);\n      });\n    });\n  }\n  /**\n   * Registers the given function so that it can be used by SQL statements\n   * @see {@link https://github.com/JoshuaWise/better-sqlite3/wiki/API#registeroptions-function---this|better-sqlite3 register}\n   * @param  {string} name               name of function to register\n   * @param  {Function} functionDefinition function to register\n   * @return {module:db/sqliteAdapter~Adapter} this\n   */\n  registerFunction(name: string, functionDefinition: Function): this {\n    this.db.function(name, functionDefinition);\n    return this;\n  }\n  /**\n   * Gets one row of results from the statement\n   * @see {@link https://github.com/JoshuaWise/better-sqlite3/wiki/API#getbindparameters---row|better-sqlite3 get}\n   * @param  {string} sql    statement to run\n   * @param  {Array|Object} [params] bind parameters\n   * @return {Object}\n   */\n  get(sql: string, params?: [] | Record<string, DBValue>): Record<string, DBValue> {\n    const statement = this.db.prepare(sql);\n    if (params) {\n      return statement.get(params);\n    } else {\n      return statement.get();\n    }\n  }\n  /**\n   * Determines if a tableName exists in the database\n   * @param {String} tableName\n   * @returns {Boolean}\n   */\n  isTableExists(tableName: string): boolean {\n    const statement = this.db.prepare(\"SELECT name FROM sqlite_master WHERE type='table' AND name=:name\");\n    const result = statement.get({ name: tableName });\n    return !!result;\n  }\n  /**\n   * Gets all results from the statement in an array\n   * @see {@link https://github.com/JoshuaWise/better-sqlite3/wiki/API#allbindparameters---array-of-rows|better-sqlite3 all}\n   * @param  {String} sql    statement to run\n   * @param  {Array|Object} [params] bind parameters\n   * @return {Object[]}\n   */\n  all(sql: string, params?: [] | Record<string, DBValue>): Record<string, DBValue>[] {\n    const statement = this.db.prepare(sql);\n    if (params) {\n      return statement.all(params);\n    } else {\n      return statement.all();\n    }\n  }\n  /**\n   * Returns an `Iterable` with results from the query\n   * @see {@link https://github.com/JoshuaWise/better-sqlite3/wiki/API#iteratebindparameters---iterator|better-sqlite3 iterate}\n   * @param  {String} sql    statement to run\n   * @param  {Object|Array} [params] bind parameters\n   * @return {Iterable.<Object>}\n   */\n  each(sql: string, params?: [] | Record<string, DBValue>): IterableIterator<Record<string, DBValue>> {\n    const statement = this.db.prepare(sql);\n    if (params) {\n      return statement.iterate(params);\n    } else {\n      return statement.iterate();\n    }\n  }\n  /**\n   * Run the given statement, returning information about what changed.\n   *\n   * @see {@link https://github.com/JoshuaWise/better-sqlite3/wiki/API#runbindparameters---object|better-sqlite3}\n   * @param  {String} sql    statement to run\n   * @param  {Object|Array} [params] bind parameters\n   * @return {{changes: number, lastInsertROWID: number}} object: `{ \"changes\": number, \"lastInsertROWID\": number }`\n   * * `changes`: number of rows the statement changed\n   * * `lastInsertROWID`: ID of the last inserted row\n   */\n  run(sql: string, params?: [] | Record<string, DBValue>): { changes: number; lastInsertRowid: number } {\n    const statement = this.db.prepare(sql);\n    if (params) {\n      return statement.run(params);\n    } else {\n      return statement.run();\n    }\n  }\n  /**\n   * Runs the specified insert statement and returns the last inserted id or undefined if no insert happened\n   * @param  {String} sql    statement to run\n   * @param  {Object|Array} [params] bind parameters\n   * @return {Number} last inserted row id\n   */\n  insert(sql: string, params?: [] | Record<string, DBValue>): number {\n    const statement = this.db.prepare(sql);\n    return statement.run(params).lastInsertRowid;\n  }\n  /**\n   * Prepares a SQL statement\n   * @param sql\n   */\n  prepareStatement (sql: string): any {\n    return this.db.prepare(sql);\n  }\n  /**\n   * Runs an insert statement with the parameters provided\n   * @param  {any} statement  statement to run\n   * @param  {Object|Array} [params] bind parameters\n   * @return {Number} last inserted row id\n   */\n  bindAndInsert (statement: any, params?: [] | Record<string, DBValue>): number {\n    return statement.run(params).lastInsertRowid;\n  }\n  /**\n   * Closes a prepared statement\n   * @param statement\n   */\n  closeStatement (statement: any) {\n    statement = null;\n  }\n  /**\n   * Runs the specified delete statement and returns the number of deleted rows\n   * @param  {String} sql    statement to run\n   * @param  {Object|Array} params bind parameters\n   * @return {Number} deleted rows\n   */\n  delete(sql: string, params?: [] | Record<string, DBValue>): number {\n    const statement = this.db.prepare(sql);\n    return statement.run(params).changes;\n  }\n  /**\n   * Drops the table\n   * @param  {String} table table name\n   * @return {Boolean} indicates if the table was dropped\n   */\n  dropTable(table: string): boolean {\n    try {\n      const statement = this.db.prepare('DROP TABLE IF EXISTS \"' + table + '\"');\n      const result = statement.run();\n      const vacuum = this.db.prepare('VACUUM');\n      vacuum.run();\n      return result.changes === 0;\n    } catch (e) {\n      console.log('Drop Table Error', e);\n      return false;\n    }\n  }\n  /**\n   * Counts rows that match the query\n   * @param  {string} tableName table name from which to count\n   * @param  {string} [where]     where clause\n   * @param  {Object|Array} [whereArgs] where args\n   * @return {Number} count\n   */\n  count(tableName: string, where?: string, whereArgs?: [] | Record<string, DBValue>): number {\n    let sql = 'SELECT COUNT(*) as count FROM \"' + tableName + '\"';\n    if (where) {\n      sql += ' where ' + where;\n    }\n    const statement = this.db.prepare(sql);\n    if (whereArgs) {\n      return statement.get(whereArgs).count;\n    } else {\n      return statement.get().count;\n    }\n  }\n\n  transaction(func: Function): void {\n    this.db.transaction(func)();\n  }\n}\n","import { DBValue } from './dbAdapter';\n\n/**\n * SQLite query builder module.\n * @module db/sqliteQueryBuilder\n */\n\n/**\n * Utility class to build sql queries\n * @class\n */\nexport class SqliteQueryBuilder {\n  /**\n   * Replaces all whitespace in a column name with underscores\n   * @param  {string} columnName column name to fix\n   * @return {string}\n   */\n  static fixColumnName(columnName: string): string {\n    return columnName.replace(/\\W+/g, '_');\n  }\n\n  /**\n   * Builds a query\n   * @param  {Boolean} distinct whether query should be distinct or not\n   * @param  {string} tables   table names to query, added to the query from clause\n   * @param  {string[]} [columns]  columns to query for\n   * @param  {string} [where]    where clause\n   * @param  {string} [join]     join clause\n   * @param  {string} [groupBy]  group by clause\n   * @param  {string} [having]   having clause\n   * @param  {string} [orderBy]  order by clause\n   * @param  {Number} [limit]    limit\n   * @param  {Number} [offset]   offset\n   * @return {string}\n   */\n  static buildQuery(\n    distinct: boolean,\n    tables: string,\n    columns?: string[],\n    where?: string,\n    join?: string,\n    groupBy?: string,\n    having?: string,\n    orderBy?: string,\n    limit?: number,\n    offset?: number,\n  ): string {\n    let query = '';\n    if (SqliteQueryBuilder.isEmpty(groupBy) && !SqliteQueryBuilder.isEmpty(having)) {\n      throw new Error('Illegal Arguments: having clauses require a groupBy clause');\n    }\n\n    query += 'select ';\n    if (distinct) {\n      query += 'distinct ';\n    }\n    if (columns && columns.length) {\n      query = SqliteQueryBuilder.appendColumnsToString(columns, query);\n    } else {\n      query += '* ';\n    }\n\n    query += 'from ' + tables;\n    if (join) {\n      query += ' ' + join;\n    }\n    query = SqliteQueryBuilder.appendClauseToString(query, ' where ', where);\n    query = SqliteQueryBuilder.appendClauseToString(query, ' group by ', groupBy);\n    query = SqliteQueryBuilder.appendClauseToString(query, ' having ', having);\n    query = SqliteQueryBuilder.appendClauseToString(query, ' order by ', orderBy);\n    query = SqliteQueryBuilder.appendClauseToString(query, ' limit ', limit);\n    query = SqliteQueryBuilder.appendClauseToString(query, ' offset ', offset);\n\n    return query;\n  }\n\n  /**\n   * Builds a count statement\n   * @param  {string} tables table names to query for\n   * @param  {string} [where]  where clause\n   * @return {string} count statement\n   */\n  static buildCount(tables: string, where?: string): string {\n    let query = 'select count(*) as count from ' + tables;\n    query = SqliteQueryBuilder.appendClauseToString(query, ' where ', where);\n    return query;\n  }\n\n  /**\n   * Builds an insert statement using the properties of the object\n   * @param  {string} table  table to insert into\n   * @param  {Object} object object to insert\n   * @return {string} insert statement\n   */\n  static buildInsert(table: string, object: any): string {\n    if (object.columnNames) {\n      return SqliteQueryBuilder.buildInsertFromColumnNames(table, object);\n    }\n    let insert = 'insert into ' + table + ' (';\n    let keys = '';\n    let values = '';\n    let first = true;\n    for (const key in object) {\n      if (Object.prototype.hasOwnProperty.call(object, key) && object[key] !== undefined) {\n        if (!first) {\n          keys += ',';\n          values += ',';\n        }\n        first = false;\n        keys += key;\n        values += '$' + SqliteQueryBuilder.fixColumnName(key);\n      }\n    }\n\n    insert += keys + ') values (' + values + ')';\n    return insert;\n  }\n\n  /**\n   * Builds an insert statement from the object.getColumnNames method\n   * @param  {string} table  table to insert into\n   * @param  {Object} object object with a getColumnNames method\n   * @return {string} insert statement\n   */\n  static buildInsertFromColumnNames(table: string, object: any): string {\n    let insert = 'insert into ' + table + ' (';\n    let keys = '';\n    let values = '';\n    let first = true;\n    const columnNames = object.columnNames;\n    for (let i = 0; i < columnNames.length; i++) {\n      const key = columnNames[i];\n      if (!first) {\n        keys += ',';\n        values += ',';\n      }\n      first = false;\n      keys += '\"' + key + '\"';\n      values += '$' + SqliteQueryBuilder.fixColumnName(key);\n    }\n\n    insert += keys + ') values (' + values + ')';\n    return insert;\n  }\n\n  /**\n   * Builds an update or insert object to bind to a statement\n   * @param  {Object} object object to create bind parameters from\n   * @return {Object} bind parameters\n   */\n  static buildUpdateOrInsertObject(object: any): any {\n    const insertOrUpdate: { [key: string]: DBValue } = {};\n    if (object.columnNames) {\n      const columnNames = object.columnNames;\n      for (let i = 0; i < columnNames.length; i++) {\n        insertOrUpdate[SqliteQueryBuilder.fixColumnName(columnNames[i])] = object.toDatabaseValue(columnNames[i]);\n      }\n    } else {\n      for (const key in object) {\n        if (Object.prototype.hasOwnProperty.call(object, key) && object[key] !== undefined) {\n          if (object.toDatabaseValue) {\n            insertOrUpdate[SqliteQueryBuilder.fixColumnName(key)] = object.toDatabaseValue(key);\n          } else {\n            if (typeof object[key] === 'boolean') {\n              insertOrUpdate[SqliteQueryBuilder.fixColumnName(key)] = object[key] ? 1 : 0;\n            } else if (object[key] instanceof Date) {\n              insertOrUpdate[SqliteQueryBuilder.fixColumnName(key)] = new Date(object[key]).toISOString();\n            } else {\n              insertOrUpdate[SqliteQueryBuilder.fixColumnName(key)] = object[key];\n            }\n          }\n        }\n      }\n    }\n    return insertOrUpdate;\n  }\n\n  /**\n   * Builds an update statement\n   * @param  {string} table     table to update\n   * @param  {Object} values    object with values to update\n   * @param  {string} [where]     where clause\n   * @param  {Array|Object} [whereArgs] where bind parameters\n   * @return {Object} object with a sql property containing the update statement and an args property with bind arguments\n   */\n  static buildUpdate(\n    table: string,\n    values: Record<string, DBValue>,\n    where: string,\n    whereArgs: DBValue[] | DBValue,\n  ): { sql: string; args: DBValue[] } {\n    const args: DBValue[] = [];\n    let update = 'update ' + table + ' set ';\n    let first = true;\n    for (const columnName in values) {\n      if (!first) {\n        update += ', ';\n      }\n      first = false;\n      update += '\"' + columnName + '\"';\n      args.push(values[columnName]);\n      update += '=?';\n    }\n    if (whereArgs) {\n      if (whereArgs instanceof Array) {\n        for (let i = 0; i < whereArgs.length; i++) {\n          args.push(whereArgs[i]);\n        }\n      } else {\n        args.push(whereArgs);\n      }\n    }\n    if (where) {\n      update += ' where ';\n      update += where;\n    }\n    return {\n      sql: update,\n      args: args,\n    };\n  }\n\n  /**\n   * Builds an update from an object\n   * @param  {string} table  table name to update\n   * @param  {Object} object object with values to update\n   * @return {string} update statement\n   */\n  static buildObjectUpdate(table: string, object: any): string {\n    let update = 'update ' + table + ' set ';\n    let first = true;\n    if (object.columnNames) {\n      const columnNames = object.columnNames;\n\n      for (let i = 0; i < columnNames.length; i++) {\n        const key = columnNames[i];\n        if (!first) {\n          update += ', ';\n        }\n        first = false;\n        update += '\"' + key + '\"=';\n        update += '$' + SqliteQueryBuilder.fixColumnName(key);\n      }\n    } else {\n      for (const prop in object) {\n        if (Object.prototype.hasOwnProperty.call(object, prop)) {\n          if (!first) {\n            update += ', ';\n          }\n          first = false;\n          update += '\"' + prop + '\"=';\n          update += '$' + SqliteQueryBuilder.fixColumnName(prop);\n        }\n      }\n    }\n\n    return update;\n  }\n\n  private static appendClauseToString(string: string, name: string, clause?: DBValue): string {\n    if (clause) {\n      string += name + clause;\n    }\n    return string;\n  }\n\n  private static appendColumnsToString(columns: string[], string: string): string {\n    if (!columns || !columns.length) return string;\n    string += SqliteQueryBuilder.columnToAppend(columns[0]);\n    for (let i = 1; i < columns.length; i++) {\n      string += ', ' + SqliteQueryBuilder.columnToAppend(columns[i]);\n    }\n    string += ' ';\n    return string;\n  }\n\n  private static columnToAppend(column: string): string {\n    return column.indexOf('*') !== -1 ? column : '\"' + column + '\"';\n  }\n\n  private static isEmpty(string: string | undefined): boolean {\n    return !string || string.length === 0;\n  }\n}\n","import { DBAdapter, DBValue } from './dbAdapter';\nimport initSqlJs from 'rtree-sql.js';\n\n/**\n * This adapter uses sql.js to execute queries against the GeoPackage database\n * @module db/sqljsAdapter\n * @see {@link http://kripken.github.io/sql.js/documentation/|sqljs}\n */\nexport class SqljsAdapter implements DBAdapter {\n  static SQL: { Database: any };\n  db: any;\n  filePath: string | Buffer | Uint8Array;\n  static sqljsWasmLocateFile: (filename: string) => string = filename => filename;\n\n  static setSqljsWasmLocateFile(locateFile: (filename: string) => string) {\n    SqljsAdapter.sqljsWasmLocateFile = locateFile;\n  }\n\n  /**\n   * Returns a Promise which, when resolved, returns a DBAdapter which has connected to the GeoPackage database file\n   */\n  initialize(): Promise<this> {\n    return new Promise<this>((resolve, reject) => {\n      new Promise(resolve => {\n        if (SqljsAdapter.SQL == null) {\n          initSqlJs({\n            locateFile: SqljsAdapter.sqljsWasmLocateFile,\n          }).then((SQL: { Database: any }) => {\n            SqljsAdapter.SQL = SQL;\n            resolve(SQL);\n          }).catch(e => {\n            reject(e);\n          });\n        } else {\n          resolve(SqljsAdapter.SQL)\n        }\n      }).then((SQL: { Database: any }) => {\n        if (this.filePath && typeof this.filePath === 'string') {\n          if (typeof process !== 'undefined' && process.version) {\n            // eslint-disable-next-line @typescript-eslint/no-var-requires\n            const fs = require('fs');\n            if (this.filePath.indexOf('http') === 0) {\n              // eslint-disable-next-line @typescript-eslint/no-var-requires\n              const http = require('http');\n              http\n                .get(this.filePath, (response: any) => {\n                  if (response.statusCode !== 200) {\n                    return reject(new Error('Unable to reach url: ' + this.filePath));\n                  }\n                  const body: any = [];\n                  response.on('data', (chunk: any) => body.push(chunk));\n                  response.on('end', () => {\n                    const t = new Uint8Array(Buffer.concat(body));\n                    this.db = new SQL.Database(t);\n                    resolve(this);\n                  });\n                })\n                .on('error', (e: any) => {\n                  return reject(e);\n                });\n            } else {\n              try {\n                fs.statSync(this.filePath);\n              } catch (e) {\n                this.db = new SQL.Database();\n                // var adapter = new SqljsAdapter(db);\n                return resolve(this);\n              }\n              const filebuffer = fs.readFileSync(this.filePath);\n              const t = new Uint8Array(filebuffer);\n              this.db = new SQL.Database(t);\n              return resolve(this);\n            }\n          } else {\n            // eslint-disable-next-line no-undef\n            const xhr = new XMLHttpRequest();\n            xhr.open('GET', this.filePath, true);\n            xhr.responseType = 'arraybuffer';\n            xhr.onload = (): void => {\n              if (xhr.status !== 200) {\n                return reject(new Error('Unable to reach url: ' + this.filePath));\n              }\n              const uInt8Array = new Uint8Array(xhr.response);\n              this.db = new SQL.Database(uInt8Array);\n              return resolve(this);\n            };\n            xhr.onerror = (): void => {\n              return reject(new Error('Error reaching url: ' + this.filePath));\n            };\n            xhr.send();\n          }\n        } else if (this.filePath) {\n          const byteArray = this.filePath;\n          this.db = new SQL.Database(byteArray);\n          return resolve(this);\n        } else {\n          this.db = new SQL.Database();\n          return resolve(this);\n        }\n      }).catch(e => {\n        reject(e);\n      });\n    });\n  }\n\n  /**\n   * @param  {string|Buffer|Uint8Array} [filePath] string path to an existing file or a path to where a new file will be created or a url from which to download a GeoPackage or a Uint8Array containing the contents of the file, if undefined, an in memory database is created\n   */\n  constructor(filePath?: string | Buffer | Uint8Array) {\n    this.filePath = filePath;\n  }\n  /**\n   * Closes the connection to the GeoPackage\n   */\n  close(): void {\n    this.db.close();\n  }\n  /**\n   * Get the connection to the database file\n   * @return {any}\n   */\n  getDBConnection(): any {\n    return this.db;\n  }\n  /**\n   * Returns a Uint8Array containing the contents of the database as a file\n   */\n  async export(): Promise<Uint8Array> {\n    return this.db.export();\n  }\n  /**\n   * Registers the given function so that it can be used by SQL statements\n   * @see {@link http://kripken.github.io/sql.js/documentation/#http://kripken.github.io/sql.js/documentation/class/Database.html#create_function-dynamic|sqljs create_function}\n   * @param  {string} name               name of function to register\n   * @param  {Function} functionDefinition function to register\n   * @return {module:db/sqljsAdapter~Adapter} this\n   */\n  registerFunction(name: string, functionDefinition: Function): this {\n    this.db.create_function(name, functionDefinition);\n    return this;\n  }\n  /**\n   * Gets one row of results from the statement\n   * @see {@link http://kripken.github.io/sql.js/documentation/#http://kripken.github.io/sql.js/documentation/class/Statement.html#get-dynamic|sqljs get}\n   * @see {@link http://kripken.github.io/sql.js/documentation/#http://kripken.github.io/sql.js/documentation/class/Statement.html#getAsObject-dynamic|sqljs getAsObject}\n   * @param  {String} sql    statement to run\n   * @param  {Array|Object} [params] substitution parameters\n   * @return {Object}\n   */\n  get(sql: string, params?: [] | Record<string, DBValue>): Record<string, DBValue> {\n    params = params || [];\n    const statement = this.db.prepare(sql);\n    statement.bind(params);\n    const hasResult = statement.step();\n    let row;\n    if (hasResult) {\n      row = statement.getAsObject();\n    }\n    statement.free();\n    return row;\n  }\n  /**\n   * Determines if a tableName exists in the database\n   * @param {String} tableName\n   * @returns {Boolean}\n   */\n  isTableExists(tableName: string): boolean {\n    const statement = this.db.prepare(\"SELECT name FROM sqlite_master WHERE type='table' AND name=:name\");\n    statement.bind([tableName]);\n    const hasResult = statement.step();\n    let row;\n    if (hasResult) {\n      row = statement.getAsObject();\n    }\n    statement.free();\n    return !!row;\n  }\n  /**\n   * Gets all results from the statement in an array\n   * @param  {String} sql    statement to run\n   * @param  {Array|Object} [params] bind parameters\n   * @return {Object[]}\n   */\n  all(sql: string, params?: [] | Record<string, DBValue>): Record<string, DBValue>[] {\n    const rows = [];\n    const iterator = this.each(sql, params);\n    for (const row of iterator) {\n      rows.push(row);\n    }\n    return rows;\n  }\n  /**\n   * Returns an Iterable with results from the query\n   * @param  {string} sql    statement to run\n   * @param  {Object|Array} params bind parameters\n   * @return {IterableIterator<Object>}\n   */\n  each(sql: string, params?: [] | Record<string, DBValue>): IterableIterator<Record<string, DBValue>> {\n    const statement = this.db.prepare(sql);\n    statement.bind(params);\n    return {\n      [Symbol.iterator](): IterableIterator<Record<string, DBValue>> {\n        return this;\n      },\n      next: function(): { value: Record<string, DBValue>; done: boolean } {\n        if (statement.step()) {\n          return {\n            value: statement.getAsObject(),\n            done: false,\n          };\n        } else {\n          statement.free();\n          return {\n            value: undefined,\n            done: true,\n          };\n        }\n      },\n    };\n  }\n  /**\n   * Runs the statement specified, returning information about what changed\n   * @see {@link http://kripken.github.io/sql.js/documentation/#http://kripken.github.io/sql.js/documentation/class/Statement.html#run-dynamic|sqljs run}\n   * @param  {string} sql    statement to run\n   * @param  {Object|Array} [params] bind parameters\n   * @return {Object} object containing a changes property indicating the number of rows changed and a lastInsertROWID indicating the last inserted row\n   */\n  run(sql: string, params?: [] | Record<string, DBValue>): { changes: number; lastInsertRowid: number } {\n    if (params && !(params instanceof Array)) {\n      for (const key in params) {\n        params['$' + key] = params[key];\n      }\n    }\n    this.db.run(sql, params);\n    const lastId = this.db.exec('select last_insert_rowid();');\n    let lastInsertedId;\n    if (lastId) {\n      lastInsertedId = lastId[0].values[0][0];\n    }\n    return {\n      lastInsertRowid: lastInsertedId,\n      changes: this.db.getRowsModified(),\n    };\n  }\n  /**\n   * Runs the specified insert statement and returns the last inserted id or undefined if no insert happened\n   * @param  {String} sql    statement to run\n   * @param  {Object|Array} [params] bind parameters\n   * @return {Number} last inserted row id\n   */\n  insert(sql: string, params?: [] | Record<string, DBValue>): number {\n    if (params && !(params instanceof Array)) {\n      for (const key in params) {\n        params['$' + key] = params[key];\n      }\n    }\n    const statement = this.db.prepare(sql, params);\n    statement.step();\n    statement.free();\n    const lastId = this.db.exec('select last_insert_rowid();');\n    if (lastId) {\n      return lastId[0].values[0][0];\n    } else {\n      return;\n    }\n  }\n  /**\n   * Prepares a SQL statement\n   * @param sql\n   */\n  prepareStatement (sql: string): any {\n    return this.db.prepare(sql);\n  }\n  /**\n   * Runs an insert statement with the parameters provided\n   * @param  {any} statement  statement to run\n   * @param  {Object|Array} [params] bind parameters\n   * @return {Number} last inserted row id\n   */\n  bindAndInsert (statement: any, params?: [] | Record<string, DBValue>): number {\n    if (params && !(params instanceof Array)) {\n      for (const key in params) {\n        params['$' + key] = typeof params[key] === 'undefined' ? null : params[key];\n      }\n    }\n    return statement.run(params).lastInsertRowid;\n  }\n  /**\n   * Closes a prepared statement\n   * @param statement\n   */\n  closeStatement (statement: any) {\n    statement.free();\n  }\n  /**\n   * Runs the specified delete statement and returns the number of deleted rows\n   * @param  {String} sql    statement to run\n   * @param  {Object|Array} [params] bind parameters\n   * @return {Number} deleted rows\n   */\n  delete(sql: string, params?: [] | Record<string, DBValue>): number {\n    let rowsModified;\n    const statement = this.db.prepare(sql, params);\n    statement.step();\n    rowsModified = this.db.getRowsModified();\n    statement.free();\n    return rowsModified;\n  }\n  /**\n   * Drops the table\n   * @param  {String} table table name\n   * @return {Boolean} indicates if the table was dropped\n   */\n  dropTable(table: string): boolean {\n    const response = this.db.exec('DROP TABLE IF EXISTS \"' + table + '\"');\n    this.db.exec('VACUUM');\n    return !!response;\n  }\n  /**\n   * Counts rows that match the query\n   * @param  {String} tableName table name from which to count\n   * @param  {String} [where]     where clause\n   * @param  {Object|Array} [whereArgs] where args\n   * @return {Number} count\n   */\n  count(tableName: string, where?: string, whereArgs?: [] | Record<string, DBValue>): number {\n    let sql = 'SELECT COUNT(*) as count FROM \"' + tableName + '\"';\n    if (where) {\n      sql += ' where ' + where;\n    }\n    return this.get(sql, whereArgs).count as number;\n  }\n\n  transaction(func: Function): void {\n    this.db.exec('BEGIN TRANSACTION');\n    try {\n      func();\n      this.db.exec('COMMIT TRANSACTION');\n    } catch (e) {\n      this.db.exec('ROLLBACK TRANSACTION');\n      throw e;\n    }\n  }\n}\n","/**\n * String Utility methods\n */\n\nexport class StringUtils {\n\n  /**\n   * Wrap the name in double quotes\n   * @param name  name\n   * @return quoted name\n   */\n  static quoteWrap(name: string): string {\n    let quoteName = null;\n    if (name !== null) {\n      if (name.startsWith('\"') && name.endsWith('\"')) {\n        quoteName = name;\n      } else {\n        quoteName = '\"' + name + '\"';\n      }\n    }\n    return quoteName;\n  }\n\n  /**\n   * Remove double quotes from the name\n   * @param name name\n   * @return unquoted name\n   */\n  static quoteUnwrap(name: string): string {\n    let unquotedName = null;\n    if (name != null) {\n      if (name.startsWith('\"') && name.endsWith('\"')) {\n        unquotedName = name.substring(1, name.length - 1);\n      } else {\n        unquotedName = name;\n      }\n    }\n    return unquotedName;\n  }\n}\n","/**\n * Column Constraints\n */\nimport { Constraint } from './constraint';\nimport { Constraints } from './constraints';\n\nexport class ColumnConstraints {\n  /**\n   * Column constraints\n   */\n  constraints: Constraints = new Constraints();\n\n  /**\n   * Constructor\n   * @param name column name\n   */\n  constructor(public name: string) {}\n\n  /**\n   * Add a constraint\n   * @param constraint constraint\n   */\n  addConstraint(constraint: Constraint) {\n    this.constraints.add(constraint);\n  }\n\n  /**\n   * Add constraints\n   * @param constraints constraints\n   */\n  addConstraints(constraints: Constraints) {\n    this.constraints.addConstraints(constraints);\n  }\n\n  /**\n   * Get the constraints\n   * @return constraints\n   */\n  getConstraints(): Constraints {\n    return this.constraints;\n  }\n\n  /**\n   * Get the constraint at the index\n   * @param index constraint index\n   * @return constraint\n   */\n  getConstraint(index: number): Constraint {\n    if (index >= this.constraints.size()) {\n      return null;\n    }\n    return this.constraints.get(index);\n  }\n\n  /**\n   * Get the number of constraints\n   * @return constraints count\n   */\n  public numConstraints(): number {\n    return this.constraints.size();\n  }\n\n  /**\n   * Add constraints\n   * @param constraints constraints\n   */\n  addColumnConstraints(constraints: ColumnConstraints) {\n    if (constraints !== null && constraints !== undefined) {\n      this.addConstraints(constraints.getConstraints());\n    }\n  }\n\n  /**\n   * Check if there are constraints\n   * @return true if has constraints\n   */\n  hasConstraints(): boolean {\n    return this.constraints.has();\n  }\n\n}\n","import { ConstraintType } from './constraintType';\nimport { StringUtils } from '../stringUtils';\n\nexport class Constraint {\n\n  /**\n   * Constraint keyword\n   */\n  static CONSTRAINT = 'CONSTRAINT';\n\n  constructor(public type: ConstraintType, public name?: string, public order: number = Number.MAX_SAFE_INTEGER) {\n  }\n\n  /**\n   * Build the name SQL\n   *\n   * @return name SQL\n   */\n  buildNameSql(): string {\n    let sql = '';\n    if (this.name !== null && this.name !== undefined) {\n      sql = Constraint.CONSTRAINT + ' ' + StringUtils.quoteWrap(this.name) + ' ';\n    }\n    return sql;\n  }\n\n  /**\n   * Builds the sql\n   */\n  buildSql(): string {\n    return '';\n  }\n\n  copy(): Constraint {\n    return new Constraint(this.type, this.name);\n  }\n\n  getName(): string {\n    return this.name;\n  }\n\n  getType(): ConstraintType {\n    return this.type;\n  }\n\n  compareTo(constraint: Constraint) {\n    return this.getOrder(this.order) - this.getOrder(constraint.order) <= 0 ? -1 : 1;\n  }\n\n  private getOrder(order: number): number {\n    return order !== null && order !== undefined ? order : Number.MAX_VALUE;\n  }\n}\n\n","/**\n * SQL constraint parser from create table statements\n */\nimport { TableConstraints } from './tableConstraints';\nimport { ColumnConstraints } from './columnConstraints';\nimport { Constraint } from './constraint';\nimport { ConstraintType } from './constraintType';\nimport { RawConstraint } from './rawConstraint';\nimport { StringUtils } from '../stringUtils';\n\nexport class ConstraintParser {\n  /**\n   * Constraint name pattern\n   */\n  static NAME_PATTERN = (s: string) => s.match(/CONSTRAINT\\s+(\"[\\s\\S]+\"|\\S+)\\s/i);\n\n  /**\n   * Constraint name pattern name matcher group\n   */\n  static NAME_PATTERN_NAME_GROUP = 1;\n\n  /**\n   * Constraint name and definition pattern\n   */\n  static CONSTRAINT_PATTERN = (s: string): string[] => s.match(/(CONSTRAINT\\s+(\"[\\s\\S]+\"|\\S+)\\s)?([\\s\\S]*)/i);\n\n  /**\n   * Constraint name and definition pattern name matcher group\n   */\n  static CONSTRAINT_PATTERN_NAME_GROUP = 2;\n\n  /**\n   * Constraint name and definition pattern definition matcher group\n   */\n  static CONSTRAINT_PATTERN_DEFINITION_GROUP = 3;\n\n  /**\n   * Get the constraints for the table SQL\n   * @param tableSql table SQL\n   * @return constraints\n   */\n  static getConstraints(tableSql: string): TableConstraints {\n    const constraints = new TableConstraints();\n    // Find the start and end of the column definitions and table\n    // constraints\n    let start = -1;\n    let end = -1;\n\n    if (tableSql !== null && tableSql !== undefined) {\n      start = tableSql.indexOf('(');\n      end = tableSql.lastIndexOf(')');\n    }\n\n    if (start >= 0 && end >= 0) {\n      const definitions = tableSql.substring(start + 1, end).trim();\n\n      // Parse the column definitions and table constraints, divided by\n      // columns when not within parentheses. Create constraints when\n      // found.\n      let openParentheses = 0;\n      let sqlStart = 0;\n\n      for (let i = 0; i < definitions.length; i++) {\n        let character = definitions.charAt(i);\n        if (character === '(') {\n          openParentheses++;\n        } else if (character === ')') {\n          openParentheses--;\n        } else if (character === ',' && openParentheses === 0) {\n          let constraintSql = definitions.substring(sqlStart, i);\n          ConstraintParser.addConstraints(constraints, constraintSql);\n          sqlStart = i + 1;\n        }\n      }\n      if (sqlStart < definitions.length) {\n        let constraintSql = definitions.substring(sqlStart, definitions.length);\n        ConstraintParser.addConstraints(constraints, constraintSql);\n      }\n    }\n\n    return constraints;\n  }\n\n  /**\n   * Add constraints of the optional type or all constraints\n   * @param constraints constraints to add to\n   * @param constraintSql constraint SQL statement\n   */\n  static addConstraints(constraints: TableConstraints, constraintSql: string) {\n    const constraint = ConstraintParser.getTableConstraint(constraintSql);\n    if (constraint !== null && constraint !== undefined) {\n      constraints.addTableConstraint(constraint);\n    } else {\n      const columnConstraints = ConstraintParser.getColumnConstraints(constraintSql);\n      if (columnConstraints.hasConstraints()) {\n        constraints.addColumnConstraints(columnConstraints);\n      }\n    }\n  }\n\n  /**\n   * Attempt to get column constraints by parsing the SQL statement\n   * @param constraintSql constraint SQL statement\n   * @return constraints\n   */\n  static getColumnConstraints(constraintSql: string): ColumnConstraints {\n    const parts = constraintSql.trim().split(/\\s+/);\n    const columnName = StringUtils.quoteUnwrap(parts[0]);\n\n    const constraints = new ColumnConstraints(columnName);\n\n    let constraintIndex = -1;\n    let constraintType = null;\n\n    for (let i = 1; i < parts.length; i++) {\n      const part = parts[i];\n      if (Constraint.CONSTRAINT === part.toUpperCase()) {\n        if (constraintType !== null && constraintType !== undefined) {\n          constraints.addConstraint(ConstraintParser.createConstraint(parts, constraintIndex, i, constraintType));\n          constraintType = null;\n        }\n        constraintIndex = i;\n      } else {\n        const type = ConstraintType.getColumnType(part);\n        if (type !== null && type !== undefined) {\n          if (constraintType !== null && constraintType !== undefined) {\n            constraints.addConstraint(ConstraintParser.createConstraint(parts, constraintIndex, i, constraintType));\n            constraintIndex = -1;\n          }\n          if (constraintIndex < 0) {\n            constraintIndex = i;\n          }\n          constraintType = type;\n        }\n      }\n    }\n    if (constraintType !== null && constraintType !== undefined) {\n      constraints.addConstraint(ConstraintParser.createConstraint(parts, constraintIndex, parts.length, constraintType));\n    }\n    return constraints;\n  }\n\n  /**\n   * Create a constraint from the SQL parts with the range for the type\n   * @param parts SQL parts\n   * @param startIndex start index (inclusive)\n   * @param endIndex end index (exclusive)\n   * @param type constraint type\n   * @return constraint\n   */\n  static createConstraint(parts: string[], startIndex: number, endIndex: number, type: ConstraintType): Constraint {\n    let constraintSql = '';\n    for (let i = startIndex; i < endIndex; i++) {\n      if (constraintSql.length > 0) {\n        constraintSql = constraintSql.concat(' ');\n      }\n      constraintSql = constraintSql.concat(parts[i]);\n    }\n    const name = ConstraintParser.getName(constraintSql);\n    return new RawConstraint(type, name, constraintSql);\n  }\n\n  /**\n   * Attempt to get the constraint by parsing the SQL statement\n   * @param constraintSql constraint SQL statement\n   * @param table true to search for a table constraint, false to search for a column constraint\n   * @return constraint or null\n   */\n  static getConstraint(constraintSql: string, table: boolean): Constraint {\n    let constraint = null;\n    const nameAndDefinition = ConstraintParser.getNameAndDefinition(constraintSql);\n    const definition = nameAndDefinition[1];\n    if (definition !== null && definition !== undefined) {\n      const prefix = definition.split(/\\s+/)[0];\n      let type;\n      if (table) {\n        type = ConstraintType.getTableType(prefix);\n\n      } else {\n        type = ConstraintType.getColumnType(prefix);\n      }\n      if (type !== null && type !== undefined) {\n        constraint = new RawConstraint(type, nameAndDefinition[0], constraintSql.trim());\n      }\n    }\n    return constraint;\n  }\n\n  /**\n   * Attempt to get a table constraint by parsing the SQL statement\n   * @param constraintSql constraint SQL statement\n   * @return constraint or null\n   */\n  static getTableConstraint(constraintSql: string): Constraint {\n    return ConstraintParser.getConstraint(constraintSql, true);\n  }\n\n  /**\n   * Check if the SQL is a table type constraint\n   * @param constraintSql constraint SQL statement\n   * @return true if a table constraint\n   */\n  static isTableConstraint(constraintSql: string): boolean {\n    return ConstraintParser.getTableConstraint(constraintSql) !== null;\n  }\n\n  /**\n   * Get the table constraint type of the constraint SQL\n   * @param constraintSql constraint SQL\n   * @return constraint type or null\n   */\n  static getTableType(constraintSql: string): ConstraintType {\n    let type = null;\n    let constraint = ConstraintParser.getTableConstraint(constraintSql);\n    if (constraint != null) {\n      type = constraint.type;\n    }\n    return type;\n  }\n\n  /**\n   * Determine if the table constraint SQL is the constraint type\n   * @param type constraint type\n   * @param constraintSql constraint SQL\n   * @return true if the constraint type\n   */\n  static isTableType(type: ConstraintType, constraintSql: string): boolean {\n    let isType = false;\n    const constraintType = ConstraintParser.getTableType(constraintSql);\n    if (constraintType != null) {\n      isType = type === constraintType;\n    }\n    return isType;\n  }\n\n  /**\n   * Attempt to get a column constraint by parsing the SQL statement\n   * @param constraintSql constraint SQL statement\n   * @return constraint or null\n   */\n  static getColumnConstraint(constraintSql: string): Constraint {\n    return ConstraintParser.getConstraint(constraintSql, false);\n  }\n\n  /**\n   * Check if the SQL is a column type constraint\n   * @param constraintSql constraint SQL statement\n   * @return true if a column constraint\n   */\n  static isColumnConstraint(constraintSql: string): boolean {\n    return ConstraintParser.getColumnConstraint(constraintSql) != null;\n  }\n\n  /**\n   * Get the column constraint type of the constraint SQL\n   * @param constraintSql constraint SQL\n   * @return constraint type or null\n   */\n  static getColumnType(constraintSql: string): ConstraintType {\n    let type = null;\n    const constraint = ConstraintParser.getColumnConstraint(constraintSql);\n    if (constraint != null) {\n      type = constraint.type;\n    }\n    return type;\n  }\n\n  /**\n   * Determine if the column constraint SQL is the constraint type\n   * @param type constraint type\n   * @param constraintSql constraint SQL\n   * @return true if the constraint type\n   */\n  static isColumnType(type: ConstraintType, constraintSql: string): boolean {\n    let isType = false;\n    const constraintType = ConstraintParser.getColumnType(constraintSql);\n    if (constraintType != null) {\n      isType = type == constraintType;\n    }\n    return isType;\n  }\n\n  /**\n   * Attempt to get a constraint by parsing the SQL statement\n   * @param constraintSql constraint SQL statement\n   * @return constraint or null\n   */\n  static getTableOrColumnConstraint(constraintSql: string): Constraint {\n    let constraint = ConstraintParser.getTableConstraint(constraintSql);\n    if (constraint === null || constraint === undefined) {\n      constraint = ConstraintParser.getColumnConstraint(constraintSql);\n    }\n    return constraint;\n  }\n\n  /**\n   * Check if the SQL is a constraint\n   * @param constraintSql constraint SQL statement\n   * @return true if a constraint\n   */\n  static isConstraint(constraintSql: string): boolean {\n    return ConstraintParser.getTableOrColumnConstraint(constraintSql) !== null;\n  }\n\n  /**\n   * Get the constraint type of the constraint SQL\n   * @param constraintSql constraint SQL\n   * @return constraint type or null\n   */\n  static getType(constraintSql: string): ConstraintType {\n    let type = null;\n    const constraint = ConstraintParser.getTableOrColumnConstraint(constraintSql);\n    if (constraint !== null && constraint !== undefined) {\n      type = constraint.getType();\n    }\n    return type;\n  }\n\n  /**\n   * Determine if the constraint SQL is the constraint type\n   * @param type constraint type\n   * @param constraintSql constraint SQL\n   * @return true if the constraint type\n   */\n  static isType(type: ConstraintType, constraintSql: string): boolean {\n    let isType = false;\n    const constraintType = ConstraintParser.getType(constraintSql);\n    if (constraintType !== null && constraintType !== undefined) {\n      isType = type === constraintType;\n    }\n    return isType;\n  }\n\n  /**\n   * Get the constraint name if it has one\n   * @param constraintSql constraint SQL\n   * @return constraint name or null\n   */\n  static getName(constraintSql: string): string {\n    let name = null;\n    let matches = ConstraintParser.NAME_PATTERN(constraintSql);\n    if (matches !== null && matches.length > ConstraintParser.NAME_PATTERN_NAME_GROUP) {\n      name = StringUtils.quoteUnwrap(matches[ConstraintParser.NAME_PATTERN_NAME_GROUP]);\n    }\n    return name;\n  }\n\n  /**\n   * Get the constraint name and remaining definition\n   * @param constraintSql constraint SQL\n   * @return array with name or null at index 0, definition at index 1\n   */\n  static getNameAndDefinition(constraintSql: string): string[] {\n    let parts = [null, constraintSql];\n    const matches = ConstraintParser.CONSTRAINT_PATTERN(constraintSql.trim());\n    if (matches !== null && matches.length > ConstraintParser.CONSTRAINT_PATTERN_DEFINITION_GROUP) {\n      let name = StringUtils.quoteUnwrap(matches[ConstraintParser.CONSTRAINT_PATTERN_NAME_GROUP]);\n      if (name !== null && name !== undefined) {\n        name = name.trim();\n      }\n      let definition = matches[ConstraintParser.CONSTRAINT_PATTERN_DEFINITION_GROUP];\n      if (definition !== null && definition !== undefined) {\n        definition = definition.trim();\n      }\n      parts = [name, definition];\n    }\n    return parts;\n  }\n\n}\n","export enum ConstraintType {\n  /**\n   * Primary key table and column constraint\n   */\n  PRIMARY_KEY,\n\n  /**\n   * Unique table and column constraint\n   */\n  UNIQUE,\n\n  /**\n   * Check table and column constraint\n   */\n  CHECK,\n\n  /**\n   * Foreign key table and column constraint\n   */\n  FOREIGN_KEY,\n\n  /**\n   * Not null column constraint\n   */\n  NOT_NULL,\n\n  /**\n   * Default column constraint\n   */\n  DEFAULT,\n\n  /**\n   * Collate column constraint\n   */\n  COLLATE,\n\n  /**\n   * Autoincrement column constraint\n   */\n  AUTOINCREMENT,\n}\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace ConstraintType {\n  export function nameFromType(type: ConstraintType): string {\n    return ConstraintType[type];\n  }\n\n  export function fromName(type: string): ConstraintType {\n    return ConstraintType[type as keyof typeof ConstraintType] as ConstraintType;\n  }\n\n  /**\n   * Table constraints\n   */\n  export const TABLE_CONSTRAINTS = new Set<ConstraintType>([ConstraintType.PRIMARY_KEY, ConstraintType.UNIQUE, ConstraintType.CHECK, ConstraintType.FOREIGN_KEY]);\n\n  /**\n   * Column constraints\n   */\n  export const COLUMN_CONSTRAINTS = new Set<ConstraintType>([ConstraintType.PRIMARY_KEY, ConstraintType.NOT_NULL, ConstraintType.UNIQUE, ConstraintType.CHECK, ConstraintType.DEFAULT, ConstraintType.COLLATE, ConstraintType.FOREIGN_KEY, ConstraintType.AUTOINCREMENT]);\n\n  /**\n   * Table constraint parsing lookup values\n   */\n  const tableLookup = new Map<string, ConstraintType>();\n  Array.from(TABLE_CONSTRAINTS).forEach(type => {\n    addLookups(tableLookup, type);\n  });\n\n  /**\n   * Column constraint parsing lookup values\n   */\n  const columnLookup = new Map<string, ConstraintType>();\n  Array.from(COLUMN_CONSTRAINTS).forEach(type => {\n    addLookups(columnLookup, type);\n  });\n\n  /**\n   * Add constraint lookup values\n   * @param lookup lookup map\n   * @param type constraint type\n   */\n function addLookups(lookup: Map<string, ConstraintType>, type: ConstraintType) {\n    const name = ConstraintType.nameFromType(type);\n    const parts = name.split('_');\n    lookup.set(parts[0], type);\n    if (parts.length > 0) {\n      lookup.set(name.replace('_', ' '), type);\n    }\n  }\n\n  /**\n   * Get a matching table constraint type from the value\n   * @param value table constraint name value\n   * @return constraint type or null\n   */\n  export function getTableType(value: string): ConstraintType {\n    return tableLookup.get(value.toUpperCase());\n  }\n\n  /**\n   * Get a matching column constraint type from the value\n   *\n   * @param value\n   *            column constraint name value\n   * @return constraint type or null\n   */\n  export function getColumnType(value: string): ConstraintType {\n    return columnLookup.get(value.toUpperCase());\n  }\n\n  /**\n   * Get a matching constraint type from the value\n   *\n   * @param value\n   *            constraint name value\n   * @return constraint type or null\n   */\n  export function getType(value: string): ConstraintType {\n    let type = getTableType(value);\n    if (type == null) {\n      type = getColumnType(value);\n    }\n    return type;\n  }\n\n}\n","import sortedIndex from 'lodash/sortedIndex';\n\nimport { ConstraintType } from './constraintType';\nimport { Constraint } from './constraint';\n\nexport class Constraints {\n\n  /**\n   * Constraints\n   */\n  constraints = [];\n\n  /**\n   * Type Constraints\n   */\n  typedConstraints = {};\n\n  /**\n   * Constructor\n   */\n  constructor() {}\n\n  /**\n   * Add constraint\n   * @param constraint constraint\n   */\n  add(constraint: Constraint) {\n    const orders = this.constraints.map(c => c.order);\n\n    const lastIndex = orders.lastIndexOf(constraint.order);\n    let insertLocation = lastIndex + 1;\n    if (lastIndex === -1) {\n      insertLocation = sortedIndex(this.constraints.map(c => c.order), constraint.order);\n    }\n\n    if (insertLocation === this.constraints.length) {\n      this.constraints.push(constraint);\n    } else {\n      this.constraints.splice(insertLocation, 0, constraint);\n    }\n    if (this.typedConstraints[constraint.getType()] === null || this.typedConstraints[constraint.getType()] === undefined) {\n      this.typedConstraints[constraint.getType()] = [];\n    }\n    this.typedConstraints[constraint.getType()].push(constraint);\n  }\n\n  /**\n   * Add constraints\n   * @param constraints constraints\n   */\n  addConstraintArray(constraints: Constraint[]) {\n    for (let i = 0; i < constraints.length; i++) {\n      this.add(constraints[i]);\n    }\n  }\n\n  /**\n   * Add constraints\n   * @param constraints constraints\n   */\n  addConstraints(constraints: Constraints) {\n    this.addConstraintArray(constraints.all());\n  }\n\n  /**\n   * Check if has constraints\n   * @return true if has constraints\n   */\n  has(): boolean {\n    return this.constraints.length > 0;\n  }\n\n  /**\n   * Check if has constraints of the provided type\n   * @param type constraint type\n   * @return true if has constraints\n   */\n  hasType(type: ConstraintType): boolean {\n    return this.getConstraintsForType(type).length !== 0;\n  }\n\n  /**\n   * Get the constraints\n   * @return constraints\n   */\n  all(): Constraint[] {\n    return this.constraints;\n  }\n\n  /**\n   * Get the constraint at the index\n   * @param index constraint index\n   * @return constraint\n   */\n  get(index: number): Constraint {\n    return this.constraints[index];\n  }\n\n  /**\n   * Get the constraints of the provided type\n   * @param type constraint type\n   * @return constraints\n   */\n  getConstraintsForType(type: ConstraintType): Constraint[] {\n    let constraints = this.typedConstraints[type];\n    if (constraints === null || constraints === undefined) {\n      constraints = [];\n    }\n    return constraints;\n  }\n\n  /**\n   * Clear the constraints\n   * @return cleared constraints\n   */\n  clear(): Constraint[] {\n    let constraintsCopy = this.constraints.slice();\n    this.constraints = [];\n    this.typedConstraints = {};\n    return constraintsCopy;\n  }\n\n  /**\n   * Clear the constraints of the provided type\n   *\n   * @param type\n   *            constraint type\n   * @return cleared constraints\n   */\n  clearConstraintsByType(type: ConstraintType): Constraint[] {\n    let typedConstraints = this.typedConstraints[type];\n    delete this.typedConstraints[type];\n    if (typedConstraints === null) {\n      typedConstraints = [];\n    } else if (typedConstraints.length === 0) {\n      this.constraints = this.constraints.filter(c => c.getType() !== type);\n    }\n    return typedConstraints;\n  }\n\n  /**\n   * Copy the constraints\n   * @return constraints\n   */\n  copy(): Constraints {\n    const constraints = new Constraints();\n    constraints.addConstraints(this);\n    return constraints;\n  }\n\n  size(): number {\n    return this.constraints.length;\n  }\n}\n","import { Constraint } from './constraint';\nimport { ConstraintType } from './constraintType';\n\n/**\n * Table raw or unparsed constraint\n */\nexport class RawConstraint extends Constraint {\n\n  /**\n   * Constructor\n   * @param type constraint type\n   * @param name constraint name\n   * @param sql constraint SQL\n   * @param order constraint order\n   */\n  constructor(type: ConstraintType, name: string, public sql: string, order: number = null) {\n    super(type, name, order);\n  }\n\n  buildSql(): string {\n    let sql = this.sql;\n    if (!sql.toUpperCase().startsWith(Constraint.CONSTRAINT)) {\n      sql = this.buildNameSql() + sql;\n    }\n    return sql;\n  }\n}\n","import { GeoPackageDataType } from '../geoPackageDataType';\n\n/**\n * Table raw or unparsed constraint\n */\nexport class TableColumn {\n\n  /**\n   * Column index\n   */\n  index: number;\n\n  /**\n   * Column name\n   */\n  name: string;\n\n  /**\n   * Column type\n   */\n  type: string;\n\n  /**\n   * Column data type\n   */\n  dataType: GeoPackageDataType;\n\n  /**\n   * Column max value\n   */\n  max: number;\n\n  /**\n   * Column not null flag\n   */\n  notNull: boolean;\n\n  /**\n   * Default value as a string\n   */\n  defaultValueString: string;\n\n  /**\n   * Default value\n   */\n  defaultValue: any;\n\n  /**\n   * Primary key flag\n   */\n  primaryKey: boolean;\n\n  /**\n   * Autoincrement flag\n   */\n  autoincrement: boolean;\n\n  /**\n   * Constructor\n   *\n   * @param index column index\n   * @param name column name\n   * @param type column type\n   * @param dataType column data type\n   * @param max max value\n   * @param notNull not null flag\n   * @param defaultValueString default value as a string\n   * @param defaultValue default value\n   * @param primaryKey primary key flag\n   * @param autoincrement autoincrement flag\n   */\n  constructor(index: number, name: string, type: string, dataType: GeoPackageDataType, max: number, notNull: boolean, defaultValueString: string, defaultValue: any, primaryKey: boolean, autoincrement: boolean) {\n    this.index = index;\n    this.name = name;\n    this.type = type;\n    this.dataType = dataType;\n    this.max = max;\n    this.notNull = notNull;\n    this.defaultValueString = defaultValueString;\n    this.defaultValue = defaultValue;\n    this.primaryKey = primaryKey;\n    this.autoincrement = autoincrement\n  }\n\n  /**\n   * Get the column index\n   *\n   * @return column index\n   */\n  getIndex(): number {\n    return this.index;\n  }\n\n  /**\n   * Get the column name\n   *\n   * @return column name\n   */\n  getName() {\n    return this.name;\n  }\n\n  /**\n   * Get the column type\n   *\n   * @return column type\n   */\n  getType() {\n    return this.type;\n  }\n\n  /**\n   * Get the column data type\n   *\n   * @return column data type, may be null\n   */\n  getDataType() {\n    return this.dataType;\n  }\n\n  /**\n   * Is the column the data type\n   * @param dataType data type\n   * @return true if the data type\n   */\n  isDataType(dataType: GeoPackageDataType): boolean {\n    return this.dataType === dataType;\n  }\n\n  /**\n   * Get the column max value\n   * @return max value or null if no max\n   */\n  getMax(): number {\n    return this.max;\n  }\n\n  /**\n   * Is this a not null column?\n   * @return true if not nullable\n   */\n  isNotNull(): boolean {\n    return this.notNull;\n  }\n\n  /**\n   * Get the default value as a string\n   * @return default value as a string\n   */\n  getDefaultValueString(): string {\n    return this.defaultValueString;\n  }\n\n  /**\n   * Get the default value\n   * @return default value\n   */\n  getDefaultValue(): any {\n    return this.defaultValue;\n  }\n\n  /**\n   * Is this a primary key column?\n   * @return true if primary key column\n   */\n  isPrimaryKey(): boolean {\n    return this.primaryKey;\n  }\n\n  /**\n   * Is this an autoincrement column?\n   * @return true if an autoincrement column\n   */\n  isAutoIncrement(): boolean {\n    return this.autoincrement;\n  }\n}\n","/**\n * Table Constraints including column constraint\n */\nimport { ColumnConstraints } from './columnConstraints';\nimport { Constraint } from './constraint';\nimport { Constraints } from './constraints';\n\nexport class TableConstraints {\n\n  /**\n   * Table constraints\n   */\n  public constraints: Constraints = new Constraints();\n\n  /**\n   * Column constraints\n   */\n  private columnConstraints = {};\n\n  /**\n   * Add a table constraint\n   * @param constraint constraint\n   */\n  addTableConstraint(constraint: Constraint) {\n    this.constraints.add(constraint);\n  }\n\n  /**\n   * Add table constraints\n   * @param constraints constraints\n   */\n  addTableConstraints(constraints: Constraints) {\n    this.constraints.addConstraints(constraints);\n  }\n\n  /**\n   * Get the table constraints\n   * @return table constraints\n   */\n  getTableConstraints(): Constraints {\n    return this.constraints;\n  }\n\n  /**\n   * Get the table constraint at the index\n   * @param index constraint index\n   * @return table constraint\n   */\n  getTableConstraint(index: number): Constraint {\n    if (index >= this.constraints.size()) {\n      return null;\n    }\n    return this.constraints.get(index);\n  }\n\n  /**\n   * Get the number of table constraints\n   * @return table constraints count\n   */\n  numTableConstraints(): number {\n    return this.constraints.size();\n  }\n\n  /**\n   * Add a column constraint\n   * @param columnName column name\n   * @param constraint constraint\n   */\n  addColumnConstraint(columnName: string, constraint: Constraint) {\n    this.getOrCreateColumnConstraints(columnName).addConstraint(constraint);\n  }\n\n  /**\n   * Add column constraints\n   * @param columnName column name\n   * @param constraints constraints\n   */\n  addConstraints(columnName: string, constraints: Constraints) {\n    this.getOrCreateColumnConstraints(columnName).addConstraints(constraints);\n  }\n\n  /**\n   * Add column constraints\n   * @param constraints constraints\n   */\n  addColumnConstraints(constraints: ColumnConstraints) {\n    this.getOrCreateColumnConstraints(constraints.name).addColumnConstraints(constraints);\n  }\n\n  /**\n   * Get or create the column constraints for the column name\n   * @param columnName column name\n   * @return column constraints\n   */\n  getOrCreateColumnConstraints(columnName: string): ColumnConstraints {\n    let constraints = this.columnConstraints[columnName];\n    if (constraints === null || constraints === undefined) {\n      constraints = new ColumnConstraints(columnName);\n      this.columnConstraints[columnName] = constraints;\n    }\n    return constraints;\n  }\n\n  /**\n   * Add column constraints\n   * @param constraints column constraints\n   */\n  addColumnConstraintsMap(constraints: Map<string, ColumnConstraints>) {\n    constraints.forEach((columnConstraints) => {\n      this.addColumnConstraints(columnConstraints);\n    })\n  }\n\n  /**\n   * Get the column constraints\n   * @return column constraints\n   */\n  getColumnConstraintsMap(): any  {\n    return this.columnConstraints;\n  }\n\n  /**\n   * Get the column names with constraints\n   * @return column names\n   */\n  getColumnsWithConstraints(): string[] {\n    return Array.from(Object.keys(this.columnConstraints));\n  }\n\n  /**\n   * Get the column constraints\n   * @param columnName column name\n   * @return constraints\n   */\n  getColumnConstraints(columnName: string): ColumnConstraints {\n    return this.columnConstraints[columnName];\n  }\n\n  /**\n   * Get the column constraint at the index\n   * @param columnName column name\n   * @param index constraint index\n   * @return column constraint\n   */\n  getColumnConstraint(columnName: string, index: number): Constraint {\n    let constraint = null;\n    let columnConstraints = this.getColumnConstraints(columnName);\n    if (columnConstraints !== null && columnConstraints !== undefined) {\n      constraint = columnConstraints.getConstraint(index);\n    }\n    return constraint;\n  }\n\n  /**\n   * Get the number of column constraints for the column name\n   * @param columnName column name\n   * @return column constraints count\n   */\n  numColumnConstraints(columnName: string): number {\n    let count = 0;\n    const columnConstraints = this.getColumnConstraints(columnName);\n    if (columnConstraints !== null && columnConstraints !== undefined) {\n      count = columnConstraints.numConstraints();\n    }\n    return count;\n  }\n\n  /**\n   * Add table constraints\n   * @param constraints table constraints\n   */\n  addAllConstraints(constraints: TableConstraints) {\n    if (constraints != null) {\n      this.addTableConstraints(constraints.getTableConstraints());\n      this.addColumnConstraintsMap(constraints.getColumnConstraintsMap());\n    }\n  }\n\n  /**\n   * Check if there are constraints\n   * @return true if has constraints\n   */\n  hasConstraints(): boolean {\n    return this.hasTableConstraints() || this.hasColumnConstraints();\n  }\n\n  /**\n   * Check if there are table constraints\n   * @return true if has table constraints\n   */\n  hasTableConstraints(): boolean {\n    return this.constraints.has();\n  }\n\n  /**\n   * Check if there are column constraints\n   * @return true if has column constraints\n   */\n  hasColumnConstraints(): boolean {\n    return Object.keys(this.columnConstraints).length > 0;\n  }\n\n  /**\n   * Check if there are column constraints for the column name\n   * @param columnName column name\n   * @return true if has column constraints\n   */\n  hasColumnConstraintsForColumn(columnName: string): boolean {\n    return this.numColumnConstraints(columnName) > 0;\n  }\n}\n","/**\n * Table Info queries (table_info)\n */\nimport { TableColumn } from './tableColumn';\nimport { GeoPackageConnection } from '../geoPackageConnection';\nimport { GeoPackageDataType } from '../geoPackageDataType';\nimport { GeometryType } from '../../features/user/geometryType';\nimport { SQLiteMaster } from '../master/sqliteMaster';\nimport { SQLiteMasterColumn } from '../master/sqliteMasterColumn';\nimport { StringUtils } from '../stringUtils';\n\nexport class TableInfo {\n\n  /**\n   * Index column\n   */\n  static CID = 'cid';\n\n  /**\n   * Name column\n   */\n  static NAME = 'name';\n\n  /**\n   * Type column\n   */\n  static TYPE = 'type';\n\n  /**\n   * Not null column\n   */\n  static NOT_NULL = 'notnull';\n\n  /**\n   * Default value column\n   */\n  static DFLT_VALUE = 'dflt_value';\n\n  /**\n   * Primary key column\n   */\n  static PK = 'pk';\n\n  /**\n   * Default of NULL value\n   */\n  static DEFAULT_NULL = 'NULL';\n\n  /**\n   * Table name\n   */\n  tableName: string;\n\n  /**\n   * Table columns\n   */\n  columns: TableColumn[];\n\n  /**\n   * Column name to column mapping\n   */\n  namesToColumns = new Map<string, TableColumn>();\n\n  /**\n   * Primary key column names\n   */\n  primaryKeys: TableColumn[] = [];\n\n  /**\n   * Constructor\n   * @param tableName table name\n   * @param columns table columns\n   */\n  constructor(tableName: string, columns: TableColumn[]) {\n    this.tableName = tableName;\n    this.columns = columns;\n    columns.forEach(column => {\n      this.namesToColumns.set(column.getName(), column);\n      if (column.isPrimaryKey()) {\n        this.primaryKeys.push(column);\n      }\n    });\n  }\n\n  /**\n   * Get the table name\n   * @return table name\n   */\n  getTableName(): string {\n    return this.tableName;\n  }\n\n  /**\n   * Number of columns\n   *\n   * @return column count\n   */\n  numColumns(): number {\n    return this.columns.length;\n  }\n\n  /**\n   * Get the columns\n   * @return columns\n   */\n  getColumns(): TableColumn[] {\n    return this.columns.slice();\n  }\n\n  /**\n   * Get the column at the index\n   * @param index column index\n   * @return column\n   */\n  getColumnAtIndex(index: number): TableColumn {\n    if (index < 0 || index >= this.columns.length) {\n      throw new Error('Column index: ' + index + ', not within range 0 to ' + (this.columns.length - 1));\n    }\n    return this.columns[index];\n  }\n\n  /**\n   * Check if the table has the column\n   * @param name column name\n   * @return true if has column\n   */\n  hasColumn(name: string): boolean {\n    return this.getColumn(name) !== null && this.getColumn(name) !== undefined;\n  }\n\n  /**\n   * Get the column with the name\n   * @param name column name\n   * @return column or null if does not exist\n   */\n  getColumn(name: string): TableColumn {\n    return this.namesToColumns.get(name);\n  }\n\n  /**\n   * Check if the table has one or more primary keys\n   * @return true if has at least one primary key\n   */\n  hasPrimaryKey() {\n    return this.primaryKeys.length !== 0;\n  }\n\n  /**\n   * Get the primary key columns\n   * @return primary key columns\n   */\n  public getPrimaryKeys(): TableColumn[] {\n    return this.primaryKeys.slice();\n  }\n\n  /**\n   * Get the single or first primary key if one exists\n   * @return single or first primary key, null if no primary key\n   */\n  getPrimaryKey(): TableColumn {\n    let pk = null;\n    if (this.hasPrimaryKey()) {\n      pk = this.primaryKeys[0];\n    }\n    return pk;\n  }\n\n  // @ts-ignore\n  /**\n   * Query for the table_info of the table name\n   * @param db connection\n   * @param tableName table name\n   * @return table info or null if no table\n   */\n  static info(db: GeoPackageConnection, tableName: string): TableInfo {\n    let sql = 'PRAGMA table_info(' + StringUtils.quoteWrap(tableName) + ')';\n    let results = db.all(sql, null);\n    let tableColumns: TableColumn[] = [];\n\n    results.forEach((result) => {\n      let index = result.cid;\n      let name = result.name;\n      let type = result.type;\n      let notNull = result.notnull === 1;\n      let defaultValueString = result.dflt_value;\n      let primaryKey = result.pk === 1;\n      let autoincrement = false;\n      if (primaryKey) {\n        const autoincrementResult = db.all('SELECT tbl_name FROM ' + SQLiteMaster.TABLE_NAME + ' WHERE ' + SQLiteMasterColumn.nameFromType(SQLiteMasterColumn.TBL_NAME) + '=? AND ' + SQLiteMasterColumn.nameFromType(SQLiteMasterColumn.SQL) + ' LIKE ?', [tableName, '%AUTOINCREMENT%']);\n        autoincrement = autoincrementResult.length === 1;\n      }\n\n      // If the type has a max limit on it, pull it off\n      let max = null;\n      if (type != null && type.endsWith(\")\")) {\n        let maxStart = type.indexOf(\"(\");\n        if (maxStart > -1) {\n          let maxString = type.substring(maxStart + 1, type.length - 1);\n          if (maxString.length !== 0) {\n            try {\n              max = parseInt(maxString);\n              type = type.substring(0, maxStart);\n            } catch (e) {\n              console.error(e);\n            }\n          }\n        }\n      }\n\n      let dataType = TableInfo.getDataType(type);\n      let defaultValue = undefined;\n      if (result.dflt_value) {\n        defaultValue = result.dflt_value.replace(/\\\\'/g, '');\n      }\n      let tableColumn = new TableColumn(index, name, type, dataType, max, notNull, defaultValueString, defaultValue, primaryKey, autoincrement);\n      tableColumns.push(tableColumn);\n    });\n\n\n    let tableInfo: TableInfo = null;\n    if (tableColumns.length !== 0) {\n      tableInfo = new TableInfo(tableName, tableColumns);\n    }\n\n    return tableInfo;\n  }\n\n  /**\n   * Get the data type from the type value\n   * @param type type value\n   * @return data type or null\n   */\n  static getDataType(type: string): GeoPackageDataType {\n    let dataType = GeoPackageDataType.fromName(type);\n\n    if (dataType === null || dataType === undefined) {\n      // Check if a geometry and set as a blob\n      const geomType = GeometryType.fromName(type);\n      if (geomType !== null && geomType !== undefined) {\n        dataType = GeoPackageDataType.BLOB;\n      }\n    }\n    return dataType;\n  }\n}\n","import { ConstraintType } from './constraintType';\nimport { UserColumn } from '../../user/userColumn';\nimport { Constraint } from './constraint';\n\n/**\n * Table unique constraint for one or more columns\n */\nexport class UniqueConstraint extends Constraint {\n  /**\n   * Constraint keyword\n   */\n  static UNIQUE = 'UNIQUE';\n\n  /**\n   * Columns included in the unique constraint\n   */\n  columns: UserColumn[] = [];\n\n  constructor(name?: string, ...columns: UserColumn[]) {\n    super(ConstraintType.UNIQUE, name);\n    this.add(...columns);\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  buildSql(): string {\n    let sql = '';\n    sql = sql.concat(this.buildNameSql());\n    sql = sql.concat(UniqueConstraint.UNIQUE);\n    sql = sql.concat(' (');\n    for (let i = 0; i < this.columns.length; i++) {\n      const column = this.columns[i];\n      if (i > 0) {\n        sql = sql.concat(', ');\n      }\n      sql = sql.concat(column.getName());\n    }\n    sql = sql.concat(')');\n    return sql;\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  public copy(): UniqueConstraint {\n    return new UniqueConstraint(this.name, ...this.columns);\n  }\n\n  /**\n   * Add columns\n   * @param columns columns\n   */\n  add(...columns: UserColumn[]) {\n    columns.forEach(column => {\n      this.columns.push(column);\n    });\n  }\n\n  /**\n   * Get the columns\n   *\n   * @return columns\n   */\n  getColumns(): UserColumn[] {\n    return this.columns;\n  }\n\n}\n","import { SpatialReferenceSystemDao } from '../core/srs/spatialReferenceSystemDao';\n\n// eslint-disable-next-line no-unused-vars\nimport { UserTable } from '../user/userTable';\nimport { GeoPackage } from '../geoPackage';\nimport { GeoPackageConnection } from './geoPackageConnection';\nimport { UserColumn } from '../user/userColumn';\nimport { CoreSQLUtils } from './coreSQLUtils';\n\ntype TableCreatorScripts =\n  | 'spatial_reference_system'\n  | 'contents'\n  | 'geometry_columns'\n  | 'tile_matrix_set'\n  | 'tile_matrix'\n  | 'data_columns'\n  | 'data_column_constraints'\n  | 'metadata'\n  | 'metadata_reference'\n  | 'extensions'\n  | 'table_index'\n  | 'geometry_index'\n  | 'feature_tile_link'\n  | 'extended_relations'\n  | 'contents_id'\n  | 'tile_scaling';\n\n/**\n * `TableCreator` provides methods for creating the various standard tables in\n * a GeoPackage database.\n *\n * @class\n * @param {module:geoPackage~GeoPackage} geopackage GeoPackage object\n */\nexport class TableCreator {\n  geopackage: GeoPackage;\n  connection: GeoPackageConnection;\n  constructor(geopackage: GeoPackage) {\n    this.geopackage = geopackage;\n    this.connection = geopackage.database;\n  }\n  /**\n   * Creates all required tables and Spatial Reference Systems, in addition to EPSG:3857\n   * @return {boolean}\n   */\n  createRequired(): boolean {\n    const dao = new SpatialReferenceSystemDao(this.geopackage);\n    this.createSpatialReferenceSystem();\n    this.createContents();\n    // Create the required Spatial Reference Systems (spec Requirement 11)\n    dao.createUndefinedGeographic();\n    dao.createWgs84();\n    dao.createUndefinedCartesian();\n    // not required but very common\n    dao.createWebMercator();\n    return true;\n  }\n  /**\n   * Creates the spatial reference system tables\n   * @return {boolean}\n   */\n  createSpatialReferenceSystem(): boolean {\n    return this.createTable('spatial_reference_system');\n  }\n  /**\n   * Creates the contents tables\n   * @return {boolean}\n   */\n  createContents(): boolean {\n    return this.createTable('contents');\n  }\n  /**\n   * Creates the geometry columns tables\n   * @return {boolean}\n   */\n  createGeometryColumns(): boolean {\n    return this.createTable('geometry_columns');\n  }\n  /**\n   * Creates the tile matrix set tables\n   * @return {boolean}\n   */\n  createTileMatrixSet(): boolean {\n    return this.createTable('tile_matrix_set');\n  }\n  /**\n   * Creates the tile matrix tables\n   * @return {boolean}\n   */\n  createTileMatrix(): boolean {\n    return this.createTable('tile_matrix');\n  }\n  /**\n   * Creates the data columns tables\n   * @return {boolean}\n   */\n  createDataColumns(): boolean {\n    return this.createTable('data_columns');\n  }\n  /**\n   * Creates the data column constraints tables\n   * @return {boolean}\n   */\n  createDataColumnConstraints(): boolean {\n    return this.createTable('data_column_constraints');\n  }\n  /**\n   * Creates the metadata tables\n   * @return {boolean}\n   */\n  createMetadata(): boolean {\n    return this.createTable('metadata');\n  }\n  /**\n   * Creates the metadata reference tables\n   * @return {boolean}\n   */\n  createMetadataReference(): boolean {\n    return this.createTable('metadata_reference');\n  }\n  /**\n   * Creates the extensions tables\n   * @return {boolean}\n   */\n  createExtensions(): boolean {\n    return this.createTable('extensions');\n  }\n  /**\n   * Creates the table index tables\n   * @return {boolean}\n   */\n  createTableIndex(): boolean {\n    return this.createTable('table_index');\n  }\n  /**\n   * Creates the geometry index tables\n   * @return {boolean}\n   */\n  createGeometryIndex(): boolean {\n    return this.createTable('geometry_index');\n  }\n  /**\n   * Creates the feature tile link tables\n   * @return {boolean}\n   */\n  createFeatureTileLink(): boolean {\n    return this.createTable('feature_tile_link');\n  }\n  /**\n   * Creates the extended relations tables\n   * @return {boolean}\n   */\n  createExtendedRelations():boolean {\n    return this.createTable('extended_relations');\n  }\n  /**\n   * Creates the contentsId tables\n   * @return {boolean}\n   */\n  createContentsId():boolean {\n    return this.createTable('contents_id');\n  }\n  /**\n   * Creates the tileScaling tables\n   * @return {boolean}\n   */\n  createTileScaling(): boolean {\n    return this.createTable('tile_scaling');\n  }\n  /**\n   * Creates all tables necessary for the specified table creation script name in the GeoPackage\n   * @param  {string} creationScriptName creation scripts to run\n   * @return {boolean}\n   */\n  createTable(creationScriptName: TableCreatorScripts): boolean {\n    let success = true;\n    const scripts = TableCreator.tableCreationScripts[creationScriptName];\n    for (let i = 0; i < scripts.length; i++) {\n      const sql = scripts[i];\n      try {\n        success = success && !!this.connection.run(sql);\n      } catch (error) {\n        if (error.message.indexOf('already exists') === -1) {\n          throw error;\n        }\n      }\n    }\n    return success;\n  }\n  /**\n   * Create the given user table.\n   *\n   * @param {UserTable} userTable user table to create\n   * @return {object} the result of {@link module:db/geoPackageConnection~GeoPackageConnection#run}\n   * @throws {Error} if the table already exists\n   */\n  createUserTable(userTable: UserTable<UserColumn>): { lastInsertRowid: number; changes: number } {\n    const connection = this.connection;\n    const result = connection.tableExists(userTable.getTableName());\n    if (result) {\n      throw new Error('Table already exists and cannot be created: ' + userTable.getTableName());\n    }\n    // Build the create table sql\n    let sql = CoreSQLUtils.createTableSQL(userTable);\n    // Create the table\n    return connection.run(sql);\n  }\n\n  /**\n   * Drop the table if it exists\n   * @param table table name\n   */\n  dropTable(table: string) {\n    CoreSQLUtils.dropTable(this.connection, table);\n  }\n\n\nstatic readonly tableCreationScripts = {\n    spatial_reference_system: [\n      'CREATE TABLE gpkg_spatial_ref_sys (' +\n        '  srs_name TEXT NOT NULL,' +\n        '  srs_id INTEGER NOT NULL PRIMARY KEY,' +\n        '  organization TEXT NOT NULL,' +\n        '  organization_coordsys_id INTEGER NOT NULL,' +\n        '  definition  TEXT NOT NULL,' +\n        '  description TEXT,' +\n        '  definition_12_063 TEXT NOT NULL DEFAULT \"undefined\"' +\n        ')',\n\n      'CREATE VIEW st_spatial_ref_sys AS' +\n        ' SELECT' +\n        '   srs_name,' +\n        '   srs_id,' +\n        '   organization,' +\n        '   organization_coordsys_id,' +\n        '   definition,' +\n        '   description' +\n        ' FROM gpkg_spatial_ref_sys',\n\n      'CREATE VIEW spatial_ref_sys AS' +\n        ' SELECT' +\n        '   srs_id AS srid,' +\n        '   organization AS auth_name,' +\n        '   organization_coordsys_id AS auth_srid,' +\n        '   definition AS srtext' +\n        ' FROM gpkg_spatial_ref_sys',\n    ],\n    contents: [\n      'CREATE TABLE gpkg_contents (' +\n        ' table_name TEXT NOT NULL PRIMARY KEY,' +\n        ' data_type TEXT NOT NULL,' +\n        ' identifier TEXT UNIQUE,' +\n        \" description TEXT DEFAULT '',\" +\n        \" last_change DATETIME NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),\" +\n        ' min_x DOUBLE,' +\n        ' min_y DOUBLE,' +\n        ' max_x DOUBLE,' +\n        ' max_y DOUBLE,' +\n        ' srs_id INTEGER,' +\n        ' CONSTRAINT fk_gc_r_srs_id FOREIGN KEY (srs_id) REFERENCES gpkg_spatial_ref_sys(srs_id)' +\n        ')',\n    ],\n    geometry_columns: [\n      'CREATE TABLE gpkg_geometry_columns (' +\n        '  table_name TEXT NOT NULL,' +\n        '  column_name TEXT NOT NULL,' +\n        '  geometry_type_name TEXT NOT NULL,' +\n        '  srs_id INTEGER NOT NULL,' +\n        '  z TINYINT NOT NULL,' +\n        '  m TINYINT NOT NULL,' +\n        '  CONSTRAINT pk_geom_cols PRIMARY KEY (table_name, column_name),' +\n        '  CONSTRAINT uk_gc_table_name UNIQUE (table_name),' +\n        '  CONSTRAINT fk_gc_tn FOREIGN KEY (table_name) REFERENCES gpkg_contents(table_name),' +\n        '  CONSTRAINT fk_gc_srs FOREIGN KEY (srs_id) REFERENCES gpkg_spatial_ref_sys (srs_id)' +\n        ')',\n\n      'CREATE VIEW st_geometry_columns AS' +\n        '  SELECT' +\n        '    table_name,' +\n        '    column_name,' +\n        \"    'ST_' || geometry_type_name AS geometry_type_name,\" +\n        '    g.srs_id,' +\n        '    srs_name' +\n        '  FROM gpkg_geometry_columns as g JOIN gpkg_spatial_ref_sys AS s' +\n        '  WHERE g.srs_id = s.srs_id',\n\n      'CREATE VIEW geometry_columns AS' +\n      '  SELECT' +\n      '    table_name AS f_table_name,' +\n      '    column_name AS f_geometry_column,' +\n      '    (CASE geometry_type_name ' +\n      '      WHEN \\'GEOMETRY\\' THEN 0 ' +\n      '      WHEN \\'POINT\\' THEN 1 ' +\n      '      WHEN \\'LINESTRING\\' THEN 2 ' +\n      '      WHEN \\'POLYGON\\' THEN 3 ' +\n      '      WHEN \\'MULTIPOINT\\' THEN 4 ' +\n      '      WHEN \\'MULTILINESTRING\\' THEN 5 ' +\n      '      WHEN \\'MULTIPOLYGON\\' THEN 6 ' +\n      '      WHEN \\'GEOMETRYCOLLECTION\\' THEN 7 ' +\n      '      WHEN \\'CIRCULARSTRING\\' THEN 8 ' +\n      '      WHEN \\'COMPOUNDCURVE\\' THEN 9 ' +\n      '      WHEN \\'CURVEPOLYGON\\' THEN 10 ' +\n      '      WHEN \\'MULTICURVE\\' THEN 11 ' +\n      '      WHEN \\'MULTISURFACE\\' THEN 12 ' +\n      '      WHEN \\'CURVE\\' THEN 13 ' +\n      '      WHEN \\'SURFACE\\' THEN 14 ' +\n      '      WHEN \\'POLYHEDRALSURFACE\\' THEN 15 ' +\n      '      WHEN \\'TIN\\' THEN 16 ' +\n      '      WHEN \\'TRIANGLE\\' THEN 17 ' +\n      '      ELSE 0 END) AS geometry_type,' +\n      '    2 + (CASE z WHEN 1 THEN 1 WHEN 2 THEN 1 ELSE 0 END) + (CASE m WHEN 1 THEN 1 WHEN 2 THEN 1 ELSE 0 END) AS coord_dimension,' +\n      '    srs_id AS srid' +\n      '  FROM gpkg_geometry_columns',\n    ],\n    tile_matrix_set: [\n      'CREATE TABLE gpkg_tile_matrix_set (' +\n        '  table_name TEXT NOT NULL PRIMARY KEY,' +\n        '  srs_id INTEGER NOT NULL,' +\n        '  min_x DOUBLE NOT NULL,' +\n        '  min_y DOUBLE NOT NULL,' +\n        '  max_x DOUBLE NOT NULL,' +\n        '  max_y DOUBLE NOT NULL,' +\n        '  CONSTRAINT fk_gtms_table_name FOREIGN KEY (table_name) REFERENCES gpkg_contents(table_name),' +\n        '  CONSTRAINT fk_gtms_srs FOREIGN KEY (srs_id) REFERENCES gpkg_spatial_ref_sys (srs_id)' +\n        ')',\n    ],\n    tile_matrix: [\n      'CREATE TABLE gpkg_tile_matrix (' +\n        '  table_name TEXT NOT NULL,' +\n        '  zoom_level INTEGER NOT NULL,' +\n        '  matrix_width INTEGER NOT NULL,' +\n        '  matrix_height INTEGER NOT NULL,' +\n        '  tile_width INTEGER NOT NULL,' +\n        '  tile_height INTEGER NOT NULL,' +\n        '  pixel_x_size DOUBLE NOT NULL,' +\n        '  pixel_y_size DOUBLE NOT NULL,' +\n        '  CONSTRAINT pk_ttm PRIMARY KEY (table_name, zoom_level),' +\n        '  CONSTRAINT fk_tmm_table_name FOREIGN KEY (table_name) REFERENCES gpkg_contents(table_name)' +\n        ')',\n\n      \"CREATE TRIGGER 'gpkg_tile_matrix_zoom_level_insert'\" +\n        \"BEFORE INSERT ON 'gpkg_tile_matrix'\" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'insert on table ''gpkg_tile_matrix'' violates constraint: zoom_level cannot be less than 0')\" +\n        'WHERE (NEW.zoom_level < 0);' +\n        'END',\n\n      \"CREATE TRIGGER 'gpkg_tile_matrix_zoom_level_update'\" +\n        \"BEFORE UPDATE of zoom_level ON 'gpkg_tile_matrix'\" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'update on table ''gpkg_tile_matrix'' violates constraint: zoom_level cannot be less than 0')\" +\n        'WHERE (NEW.zoom_level < 0);' +\n        'END',\n\n      \"CREATE TRIGGER 'gpkg_tile_matrix_matrix_width_insert'\" +\n        \"BEFORE INSERT ON 'gpkg_tile_matrix'\" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'insert on table ''gpkg_tile_matrix'' violates constraint: matrix_width cannot be less than 1')\" +\n        'WHERE (NEW.matrix_width < 1);' +\n        'END',\n\n      \"CREATE TRIGGER 'gpkg_tile_matrix_matrix_width_update'\" +\n        \"BEFORE UPDATE OF matrix_width ON 'gpkg_tile_matrix'\" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'update on table ''gpkg_tile_matrix'' violates constraint: matrix_width cannot be less than 1')\" +\n        'WHERE (NEW.matrix_width < 1);' +\n        'END',\n\n      \"CREATE TRIGGER 'gpkg_tile_matrix_matrix_height_insert'\" +\n        \"BEFORE INSERT ON 'gpkg_tile_matrix'\" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'insert on table ''gpkg_tile_matrix'' violates constraint: matrix_height cannot be less than 1')\" +\n        'WHERE (NEW.matrix_height < 1);' +\n        'END',\n\n      \"CREATE TRIGGER 'gpkg_tile_matrix_matrix_height_update'\" +\n        \"BEFORE UPDATE OF matrix_height ON 'gpkg_tile_matrix'\" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'update on table ''gpkg_tile_matrix'' violates constraint: matrix_height cannot be less than 1')\" +\n        'WHERE (NEW.matrix_height < 1);' +\n        'END',\n\n      \"CREATE TRIGGER 'gpkg_tile_matrix_pixel_x_size_insert'\" +\n        \"BEFORE INSERT ON 'gpkg_tile_matrix'\" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'insert on table ''gpkg_tile_matrix'' violates constraint: pixel_x_size must be greater than 0')\" +\n        'WHERE NOT (NEW.pixel_x_size > 0);' +\n        'END',\n\n      \"CREATE TRIGGER 'gpkg_tile_matrix_pixel_x_size_update'\" +\n        \"BEFORE UPDATE OF pixel_x_size ON 'gpkg_tile_matrix'\" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'update on table ''gpkg_tile_matrix'' violates constraint: pixel_x_size must be greater than 0')\" +\n        'WHERE NOT (NEW.pixel_x_size > 0);' +\n        'END',\n\n      \"CREATE TRIGGER 'gpkg_tile_matrix_pixel_y_size_insert'\" +\n        \"BEFORE INSERT ON 'gpkg_tile_matrix'\" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'insert on table ''gpkg_tile_matrix'' violates constraint: pixel_y_size must be greater than 0')\" +\n        'WHERE NOT (NEW.pixel_y_size > 0);' +\n        'END',\n\n      \"CREATE TRIGGER 'gpkg_tile_matrix_pixel_y_size_update'\" +\n        \"BEFORE UPDATE OF pixel_y_size ON 'gpkg_tile_matrix'\" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'update on table ''gpkg_tile_matrix'' violates constraint: pixel_y_size must be greater than 0')\" +\n        'WHERE NOT (NEW.pixel_y_size > 0);' +\n        'END',\n    ],\n    data_columns: [\n      'CREATE TABLE gpkg_data_columns (' +\n        '  table_name TEXT NOT NULL,' +\n        '  column_name TEXT NOT NULL,' +\n        '  name TEXT,' +\n        '  title TEXT,' +\n        '  description TEXT,' +\n        '  mime_type TEXT,' +\n        '  constraint_name TEXT,' +\n        '  CONSTRAINT pk_gdc PRIMARY KEY (table_name, column_name),' +\n        '  CONSTRAINT gdc_tn UNIQUE (table_name, name)' +\n        // '  CONSTRAINT fk_gdc_tn FOREIGN KEY (table_name) REFERENCES gpkg_contents(table_name)' +\n        ')',\n    ],\n    data_column_constraints: [\n      'CREATE TABLE gpkg_data_column_constraints (' +\n        '  constraint_name TEXT NOT NULL,' +\n        '  constraint_type TEXT NOT NULL, /* \"range\" | \"enum\" | \"glob\" */' +\n        '  value TEXT,' +\n        '  min NUMERIC,' +\n        '  min_is_inclusive BOOLEAN, /* 0 = false, 1 = true */' +\n        '  max NUMERIC,' +\n        '  max_is_inclusive BOOLEAN, /* 0 = false, 1 = true */' +\n        '  description TEXT,' +\n        '  CONSTRAINT gdcc_ntv UNIQUE (constraint_name, constraint_type, value)' +\n        ')',\n    ],\n    metadata: [\n      'CREATE TABLE gpkg_metadata (' +\n        '  id INTEGER CONSTRAINT m_pk PRIMARY KEY ASC NOT NULL,' +\n        '  md_scope TEXT NOT NULL DEFAULT \"dataset\",' +\n        '  md_standard_uri TEXT NOT NULL,' +\n        '  mime_type TEXT NOT NULL DEFAULT \"text/xml\",' +\n        '  metadata TEXT NOT NULL' +\n        ')',\n\n      \"CREATE TRIGGER 'gpkg_metadata_md_scope_insert' \" +\n        \"BEFORE INSERT ON 'gpkg_metadata' \" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'insert on table gpkg_metadata violates \" +\n        'constraint: md_scope must be one of undefined | fieldSession | ' +\n        'collectionSession | series | dataset | featureType | feature | ' +\n        'attributeType | attribute | tile | model | catalogue | schema | ' +\n        'taxonomy software | service | collectionHardware | ' +\n        \"nonGeographicDataset | dimensionGroup') \" +\n        'WHERE NOT(NEW.md_scope IN ' +\n        \"('undefined','fieldSession','collectionSession','series','dataset', \" +\n        \"'featureType','feature','attributeType','attribute','tile','model', \" +\n        \"'catalogue','schema','taxonomy','software','service', \" +\n        \"'collectionHardware','nonGeographicDataset','dimensionGroup')); \" +\n        'END',\n\n      \"CREATE TRIGGER 'gpkg_metadata_md_scope_update' \" +\n        \"BEFORE UPDATE OF 'md_scope' ON 'gpkg_metadata' \" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'update on table gpkg_metadata violates \" +\n        'constraint: md_scope must be one of undefined | fieldSession | ' +\n        'collectionSession | series | dataset | featureType | feature | ' +\n        'attributeType | attribute | tile | model | catalogue | schema | ' +\n        'taxonomy software | service | collectionHardware | ' +\n        \"nonGeographicDataset | dimensionGroup') \" +\n        'WHERE NOT(NEW.md_scope IN ' +\n        \"('undefined','fieldSession','collectionSession','series','dataset', \" +\n        \"'featureType','feature','attributeType','attribute','tile','model', \" +\n        \"'catalogue','schema','taxonomy','software','service', \" +\n        \"'collectionHardware','nonGeographicDataset','dimensionGroup')); \" +\n        'END',\n    ],\n    metadata_reference: [\n      'CREATE TABLE gpkg_metadata_reference (' +\n        '  reference_scope TEXT NOT NULL,' +\n        '  table_name TEXT,' +\n        '  column_name TEXT,' +\n        '  row_id_value INTEGER,' +\n        \"  timestamp DATETIME NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),\" +\n        '  md_file_id INTEGER NOT NULL,' +\n        '  md_parent_id INTEGER,' +\n        '  CONSTRAINT crmr_mfi_fk FOREIGN KEY (md_file_id) REFERENCES gpkg_metadata(id),' +\n        '  CONSTRAINT crmr_mpi_fk FOREIGN KEY (md_parent_id) REFERENCES gpkg_metadata(id)' +\n        ')',\n\n      \"CREATE TRIGGER 'gpkg_metadata_reference_reference_scope_insert' \" +\n        \"BEFORE INSERT ON 'gpkg_metadata_reference' \" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'insert on table gpkg_metadata_reference \" +\n        'violates constraint: reference_scope must be one of \"geopackage\", ' +\n        'table\", \"column\", \"row\", \"row/col\"\\') ' +\n        'WHERE NOT NEW.reference_scope IN ' +\n        \"('geopackage','table','column','row','row/col'); \" +\n        'END',\n\n      \"CREATE TRIGGER 'gpkg_metadata_reference_reference_scope_update' \" +\n        \"BEFORE UPDATE OF 'reference_scope' ON 'gpkg_metadata_reference' \" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'update on table gpkg_metadata_reference \" +\n        'violates constraint: referrence_scope must be one of \"geopackage\", ' +\n        '\"table\", \"column\", \"row\", \"row/col\"\\') ' +\n        'WHERE NOT NEW.reference_scope IN ' +\n        \"('geopackage','table','column','row','row/col'); \" +\n        'END',\n\n      \"CREATE TRIGGER 'gpkg_metadata_reference_column_name_insert' \" +\n        \"BEFORE INSERT ON 'gpkg_metadata_reference' \" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'insert on table gpkg_metadata_reference \" +\n        'violates constraint: column name must be NULL when reference_scope ' +\n        'is \"geopackage\", \"table\" or \"row\"\\') ' +\n        \"WHERE (NEW.reference_scope IN ('geopackage','table','row') \" +\n        'AND NEW.column_name IS NOT NULL); ' +\n        \"SELECT RAISE(ABORT, 'insert on table gpkg_metadata_reference \" +\n        'violates constraint: column name must be defined for the specified ' +\n        'table when reference_scope is \"column\" or \"row/col\"\\') ' +\n        \"WHERE (NEW.reference_scope IN ('column','row/col') \" +\n        'AND NOT NEW.table_name IN ( ' +\n        \"SELECT name FROM SQLITE_MASTER WHERE type = 'table' \" +\n        'AND name = NEW.table_name ' +\n        \"AND sql LIKE ('%' || NEW.column_name || '%'))); \" +\n        'END',\n\n      \"CREATE TRIGGER 'gpkg_metadata_reference_column_name_update' \" +\n        \"BEFORE UPDATE OF column_name ON 'gpkg_metadata_reference' \" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'update on table gpkg_metadata_reference \" +\n        'violates constraint: column name must be NULL when reference_scope ' +\n        'is \"geopackage\", \"table\" or \"row\"\\') ' +\n        \"WHERE (NEW.reference_scope IN ('geopackage','table','row') \" +\n        'AND NEW.column_nameIS NOT NULL); ' +\n        \"SELECT RAISE(ABORT, 'update on table gpkg_metadata_reference \" +\n        'violates constraint: column name must be defined for the specified ' +\n        'table when reference_scope is \"column\" or \"row/col\"\\') ' +\n        \"WHERE (NEW.reference_scope IN ('column','row/col') \" +\n        'AND NOT NEW.table_name IN ( ' +\n        \"SELECT name FROM SQLITE_MASTER WHERE type = 'table' \" +\n        'AND name = NEW.table_name ' +\n        \"AND sql LIKE ('%' || NEW.column_name || '%'))); \" +\n        'END',\n\n      \"CREATE TRIGGER 'gpkg_metadata_reference_row_id_value_insert' \" +\n        \"BEFORE INSERT ON 'gpkg_metadata_reference' \" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'insert on table gpkg_metadata_reference \" +\n        'violates constraint: row_id_value must be NULL when reference_scope ' +\n        'is \"geopackage\", \"table\" or \"column\"\\') ' +\n        \"WHERE NEW.reference_scope IN ('geopackage','table','column') \" +\n        'AND NEW.row_id_value IS NOT NULL; ' +\n        'END ',\n\n      \"CREATE TRIGGER 'gpkg_metadata_reference_row_id_value_update' \" +\n        \"BEFORE UPDATE OF 'row_id_value' ON 'gpkg_metadata_reference' \" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'update on table gpkg_metadata_reference \" +\n        'violates constraint: row_id_value must be NULL when reference_scope ' +\n        'is \"geopackage\", \"table\" or \"column\"\\') ' +\n        \"WHERE NEW.reference_scope IN ('geopackage','table','column') \" +\n        'AND NEW.row_id_value IS NOT NULL; ' +\n        'END',\n\n      \"CREATE TRIGGER 'gpkg_metadata_reference_timestamp_insert' \" +\n        \"BEFORE INSERT ON 'gpkg_metadata_reference' \" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'insert on table gpkg_metadata_reference \" +\n        'violates constraint: timestamp must be a valid time in ISO 8601 ' +\n        '\"yyyy-mm-ddThh:mm:ss.cccZ\" form\\') ' +\n        'WHERE NOT (NEW.timestamp GLOB ' +\n        \"'[1-2][0-9][0-9][0-9]-[0-1][0-9]-[0-3][0-9]T[0-2][0-9]:[0-5][0-9]:[0-5][0-9].[0-9][0-9][0-9]Z' \" +\n        \"AND strftime('%s',NEW.timestamp) NOT NULL); \" +\n        'END',\n\n      \"CREATE TRIGGER 'gpkg_metadata_reference_timestamp_update' \" +\n        \"BEFORE UPDATE OF 'timestamp' ON 'gpkg_metadata_reference' \" +\n        'FOR EACH ROW BEGIN ' +\n        \"SELECT RAISE(ABORT, 'update on table gpkg_metadata_reference \" +\n        'violates constraint: timestamp must be a valid time in ISO 8601 ' +\n        '\"yyyy-mm-ddThh:mm:ss.cccZ\" form\\') ' +\n        'WHERE NOT (NEW.timestamp GLOB ' +\n        \"'[1-2][0-9][0-9][0-9]-[0-1][0-9]-[0-3][0-9]T[0-2][0-9]:[0-5][0-9]:[0-5][0-9].[0-9][0-9][0-9]Z' \" +\n        \"AND strftime('%s',NEW.timestamp) NOT NULL); \" +\n        'END ',\n    ],\n    extensions: [\n      'CREATE TABLE gpkg_extensions (' +\n        '  table_name TEXT,' +\n        '  column_name TEXT,' +\n        '  extension_name TEXT NOT NULL,' +\n        '  definition TEXT NOT NULL,' +\n        '  scope TEXT NOT NULL,' +\n        '  CONSTRAINT ge_tce UNIQUE (table_name, column_name, extension_name)' +\n        ')',\n    ],\n    table_index: [\n      'CREATE TABLE nga_table_index (' + '  table_name TEXT NOT NULL PRIMARY KEY,' + '  last_indexed DATETIME' + ')',\n    ],\n    geometry_index: [\n      'CREATE TABLE nga_geometry_index (' +\n        '  table_name TEXT NOT NULL,' +\n        '  geom_id INTEGER NOT NULL,' +\n        '  min_x DOUBLE NOT NULL,' +\n        '  max_x DOUBLE NOT NULL,' +\n        '  min_y DOUBLE NOT NULL,' +\n        '  max_y DOUBLE NOT NULL,' +\n        '  min_z DOUBLE,' +\n        '  max_z DOUBLE,' +\n        '  min_m DOUBLE,' +\n        '  max_m DOUBLE,' +\n        '  CONSTRAINT pk_ngi PRIMARY KEY (table_name, geom_id),' +\n        '  CONSTRAINT fk_ngi_nti_tn FOREIGN KEY (table_name) REFERENCES nga_table_index(table_name)' +\n        ')',\n    ],\n    feature_tile_link: [\n      'CREATE TABLE nga_feature_tile_link (' +\n        '  feature_table_name TEXT NOT NULL,' +\n        '  tile_table_name TEXT NOT NULL,' +\n        '  CONSTRAINT pk_nftl PRIMARY KEY (feature_table_name, tile_table_name)' +\n        ')',\n    ],\n    extended_relations: [\n      'CREATE TABLE gpkgext_relations (' +\n        '  id INTEGER PRIMARY KEY AUTOINCREMENT,' +\n        '  base_table_name TEXT NOT NULL,' +\n        \"  base_primary_column TEXT NOT NULL DEFAULT 'id',\" +\n        '  related_table_name TEXT NOT NULL,' +\n        \"  related_primary_column TEXT NOT NULL DEFAULT 'id',\" +\n        '  relation_name TEXT NOT NULL,' +\n        '  mapping_table_name TEXT NOT NULL UNIQUE' +\n        ')',\n    ],\n    contents_id: [\n      'CREATE TABLE nga_contents_id (' +\n      '  id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,' +\n      '  table_name TEXT NOT NULL,' +\n      '  CONSTRAINT uk_nci_table_name UNIQUE (table_name),' +\n      '  CONSTRAINT fk_nci_gc_tn FOREIGN KEY (table_name) REFERENCES gpkg_contents(table_name)' +\n      ')',\n    ],\n    tile_scaling: [\n      'CREATE TABLE nga_tile_scaling (' +\n      '  table_name TEXT PRIMARY KEY NOT NULL,' +\n      '  scaling_type TEXT NOT NULL,' +\n      '  zoom_in INTEGER,' +\n      '  zoom_out INTEGER,' +\n      '  CONSTRAINT fk_nts_gtms_tn FOREIGN KEY (table_name) ' +\n      '  REFERENCES gpkg_tile_matrix_set (table_name),' +\n      \"  CHECK (scaling_type in ('in','out','in_out','out_in','closest_in_out','closest_out_in'))\" +\n      ')',\n    ],\n  };\n}\n","import isNil from 'lodash/isNil'\nimport isEqual from 'lodash/isEqual'\nimport keys from 'lodash/keys'\nimport values from 'lodash/values'\nimport { MappedColumn } from './mappedColumn'\nimport { UserColumn } from '../user/userColumn'\nimport { TableInfo } from './table/tableInfo'\n\n/**\n * Mapping between column names being mapped to and the mapped column\n * information\n *\n * @author osbornb\n * @since 3.3.0\n */\nexport class TableMapping {\n  /**\n   * From table name\n   */\n  _fromTable: string\n\n  /**\n   * To table name\n   */\n  _toTable: string\n\n  /**\n   * Transfer row content to new table\n   */\n  _transferContent: boolean = true\n\n  /**\n   * Mapping between column names and mapped columns\n   */\n  _columns = {}\n\n  /**\n   * Dropped columns from the previous table version\n   */\n  _droppedColumns = new Set<string>()\n\n  /**\n   * Custom where clause (in addition to column where mappings)\n   */\n  _where: string\n\n  /**\n   * Constructor\n   * @param fromTableName table name\n   * @param toTableName table name\n   * @param columns user columns\n   */\n  constructor (fromTableName: string, toTableName: string, columns: UserColumn[]) {\n    this._fromTable = fromTableName\n    this._toTable = toTableName\n    columns.forEach(column => {\n      this.addMappedColumn(new MappedColumn(column.name, column.name, column.defaultValue, column.dataType))\n    })\n  }\n\n  static fromTableInfo(tableInfo: TableInfo): TableMapping {\n    let tableMapping = new TableMapping(tableInfo.getTableName(), tableInfo.getTableName(), []);\n    tableInfo.getColumns().forEach(column => {\n      tableMapping.addMappedColumn(new MappedColumn(column.getName(), column.getName(), column.getDefaultValue(), column.getDataType()));\n    });\n    return tableMapping;\n  }\n\n  /**\n   * Get the from table name\n   * @return from table name\n   */\n  get fromTable(): string {\n    return this._fromTable\n  }\n\n  /**\n   * Set the from table name\n   * @param fromTable from table name\n   */\n  set fromTable(fromTable: string) {\n    this._fromTable = fromTable\n  }\n\n  /**\n   * Get the to table name\n   * @return to table name\n   */\n  get toTable(): string {\n    return this._toTable\n  }\n\n  /**\n   * Set the to table name\n   * @param toTable to table name\n   */\n  set toTable(toTable: string) {\n    this._toTable = toTable\n  }\n\n  /**\n   * Check if the table mapping is to a new table\n   * @return true if a new table\n   */\n  isNewTable(): boolean {\n    return !isNil(this._toTable) && !isEqual(this._toTable, this._fromTable)\n  }\n\n  /**\n   * Is the transfer content flag enabled\n   * @return true if data should be transfered to the new table\n   */\n  isTransferContent(): boolean {\n    return this._transferContent\n  }\n\n  /**\n   * Set the transfer content flag\n   * @param transferContent true if data should be transfered to the new table\n   */\n  set transferContent(transferContent: boolean) {\n    this._transferContent = transferContent\n  }\n\n  /**\n   * Add a column\n   * @param column mapped column\n   */\n   addMappedColumn(column: MappedColumn) {\n    this._columns[column.toColumn] = column\n  }\n\n  /**\n   * Add a column\n   * @param columnName column name\n   */\n  addColumnWithName(columnName: string) {\n    this._columns[columnName] = new MappedColumn(columnName, null, null, null)\n  }\n\n  /**\n   * Remove a column\n   *\n   * @param columnName\n   *            column name\n   * @return removed mapped column or null\n   */\n  removeColumn(columnName: string): UserColumn {\n    const removedColumn = this._columns[columnName]\n    delete this._columns[columnName]\n    return removedColumn\n  }\n\n  /**\n   * Get the column names\n   * @return column names\n   */\n  getColumnNames(): string[] {\n    return keys(this._columns)\n  }\n\n  /**\n   * Get the columns as an entry set\n   * @return columns\n   */\n  getColumns(): any {\n    return this._columns\n  }\n\n  /**\n   * Get the mapped column values\n   * @return columns\n   */\n  getMappedColumns(): MappedColumn[] {\n    return values(this._columns)\n  }\n\n  /**\n   * Get the mapped column for the column name\n   * @param columnName column name\n   * @return mapped column\n   */\n  getColumn(columnName: string): MappedColumn {\n    return this._columns[columnName]\n  }\n\n  /**\n   * Add a dropped column\n   * @param columnName column name\n   */\n  addDroppedColumn(columnName: string) {\n    this._droppedColumns.add(columnName)\n  }\n\n  /**\n   * Remove a dropped column\n   * @param columnName column name\n   * @return true if removed\n   */\n  removeDroppedColumn(columnName: string) {\n    return this._droppedColumns.delete(columnName)\n  }\n\n  /**\n   * Get a set of dropped columns\n   * @return dropped columns\n   */\n  get droppedColumns(): Set<string> {\n    return this._droppedColumns\n  }\n\n  /**\n   * Check if the column name is a dropped column\n   * @param columnName column name\n   * @return true if a dropped column\n   */\n  isDroppedColumn(columnName: string) {\n    return this._droppedColumns.has(columnName)\n  }\n\n  /**\n   * Check if there is a custom where clause\n   * @return true if where clause\n   */\n  hasWhere(): boolean {\n    return !isNil(this._where)\n  }\n\n  /**\n   * Get the where clause\n   * @return where clause\n   */\n  get where(): string {\n    return this._where\n  }\n\n  /**\n   * Set the where clause\n   * @param where where clause\n   */\n  set where(where: string) {\n    this._where = where\n  }\n}\n","import { GeoPackage } from '../geoPackage';\nimport { GeoPackageConnection } from '../db/geoPackageConnection';\nimport { Extension } from './extension';\nimport { ExtensionDao } from './extensionDao';\n/**\n * Base Extension\n */\n\n/**\n * Abstract base GeoPackage extension\n */\nexport abstract class BaseExtension {\n  /**\n   * Connection to the GeoPackage\n   */\n  protected readonly connection: GeoPackageConnection;\n  /**\n   * ExtensionDao\n   */\n  readonly extensionsDao: ExtensionDao;\n  /**\n   * Name of the extension\n   */\n  extensionName: string;\n  /**\n   * Definition for the extension\n   */\n  extensionDefinition: string;\n  /**\n   * extension table name\n   */\n  tableName: string;\n\n  /**\n   *\n   * @param geoPackage GeoPackage object\n   */\n  constructor(public readonly geoPackage: GeoPackage) {\n    this.connection = geoPackage.connection;\n    this.extensionsDao = geoPackage.extensionDao;\n  }\n  /**\n   * Get the extension or create as needed\n   * @param  {String}   extensionName extension name\n   * @param  {String}   tableName     table name\n   * @param  {String}   columnName    column name\n   * @param  {String}   definition    extension definition\n   * @param  {String}   scopeType     extension scope type\n   * @return {Extension}\n   */\n  getOrCreate(\n    extensionName: string,\n    tableName: string | null,\n    columnName: string | null,\n    definition: string,\n    scopeType: string,\n  ): Extension {\n    const extension = this.getExtension(extensionName, tableName, columnName);\n    if (extension.length) {\n      return extension[0];\n    }\n    this.extensionsDao.createTable();\n    this.createExtension(extensionName, tableName, columnName, definition, scopeType);\n    return this.getExtension(extensionName, tableName, columnName)[0];\n  }\n  /**\n   * Get the extension for the name, table name and column name\n   * @param  {String}   extensionName extension name\n   * @param  {String}   tableName     table name\n   * @param  {String}   columnName    column name\n   * @return {Extension[]}\n   */\n  getExtension(extensionName: string, tableName: string | null, columnName: string | null): Extension[] {\n    if (!this.extensionsDao.isTableExists()) {\n      return [];\n    }\n    return this.extensionsDao.queryByExtensionAndTableNameAndColumnName(extensionName, tableName, columnName);\n  }\n  /**\n   * Determine if the GeoPackage has the extension\n   * @param  {String}   extensionName extension name\n   * @param  {String}   tableName     table name\n   * @param  {String}   columnName    column name\n   * @returns {Boolean} if the extension exists\n   */\n  hasExtension(extensionName: string, tableName: string, columnName: string): boolean {\n    return !!this.getExtension(extensionName, tableName, columnName).length;\n  }\n\n  hasExtensions(extensionName: string): boolean {\n    return this.extensionsDao.queryAllByExtension(extensionName).length !== 0;\n  }\n\n  /**\n   * Create the extension\n   * @param {string} extensionName\n   * @param {string} tableName\n   * @param {string} columnName\n   * @param {string} definition\n   * @param {string} scopeType\n   */\n  createExtension(\n    extensionName: string,\n    tableName: string,\n    columnName: string,\n    definition: string,\n    scopeType: string,\n  ): number {\n    const extension = new Extension();\n    extension.table_name = tableName;\n    extension.column_name = columnName;\n    extension.extension_name = extensionName;\n    extension.definition = definition;\n    extension.scope = scopeType;\n    return this.extensionsDao.create(extension);\n  }\n}\n","/**\n * @memberOf module:extension/contents\n * @class ContentsId\n */\n/**\n * Contents Id object, for maintaining a unique identifier for contents tables\n * @constructor\n */\nexport class ContentsId {\n  /**\n   * Id column, primary key\n   * @member {Number}\n   */\n  id: number;\n  /**\n   * Table name column\n   * @member {String}\n   */\n  table_name: string;\n}\n","import { Dao } from '../../dao/dao';\nimport { ContentsId } from './contentsId';\nimport { DBValue } from '../../db/dbAdapter';\n\n/**\n * Contents Id Data Access Object\n * @constructor\n * @extends Dao\n */\nexport class ContentsIdDao extends Dao<ContentsId> {\n  public static readonly TABLE_NAME: string = 'nga_contents_id';\n  public static readonly COLUMN_ID: string = 'id';\n  public static readonly COLUMN_TABLE_NAME: string = 'table_name';\n\n  readonly gpkgTableName: string = ContentsIdDao.TABLE_NAME;\n  readonly idColumns: string[] = ['id'];\n  /**\n   * Create a {module:extension/contents.ContentsId} object\n   * @return {module:extension/contents.ContentsId}\n   */\n  createObject(results?: Record<string, DBValue>): ContentsId {\n    const c = new ContentsId();\n    if (results) {\n      c.id = results.id as number;\n      c.table_name = results.table_name as string;\n    }\n    return c;\n  }\n  /**\n   * Create the necessary tables for this dao\n   * @return {Promise}\n   */\n  createTable(): boolean {\n    return this.geoPackage.getTableCreator().createContentsId();\n  }\n  /**\n   * Get all the table names\n   * @return {string[]}\n   */\n  getTableNames(): string[] {\n    const tableNames = [];\n    const tableNameColumns = this.queryForColumns('table_name');\n    for (let i = 0; i < tableNameColumns.length; i++) {\n      tableNames.push(tableNameColumns[i].table_name as string);\n    }\n    return tableNames;\n  }\n  /**\n   * Query by table name\n   * @param  {string} tableName name of the table\n   * @return {module:extension/contents.ContentsId}\n   */\n  queryForTableName(tableName: string): ContentsId {\n    const contentsIds = this.queryForAll(\n      this.buildWhereWithFieldAndValue(ContentsIdDao.COLUMN_TABLE_NAME, tableName),\n      this.buildWhereArgs(tableName),\n    );\n    if (contentsIds.length > 0) {\n      return (contentsIds[0] as unknown) as ContentsId;\n    } else {\n      return null;\n    }\n  }\n  /**\n   * Delete by tableName\n   * @param  {string} tableName the table name to delete by\n   * @return {number} number of deleted rows\n   */\n  deleteByTableName(tableName: string): number {\n    return this.deleteWhere(\n      this.buildWhereWithFieldAndValue(ContentsIdDao.COLUMN_TABLE_NAME, tableName),\n      this.buildWhereArgs(tableName),\n    );\n  }\n}\n","/**\n * @module extension/contents\n */\n\nimport { BaseExtension } from '../baseExtension';\nimport { GeoPackage } from '../../geoPackage';\nimport { Extension } from '../extension';\nimport { ContentsIdDao } from './contentsIdDao';\nimport { ContentsDao } from '../../core/contents/contentsDao';\nimport { Contents } from '../../core/contents/contents';\nimport { ContentsId } from './contentsId';\n\n/**\n * Style extension\n */\nexport class ContentsIdExtension extends BaseExtension {\n  public static readonly EXTENSION_NAME: string = 'nga_contents_id';\n  public static readonly EXTENSION_AUTHOR: string = 'nga';\n  public static readonly EXTENSION_NAME_NO_AUTHOR: string = 'contents_id';\n  public static readonly EXTENSION_DEFINITION: string =\n    'http://ngageoint.github.io/GeoPackage/docs/extensions/contents-id.html';\n\n  contentsIdDao: ContentsIdDao;\n  constructor(geoPackage: GeoPackage) {\n    super(geoPackage);\n    this.contentsIdDao = geoPackage.contentsIdDao;\n  }\n  /**\n   * Get or create the contents id extension\n   * @return {Promise}\n   */\n  getOrCreateExtension(): Extension {\n    const extension = this.getOrCreate(\n      ContentsIdExtension.EXTENSION_NAME,\n      null,\n      null,\n      ContentsIdExtension.EXTENSION_DEFINITION,\n      Extension.READ_WRITE,\n    );\n    this.contentsIdDao.createTable();\n    return extension;\n  }\n  /**\n   * Get the ContentsIdDao\n   * @returns {module:extension/contents.ContentsIdDao}\n   */\n  get dao(): ContentsIdDao {\n    return this.contentsIdDao;\n  }\n  has(): boolean {\n    return this.hasExtension(ContentsIdExtension.EXTENSION_NAME, null, null) && this.contentsIdDao.isTableExists();\n  }\n  /**\n   * Get the ContentsId object\n   * @param contents {module:core/contents.Contents}\n   * @returns {module:extension/contents.ContentsId}\n   */\n  get(contents: Contents): ContentsId {\n    let contentsId = null;\n    if (contents && contents.table_name) {\n      contentsId = this.getByTableName(contents.table_name);\n    }\n    return contentsId;\n  }\n  /**\n   * Get the ContentsId object\n   * @param tableName\n   * @returns {module:extension/contents.ContentsId}\n   */\n  getByTableName(tableName: string): ContentsId {\n    let contentsId = null;\n    if (this.contentsIdDao.isTableExists()) {\n      contentsId = this.contentsIdDao.queryForTableName(tableName);\n    }\n    return contentsId;\n  }\n  /**\n   * Get the ContentsId id\n   * @param contents {module:core/contents.Contents}\n   * @returns {Number}\n   */\n  getId(contents: Contents): number {\n    let contentsId = null;\n    if (contents && contents.table_name) {\n      contentsId = this.getIdByTableName(contents.table_name);\n    }\n    return contentsId;\n  }\n  /**\n   * Get the ContentsId id\n   * @param tableName\n   * @returns {Number}\n   */\n  getIdByTableName(tableName: string): number {\n    let id = null;\n    if (this.contentsIdDao.isTableExists()) {\n      const contentsId = this.contentsIdDao.queryForTableName(tableName);\n      if (contentsId) {\n        id = contentsId.id;\n      }\n    }\n    return id;\n  }\n  /**\n   * Creates contentsId for contents\n   * @param contents {module:core/contents.Contents}\n   * @returns {module:extension/contents.ContentsId}\n   */\n  create(contents: Contents): ContentsId {\n    let contentsId = null;\n    if (contents && contents.table_name) {\n      contentsId = this.createWithTableName(contents.table_name);\n    }\n    return contentsId;\n  }\n  /**\n   * Creates contentsId for contents\n   * @param tableName\n   * @returns {module:extension/contents.ContentsId}\n   */\n  createWithTableName(tableName: string): ContentsId {\n    const contentsId = this.contentsIdDao.createObject();\n    contentsId.table_name = tableName;\n    contentsId.id = this.contentsIdDao.create(contentsId);\n    return contentsId;\n  }\n  /**\n   * Creates contentsId for contents\n   * @param contents {module:core/contents.Contents}\n   * @returns {module:extension/contents.ContentsId}\n   */\n  createId(contents: Contents): ContentsId {\n    let contentsId = null;\n    if (contents && contents.table_name) {\n      contentsId = this.createIdWithTableName(contents.table_name);\n    }\n    return contentsId;\n  }\n  /**\n   * Creates contentsId for contents\n   * @param tableName {string}\n   * @returns {module:extension/contents.ContentsId}\n   */\n  createIdWithTableName(tableName: string): ContentsId {\n    return this.createWithTableName(tableName);\n  }\n  /**\n   * Gets or creates contentsId for contents\n   * @param contents {module:core/contents.Contents}\n   * @returns {module:extension/contents.ContentsId}\n   */\n  getOrCreateId(contents: Contents): ContentsId {\n    let contentsId = null;\n    if (contents && contents.table_name) {\n      contentsId = this.getOrCreateIdByTableName(contents.table_name);\n    }\n    return contentsId;\n  }\n  /**\n   * Gets or creates contentsId for table name\n   * @param tableName {string}\n   * @returns {module:extension/contents.ContentsId}\n   */\n  getOrCreateIdByTableName(tableName: string): ContentsId {\n    let contentId = this.getByTableName(tableName);\n    if (contentId == null) {\n      contentId = this.createWithTableName(tableName);\n    }\n    return contentId;\n  }\n  /**\n   * Deletes contentsId for contents\n   * @param contents {module:core/contents.Contents}\n   */\n  deleteId(contents: Contents): number {\n    let deleted = 0;\n    if (contents && contents.table_name) {\n      deleted = this.deleteIdByTableName(contents.table_name);\n    }\n    return deleted;\n  }\n  /**\n   * Deletes contentId for table name\n   * @param tableName {string}\n   */\n  deleteIdByTableName(tableName: string): number {\n    return this.contentsIdDao.deleteByTableName(tableName);\n  }\n  /**\n   * Number of contentsIds\n   * @returns {number}\n   */\n  count(): number {\n    let count = 0;\n    if (this.has()) {\n      count = this.contentsIdDao.count();\n    }\n    return count;\n  }\n  /**\n   * Create contentsIds for contents of type passed in\n   * @param type defaults to \"\"\n   * @returns {number}\n   */\n  createIds(type = ''): number {\n    const missing = this.getMissing(type);\n    for (let i = 0; i < missing.length; i++) {\n      this.getOrCreateIdByTableName(missing[i].table_name);\n    }\n    return missing.length;\n  }\n  /**\n   * Deletes ids by type\n   * @param type\n   * @returns {number}\n   */\n  deleteIds(type = ''): number {\n    let deleted = 0;\n    if (this.has()) {\n      if (type.length === 0) {\n        deleted = this.contentsIdDao.deleteAll();\n      } else {\n        const ids = this.getIdsByType(type);\n        for (let i = 0; i < ids.length; i++) {\n          deleted += this.contentsIdDao.deleteById(ids[i].id);\n        }\n      }\n    }\n    return deleted;\n  }\n  getIdsByType(type = ''): ContentsId[] {\n    let contentIds = [];\n    if (this.has()) {\n      let query = 'SELECT ';\n      query += ContentsIdDao.COLUMN_ID;\n      query += ', ';\n      query += ContentsIdDao.COLUMN_TABLE_NAME;\n      query += ' FROM ' + ContentsIdDao.TABLE_NAME;\n      query += ' WHERE ';\n      query += ContentsIdDao.COLUMN_TABLE_NAME;\n      query += ' IN (SELECT ';\n      query += ContentsDao.COLUMN_TABLE_NAME;\n      query += ' FROM ';\n      query += ContentsDao.TABLE_NAME;\n      let where = '';\n      const params = [];\n      if (type != null && type.length > 0) {\n        where += ContentsDao.COLUMN_DATA_TYPE;\n        where += ' = ?';\n        params.push(type);\n      }\n      if (where.length > 0) {\n        query += ' WHERE ' + where;\n      }\n      query += ')';\n      contentIds = this.connection.all(query, params);\n    }\n    return contentIds;\n  }\n\n  /**\n   * @typedef ContentsTableName\n   * @type {Object}\n   * @property {string} table_name the table name\n   *\n   * Get contents without contents ids\n   * @param type\n   * @returns {ContentsTableName[]} contentsTableNames\n   */\n  getMissing(type = ''): { table_name: string }[] {\n    let query = 'SELECT ' + ContentsDao.COLUMN_TABLE_NAME + ' FROM ' + ContentsDao.TABLE_NAME;\n    let where = '';\n    const params = [];\n    if (type != null && type.length > 0) {\n      where += ContentsDao.COLUMN_DATA_TYPE;\n      where += ' = ?';\n      params.push(type);\n    }\n    if (this.has()) {\n      if (where.length > 0) {\n        where += ' AND ';\n      }\n      where += ContentsDao.COLUMN_TABLE_NAME;\n      where += ' NOT IN (SELECT ';\n      where += ContentsIdDao.COLUMN_TABLE_NAME;\n      where += ' FROM ';\n      where += ContentsIdDao.TABLE_NAME;\n      where += ')';\n    }\n    if (where.length > 0) {\n      query += ' WHERE ' + where;\n    }\n    return this.connection.all(query, params);\n  }\n  /**\n   * Remove contents id extension\n   */\n  removeExtension(): void {\n    if (this.contentsIdDao.isTableExists()) {\n      this.geoPackage.deleteTable(ContentsIdDao.TABLE_NAME);\n    }\n    if (this.extensionsDao.isTableExists()) {\n      this.extensionsDao.deleteByExtension(ContentsIdExtension.EXTENSION_NAME);\n    }\n  }\n}\n","import { GeoPackage } from '../../geoPackage';\nimport { Extension } from '../extension';\nimport { BaseExtension } from '../baseExtension';\n\n/**\n * OGC Well known text representation of Coordinate Reference Systems extensionName\n */\nexport class CrsWktExtension extends BaseExtension {\n  public static readonly EXTENSION_NAME: string = 'gpkg_crs_wkt';\n  public static readonly EXTENSION_CRS_WKT_AUTHOR: string = 'gpkg';\n  public static readonly EXTENSION_CRS_WKT_NAME_NO_AUTHOR: string = 'crs_wkt';\n  public static readonly EXTENSION_CRS_WKT_DEFINITION: string = 'http://www.geopackage.org/spec/#extension_crs_wkt';\n  /**\n   * OGC Well known text representation of Coordinate Reference Systems extensionName\n   */\n  constructor(geoPackage: GeoPackage) {\n    super(geoPackage);\n    this.extensionName = CrsWktExtension.EXTENSION_NAME;\n    this.extensionDefinition = CrsWktExtension.EXTENSION_CRS_WKT_DEFINITION;\n  }\n  /**\n   * Get or create the extension\n   */\n  getOrCreateExtension(): Extension {\n    return this.getOrCreate(this.extensionName, null, null, this.extensionDefinition, Extension.READ_WRITE);\n  }\n\n  has() {\n    return this.hasExtension(CrsWktExtension.EXTENSION_NAME, null, null);\n  }\n\n  removeExtension() {\n    try {\n      if (this.extensionsDao.isTableExists()) {\n        this.extensionsDao.deleteByExtension(CrsWktExtension.EXTENSION_NAME);\n      }\n    } catch (e) {\n      throw new Error(\"Failed to delete CrsWkt extension. GeoPackage: \" + this.geoPackage.name);\n    }\n  }\n}\n","/**\n * Indicates that a particular extension applies to a GeoPackage, a table in a\n * GeoPackage or a column of a table in a GeoPackage. An application that access\n * a GeoPackage can query the gpkg_extensions table instead of the contents of\n * all the user data tables to determine if it has the required capabilities to\n * read or write to tables with extensions, and to fail fast and return an\n * error message if it does not.\n */\nexport class Extension {\n  public static readonly EXTENSION_NAME_DIVIDER: string = '_';\n\n  public static readonly READ_WRITE: string = 'read-write';\n  public static readonly WRITE_ONLY: string = 'write-only';\n  /**\n   * Name of the table that requires the extension. When NULL, the extension\n   * is required for the entire GeoPackage. SHALL NOT be NULL when the\n   * column_name is not NULL.\n   */\n  table_name: string;\n  /**\n   * Name of the column that requires the extension. When NULL, the extension\n   * is required for the entire table.\n   */\n  column_name: string;\n  /**\n   * The case sensitive name of the extension that is required, in the form\n   * <author>_<extension_name>.\n   */\n  extension_name: string;\n  /**\n   * Definition of the extension in the form specfied by the template in\n   * GeoPackage Extension Template (Normative) or reference thereto.\n   */\n  definition: string;\n  /**\n   * Indicates scope of extension effects on readers / writers: read-write or\n   * write-only in lowercase.\n   */\n  scope: string;\n\n  setExtensionName(author: string, extensionName: string): void {\n    this.extension_name = Extension.buildExtensionName(author, extensionName);\n  }\n  get author(): string {\n    return Extension.getAuthorWithExtensionName(this.extension_name);\n  }\n  get extensionNameNoAuthor(): string {\n    return Extension.getExtensionNameNoAuthor(this.extension_name);\n  }\n  static buildExtensionName(author: string, extensionName: string): string {\n    return author + Extension.EXTENSION_NAME_DIVIDER + extensionName;\n  }\n  static getAuthorWithExtensionName(extensionName: string): string {\n    return extensionName.split(Extension.EXTENSION_NAME_DIVIDER)[0];\n  }\n  static getExtensionNameNoAuthor(extensionName: string): string {\n    return extensionName.slice(extensionName.indexOf(Extension.EXTENSION_NAME_DIVIDER) + 1);\n  }\n  /**\n   * Get the table name\n   * @return table name\n   */\n  getTableName(): string {\n    return this.table_name;\n  }\n\n  /**\n   * Set the table name\n   * @param tableName table name\n   */\n  setTableName(tableName: string) {\n    this.table_name = tableName;\n    if (tableName === null || tableName === undefined) {\n      this.column_name = null;\n    }\n  }\n}\n","import { Extension } from './extension';\nimport { Dao } from '../dao/dao';\nimport { ColumnValues } from '../dao/columnValues';\nimport { TableCreator } from '../db/tableCreator';\nimport { DBValue } from '../db/dbAdapter';\n\n/**\n * Extension Data Access Object\n * @class\n * @extends Dao\n */\nexport class ExtensionDao extends Dao<Extension> {\n  public static readonly TABLE_NAME: string = 'gpkg_extensions';\n  public static readonly COLUMN_TABLE_NAME: string = 'table_name';\n  public static readonly COLUMN_COLUMN_NAME: string = 'column_name';\n  public static readonly COLUMN_EXTENSION_NAME: string = 'extension_name';\n  public static readonly COLUMN_DEFINITION: string = 'definition';\n  public static readonly COLUMN_SCOPE: string = 'scope';\n\n  readonly gpkgTableName: string = ExtensionDao.TABLE_NAME;\n  readonly idColumns: string[] = [\n    ExtensionDao.COLUMN_TABLE_NAME,\n    ExtensionDao.COLUMN_COLUMN_NAME,\n    ExtensionDao.COLUMN_EXTENSION_NAME,\n  ];\n\n  /**\n   * Creates an Extension object from the raw database row\n   * @param {object} row raw database row\n   * @returns {Extension}\n   */\n  createObject(row: Record<string, DBValue>): Extension {\n    const e = new Extension();\n    e.table_name = row['table_name'] as string;\n    e.column_name = row['column_name'] as string;\n    e.extension_name = row['extension_name'] as string;\n    e.definition = row['definition'] as string;\n    e.scope = row['scope'] as string;\n    return e;\n  }\n  /**\n   * Query by extension name and return the first result\n   * @param {String} extensionName extension name\n   * @returns {Extension}\n   */\n  queryByExtension(extensionName: string): Extension {\n    const results = this.queryForAllEq(ExtensionDao.COLUMN_EXTENSION_NAME, extensionName);\n    if (!results[0]) return;\n    const e = this.createObject(results[0]);\n    return e;\n  }\n  /**\n   * Query by extension name and return all results\n   * @param {String} extensionName extension name\n   * @returns {Extension[]}\n   */\n  queryAllByExtension(extensionName: string): Extension[] {\n    const extensions = [];\n    for (const row of this.queryForAllEq(ExtensionDao.COLUMN_EXTENSION_NAME, extensionName)) {\n      const e = this.createObject(row);\n      extensions.push(e);\n    }\n    return extensions;\n  }\n  /**\n   * Query by extension name and table name and return all results\n   * @param {String} extensionName extension name\n   * @param {String} tableName table name\n   * @returns {Extension[]}\n   */\n  queryByExtensionAndTableName(extensionName: string, tableName: string): Extension[] {\n    const values = new ColumnValues();\n    values.addColumn(ExtensionDao.COLUMN_EXTENSION_NAME, extensionName);\n    values.addColumn(ExtensionDao.COLUMN_TABLE_NAME, tableName);\n    const extensions = [];\n    for (const row of this.queryForFieldValues(values)) {\n      extensions.push(this.createObject(row));\n    }\n    return extensions;\n  }\n  /**\n   * Query by extension name and table name and return all results\n   * @param {String} extensionName extension name\n   * @param {String} tableName table name\n   * @param {String} columnName column name\n   * @returns {Extension[]}\n   */\n  queryByExtensionAndTableNameAndColumnName(extensionName: string, tableName: string, columnName: string): Extension[] {\n    const values = new ColumnValues();\n    values.addColumn(ExtensionDao.COLUMN_EXTENSION_NAME, extensionName);\n    if (tableName !== null && tableName !== undefined) {\n      values.addColumn(ExtensionDao.COLUMN_TABLE_NAME, tableName);\n    }\n    if (columnName !== null && columnName !== undefined) {\n      values.addColumn(ExtensionDao.COLUMN_COLUMN_NAME, columnName);\n    }\n    const extensions = [];\n    for (const row of this.queryForFieldValues(values)) {\n      const e = this.createObject(row);\n      extensions.push(e);\n    }\n    return extensions;\n  }\n  /**\n   * Creates the extensions table\n   */\n  createTable(): boolean {\n    const tc = new TableCreator(this.geoPackage);\n    return tc.createExtensions();\n  }\n  /**\n   * Deletes all extension entries with this name\n   * @param {String} extensionName extension name to delete\n   * @returns {Number} Number of extensions deleted\n   */\n  deleteByExtension(extensionName: string): number {\n    const values = new ColumnValues();\n    values.addColumn(ExtensionDao.COLUMN_EXTENSION_NAME, extensionName);\n    return this.deleteWhere(this.buildWhere(values, '='), this.buildWhereArgs(values));\n  }\n  /**\n   * Deletes all extension entries with this name and table name\n   * @param {String} extensionName extension name to delete\n   * @param {String} tableName table name to delete\n   * @returns {Number} Number of extensions deleted\n   */\n  deleteByExtensionAndTableName(extensionName: string, tableName: string): number {\n    const values = new ColumnValues();\n    values.addColumn(ExtensionDao.COLUMN_EXTENSION_NAME, extensionName);\n    values.addColumn(ExtensionDao.COLUMN_TABLE_NAME, tableName);\n    return this.deleteWhere(this.buildWhere(values, 'and'), this.buildWhereArgs(values));\n  }\n  /**\n   * Deletes all extension entries with this name and table name\n   * @param {String} extensionName extension name to delete\n   * @param {String} tableName table name to delete\n   * @returns {Number} Number of extensions deleted\n   */\n  deleteByExtensionAndTableNameAndColumnName(extensionName: string, tableName: string, columnName: string): number {\n    const values = new ColumnValues();\n    values.addColumn(ExtensionDao.COLUMN_EXTENSION_NAME, extensionName);\n    values.addColumn(ExtensionDao.COLUMN_TABLE_NAME, tableName);\n    values.addColumn(ExtensionDao.COLUMN_COLUMN_NAME, columnName);\n    return this.deleteWhere(this.buildWhere(values, 'and'), this.buildWhereArgs(values));\n  }\n}\n","/**\n * GeoPackage extension management class for deleting extensions for a table or\n * in a GeoPackage\n */\nimport { NGAExtensions } from './ngaExtensions';\nimport { GeoPackage } from '../geoPackage';\nimport { RTreeIndex } from './rtree/rtreeIndex';\nimport { RelatedTablesExtension } from './relatedTables';\nimport { TableInfo } from '../db/table/tableInfo';\nimport { CoreSQLUtils } from '../db/coreSQLUtils';\nimport { UserCustomTableReader } from '../user/custom/userCustomTableReader';\nimport { AlterTable } from '../db/alterTable';\nimport { TableMapping } from '../db/tableMapping';\nimport { ExtendedRelationDao } from './relatedTables/extendedRelationDao';\nimport { SchemaExtension } from './schema';\nimport { DataColumnsDao } from '../dataColumns/dataColumnsDao';\nimport { TableCreator } from '../db/tableCreator';\nimport { ConstraintParser } from '../db/table/constraintParser';\nimport { MetadataExtension } from './metadata';\nimport { MetadataReferenceDao } from '../metadata/reference/metadataReferenceDao';\nimport { CrsWktExtension } from './crsWkt';\n\nexport class GeoPackageExtensions {\n\n  /**\n   * Delete all table extensions for the table within the GeoPackage\n   *\n   * @param geoPackage GeoPackage\n   * @param table table name\n   */\n  static deleteTableExtensions(geoPackage: GeoPackage, table: string) {\n    // Handle deleting any extensions with extra tables here\n    NGAExtensions.deleteTableExtensions(geoPackage, table);\n    GeoPackageExtensions.deleteRTreeSpatialIndex(geoPackage, table);\n    GeoPackageExtensions.deleteRelatedTables(geoPackage, table);\n    GeoPackageExtensions.deleteSchema(geoPackage, table);\n    GeoPackageExtensions.deleteMetadata(geoPackage, table);\n    GeoPackageExtensions.deleteExtensionForTable(geoPackage, table);\n  }\n\n  /**\n   * Delete all extensions\n   * @param geoPackage GeoPackage\n   */\n  static deleteExtensions(geoPackage: GeoPackage) {\n    // Handle deleting any extensions with extra tables here\n    NGAExtensions.deleteExtensions(geoPackage);\n    this.deleteRTreeSpatialIndexExtension(geoPackage);\n    this.deleteRelatedTablesExtension(geoPackage);\n    this.deleteSchemaExtension(geoPackage);\n    this.deleteMetadataExtension(geoPackage);\n    this.deleteCrsWktExtension(geoPackage);\n    this.delete(geoPackage);\n  }\n\n  /**\n   * Copy all table extensions for the table within the GeoPackage\n   *\n   * @param geoPackage GeoPackage\n   * @param table table name\n   * @param newTable new table name\n   */\n  static copyTableExtensions(geoPackage: GeoPackage, table: string, newTable: string) {\n    try {\n      GeoPackageExtensions.copyRTreeSpatialIndex(geoPackage, table, newTable);\n      GeoPackageExtensions.copyRelatedTables(geoPackage, table, newTable);\n      GeoPackageExtensions.copySchema(geoPackage, table, newTable);\n      GeoPackageExtensions.copyMetadata(geoPackage, table, newTable);\n      // Handle copying any extensions with extra tables here\n      NGAExtensions.copyTableExtensions(geoPackage, table, newTable);\n    } catch (e) {\n      console.warn( 'Failed to copy extensions for table: '\n        + newTable + ', copied from table: ' + table, e);\n    }\n\n  }\n\n  /**\n   * Delete the extensions for the table\n   * @param geoPackage\n   * @param table\n   */\n  static deleteExtensionForTable(geoPackage: GeoPackage, table: string) {\n    let extensionsDao = geoPackage.extensionDao;\n    try {\n      if (extensionsDao.isTableExists()) {\n        extensionsDao.deleteByExtension(table);\n      }\n    } catch (SQLe) {\n      throw new Error('Failed to delete Table extensions. GeoPackage: ' + geoPackage.name + ', Table: ' + table);\n    }\n  }\n\n  /**\n   * Delete the extensions\n   * @param geoPackage\n   */\n  static delete(geoPackage: GeoPackage) {\n    let extensionsDao = geoPackage.extensionDao;\n    try {\n      if (extensionsDao.isTableExists()) {\n        geoPackage.dropTable(extensionsDao.gpkgTableName);\n      }\n    } catch (SQLe) {\n      throw new Error('Failed to delete all extensions. GeoPackage: ' + geoPackage.name);\n    }\n\n  }\n\n  /**\n   * Delete the RTree Spatial extension for the table\n   * @param geoPackage GeoPackage\n   * @param table table name\n   */\n  static deleteRTreeSpatialIndex(geoPackage: GeoPackage, table: string) {\n    let rTreeIndexExtension = GeoPackageExtensions.getRTreeIndexExtension(geoPackage);\n    if (rTreeIndexExtension.has(table)) {\n      rTreeIndexExtension.deleteTable(table);\n    }\n\n  }\n\n  /**\n   * Delete the RTree Spatial extension\n   * @param geoPackage GeoPackage\n   */\n  static deleteRTreeSpatialIndexExtension(geoPackage: GeoPackage) {\n    let rTreeIndexExtension = GeoPackageExtensions.getRTreeIndexExtension(geoPackage);\n    if (rTreeIndexExtension.has()) {\n      rTreeIndexExtension.deleteAll();\n    }\n  }\n\n  /**\n   * Copy the RTree Spatial extension for the table\n   * @param geoPackage GeoPackage\n   * @param table table name\n   * @param newTable new table name\n   */\n  static copyRTreeSpatialIndex(geoPackage: GeoPackage, table: string, newTable: string) {\n    try {\n      let rTreeIndexExtension = GeoPackageExtensions.getRTreeIndexExtension(geoPackage);\n      if (rTreeIndexExtension.has(table)) {\n        let geometryColumnsDao = geoPackage.geometryColumnsDao;\n        let geometryColumns = geometryColumnsDao.queryForTableName(newTable);\n        if (geometryColumns !== null && geometryColumns !== undefined) {\n          let tableInfo = TableInfo.info(geoPackage.connection, newTable);\n          if (tableInfo !== null && tableInfo !== undefined) {\n            let pk = tableInfo.getPrimaryKey().getName();\n            rTreeIndexExtension.createWithParameters(newTable, geometryColumns.column_name, pk);\n          }\n        }\n      }\n    } catch (e) {\n      console.warn( 'Failed to create RTree for table: '\n        + newTable + ', copied from table: ' + table, e);\n    }\n  }\n\n  /**\n   * Get a RTree Index Extension used only for deletions\n   * @param geoPackage GeoPackage\n   * @return RTree index extension\n   */\n  static getRTreeIndexExtension(geoPackage: GeoPackage): RTreeIndex {\n    return new RTreeIndex(geoPackage, null);\n  }\n\n  /**\n   * Delete the Related Tables extensions for the table\n   * @param geoPackage GeoPackage\n   * @param table table name\n   */\n  static deleteRelatedTables(geoPackage: GeoPackage,\n    table: string) {\n    let relatedTablesExtension = GeoPackageExtensions.getRelatedTableExtension(geoPackage);\n    if (relatedTablesExtension.has()) {\n      relatedTablesExtension.removeRelationships(table);\n    }\n  }\n\n  /**\n   * Delete the Related Tables extension\n   * @param geoPackage GeoPackage\n   */\n  static deleteRelatedTablesExtension(geoPackage: GeoPackage) {\n    let relatedTablesExtension = GeoPackageExtensions.getRelatedTableExtension(geoPackage);\n    if (relatedTablesExtension.has()) {\n      relatedTablesExtension.removeExtension();\n    }\n  }\n\n  /**\n   * Copy the Related Tables extensions for the table\n   * @param geoPackage GeoPackage\n   * @param table table name\n   * @param newTable new table name\n   */\n  static copyRelatedTables(geoPackage: GeoPackage, table: string, newTable: string) {\n    try {\n      let relatedTablesExtension = GeoPackageExtensions.getRelatedTableExtension(geoPackage);\n      if (relatedTablesExtension.has()) {\n        let extendedRelationsDao = relatedTablesExtension.extendedRelationDao;\n        let extensionsDao = geoPackage.extensionDao;\n        let extendedRelations = extendedRelationsDao.getBaseTableRelations(table);\n        extendedRelations.forEach(extendedRelation => {\n          let mappingTableName = extendedRelation.mapping_table_name;\n          let extensions = extensionsDao.queryByExtensionAndTableName(RelatedTablesExtension.EXTENSION_NAME, mappingTableName)\n            .concat(extensionsDao.queryByExtensionAndTableName(RelatedTablesExtension.EXTENSION_RELATED_TABLES_NAME_NO_AUTHOR, mappingTableName));\n          if (extensions.length > 0) {\n            let newMappingTableName = CoreSQLUtils.createName(geoPackage.connection, mappingTableName, table, newTable);\n            let userTable = new UserCustomTableReader(mappingTableName).readTable(geoPackage.connection);\n            AlterTable.copyTable(geoPackage.connection, userTable, newMappingTableName);\n            let extension = extensions[0];\n            extension.setTableName(newMappingTableName);\n            extensionsDao.create(extension);\n            let extendedRelationTableMapping = TableMapping.fromTableInfo(TableInfo.info(geoPackage.connection, ExtendedRelationDao.TABLE_NAME));\n            extendedRelationTableMapping.removeColumn(ExtendedRelationDao.ID);\n            let baseTableNameColumn = extendedRelationTableMapping.getColumn(ExtendedRelationDao.BASE_TABLE_NAME);\n            baseTableNameColumn.constantValue = newTable;\n            baseTableNameColumn.whereValue = table;\n            let mappingTableNameColumn = extendedRelationTableMapping.getColumn(ExtendedRelationDao.MAPPING_TABLE_NAME);\n            mappingTableNameColumn.constantValue = newMappingTableName;\n            mappingTableNameColumn.whereValue = mappingTableName;\n            CoreSQLUtils.transferTableContentForTableMapping(geoPackage.connection, extendedRelationTableMapping);\n          }\n        });\n      }\n    } catch (e) {\n      console.warn('Failed to create Related Tables for table: ' + newTable + ', copied from table: ' + table, e);\n    }\n\n  }\n\n  /**\n   * Get a Related Table Extension used only for deletions\n   * @param geoPackage GeoPackage\n   * @return Related Table Extension\n   */\n  static getRelatedTableExtension(geoPackage: GeoPackage): RelatedTablesExtension {\n    return new RelatedTablesExtension(geoPackage);\n  }\n\n  /**\n   * Delete the Schema extensions for the table\n   * @param geoPackage GeoPackage\n   * @param table table name\n   */\n  static deleteSchema(geoPackage: GeoPackage, table: string) {\n    let dataColumnsDao = geoPackage.dataColumnsDao;\n    try {\n      if (dataColumnsDao.isTableExists()) {\n        dataColumnsDao.deleteByTableName(table);\n      }\n    } catch (e) {\n      throw new Error('Failed to delete Schema extension. GeoPackage: ' + geoPackage.name + ', Table: ' + table);\n    }\n\n  }\n\n  /**\n   * Delete the Schema extension\n   * @param geoPackage GeoPackage\n   */\n  static deleteSchemaExtension(geoPackage: GeoPackage) {\n    let schemaExtension = new SchemaExtension(geoPackage);\n    if (schemaExtension.has()) {\n      schemaExtension.removeExtension();\n    }\n  }\n\n  /**\n   * Copy the Schema extensions for the table\n   * @param geoPackage GeoPackage\n   * @param table table name\n   * @param newTable new table name\n   */\n  static copySchema(geoPackage: GeoPackage, table: string, newTable: string) {\n    try {\n      if (geoPackage.isTable(DataColumnsDao.TABLE_NAME)) {\n        let dataColumnsTable = new UserCustomTableReader(DataColumnsDao.TABLE_NAME).readUserCustomTable(geoPackage);\n        let nameColumn = dataColumnsTable.getColumnWithColumnName(DataColumnsDao.COLUMN_NAME);\n        if (nameColumn.hasConstraints()) {\n          nameColumn.clearConstraints();\n          if (dataColumnsTable.hasConstraints()) {\n            dataColumnsTable.clearConstraints();\n            let constraintSql = TableCreator.tableCreationScripts.data_columns[0];\n            let constraints = ConstraintParser.getConstraints(constraintSql);\n            dataColumnsTable.addConstraints(constraints.getTableConstraints());\n          }\n          AlterTable.alterColumnForTable(geoPackage.connection, dataColumnsTable, nameColumn);\n        }\n        CoreSQLUtils.transferTableContent(geoPackage.connection, DataColumnsDao.TABLE_NAME, DataColumnsDao.COLUMN_TABLE_NAME, newTable, table);\n      }\n    } catch (e) {\n      console.warn( 'Failed to create Schema for table: '\n        + newTable + ', copied from table: ' + table, e);\n    }\n\n  }\n\n  /**\n   * Delete the Metadata extensions for the table\n   * @param geoPackage GeoPackage\n   * @param table table name\n   */\n  static deleteMetadata(geoPackage: GeoPackage, table: string) {\n    let metadataReferenceDao = geoPackage.metadataReferenceDao;\n    try {\n      if (metadataReferenceDao.isTableExists()) {\n        metadataReferenceDao.deleteByTableName(table);\n      }\n    } catch (SQLe) {\n      throw new Error('Failed to delete Metadata extension. GeoPackage: ' + geoPackage.name + ', Table: ' + table);\n    }\n\n  }\n\n  /**\n   * Delete the Metadata extension\n   * @param geoPackage GeoPackage\n   */\n  static deleteMetadataExtension(geoPackage: GeoPackage) {\n    let metadataExtension = new MetadataExtension(geoPackage);\n    if (metadataExtension.has()) {\n      metadataExtension.removeExtension();\n    }\n  }\n\n  /**\n   * Copy the Metadata extensions for the table\n   * @param geoPackage  GeoPackage\n   * @param table table name\n   * @param newTable  new table name\n   */\n  static copyMetadata(geoPackage: GeoPackage, table: string, newTable: string) {\n    try {\n      if (geoPackage.isTable(MetadataReferenceDao.TABLE_NAME)) {\n        CoreSQLUtils.transferTableContent(geoPackage.connection, MetadataReferenceDao.TABLE_NAME, MetadataReferenceDao.COLUMN_TABLE_NAME, newTable, table);\n      }\n    } catch (e) {\n      console.warn( 'Failed to create Metadata for table: ' + newTable + ', copied from table: ' + table, e);\n    }\n  }\n\n  /**\n   * Delete the WKT for Coordinate Reference Systems extension\n   * @param geoPackage GeoPackage\n   */\n  static deleteCrsWktExtension(geoPackage: GeoPackage) {\n    let crsWktExtension = new CrsWktExtension(geoPackage);\n    if (crsWktExtension.has()) {\n      crsWktExtension.removeExtension();\n    }\n  }\n}\n","/**\n * Feature Table Index\n * @module extension/index\n */\nimport proj4 from 'proj4';\nimport { RTreeIndex } from '../rtree/rtreeIndex';\nimport { BaseExtension } from '../baseExtension';\nimport { GeoPackage } from '../../geoPackage';\nimport { Extension } from '../extension';\nimport { TableIndex } from './tableIndex';\nimport { FeatureDao } from '../../features/user/featureDao';\nimport { GeometryIndexDao } from './geometryIndexDao';\nimport { RTreeIndexDao } from '../rtree/rtreeIndexDao';\nimport { EnvelopeBuilder } from '../../geom/envelopeBuilder';\nimport { TableIndexDao } from './tableIndexDao';\nimport { Envelope } from '../../geom/envelope';\nimport { FeatureRow } from '../../features/user/featureRow';\nimport { GeometryData } from '../../geom/geometryData';\nimport { BoundingBox } from '../../boundingBox';\n\n/**\n * This class will either use the RTree index if it exists, or the\n * Feature Table Index NGA Extension implementation. This extension is used to\n * index Geometries within a feature table by their minimum bounding box for\n * bounding box queries.\n * @class\n * @extends BaseExtension\n */\nexport class FeatureTableIndex extends BaseExtension {\n  public static readonly EXTENSION_GEOMETRY_INDEX_AUTHOR: string = 'nga';\n  public static readonly EXTENSION_GEOMETRY_INDEX_NAME_NO_AUTHOR: string = 'geometry_index';\n  public static readonly EXTENSION_NAME: string = Extension.buildExtensionName(\n    FeatureTableIndex.EXTENSION_GEOMETRY_INDEX_AUTHOR,\n    FeatureTableIndex.EXTENSION_GEOMETRY_INDEX_NAME_NO_AUTHOR,\n  );\n  public static readonly EXTENSION_GEOMETRY_INDEX_DEFINITION: string =\n    'http://ngageoint.github.io/GeoPackage/docs/extensions/geometry-index.html';\n  progress: Function;\n  tableName: string;\n  columnName: string;\n  tableIndexDao: TableIndexDao;\n  geometryIndexDao: GeometryIndexDao;\n  rtreeIndexDao: RTreeIndexDao;\n  rtreeIndex: RTreeIndex;\n  rtreeIndexed: boolean;\n  /**\n   *\n   * @param geoPackage GeoPackage object\n   * @param featureDao FeatureDao to index\n   */\n  constructor(geoPackage: GeoPackage, public featureDao: FeatureDao<FeatureRow>) {\n    super(geoPackage);\n    this.extensionName = FeatureTableIndex.EXTENSION_NAME;\n    this.extensionDefinition = FeatureTableIndex.EXTENSION_GEOMETRY_INDEX_DEFINITION;\n    this.tableName = featureDao.table_name;\n    this.columnName = featureDao.getGeometryColumnName();\n    this.tableIndexDao = geoPackage.tableIndexDao;\n    this.geometryIndexDao = geoPackage.getGeometryIndexDao(featureDao);\n    this.rtreeIndexDao = new RTreeIndexDao(geoPackage, featureDao);\n    this.rtreeIndexDao.gpkgTableName = 'rtree_' + this.tableName + '_' + this.columnName;\n    this.rtreeIndex = new RTreeIndex(geoPackage, featureDao);\n    /**\n     * true if the table is indexed with an RTree\n     * @type {Boolean}\n     */\n    this.rtreeIndexed = this.hasExtension('gpkg_rtree_index', this.tableName, this.columnName);\n  }\n  /**\n   * Index the table if not already indexed\n   * @param  {Function} progress function which is called with progress while indexing\n   * @return {Promise<Boolean>} promise resolved when the indexing is complete\n   */\n  async index(progress?: Function): Promise<boolean> {\n    return this.indexWithForce(false, progress);\n  }\n  /**\n   * Index the table if not already indexed or force is true\n   * @param  {Boolean} force force index even if the table is already indexed\n   * @param  {Function} progress function which is called with progress while indexing\n   * @return {Promise<Boolean>} promise resolved when the indexing is complete\n   */\n  async indexWithForce(force?: false, progress?: Function): Promise<boolean> {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    progress = progress || function(): void {};\n    this.progress = function(message: any): void {\n      setTimeout(progress, 0, message);\n    };\n    let indexed = this.isIndexed();\n    if (!indexed || force) {\n      const rtreeIndex = new RTreeIndex(this.geoPackage, this.featureDao);\n      rtreeIndex.create();\n      this.rtreeIndexed = rtreeIndex.hasExtension(\n        rtreeIndex.extensionName,\n        rtreeIndex.tableName,\n        rtreeIndex.columnName,\n      );\n      indexed = this.isIndexed();\n    }\n    if (!indexed) {\n      this.getOrCreateExtension();\n      const tableIndex = this.getOrCreateTableIndex();\n      this.createOrClearGeometryIndicies();\n      return this.indexTable(tableIndex);\n    } else {\n      return indexed;\n    }\n  }\n\n  /**\n   * Index the table using the NGA index and Rtree if not already indexed or force is true\n   * @param  {Boolean} force force index even if the table is already indexed\n   * @param  {Function} progress function which is called with progress while indexing\n   * @return {Promise<Boolean>} promise resolved when the indexing is complete\n   */\n  async ngaIndexWithForce(force?: false, progress?: Function): Promise<boolean> {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    progress = progress || function(): void {};\n    this.progress = function(message: any): void {\n      setTimeout(progress, 0, message);\n    };\n    const indexed = this.isIndexed(true);\n    if (!indexed || force) {\n      const rtreeIndex = new RTreeIndex(this.geoPackage, this.featureDao);\n      await rtreeIndex.create();\n    }\n    if (!indexed || force) {\n      this.getOrCreateExtension();\n      const tableIndex = await this.getOrCreateTableIndex();\n      await this.createOrClearGeometryIndicies();\n      return this.indexTable(tableIndex);\n    } else {\n      return indexed;\n    }\n  }\n  /**\n   * Check if the table is indexed either with an RTree or the NGA Feature Table Index\n   * @return {Boolean}\n   */\n  isIndexed(checkOnlyNGA = false): boolean {\n    if (!checkOnlyNGA) {\n      const rtreeIndex = new RTreeIndex(this.geoPackage, this.featureDao);\n      this.rtreeIndexed = rtreeIndex.hasExtension(\n        rtreeIndex.extensionName,\n        rtreeIndex.tableName,\n        rtreeIndex.columnName,\n      );\n      if (this.rtreeIndexed) {\n        return true;\n      }\n    }\n    try {\n      const result = this.getFeatureTableIndexExtension();\n      if (result) {\n        const contentsDao = this.geoPackage.contentsDao;\n        const contents = contentsDao.queryForId(this.tableName);\n        if (!contents) return false;\n        const lastChange = new Date(contents.last_change);\n        const tableIndex: TableIndex = this.tableIndexDao.queryForId(this.tableName);\n        if (!tableIndex || !tableIndex.last_indexed) {\n          return false;\n        }\n        const lastIndexed = new Date(tableIndex.last_indexed);\n        return lastIndexed >= lastChange;\n      } else {\n        return false;\n      }\n    } catch (e) {\n      return false;\n    }\n  }\n\n  /**\n   * Returns the feature table index extension for this table and column name if exists\n   * @return {module:extension~Extension}\n   */\n  getFeatureTableIndexExtension(): Extension {\n    return this.getExtension(this.extensionName, this.tableName, this.columnName)[0];\n  }\n  /**\n   * Get or create the extension for this table name and column name\n   * @return {module:extension~Extension}\n   */\n  getOrCreateExtension(): Extension {\n    return this.getOrCreate(\n      this.extensionName,\n      this.tableName,\n      this.columnName,\n      this.extensionDefinition,\n      Extension.READ_WRITE,\n    );\n  }\n  /**\n   * Get or create if needed the table index\n   * @return {TableIndex}\n   */\n  getOrCreateTableIndex(): TableIndex {\n    const tableIndex = this.tableIndex;\n    if (tableIndex) return tableIndex;\n    this.tableIndexDao.createTable();\n    this.createTableIndex();\n    return this.tableIndex;\n  }\n  /**\n   * Create the table index\n   * @return {module:extension/index~TableIndex}\n   */\n  createTableIndex(): number {\n    const ti = new TableIndex();\n    ti.table_name = this.tableName;\n    ti.last_indexed = new Date();\n    return this.tableIndexDao.create(ti);\n  }\n  /**\n   * Get the table index\n   * @return {module:extension/index~TableIndex}\n   */\n  get tableIndex(): TableIndex {\n    if (this.tableIndexDao.isTableExists()) {\n      return this.tableIndexDao.queryForId(this.tableName);\n    } else {\n      return;\n    }\n  }\n  /**\n   * Clear the geometry indices or create the table if needed\n   * @return {Promise} resolved when complete\n   */\n  createOrClearGeometryIndicies(): number {\n    this.geometryIndexDao.createTable();\n    return this.clearGeometryIndicies();\n  }\n  /**\n   * Clears the geometry indices\n   * @return {Number} number of rows deleted\n   */\n  clearGeometryIndicies(): number {\n    const where = this.geometryIndexDao.buildWhereWithFieldAndValue(GeometryIndexDao.COLUMN_TABLE_NAME, this.tableName);\n    const whereArgs = this.geometryIndexDao.buildWhereArgs(this.tableName);\n    return this.geometryIndexDao.deleteWhere(where, whereArgs);\n  }\n  /**\n   * Indexes the table\n   * @param  {module:extension/index~TableIndex} tableIndex TableIndex\n   * @return {Promise} resolved when complete\n   */\n  async indexTable(tableIndex: TableIndex): Promise<boolean> {\n    return new Promise((resolve: Function, reject: Function) => {\n      setTimeout(() => {\n        this.indexChunk(0, tableIndex, resolve, reject);\n      });\n    }).then(() => {\n      return this.updateLastIndexed(tableIndex) === 1;\n    });\n  }\n  /**\n   * Indexes a chunk of 100 rows\n   * @param  {Number} page       page to start on\n   * @param  {module:extension/index~TableIndex} tableIndex TableIndex\n   * @param  {Function} resolve    function to call when all chunks are indexed\n   * @param  {Function} reject     called if there is an error\n   */\n  indexChunk(page: number, tableIndex: TableIndex, resolve: Function, reject: Function): void {\n    const rows = this.featureDao.queryForChunk(100, page);\n    if (rows.length) {\n      this.progress('Indexing ' + page * 100 + ' to ' + (page + 1) * 100);\n      rows.forEach(row => {\n        const fr = this.featureDao.getRow(row) as FeatureRow;\n        this.indexRow(tableIndex, fr.id, fr.geometry);\n      });\n      setTimeout(() => {\n        this.indexChunk(++page, tableIndex, resolve, reject);\n      });\n    } else {\n      resolve();\n    }\n  }\n  /**\n   * Indexes a row\n   * @param  {ableIndex} tableIndex TableIndex`\n   * @param  {Number} geomId     id of the row\n   * @param  {GeometryData} geomData   GeometryData to index\n   * @return {Boolean} success\n   */\n  indexRow(tableIndex: TableIndex, geomId: number, geomData: GeometryData): boolean {\n    if (!geomData) return false;\n    let envelope = geomData.envelope;\n    if (!envelope) {\n      const geometry = geomData.geometry;\n      if (geometry) {\n        envelope = EnvelopeBuilder.buildEnvelopeWithGeometry(geometry);\n      }\n    }\n    if (envelope) {\n      const geometryIndex = this.geometryIndexDao.populate(tableIndex, geomId, envelope);\n      return this.geometryIndexDao.createOrUpdate(geometryIndex) === 1;\n    } else {\n      return false;\n    }\n  }\n  /**\n   * Update the last time this feature table was indexed\n   * @param  {module:extension/index~TableIndex} tableIndex TableIndex\n   * @return {Object} update status\n   */\n  updateLastIndexed(tableIndex: TableIndex): number {\n    if (!tableIndex) {\n      tableIndex = new TableIndex();\n      tableIndex.table_name = this.tableName;\n    }\n    tableIndex.last_indexed = new Date().toISOString();\n    const updateIndex = this.tableIndexDao.createOrUpdate(tableIndex);\n    return updateIndex;\n  }\n  /**\n   * Query the index with the specified bounding box and projection\n   * @param  {module:boundingBox~BoundingBox} boundingBox bounding box to query for\n   * @param  {string} projection  projection the boundingBox is in\n   * @return {IterableIterator}\n   */\n  queryWithBoundingBox(boundingBox: BoundingBox, projection: string | proj4.Converter): IterableIterator<any> {\n    const projectedBoundingBox = boundingBox.projectBoundingBox(projection, this.featureDao.projection);\n    const envelope = projectedBoundingBox.buildEnvelope();\n    return this.queryWithGeometryEnvelope(envelope);\n  }\n  /**\n   * Query witha geometry envelope\n   * @param  {any} envelope envelope\n   * @return {IterableIterator<any>}\n   */\n  queryWithGeometryEnvelope(envelope: Envelope): IterableIterator<any> {\n    if (this.rtreeIndexed) {\n      return this.rtreeIndexDao.queryWithGeometryEnvelope(envelope);\n    } else {\n      return this.geometryIndexDao.queryWithGeometryEnvelope(envelope);\n    }\n  }\n  /**\n   * Count the index with the specified bounding box and projection\n   * @param  {module:boundingBox~BoundingBox} boundingBox bounding box to query for\n   * @param  {string} projection  projection the boundingBox is in\n   * @return {Number}\n   */\n  countWithBoundingBox(boundingBox: BoundingBox, projection: string): number {\n    const projectedBoundingBox = boundingBox.projectBoundingBox(projection, this.featureDao.projection);\n    const envelope = projectedBoundingBox.buildEnvelope();\n    return this.countWithGeometryEnvelope(envelope);\n  }\n  /**\n   * Count with a geometry envelope\n   * @param  {any} envelope envelope\n   * @return {Number}\n   */\n  countWithGeometryEnvelope(envelope: Envelope): number {\n    if (this.rtreeIndexed) {\n      return this.rtreeIndexDao.countWithGeometryEnvelope(envelope);\n    } else {\n      return this.geometryIndexDao.countWithGeometryEnvelope(envelope);\n    }\n  }\n}\n","import { TableIndex } from './tableIndex';\n\n/**\n * Geometry Index object, for indexing data within user tables\n * @class\n */\nexport class GeometryIndex {\n  /**\n   * Name of the table\n   * @member {String}\n   */\n  table_name: string;\n  /**\n   * Geometry Id column\n   * @member {Number}\n   */\n  geom_id: number;\n  /**\n   * Min X\n   * @member {Number}\n   */\n  min_x: number;\n  /**\n   * Max X\n   * @member {Number}\n   */\n  max_x: number;\n  /**\n   * Min Y\n   * @member {Number}\n   */\n  min_y: number;\n  /**\n   * Max Y\n   * @member {Number}\n   */\n  max_y: number;\n  /**\n   * Min Z\n   * @member {Number}\n   */\n  min_z: number;\n  /**\n   * Max Z\n   * @member {Number}\n   */\n  max_z: number;\n  /**\n   * Min M\n   * @member {Number}\n   */\n  min_m: number;\n  /**\n   * Max M\n   * @member {Number}\n   */\n  max_m: number;\n  set tableIndex(tableIndex: TableIndex) {\n    this.table_name = tableIndex.table_name;\n  }\n}\n","import { Dao } from '../../dao/dao';\nimport { GeometryIndex } from './geometryIndex';\nimport { TableCreator } from '../../db/tableCreator';\nimport { FeatureDao } from '../../features/user/featureDao';\nimport { GeoPackage } from '../../geoPackage';\nimport { TableIndex } from './tableIndex';\nimport { Envelope } from '../../geom/envelope';\nimport { FeatureRow } from '../../features/user/featureRow';\nimport { DBValue } from '../../db/dbAdapter';\n/**\n * Geometry Index Data Access Object\n * @class\n * @extends Dao\n */\nexport class GeometryIndexDao extends Dao<GeometryIndex> {\n  public static readonly TABLE_NAME: string = 'nga_geometry_index';\n  public static readonly COLUMN_TABLE_NAME: string = GeometryIndexDao.TABLE_NAME + '.table_name';\n  public static readonly COLUMN_TABLE_NAME_FIELD: string = 'table_name';\n  public static readonly COLUMN_GEOM_ID: string = GeometryIndexDao.TABLE_NAME + '.geom_id';\n  public static readonly COLUMN_MIN_X: string = GeometryIndexDao.TABLE_NAME + '.min_x';\n  public static readonly COLUMN_MAX_X: string = GeometryIndexDao.TABLE_NAME + '.max_x';\n  public static readonly COLUMN_MIN_Y: string = GeometryIndexDao.TABLE_NAME + '.min_y';\n  public static readonly COLUMN_MAX_Y: string = GeometryIndexDao.TABLE_NAME + '.max_y';\n  public static readonly COLUMN_MIN_Z: string = GeometryIndexDao.TABLE_NAME + '.min_z';\n  public static readonly COLUMN_MAX_Z: string = GeometryIndexDao.TABLE_NAME + '.max_z';\n  public static readonly COLUMN_MIN_M: string = GeometryIndexDao.TABLE_NAME + '.min_m';\n  public static readonly COLUMN_MAX_M: string = GeometryIndexDao.TABLE_NAME + '.max_m';\n\n  readonly gpkgTableName: string = GeometryIndexDao.TABLE_NAME;\n  readonly idColumns: string[] = ['table_name', 'geom_id'];\n\n  featureDao: FeatureDao<FeatureRow>;\n  constructor(geoPackage: GeoPackage, featureDao: FeatureDao<FeatureRow>) {\n    super(geoPackage);\n    this.featureDao = featureDao;\n  }\n  createObject(results?: Record<string, DBValue>): GeometryIndex {\n    const gi = new GeometryIndex();\n    if (results) {\n      gi.table_name = results.table_name as string;\n      gi.geom_id = results.geom_id as number;\n      gi.min_x = results.min_x as number;\n      gi.max_x = results.max_x as number;\n      gi.min_y = results.min_y as number;\n      gi.max_y = results.max_y as number;\n      gi.min_z = results.min_z as number;\n      gi.max_z = results.max_z as number;\n      gi.min_m = results.min_m as number;\n      gi.max_m = results.max_m as number;\n    }\n    return gi;\n  }\n  /**\n   * Get the Table Index of the Geometry Index\n   *\n   * @param {module:extension/index~GeometryIndex} geometryIndex geometry index\n   * @return {module:extension/index~TableIndex}\n   */\n  getTableIndex(geometryIndex: GeometryIndex): TableIndex {\n    return this.geoPackage.tableIndexDao.queryForId(geometryIndex.table_name);\n  }\n  /**\n   * Query by table name\n   * @param  {string} tableName table name\n   * @return {Iterable}\n   */\n  queryForTableName(tableName: string): IterableIterator<GeometryIndex> {\n    return (this.queryForEach(GeometryIndexDao.COLUMN_TABLE_NAME, tableName) as unknown) as IterableIterator<\n      GeometryIndex\n    >;\n  }\n\n  /**\n   * Count by table name\n   * @param  {string}   tableName table name\n   * @return {Number}\n   */\n  countByTableName(tableName: string): number {\n    return this.count(GeometryIndexDao.COLUMN_TABLE_NAME, tableName);\n  }\n\n  /**\n   * Populate a new goemetry index from an envelope\n   * @param  {module:extension/index~TableIndex} tableIndex TableIndex\n   * @param  {Number} geometryId id of the geometry\n   * @param  {Object} envelope   envelope to store\n   * @return {module:extension/index~GeometryIndex}\n   */\n  populate(tableIndex: TableIndex, geometryId: number, envelope: Envelope): GeometryIndex {\n    const geometryIndex = new GeometryIndex();\n    geometryIndex.tableIndex = tableIndex;\n    geometryIndex.geom_id = geometryId;\n    geometryIndex.min_x = envelope.minX;\n    geometryIndex.min_y = envelope.minY;\n    geometryIndex.max_x = envelope.maxX;\n    geometryIndex.max_y = envelope.maxY;\n    if (envelope.hasZ) {\n      geometryIndex.min_z = envelope.minZ;\n      geometryIndex.max_z = envelope.maxZ;\n    }\n    if (envelope.hasM) {\n      geometryIndex.min_m = envelope.minM;\n      geometryIndex.max_m = envelope.maxM;\n    }\n    return geometryIndex;\n  }\n  /**\n   * Create the GeometryIndex table\n   * @return {boolean}\n   */\n  createTable(): boolean {\n    const exists = this.isTableExists();\n    if (exists) return true;\n    const tc = new TableCreator(this.geoPackage);\n    return tc.createGeometryIndex();\n  }\n  /**\n   * Query the index with an envelope\n   * @param  {Object} envelope envelope\n   * @param  {Number} envelope.minX min x\n   * @param  {Number} envelope.maxX max x\n   * @param  {Number} envelope.minY min y\n   * @param  {Number} envelope.maxY max y\n   * @param  {Number} envelope.minZ min z\n   * @param  {Number} envelope.maxZ max z\n   * @param  {Number} envelope.minM min m\n   * @param  {Number} envelope.maxM max m\n   * @param  {Boolean} envelope.hasM has m\n   * @param  {Boolean} envelope.hasZ has z\n   * @return {Object}\n   */\n  _generateGeometryEnvelopeQuery(\n    envelope: Envelope,\n  ): { join: string; where: string; whereArgs: DBValue[]; tableNameArr: string[] } {\n    const tableName = this.featureDao.gpkgTableName;\n    let where = '';\n    where += this.buildWhereWithFieldAndValue(GeometryIndexDao.COLUMN_TABLE_NAME, tableName);\n    where += ' and ';\n    const minXLessThanMaxX = envelope.minX < envelope.maxX;\n    if (minXLessThanMaxX) {\n      where += this.buildWhereWithFieldAndValue(GeometryIndexDao.COLUMN_MIN_X, envelope.maxX, '<=');\n      where += ' and ';\n      where += this.buildWhereWithFieldAndValue(GeometryIndexDao.COLUMN_MAX_X, envelope.minX, '>=');\n    } else {\n      where += '(';\n      where += this.buildWhereWithFieldAndValue(GeometryIndexDao.COLUMN_MIN_X, envelope.maxX, '<=');\n      where += ' or ';\n      where += this.buildWhereWithFieldAndValue(GeometryIndexDao.COLUMN_MAX_X, envelope.minX, '>=');\n      where += ' or ';\n      where += this.buildWhereWithFieldAndValue(GeometryIndexDao.COLUMN_MIN_X, envelope.minX, '>=');\n      where += ' or ';\n      where += this.buildWhereWithFieldAndValue(GeometryIndexDao.COLUMN_MAX_X, envelope.maxX, '<=');\n      where += ')';\n    }\n    where += ' and ';\n    where += this.buildWhereWithFieldAndValue(GeometryIndexDao.COLUMN_MIN_Y, envelope.maxY, '<=');\n    where += ' and ';\n    where += this.buildWhereWithFieldAndValue(GeometryIndexDao.COLUMN_MAX_Y, envelope.minY, '>=');\n    const whereArgs = [tableName, envelope.maxX, envelope.minX];\n    if (!minXLessThanMaxX) {\n      whereArgs.push(envelope.minX, envelope.maxX);\n    }\n    whereArgs.push(envelope.maxY, envelope.minY);\n    if (envelope.hasZ) {\n      where += ' and ';\n      where += this.buildWhereWithFieldAndValue(GeometryIndexDao.COLUMN_MIN_Z, envelope.minZ, '<=');\n      where += ' and ';\n      where += this.buildWhereWithFieldAndValue(GeometryIndexDao.COLUMN_MAX_Z, envelope.maxZ, '>=');\n      whereArgs.push(envelope.maxZ, envelope.minZ);\n    }\n    if (envelope.hasM) {\n      where += ' and ';\n      where += this.buildWhereWithFieldAndValue(GeometryIndexDao.COLUMN_MIN_M, envelope.minM, '<=');\n      where += ' and ';\n      where += this.buildWhereWithFieldAndValue(GeometryIndexDao.COLUMN_MAX_M, envelope.maxM, '>=');\n      whereArgs.push(envelope.maxM, envelope.minM);\n    }\n    return {\n      join:\n        'inner join \"' +\n        tableName +\n        '\" on \"' +\n        tableName +\n        '\".' +\n        this.featureDao.idColumns[0] +\n        ' = ' +\n        GeometryIndexDao.COLUMN_GEOM_ID,\n      where,\n      whereArgs,\n      tableNameArr: ['\"' + tableName + '\".*'],\n    };\n  }\n\n  /**\n   * @param  {Object} envelope envelope\n   * @param  {Number} envelope.minX min x\n   * @param  {Number} envelope.maxX max x\n   * @param  {Number} envelope.minY min y\n   * @param  {Number} envelope.maxY max y\n   * @param  {Number} envelope.minZ min z\n   * @param  {Number} envelope.maxZ max z\n   * @param  {Number} envelope.minM min m\n   * @param  {Number} envelope.maxM max m\n   * @param  {Boolean} envelope.hasM has m\n   * @param  {Boolean} envelope.hasZ has z\n   */\n  queryWithGeometryEnvelope(envelope: Envelope): IterableIterator<GeometryIndex> {\n    const result = this._generateGeometryEnvelopeQuery(envelope);\n    return (this.queryJoinWhereWithArgs(\n      result.join,\n      result.where,\n      result.whereArgs,\n      result.tableNameArr,\n    ) as unknown) as IterableIterator<GeometryIndex>;\n  }\n  /**\n   * @param  {Object} envelope envelope\n   * @param  {Number} envelope.minX min x\n   * @param  {Number} envelope.maxX max x\n   * @param  {Number} envelope.minY min y\n   * @param  {Number} envelope.maxY max y\n   * @param  {Number} envelope.minZ min z\n   * @param  {Number} envelope.maxZ max z\n   * @param  {Number} envelope.minM min m\n   * @param  {Number} envelope.maxM max m\n   * @param  {Boolean} envelope.hasM has m\n   * @param  {Boolean} envelope.hasZ has z\n   */\n  countWithGeometryEnvelope(envelope: Envelope): number {\n    const result = this._generateGeometryEnvelopeQuery(envelope);\n    return this.countJoinWhereWithArgs(result.join, result.where, result.whereArgs);\n  }\n}\n","/**\n * Table Index object, for indexing data within user tables\n */\nexport class TableIndex {\n  /**\n   * Name of the table\n   * @member {String}\n   */\n  table_name: string;\n  /**\n   * Last indexed date\n   * @member {String}\n   */\n  last_indexed: string | Date;\n}\n","import { Dao } from '../../dao/dao';\nimport { TableCreator } from '../../db/tableCreator';\nimport { TableIndex } from './tableIndex';\nimport { DBValue } from '../../db/dbAdapter';\n\n/**\n * Table Index Data Access Object\n * @class\n * @extends Dao\n * @param {module:geoPackage~GeoPackage}  geoPackage The GeoPackage object\n */\nexport class TableIndexDao extends Dao<TableIndex> {\n  public static readonly TABLE_NAME: string = 'nga_table_index';\n  public static readonly COLUMN_TABLE_NAME: string = 'table_name';\n  public static readonly COLUMN_LAST_INDEXED: string = 'last_indexed';\n\n  readonly gpkgTableName: string = TableIndexDao.TABLE_NAME;\n  readonly idColumns: string[] = [TableIndexDao.COLUMN_TABLE_NAME];\n\n  /**\n   * Create a new TableIndex object\n   * @return {module:extension/index~TableIndex}\n   */\n  createObject(results?: Record<string, DBValue>): TableIndex {\n    const ti = new TableIndex();\n    if (results) {\n      ti.table_name = results.table_name as string;\n      ti.last_indexed = results.last_indexed as string;\n    }\n    return ti;\n  }\n  /**\n   * Creates the tables necessary\n   * @return {boolean}\n   */\n  createTable(): boolean {\n    const tc = new TableCreator(this.geoPackage);\n    return tc.createTableIndex();\n  }\n}\n","/**\n * MetadataExtension module.\n * @module extension/metadata\n */\n\nimport { BaseExtension } from '../baseExtension';\nimport { GeoPackage } from '../../geoPackage';\nimport { Extension } from '../extension';\nimport { MetadataReferenceDao } from '../../metadata/reference/metadataReferenceDao';\nimport { MetadataDao } from '../../metadata/metadataDao';\n\n/**\n * Metadata extension\n * @param  {module:geoPackage~GeoPackage} geoPackage GeoPackage object\n * @class\n * @extends BaseExtension\n */\nexport class MetadataExtension extends BaseExtension {\n  public static readonly EXTENSION_NAME: string = 'gpkg_metadata';\n  public static readonly EXTENSION_Metadata_AUTHOR: string = 'gpkg';\n  public static readonly EXTENSION_Metadata_NAME_NO_AUTHOR: string = 'metadata';\n  public static readonly EXTENSION_Metadata_DEFINITION: string = 'http://www.geopackage.org/spec/#extension_metadata';\n\n  constructor(geoPackage: GeoPackage) {\n    super(geoPackage);\n    this.extensionName = MetadataExtension.EXTENSION_NAME;\n    this.extensionDefinition = MetadataExtension.EXTENSION_Metadata_DEFINITION;\n  }\n  /**\n   * Get or create the metadata extension\n   */\n  getOrCreateExtension(): Extension {\n    return this.getOrCreate(this.extensionName, null, null, this.extensionDefinition, Extension.READ_WRITE);\n  }\n\n  has() {\n    return this.hasExtension(MetadataExtension.EXTENSION_NAME, null, null);\n  }\n\n  removeExtension() {\n    if (this.geoPackage.isTable(MetadataReferenceDao.TABLE_NAME)) {\n      this.geoPackage.dropTable(MetadataReferenceDao.TABLE_NAME);\n    }\n    if (this.geoPackage.isTable(MetadataDao.TABLE_NAME)) {\n      this.geoPackage.dropTable(MetadataDao.TABLE_NAME);\n    }\n    try {\n      if (this.extensionsDao.isTableExists()) {\n        this.extensionsDao.deleteByExtension(MetadataExtension.EXTENSION_NAME);\n      }\n    } catch (e) {\n      throw new Error(\"Failed to delete Schema extension. GeoPackage: \" + this.geoPackage.name);\n    }\n  }\n}\n","/**\n * NGA extension management class for deleting extensions for a table or in a\n * GeoPackage\n */\nimport { GeoPackage } from '../geoPackage';\nimport { FeatureTableIndex } from './index/featureTableIndex';\nimport { GeometryIndexDao } from './index/geometryIndexDao';\nimport { TableIndexDao } from './index/tableIndexDao';\nimport { CoreSQLUtils } from '../db/coreSQLUtils';\nimport { TileScalingDao } from './scale/tileScalingDao';\nimport { TileScalingExtension } from './scale';\nimport { FeatureStyleExtension } from './style';\nimport { RelatedTablesExtension } from './relatedTables';\nimport { ContentsIdExtension } from './contents';\nimport { UserCustomTableReader } from '../user/custom/userCustomTableReader';\nimport { AlterTable } from '../db/alterTable';\nimport { TableMapping } from '../db/tableMapping';\nimport { UserMappingTable } from './relatedTables/userMappingTable';\nimport { ExtendedRelationDao } from './relatedTables/extendedRelationDao';\nimport { TableInfo } from '../db/table/tableInfo';\nimport { ContentsIdDao } from './contents/contentsIdDao';\n\nexport class NGAExtensions {\n  /**\n   * Delete all NGA table extensions for the table within the GeoPackage\n   * @param geoPackage GeoPackage\n   * @param table  table name\n   */\n  static deleteTableExtensions(geoPackage: GeoPackage, table: string) {\n    NGAExtensions.deleteGeometryIndex(geoPackage, table);\n    NGAExtensions.deleteTileScaling(geoPackage, table);\n    NGAExtensions.deleteFeatureStyle(geoPackage, table);\n    NGAExtensions.deleteContentsId(geoPackage, table);\n    // Delete future extensions for the table here\n  }\n\n  /**\n   * Delete all NGA extensions including custom extension tables for the\n   * GeoPackage\n   * @param geoPackage GeoPackage\n   */\n  static deleteExtensions(geoPackage: GeoPackage) {\n    NGAExtensions.deleteGeometryIndexExtension(geoPackage);\n    NGAExtensions.deleteTileScalingExtension(geoPackage);\n    NGAExtensions.deleteFeatureStyleExtension(geoPackage);\n    NGAExtensions.deleteContentsIdExtension(geoPackage);\n    // Delete future extension tables here\n  }\n\n  /**\n   * Copy all NGA table extensions for the table within the GeoPackage\n   * @param geoPackage GeoPackage\n   * @param table table name\n   * @param newTable new table name\n   */\n  static copyTableExtensions(geoPackage: GeoPackage, table: string, newTable: string) {\n    try {\n      NGAExtensions.copyContentsId(geoPackage, table, newTable);\n      NGAExtensions.copyFeatureStyle(geoPackage, table, newTable);\n      NGAExtensions.copyTileScaling(geoPackage, table, newTable);\n      NGAExtensions.copyGeometryIndex(geoPackage, table, newTable);\n      // Copy future extensions for the table here\n    } catch (e) {\n      console.warn('Failed to copy extensions for table: ' + newTable + ', copied from table: ' + table, e);\n    }\n\n  }\n\n  /**\n   * Delete the Geometry Index extension for the table\n   * @param geoPackage GeoPackage\n   * @param table table name\n   */\n  static deleteGeometryIndex(geoPackage: GeoPackage, table: string) {\n    let geometryIndexDao = geoPackage.getGeometryIndexDao(null);\n    let tableIndexDao = geoPackage.tableIndexDao;\n    let extensionsDao = geoPackage.extensionDao;\n\n    try {\n      if (geometryIndexDao.isTableExists()) {\n        geometryIndexDao.deleteWhere(geometryIndexDao.buildWhereWithFieldAndValue(GeometryIndexDao.COLUMN_TABLE_NAME_FIELD, table), geometryIndexDao.buildWhereArgs(table))\n      }\n      if (tableIndexDao.isTableExists()) {\n        tableIndexDao.deleteWhere(tableIndexDao.buildWhereWithFieldAndValue(TableIndexDao.COLUMN_TABLE_NAME, table), tableIndexDao.buildWhereArgs(table))\n      }\n      if (extensionsDao.isTableExists()) {\n        extensionsDao.deleteByExtensionAndTableName(FeatureTableIndex.EXTENSION_NAME, table);\n      }\n    } catch (e) {\n      throw new Error('Failed to delete Table Index. GeoPackage: ' + geoPackage.name + ', Table: ' + table);\n    }\n  }\n\n  /**\n   * Delete the Geometry Index extension including the extension entries and\n   * custom tables\n   * @param geoPackage GeoPackage\n   */\n  static deleteGeometryIndexExtension(geoPackage: GeoPackage) {\n    let geometryIndexDao = geoPackage.getGeometryIndexDao(null);\n    let tableIndexDao = geoPackage.tableIndexDao;\n    let extensionsDao = geoPackage.extensionDao;\n\n    try {\n      if (geometryIndexDao.isTableExists()) {\n        geoPackage.dropTable(GeometryIndexDao.TABLE_NAME);\n      }\n      if (tableIndexDao.isTableExists()) {\n        geoPackage.dropTable(TableIndexDao.TABLE_NAME);\n      }\n      if (extensionsDao.isTableExists()) {\n        extensionsDao.deleteByExtension(FeatureTableIndex.EXTENSION_NAME);\n      }\n    } catch (e) {\n      throw new Error('Failed to delete Table Index extension and tables. GeoPackage: ' + geoPackage.name);\n    }\n\n  }\n\n  /**\n   * Copy the Geometry Index extension for the table\n   * @param geoPackage GeoPackage\n   * @param table table name\n   * @param newTable new table name\n   */\n  static copyGeometryIndex(geoPackage: GeoPackage, table: string, newTable: string) {\n    try {\n      let extensionsDao = geoPackage.extensionDao;\n\n      if (extensionsDao.isTableExists()) {\n        let extensions = extensionsDao.queryByExtensionAndTableName(FeatureTableIndex.EXTENSION_NAME, table);\n        if (extensions.length > 0) {\n          let extension = extensions[0];\n          extension.table_name = newTable;\n          extensionsDao.create(extension);\n          let tableIndexDao = geoPackage.tableIndexDao;\n          if (tableIndexDao.isTableExists()) {\n            let tableIndex = tableIndexDao.queryForId(table);\n            if (tableIndex !== null && tableIndex !== undefined) {\n              tableIndex.table_name = newTable;\n              tableIndexDao.create(tableIndex);\n              if (geoPackage.isTable(GeometryIndexDao.TABLE_NAME)) {\n                CoreSQLUtils.transferTableContent(\n                  geoPackage.connection,\n                  GeometryIndexDao.TABLE_NAME,\n                  GeometryIndexDao.COLUMN_TABLE_NAME_FIELD,\n                  newTable, table);\n              }\n            }\n          }\n        }\n      }\n    } catch (e) {\n      console.warn(\n        'Failed to create Geometry Index for table: ' + newTable\n        + ', copied from table: ' + table,\n        e);\n    }\n\n  }\n\n  /**\n   * Delete the Tile Scaling extensions for the table\n   * @param geoPackage GeoPackage\n   * @param table table name\n   */\n  static deleteTileScaling(geoPackage: GeoPackage, table: string) {\n    let tileScalingDao = geoPackage.tileScalingDao;\n    let extensionsDao = geoPackage.extensionDao;\n\n    try {\n      if (tileScalingDao.isTableExists()) {\n        tileScalingDao.deleteByTableName(table);\n      }\n      if (extensionsDao.isTableExists()) {\n        extensionsDao.deleteByExtensionAndTableName(TileScalingExtension.EXTENSION_NAME, table);\n      }\n    } catch (e) {\n      throw new Error(\n        'Failed to delete Tile Scaling. GeoPackage: ' + geoPackage.name + ', Table: ' + table);\n    }\n  }\n\n  /**\n   * Delete the Tile Scaling extension including the extension entries and\n   * custom tables\n   * @param geoPackage GeoPackage\n   */\n  static deleteTileScalingExtension(geoPackage: GeoPackage) {\n    let tileScalingDao = geoPackage.tileScalingDao;\n    let extensionsDao = geoPackage.extensionDao;\n    try {\n      if (tileScalingDao.isTableExists()) {\n        geoPackage.dropTable(tileScalingDao.gpkgTableName);\n      }\n      if (extensionsDao.isTableExists()) {\n        extensionsDao.deleteByExtension(TileScalingExtension.EXTENSION_NAME);\n      }\n    } catch (e) {\n      throw new Error(\n        'Failed to delete Tile Scaling extension and table. GeoPackage: '\n        + geoPackage.name);\n    }\n\n  }\n\n  /**\n   * Copy the Tile Scaling extensions for the table\n   * @param geoPackage GeoPackage\n   * @param table table name\n   * @param newTable new table name\n   */\n  static copyTileScaling(geoPackage: GeoPackage, table: string, newTable: string) {\n    try {\n      let tileTableScaling = new TileScalingExtension(geoPackage, table);\n      if (tileTableScaling.has()) {\n        let extension = tileTableScaling.getOrCreateExtension();\n        if (extension !== null && extension !== undefined) {\n          extension.setTableName(newTable);\n          tileTableScaling.extensionsDao.create(extension);\n          if (geoPackage.isTable(TileScalingDao.TABLE_NAME)) {\n            CoreSQLUtils.transferTableContent(geoPackage.connection, TileScalingDao.TABLE_NAME, TileScalingDao.COLUMN_TABLE_NAME, newTable, table);\n          }\n        }\n      }\n    } catch (e) {\n      console.warn('Failed to create Tile Scaling for table: ' + newTable + ', copied from table: ' + table, e);\n    }\n  }\n\n  /**\n   * Delete the Feature Style extensions for the table\n   * @param geoPackage GeoPackage\n   * @param table table name\n   */\n  static deleteFeatureStyle(geoPackage: GeoPackage, table: string) {\n    let featureStyleExtension = NGAExtensions.getFeatureStyleExtension(geoPackage);\n    if (featureStyleExtension.has(table)) {\n      featureStyleExtension.deleteRelationships(table);\n    }\n  }\n\n  /**\n   * Delete the Feature Style extension including the extension entries and\n   * custom tables\n   * @param geoPackage GeoPackage\n   */\n  static deleteFeatureStyleExtension(geoPackage: GeoPackage) {\n    let featureStyleExtension = NGAExtensions.getFeatureStyleExtension(geoPackage);\n    if (featureStyleExtension.has(null)) {\n      featureStyleExtension.removeExtension();\n    }\n  }\n\n  /**\n   * Copy the Feature Style extensions for the table. Relies on\n   * {@link GeoPackageExtensions#copyRelatedTables(GeoPackageCore, String, String)}\n   * to be called first.\n   * @param geoPackage GeoPackage\n   * @param table table name\n   * @param newTable new table name\n   */\n  static copyFeatureStyle(geoPackage: GeoPackage, table: string, newTable: string) {\n    try {\n      let featureStyleExtension = NGAExtensions.getFeatureStyleExtension(geoPackage);\n      if (featureStyleExtension.hasRelationship(table)) {\n        let extension = featureStyleExtension.getOrCreateExtension(table);\n        if (extension != null) {\n          extension.setTableName(newTable);\n          featureStyleExtension.extensionsDao.create(extension);\n          let contentsIdExtension = featureStyleExtension.getContentsId();\n          let contentsId = contentsIdExtension.getIdByTableName(table);\n          let newContentsId = contentsIdExtension.getIdByTableName(newTable);\n          if (contentsId !== null && contentsId !== undefined && newContentsId !== null && newContentsId !== undefined) {\n            if (featureStyleExtension.hasTableStyleRelationship(table)) {\n              NGAExtensions.copyFeatureTableStyle(featureStyleExtension, FeatureStyleExtension.TABLE_MAPPING_TABLE_STYLE, table, newTable, contentsId, newContentsId);\n            }\n            if (featureStyleExtension.hasTableIconRelationship(table)) {\n              NGAExtensions.copyFeatureTableStyle(featureStyleExtension, FeatureStyleExtension.TABLE_MAPPING_TABLE_ICON, table, newTable, contentsId, newContentsId);\n            }\n          }\n        }\n      }\n    } catch (e) {\n      console.warn(\n        'Failed to create Feature Style for table: ' + newTable\n        + ', copied from table: ' + table, e);\n    }\n  }\n\n  /**\n   * Copy the feature table style\n   * @param featureStyleExtension feature style extension\n   * @param mappingTablePrefix mapping table prefix\n   * @param table table name\n   * @param newTable new table name\n   * @param contentsId contents id\n   * @param newContentsId new contents id\n   */\n  static copyFeatureTableStyle(featureStyleExtension: FeatureStyleExtension, mappingTablePrefix: string, table: string, newTable: string, contentsId: number, newContentsId: number) {\n    let geoPackage: GeoPackage = featureStyleExtension.geoPackage;\n    let mappingTableName = featureStyleExtension.getMappingTableName(mappingTablePrefix, table);\n    let extensionsDao = geoPackage.extensionDao;\n    let extensions = extensionsDao.queryByExtensionAndTableName(RelatedTablesExtension.EXTENSION_NAME, mappingTableName)\n      .concat(extensionsDao.queryByExtensionAndTableName(RelatedTablesExtension.EXTENSION_RELATED_TABLES_NAME_NO_AUTHOR, mappingTableName));\n\n    if (extensions.length > 0) {\n      let newMappingTableName = featureStyleExtension.getMappingTableName(mappingTablePrefix, newTable);\n      let userTable = new UserCustomTableReader(mappingTableName).readTable(geoPackage.connection);\n      AlterTable.copyTable(geoPackage.connection, userTable, newMappingTableName, false);\n      let mappingTableTableMapping = new TableMapping(userTable.getTableName(), newMappingTableName, userTable.getUserColumns().getColumns());\n      let baseIdColumn = mappingTableTableMapping.getColumn(UserMappingTable.COLUMN_BASE_ID);\n      baseIdColumn.constantValue = newContentsId;\n      baseIdColumn.whereValue = contentsId;\n      CoreSQLUtils.transferTableContentForTableMapping(geoPackage.connection, mappingTableTableMapping);\n      let extension = extensions[0];\n      extension.setTableName(newMappingTableName);\n      extensionsDao.create(extension);\n      let extendedRelationTableMapping = TableMapping.fromTableInfo(TableInfo.info(geoPackage.connection, ExtendedRelationDao.TABLE_NAME));\n      extendedRelationTableMapping.removeColumn(ExtendedRelationDao.ID);\n      let baseTableNameColumn = extendedRelationTableMapping.getColumn(ExtendedRelationDao.BASE_TABLE_NAME);\n      baseTableNameColumn.whereValue = ContentsIdDao.TABLE_NAME;\n      let mappingTableNameColumn = extendedRelationTableMapping.getColumn(ExtendedRelationDao.MAPPING_TABLE_NAME);\n      mappingTableNameColumn.constantValue = newMappingTableName;\n      mappingTableNameColumn.whereValue = mappingTableName;\n      CoreSQLUtils.transferTableContentForTableMapping(geoPackage.connection, extendedRelationTableMapping);\n    }\n  }\n\n  /**\n   * Get a Feature Style Extension used only for deletions\n   * @param geoPackage GeoPackage\n   * @return Feature Style Extension\n   */\n  static getFeatureStyleExtension(geoPackage: GeoPackage): FeatureStyleExtension {\n    return new FeatureStyleExtension(geoPackage);\n  }\n\n  /**\n   * Delete the Contents Id extensions for the table\n   * @param geoPackage GeoPackage\n   * @param table table name\n   */\n  static deleteContentsId(geoPackage: GeoPackage, table: string) {\n    let contentsIdExtension = new ContentsIdExtension(geoPackage);\n    if (contentsIdExtension.has()) {\n      contentsIdExtension.deleteIdByTableName(table);\n    }\n  }\n\n  /**\n   * Delete the Contents Id extension including the extension entries and\n   * custom tables\n   * @param geoPackage GeoPackage\n   */\n  static deleteContentsIdExtension(geoPackage: GeoPackage) {\n    let contentsIdExtension = new ContentsIdExtension(geoPackage);\n    if (contentsIdExtension.has()) {\n      contentsIdExtension.removeExtension();\n    }\n  }\n\n  /**\n   * Copy the Contents Id extensions for the table\n   * @param geoPackage GeoPackage\n   * @param table table name\n   * @param newTable new table name\n   */\n  static copyContentsId(geoPackage: GeoPackage, table: string, newTable: string) {\n    try {\n      let contentsIdExtension = new ContentsIdExtension(geoPackage);\n      if (contentsIdExtension.has()) {\n        let contentsId = contentsIdExtension.getByTableName(table);\n        if (contentsId !== null && contentsId !== undefined) {\n          contentsIdExtension.createWithTableName(newTable);\n        }\n      }\n    } catch (e) {\n      console.warn( 'Failed to create Contents Id for table: '\n        + newTable + ', copied from table: ' + table, e);\n    }\n  }\n}\n","import { UserRow } from '../../user/userRow';\nimport { UserTable } from '../../user/userTable';\nimport { DublinCoreType } from './dublinCoreType';\nimport { UserColumn } from '../../user/userColumn';\n\n/**\n * Dublin Core Metadata Initiative\n * @module extension/relatedTables\n */\n\n/**\n * Dublin Core Metadata Initiative\n * @class\n */\nexport class DublinCoreMetadata {\n  /**\n   * Check if the table has a column for the Dublin Core Type term\n   * @param  {module:user/userTable~UserTable|module:user/userRow~UserRow} table user table or user row to check\n   * @param  {module:extension/relatedTables~DublinCoreType} type  Dublin Core Type\n   * @return {Boolean}\n   */\n  public static hasColumn(table: UserTable<UserColumn> | UserRow, type: DublinCoreType): boolean {\n    let userTable: UserTable<UserColumn>;\n    if (table instanceof UserRow) {\n      userTable = table.table;\n    } else {\n      userTable = table;\n    }\n    let hasColumn = userTable.hasColumn(type.name);\n    if (!userTable.hasColumn(type.name)) {\n      const synonyms = type.synonyms;\n      if (synonyms) {\n        for (let i = 0; i < synonyms.length; i++) {\n          hasColumn = userTable.hasColumn(synonyms[i]);\n          if (hasColumn) {\n            break;\n          }\n        }\n      }\n    }\n    return hasColumn;\n  }\n\n  /**\n   * Get the column from the table for the Dublin Core Type term\n   * @param  {module:user/userTable~UserTable|module:user/userRow~UserRow} table user table or user row to check\n   * @param  {module:extension/relatedTables~DublinCoreType} type  Dublin Core Type\n   * @return {module:user/userColumn~UserColumn}\n   */\n  public static getColumn(table: UserTable<UserColumn> | UserRow, type: DublinCoreType): UserColumn {\n    let userTable: UserTable<UserColumn>;\n    if (table instanceof UserRow) {\n      userTable = table.table;\n    } else {\n      userTable = table;\n    }\n    let column: UserColumn;\n    let hasColumn = userTable.hasColumn(type.name);\n    if (hasColumn) {\n      column = userTable.getColumnWithColumnName(type.name);\n    } else {\n      const synonyms = type.synonyms;\n      if (synonyms) {\n        for (let i = 0; i < synonyms.length; i++) {\n          hasColumn = userTable.hasColumn(synonyms[i]);\n          if (hasColumn) {\n            column = userTable.getColumnWithColumnName(synonyms[i]);\n            break;\n          }\n        }\n      }\n    }\n    return column;\n  }\n\n  /**\n   * Get the value from the row for the Dublin Core Type term\n   * @param  {module:user/userRow~UserRow} row user row to get value from\n   * @param  {module:extension/relatedTables~DublinCoreType} type  Dublin Core Type\n   * @return {Object}\n   */\n  public static getValue(row: UserRow, type: DublinCoreType): any {\n    const name = DublinCoreMetadata.getColumn(row, type).name;\n    return row.getValueWithColumnName(name);\n  }\n\n  /**\n   * Set the value in the row for the Dublin Core Type term\n   * @param  {module:user/userRow~UserRow} row user row to set the value\n   * @param  {module:extension/relatedTables~DublinCoreType} type  Dublin Core Type\n   * @param  {Object} value value to set\n   */\n  public static setValue(row: UserRow, type: DublinCoreType, value: any): void {\n    const column = DublinCoreMetadata.getColumn(row, type);\n    row.setValueWithColumnName(column.name, value);\n  }\n}\n","/**\n * @module  extension/relatedTables\n */\n\n/**\n * Dublin Core Metadata Initiative term types\n * @class\n */\nexport class DublinCoreType {\n  /**\n   * A point or period of time associated with an event in the lifecycle of\n   * the resource.\n   * @type {Object}\n   */\n  public static readonly DATE: DublinCoreType = new DublinCoreType('date');\n\n  /**\n   * An account of the resource.\n   * @type {Object}\n   */\n  public static readonly DESCRIPTION: DublinCoreType = new DublinCoreType('description');\n\n  /**\n   * The file format, physical medium, or dimensions of the resource.\n   * @type {Object}\n   */\n  public static readonly FORMAT: DublinCoreType = new DublinCoreType('format', ['content_type']);\n\n  /**\n   * An unambiguous reference to the resource within a given context.\n   * @type {Object}\n   */\n  public static readonly IDENTIFIER: DublinCoreType = new DublinCoreType('identifier', ['id']);\n\n  /**\n   * A related resource from which the described resource is derived.\n   * @type {Object}\n   */\n  public static readonly SOURCE: DublinCoreType = new DublinCoreType('source');\n\n  /**\n   * A name given to the resource.\n   * @type {Object}\n   */\n  public static readonly TITLE: DublinCoreType = new DublinCoreType('title');\n\n  constructor(public name: string, public synonyms?: string[]) {}\n\n  /**\n   * Get the Dublin Core Type from the name\n   * @param  {string} name name\n   * @return {module:extension/relatedTables~DublinCoreType}\n   */\n  public static fromName(name: string): DublinCoreType {\n    for (const prop in DublinCoreType) {\n      const type = DublinCoreType[prop as keyof typeof DublinCoreType];\n      if (type.name === name) {\n        return type;\n      }\n    }\n    for (const prop in DublinCoreType) {\n      const type = DublinCoreType[prop as keyof typeof DublinCoreType] as DublinCoreType;\n      if (type.synonyms) {\n        for (let i = 0; i < type.synonyms.length; i++) {\n          if (type.synonyms[i] === name) {\n            return type;\n          }\n        }\n      }\n    }\n  }\n}\n","/**\n * @module extension/relatedTables\n */\n\n/**\n * Describes the relationships between a base table, a related data table, and a\n * mapping table\n * @class ExtendedRelation\n */\nexport class ExtendedRelation {\n  /**\n   * Autoincrement primary key\n   * @member {Number}\n   */\n  id: number;\n\n  /**\n   * Name of the table containing the base data (e.g., features) to relate\n   * @member {String}\n   */\n  base_table_name: string;\n\n  /**\n   * Name of the primary key column in base_table_name\n   * @member {String}\n   */\n  base_primary_column: string;\n\n  /**\n   * Name of the table containing the related content\n   * @member {String}\n   */\n  related_table_name: string;\n\n  /**\n   * Name of the primary key column in related_table_name\n   * @member {String}\n   */\n  related_primary_column: string;\n\n  /**\n   * Name (profile) of the relationship\n   * @member {String}\n   */\n  relation_name: string;\n\n  /**\n   * Name of a mapping table\n   * @member {String}\n   */\n  mapping_table_name: string;\n\n  mappingRows: any;\n}\n","import { Dao } from '../../dao/dao';\nimport { ColumnValues } from '../../dao/columnValues';\nimport { ExtendedRelation } from './extendedRelation';\nimport { DBValue } from '../../db/dbAdapter';\n\n/**\n * Extended Relations Data Access Object\n * @class ExtendedRelationDao\n * @extends Dao\n */\nexport class ExtendedRelationDao extends Dao<ExtendedRelation> {\n  public static readonly TABLE_NAME: string = 'gpkgext_relations';\n  public static readonly ID: string = 'id';\n  public static readonly COLUMN_ID: string = ExtendedRelationDao.TABLE_NAME + '.' + ExtendedRelationDao.ID;\n  public static readonly BASE_TABLE_NAME: string = 'base_table_name';\n  public static readonly COLUMN_BASE_TABLE_NAME: string = ExtendedRelationDao.TABLE_NAME + '.' + ExtendedRelationDao.BASE_TABLE_NAME;\n  public static readonly BASE_PRIMARY_COLUMN: string = 'base_primary_column';\n  public static readonly COLUMN_BASE_PRIMARY_COLUMN: string = ExtendedRelationDao.TABLE_NAME + '.' + ExtendedRelationDao.BASE_PRIMARY_COLUMN;\n  public static readonly RELATED_TABLE_NAME: string = 'related_table_name';\n  public static readonly COLUMN_RELATED_TABLE_NAME: string = ExtendedRelationDao.TABLE_NAME + '.' + ExtendedRelationDao.RELATED_TABLE_NAME;\n  public static readonly RELATED_PRIMARY_COLUMN: string = 'related_primary_column';\n  public static readonly COLUMN_RELATED_PRIMARY_COLUMN: string = ExtendedRelationDao.TABLE_NAME + '.' + ExtendedRelationDao.RELATED_PRIMARY_COLUMN;\n  public static readonly RELATION_NAME: string = 'relation_name';\n  public static readonly COLUMN_RELATION_NAME: string = ExtendedRelationDao.TABLE_NAME + '.' + ExtendedRelationDao.RELATION_NAME;\n  public static readonly MAPPING_TABLE_NAME: string = 'mapping_table_name';\n  public static readonly COLUMN_MAPPING_TABLE_NAME: string = ExtendedRelationDao.TABLE_NAME + '.' + ExtendedRelationDao.MAPPING_TABLE_NAME;\n\n  readonly gpkgTableName: string = ExtendedRelationDao.TABLE_NAME;\n  readonly idColumns: string[] = ['id'];\n  /**\n   * Create a {module:extension/relatedTables~ExtendedRelation} object\n   * @return {module:extension/relatedTables~ExtendedRelation}\n   */\n  createObject(result?: Record<string, DBValue>): ExtendedRelation {\n    const er = new ExtendedRelation();\n    if (result) {\n      er.base_table_name = result.base_table_name as string;\n      er.base_primary_column = result.base_primary_column as string;\n      er.related_table_name = result.base_primary_column as string;\n      er.related_table_name = result.related_table_name as string;\n      er.relation_name = result.relation_name as string;\n      er.mapping_table_name = result.mapping_table_name as string;\n      er.related_primary_column = result.related_primary_column as string;\n      er.id = result.id as number;\n    }\n    return er;\n  }\n  /**\n   * Create the necessary tables for this dao\n   * @return {Promise}\n   */\n  createTable(): boolean {\n    const tc = this.geoPackage.getTableCreator();\n    return tc.createExtendedRelations();\n  }\n  /**\n   * Get all the base table names\n   * @return {string[]}\n   */\n  getBaseTables(): string[] {\n    const baseTables: string[] = [];\n    const baseTableColumns = this.queryForColumns('base_table_name');\n    for (let i = 0; i < baseTableColumns.length; i++) {\n      baseTables.push(baseTableColumns[i].base_table_name as string);\n    }\n    return baseTables;\n  }\n  /**\n   * Get all the related table names\n   * @return {string[]}\n   */\n  getRelatedTables(): string[] {\n    const relatedTables = [];\n    const relatedTableColumns = this.queryForColumns('related_table_name');\n    for (let i = 0; i < relatedTableColumns.length; i++) {\n      relatedTables.push(relatedTableColumns[i].related_table_name as string);\n    }\n    return relatedTables;\n  }\n  /**\n   * Get all relations for the given base table name\n   * @param  {string} baseTable base table name\n   * @return {module:extension/relatedTables~ExtendedRelation[]}\n   */\n  getBaseTableRelations(baseTable: string): ExtendedRelation[] {\n    const results = [];\n    for (const relation of this.queryForAllEq(ExtendedRelationDao.COLUMN_BASE_TABLE_NAME, baseTable)) {\n      results.push(this.createObject(relation));\n    }\n    return results;\n  }\n  /**\n   * Get all relations for the given related table name\n   * @param  {string} relatedTable related table name\n   * @return {module:extension/relatedTables~ExtendedRelation[]}\n   */\n  getRelatedTableRelations(relatedTable: string): ExtendedRelation[] {\n    const results = [];\n    for (const relation of this.queryForAllEq(ExtendedRelationDao.COLUMN_RELATED_TABLE_NAME, relatedTable)) {\n      results.push(this.createObject(relation));\n    }\n    return results;\n  }\n  /**\n   * Get all relations for the base table with the relation name\n   * @param  {string} baseTable base table name\n   * @param  {string} name      relation name\n   * @return {module:extension/relatedTables~ExtendedRelation[]}\n   */\n  getBaseTableRelationsWithName(baseTable: string, name: string): ExtendedRelation[] {\n    const fields = new ColumnValues();\n    fields.addColumn(ExtendedRelationDao.COLUMN_BASE_TABLE_NAME, baseTable);\n    fields.addColumn(ExtendedRelationDao.COLUMN_RELATION_NAME, name);\n    const where = this.buildWhere(fields, 'and');\n    const whereArgs = this.buildWhereArgs(fields);\n    const results = [];\n    for (const relation of this.queryForAll(where, whereArgs)) {\n      results.push(this.createObject(relation));\n    }\n    return results;\n  }\n  /**\n   * Get all relations to the table.  Returns relations where the table is the base table and relations where the table is the related table.\n   * @param  {string} table table name to query for\n   * @return {module:extension/relatedTables~ExtendedRelation[]}\n   */\n  getTableRelations(table: string): ExtendedRelation[] {\n    const fields = new ColumnValues();\n    fields.addColumn(ExtendedRelationDao.COLUMN_BASE_TABLE_NAME, table);\n    fields.addColumn(ExtendedRelationDao.COLUMN_RELATED_TABLE_NAME, table);\n    const where = this.buildWhere(fields, 'or');\n    const whereArgs = this.buildWhereArgs(fields);\n    const results = [];\n    for (const relation of this.queryForAll(where, whereArgs)) {\n      results.push(this.createObject(relation));\n    }\n    return results;\n  }\n  /**\n   * Gets all relationships in the GeoPackage with an optional base table name and an optional base id\n   * @param {String} [baseTableName] base table name\n   * @param {String} [relatedTableName] related table name\n   * @param {String} [mappingTableName] mapping table name\n   * @return {module:extension/relatedTables~ExtendedRelation[]}\n   */\n  getRelations(baseTableName?: string, relatedTableName?: string, mappingTableName?: string): ExtendedRelation[] {\n    const fields = new ColumnValues();\n    fields.addColumn(ExtendedRelationDao.COLUMN_BASE_TABLE_NAME, baseTableName);\n    fields.addColumn(ExtendedRelationDao.COLUMN_RELATED_TABLE_NAME, relatedTableName);\n    fields.addColumn(ExtendedRelationDao.COLUMN_MAPPING_TABLE_NAME, mappingTableName);\n    const where = this.buildWhereLike(fields, 'and');\n    const whereArgs = this.buildWhereArgs(fields);\n    const results = [];\n    for (const relation of this.queryForAll(where, whereArgs)) {\n      results.push(this.createObject(relation));\n    }\n    return results;\n  }\n  /**\n   * Get all relations by the mapping table name\n   * @param  {string} mappingTableName name of the mapping table\n   * @return {module:extension/relatedTables~ExtendedRelation[]}\n   */\n  queryByMappingTableName(mappingTableName: string): ExtendedRelation[] {\n    const fields = new ColumnValues();\n    fields.addColumn(ExtendedRelationDao.COLUMN_MAPPING_TABLE_NAME, mappingTableName);\n    const where = this.buildWhere(fields, 'and');\n    const whereArgs = this.buildWhereArgs(fields);\n    const results = [];\n    for (const relation of this.queryForAll(where, whereArgs)) {\n      results.push(this.createObject(relation));\n    }\n    return results;\n  }\n}\n","/**\n * RelatedTablesExtension module.\n * @module extension/relatedTables\n * @see module:extension/BaseExtension\n */\n\nimport { BaseExtension } from '../baseExtension';\nimport { Extension } from '../extension';\nimport { MediaDao } from './mediaDao';\nimport { MediaTable } from './mediaTable';\nimport { SimpleAttributesDao } from './simpleAttributesDao';\nimport { SimpleAttributesTable } from './simpleAttributesTable';\nimport { UserMappingTable } from './userMappingTable';\nimport { UserMappingDao } from './userMappingDao';\nimport { UserCustomDao } from '../../user/custom/userCustomDao';\nimport { UserDao } from '../../user/userDao';\nimport { ExtendedRelationDao } from './extendedRelationDao';\nimport { RelationType } from './relationType';\nimport { Contents } from '../../core/contents/contents';\nimport { ColumnValues } from '../../dao/columnValues';\nimport { ExtendedRelation } from './extendedRelation';\nimport { OptionBuilder } from '../../optionBuilder';\nimport { GeoPackage } from '../../geoPackage';\nimport { UserRelatedTable } from './userRelatedTable';\nimport { UserRow } from '../../user/userRow';\nimport { UserMappingRow } from './userMappingRow';\nimport { MediaRow } from './mediaRow';\nimport { SimpleAttributesRow } from './simpleAttributesRow';\nimport { UserCustomTableReader } from '../../user/custom/userCustomTableReader';\nimport { AttributesDao } from '../../attributes/attributesDao';\nimport { FeatureDao } from '../../features/user/featureDao';\nimport { TileDao } from '../../tiles/user/tileDao';\n/**\n * Related Tables Extension\n * @param  {module:geoPackage~GeoPackage} geoPackage the GeoPackage object\n * @class\n * @extends BaseExtension\n */\nexport class RelatedTablesExtension extends BaseExtension {\n  extendedRelationDao: ExtendedRelationDao;\n\n  public static readonly EXTENSION_NAME: string = 'gpkg_related_tables';\n  public static readonly EXTENSION_RELATED_TABLES_AUTHOR: string = 'gpkg';\n  public static readonly EXTENSION_RELATED_TABLES_NAME_NO_AUTHOR: string = 'related_tables';\n  public static readonly EXTENSION_RELATED_TABLES_DEFINITION: string = 'TBD';\n\n  constructor(geoPackage: GeoPackage) {\n    super(geoPackage);\n    this.extendedRelationDao = geoPackage.extendedRelationDao;\n  }\n  /**\n   * Get or create the extension\n   * @return {Promise}\n   */\n  getOrCreateExtension(): Extension {\n    const extension = this.getOrCreate(\n      RelatedTablesExtension.EXTENSION_NAME,\n      'gpkgext_relations',\n      undefined,\n      RelatedTablesExtension.EXTENSION_RELATED_TABLES_DEFINITION,\n      Extension.READ_WRITE,\n    );\n    this.extendedRelationDao.createTable();\n    return extension;\n  }\n  /**\n   * Get or create the extension for the mapping table\n   * @param  {string} mappingTableName user mapping table\n   * @return {Promise}\n   */\n  getOrCreateMappingTable(mappingTableName: string): Extension {\n    this.getOrCreateExtension();\n    return this.getOrCreate(\n      RelatedTablesExtension.EXTENSION_NAME,\n      mappingTableName,\n      undefined,\n      RelatedTablesExtension.EXTENSION_RELATED_TABLES_DEFINITION,\n      Extension.READ_WRITE,\n    );\n  }\n  /**\n   * Set the contents in the UserRelatedTable\n   * @param  {module:extension/relatedTables~UserRelatedTable} userRelatedTable user related table\n   */\n  setContents(userRelatedTable: UserRelatedTable): boolean {\n    const contents = this.geoPackage.contentsDao.queryForId(userRelatedTable.getTableName());\n    return userRelatedTable.setContents(contents);\n  }\n  /**\n   * Reads the user table and creates a UserCustomDao\n   * @param  {string} tableName       table name to reader\n   * @param  {string[]} requiredColumns required columns\n   * @return {module:user/custom~UserCustomDao}\n   */\n  getUserDao(tableName: string): UserCustomDao<UserRow> {\n    return UserCustomDao.readTable(this.geoPackage, tableName);\n  }\n  /**\n   * Gets the UserMappingDao from the mapping table name\n   * @param  {string | ExtendedRelation} tableName user mapping table name or ExtendedRelation object\n   * @return {module:extension/relatedTables~UserMappingDao}\n   */\n  getMappingDao(tableName: string | ExtendedRelation): UserMappingDao<UserMappingRow> {\n    let mappingTableName;\n    if (tableName instanceof ExtendedRelation) {\n      mappingTableName = tableName.mapping_table_name;\n    } else {\n      mappingTableName = tableName;\n    }\n    return new UserMappingDao(this.getUserDao(mappingTableName), this.geoPackage);\n  }\n  /**\n   * Gets all relationships in the GeoPackage with an optional base table name and an optional base id\n   * @param {String} [baseTableName] base table name\n   * @return {module:extension/relatedTables~ExtendedRelation[]}\n   */\n  getRelationships(baseTableName?: string): ExtendedRelation[] {\n    if (this.extendedRelationDao.isTableExists()) {\n      if (baseTableName) {\n        return this.geoPackage.extendedRelationDao.getBaseTableRelations(baseTableName);\n      }\n      return (this.extendedRelationDao.queryForAll() as unknown) as ExtendedRelation[];\n    }\n    return [];\n  }\n  /**\n   * Gets all relationships in the GeoPackage with an optional base table name and an optional base id\n   * @param {String} [baseTableName] base table name\n   * @param {String} [relatedTableName] related table name\n   * @param {String} [mappingTableName] mapping table name\n   * @return {Boolean}\n   */\n  hasRelations(baseTableName?: string, relatedTableName?: string, mappingTableName?: string): boolean {\n    let relations = [];\n    if (this.extendedRelationDao.isTableExists()) {\n      relations = this.extendedRelationDao.getRelations(baseTableName, relatedTableName, mappingTableName);\n    }\n    return !!relations.length;\n  }\n  getRelatedRows(baseTableName: string, baseId: number): ExtendedRelation[] {\n    const relationships = this.getRelationships(baseTableName);\n    for (let i = 0; i < relationships.length; i++) {\n      const relation = relationships[i];\n      const mappingRows = this.getMappingRowsForBase(relation.mapping_table_name, baseId);\n      relation.mappingRows = mappingRows;\n      let userDao: UserDao<UserRow>;\n\n      switch (relation.relation_name) {\n        case RelationType.MEDIA.name:\n          userDao = MediaDao.readTable(this.geoPackage, relation.related_table_name);\n          break;\n        case RelationType.ATTRIBUTES.name:\n          userDao = AttributesDao.readTable(this.geoPackage, relation.related_table_name);\n          break;\n        case RelationType.FEATURES.name:\n          userDao = FeatureDao.readTable(this.geoPackage, relation.related_table_name);\n          break;\n        case RelationType.TILES.name:\n          userDao = TileDao.readTable(this.geoPackage, relation.related_table_name);\n          break;\n        case RelationType.SIMPLE_ATTRIBUTES.name:\n          userDao = SimpleAttributesDao.readTable(this.geoPackage, relation.related_table_name);\n          break;\n        default:\n          throw new Error('Relationship Unknown')\n      }\n      for (let m = 0; m < mappingRows.length; m++) {\n        const mappingRow = mappingRows[m];\n        mappingRow.row = userDao.queryForId(mappingRow.relatedId);\n      }\n    }\n    return relationships;\n  }\n  /**\n   * Convience object to build a Relationship object for querying and adding\n   * @typedef {Object} module:extension/relatedTables~Relationship\n   * @property  {module:extension/relatedTables~RelationType} relationType type of relationship\n   * @property  {string} baseTableName base table name\n   * @property  {string} relatedTableName related table name\n   * @property  {string} relationAuthor relationship author\n   * @property  {string} mappingTableName mapping table name\n   * @property  {module:extension/relatedTables~UserMappingTable} userMappingTable UserMappingTable\n   * @property  {module:extension/relatedTables~UserRelatedTable} relatedTable UserRelatedTable\n   */\n  getRelationshipBuilder(): any {\n    return RelatedTablesExtension.RelationshipBuilder();\n  }\n  /**\n   * Adds a relationship to the GeoPackage\n   * @param  {module:extension/relatedTables~Relationship|module:extension/relatedTables~ExtendedRelation} relationship relationship to add\n   * @return {Promise<ExtendedRelation | undefined>}\n   */\n  addRelationship(\n    relationship:\n      | ExtendedRelation\n      | {\n          relationType?: RelationType;\n          relationName?: string;\n          baseTableName?: string;\n          relatedTableName?: string;\n          relationAuthor?: string;\n          mappingTableName?: string;\n          userMappingTable?: UserMappingTable;\n          relatedTable?: UserRelatedTable;\n        },\n  ): ExtendedRelation {\n    let extendedRelation = this.extendedRelationDao.createObject();\n    let userMappingTable: UserMappingTable;\n    if (relationship instanceof ExtendedRelation) {\n      extendedRelation = relationship;\n      userMappingTable = UserMappingTable.create(extendedRelation.mapping_table_name);\n    } else {\n      userMappingTable = relationship.userMappingTable;\n\n      if (relationship.relationType) {\n        relationship.relationName = relationship.relationType.name;\n      }\n      if (relationship.relationAuthor) {\n        relationship.relationName = this.buildRelationName(relationship.relationAuthor, relationship.relationName);\n      }\n      if (relationship.mappingTableName) {\n        userMappingTable = UserMappingTable.create(relationship.mappingTableName);\n      }\n      if (relationship.relatedTable) {\n        this.createRelatedTable(relationship.relatedTable);\n        relationship.relatedTableName = relationship.relatedTable.getTableName();\n        relationship.relationName = relationship.relatedTable.relation_name;\n      }\n      extendedRelation.base_table_name = relationship.baseTableName;\n      extendedRelation.base_primary_column = this.getPrimaryKeyColumnName(relationship.baseTableName);\n      extendedRelation.related_table_name = relationship.relatedTableName;\n      extendedRelation.related_primary_column = this.getPrimaryKeyColumnName(relationship.relatedTableName);\n      extendedRelation.mapping_table_name = userMappingTable.getTableName();\n      extendedRelation.relation_name = relationship.relationName;\n    }\n    if (\n      !this.validateRelationship(\n        extendedRelation.base_table_name,\n        extendedRelation.related_table_name,\n        extendedRelation.relation_name,\n      )\n    ) {\n      return;\n    }\n    this.createUserMappingTable(userMappingTable);\n    const mappingTableRelations = this.extendedRelationDao.queryByMappingTableName(extendedRelation.mapping_table_name);\n    if (mappingTableRelations.length) {\n      return mappingTableRelations[0];\n    }\n    this.extendedRelationDao.create(extendedRelation);\n    return extendedRelation;\n  }\n  /**\n   * Get the primary key column name from the specified table\n   * @param  {string} tableName table name\n   * @return {string}\n   */\n  getPrimaryKeyColumnName(tableName: string): string {\n    const reader = new UserCustomTableReader(tableName);\n    const table = reader.readTable(this.geoPackage.database);\n    return table.getPkColumn().getName();\n  }\n  /**\n   * Adds a features relationship between the base feature and related feature\n   * table. Creates a default user mapping table if needed.\n   * @param  {module:extension/relatedTables~Relationship|module:extension/relatedTables~ExtendedRelation} relationship relationship to add\n   * @return {Promise<ExtendedRelation>}\n   */\n  addFeaturesRelationship(\n    relationship:\n      | ExtendedRelation\n      | {\n          relationType?: RelationType;\n          relationName?: string;\n          baseTableName?: string;\n          relatedTableName?: string;\n          relationAuthor?: string;\n          mappingTableName?: string;\n          userMappingTable?: UserMappingTable;\n          relatedTable?: UserRelatedTable;\n        },\n  ): ExtendedRelation {\n    if (relationship instanceof ExtendedRelation) {\n      relationship.relation_name = relationship.relation_name || RelationType.FEATURES.name;\n    } else {\n      relationship.relationType = RelationType.FEATURES;\n    }\n    return this.addRelationship(relationship);\n  }\n  /**\n   * Adds a tiles relationship between the base table and related tile\n   * table. Creates a default user mapping table if needed.\n   * @param  {module:extension/relatedTables~Relationship|module:extension/relatedTables~ExtendedRelation} relationship relationship to add\n   * @return {Promise<ExtendedRelation>}\n   */\n  addTilesRelationship(\n    relationship:\n      | ExtendedRelation\n      | {\n          relationType?: RelationType;\n          relationName?: string;\n          baseTableName?: string;\n          relatedTableName?: string;\n          relationAuthor?: string;\n          mappingTableName?: string;\n          userMappingTable?: UserMappingTable;\n          relatedTable?: UserRelatedTable;\n        },\n  ): ExtendedRelation {\n    if (relationship instanceof ExtendedRelation) {\n      relationship.relation_name = relationship.relation_name || RelationType.TILES.name;\n    } else {\n      relationship.relationType = RelationType.TILES;\n    }\n    return this.addRelationship(relationship);\n  }\n  /**\n   * Adds an attributes relationship between the base table and related attribute\n   * table. Creates a default user mapping table if needed.\n   * @param  {module:extension/relatedTables~Relationship|module:extension/relatedTables~ExtendedRelation} relationship relationship to add\n   * @return {Promise<ExtendedRelation>}\n   */\n  addAttributesRelationship(\n    relationship:\n      | ExtendedRelation\n      | {\n          relationType?: RelationType;\n          relationName?: string;\n          baseTableName?: string;\n          relatedTableName?: string;\n          relationAuthor?: string;\n          mappingTableName?: string;\n          userMappingTable?: UserMappingTable;\n          relatedTable?: UserRelatedTable;\n        },\n  ): ExtendedRelation {\n    if (relationship instanceof ExtendedRelation) {\n      relationship.relation_name = relationship.relation_name || RelationType.ATTRIBUTES.name;\n    } else {\n      relationship.relationType = RelationType.ATTRIBUTES;\n    }\n    return this.addRelationship(relationship);\n  }\n  /**\n   * Adds a simple attributes relationship between the base table and user\n   * simple attributes related table. Creates a default user mapping table and\n   * the simple attributes table if needed.\n   * @param  {module:extension/relatedTables~Relationship|module:extension/relatedTables~ExtendedRelation} relationship relationship to add\n   * @return {Promise<ExtendedRelation>}\n   */\n  addSimpleAttributesRelationship(\n    relationship:\n      | ExtendedRelation\n      | {\n          relationType?: RelationType;\n          relationName?: string;\n          baseTableName?: string;\n          relatedTableName?: string;\n          relationAuthor?: string;\n          mappingTableName?: string;\n          userMappingTable?: UserMappingTable;\n          relatedTable?: UserRelatedTable;\n        },\n  ): ExtendedRelation {\n    if (relationship instanceof ExtendedRelation) {\n      relationship.relation_name = relationship.relation_name || RelationType.SIMPLE_ATTRIBUTES.name;\n    } else {\n      relationship.relationType = RelationType.SIMPLE_ATTRIBUTES;\n    }\n    return this.addRelationship(relationship);\n  }\n  /**\n   * Adds a media relationship between the base table and user media related\n   * table. Creates a default user mapping table and the media table if\n   * needed.\n   * @param  {module:extension/relatedTables~Relationship|module:extension/relatedTables~ExtendedRelation} relationship relationship to add\n   * @return {Promise<ExtendedRelation>}\n   */\n  addMediaRelationship(\n    relationship:\n      | ExtendedRelation\n      | {\n          relationType?: RelationType;\n          relationName?: string;\n          baseTableName?: string;\n          relatedTableName?: string;\n          relationAuthor?: string;\n          mappingTableName?: string;\n          userMappingTable?: UserMappingTable;\n          relatedTable?: UserRelatedTable;\n        },\n  ): ExtendedRelation {\n    if (relationship instanceof ExtendedRelation) {\n      relationship.relation_name = relationship.relation_name || RelationType.MEDIA.name;\n    } else {\n      relationship.relationType = RelationType.MEDIA;\n    }\n    return this.addRelationship(relationship);\n  }\n  /**\n   * Remove a specific relationship from the GeoPackage\n   * @param  {module:extension/relatedTables~Relationship|module:extension/relatedTables~ExtendedRelation} relationship relationship to remove\n   * @return {Number} number of relationships removed\n   */\n  removeRelationship(\n    relationship:\n      | ExtendedRelation\n      | {\n          relationType?: RelationType;\n          relationName?: string;\n          baseTableName?: string;\n          relatedTableName?: string;\n          relationAuthor?: string;\n          mappingTableName?: string;\n          userMappingTable?: string;\n          relatedTable?: UserRelatedTable;\n        },\n  ): number {\n    let relationName: string;\n    let relatedTableName: string;\n    let baseTableName: string;\n    let userMappingTable: string;\n\n    if (relationship instanceof ExtendedRelation) {\n      relationName = relationship.relation_name;\n      relatedTableName = relationship.related_table_name;\n      baseTableName = relationship.base_table_name;\n      userMappingTable = relationship.mapping_table_name;\n    } else {\n      relationName = relationship.relationName;\n      relatedTableName = relationship.relatedTableName;\n      baseTableName = relationship.baseTableName;\n      userMappingTable = relationship.userMappingTable;\n      if (relationship.relationType) {\n        relationName = relationship.relationType.name;\n      }\n      if (relationship.relationAuthor) {\n        relationName = this.buildRelationName(relationship.relationAuthor, relationName);\n      }\n    }\n    if (this.extendedRelationDao.isTableExists()) {\n      const values = new ColumnValues();\n      values.addColumn(ExtendedRelationDao.COLUMN_BASE_TABLE_NAME, baseTableName);\n      values.addColumn(ExtendedRelationDao.COLUMN_RELATED_TABLE_NAME, relatedTableName);\n      values.addColumn(ExtendedRelationDao.COLUMN_RELATION_NAME, relationName);\n      values.addColumn(ExtendedRelationDao.COLUMN_MAPPING_TABLE_NAME, userMappingTable);\n\n      const iterator = this.extendedRelationDao.queryForFieldValues(values);\n      const tablesToDelete: string[] = [];\n      const relationsToDelete: ExtendedRelation[] = [];\n      for (const extendedRelation of iterator) {\n        tablesToDelete.push(extendedRelation.mapping_table_name as string);\n        relationsToDelete.push((extendedRelation as unknown) as ExtendedRelation);\n      }\n      tablesToDelete.forEach(table => {\n        this.geoPackage.deleteTable(table);\n      });\n      this.extensionsDao.deleteByExtensionAndTableName(RelatedTablesExtension.EXTENSION_NAME, userMappingTable);\n      for (const extendedRelation of relationsToDelete) {\n        this.extendedRelationDao.delete(extendedRelation);\n      }\n      return tablesToDelete.length;\n    }\n    return 0;\n  }\n  /**\n   * Create a default user mapping table and extension row if either does not\n   * exist. When not created, there is no guarantee that an existing table has\n   * the same schema as the provided tabled.\n   * @param  {string | UserMappingTable} userMappingTableOrName user mapping table or name\n   * @return {Promise<Boolean>}\n   */\n  createUserMappingTable(userMappingTableOrName: UserMappingTable | string): boolean {\n    let umt;\n    if (userMappingTableOrName instanceof UserMappingTable) {\n      umt = userMappingTableOrName;\n    } else {\n      umt = UserMappingTable.create(userMappingTableOrName);\n    }\n    this.getOrCreateMappingTable(umt.getTableName());\n    if (!this.geoPackage.isTable(umt.getTableName())) {\n      return !!this.geoPackage.tableCreator.createUserTable(umt);\n    }\n    return true;\n  }\n  /**\n   * Create a user related table if it does not exist. When not created, there\n   * is no guarantee that an existing table has the same schema as the\n   * provided tabled.\n   * @param  {module:extension/relatedTables~UserRelatedTable} relatedTable user related table\n   * @return {Boolean} true if the table now exists\n   */\n  createRelatedTable(relatedTable: UserRelatedTable): boolean {\n    if (!this.geoPackage.isTable(relatedTable.getTableName())) {\n      this.geoPackage.tableCreator.createUserTable(relatedTable);\n      const contents = new Contents();\n      contents.table_name = relatedTable.getTableName();\n      contents.data_type = relatedTable.data_type;\n      contents.identifier = relatedTable.getTableName();\n      this.geoPackage.contentsDao.create(contents);\n      const refreshed = this.geoPackage.contentsDao.refresh(contents);\n      relatedTable.setContents(refreshed);\n    }\n    return true;\n  }\n  /**\n   * Validate that the relation name is valid between the base and related tables\n   * @param  {string} baseTableName    base table name\n   * @param  {string} relatedTableName related table name\n   * @param  {string} relationName     relation name\n   * @return {Boolean}\n   */\n  validateRelationship(baseTableName: string, relatedTableName: string, relationName: string): boolean {\n    // Verify the base and related tables exist\n    if (!this.geoPackage.isTable(baseTableName)) {\n      console.log('Base relationship table does not exist: ' + baseTableName + ', Relation: ' + relationName);\n      return false;\n    }\n    if (!this.geoPackage.isTable(relatedTableName)) {\n      console.log('Related relationship table does not exist: ' + relatedTableName + ', Relation: ' + relationName);\n      return false;\n    }\n    // Verify spec defined relation types\n    const relationType = RelationType.fromName(relationName);\n    if (relationType) {\n      if (!this.geoPackage.isTableType(relationType.dataType, relatedTableName)) {\n        console.log(\n          'The related table must be a ' +\n            relationType.dataType +\n            ' table.  Related Table: ' +\n            relatedTableName +\n            ', Type: ' +\n            this.geoPackage.getTableType(relatedTableName),\n        );\n        return false;\n      }\n      return true;\n    }\n    return true;\n  }\n  /**\n   * Get the related id mappings for the base id\n   * @param  {string} mappingTableName mapping table name\n   * @param  {Number} baseId           base id\n   * @return {Number[]} ids of related items\n   */\n  getMappingsForBase(mappingTableName: string | ExtendedRelation, baseId: number): number[] {\n    const mappingDao = this.getMappingDao(mappingTableName);\n    const results = mappingDao.queryByBaseId(baseId);\n    const relatedIds = [];\n    for (let i = 0; i < results.length; i++) {\n      const row = mappingDao.getUserMappingRow(results[i]);\n      relatedIds.push(row.relatedId);\n    }\n    return relatedIds;\n  }\n  /**\n   * Get the related id mapping rows for the base id\n   * @param  {string} mappingTableName mapping table name\n   * @param  {Number} baseId           base id\n   * @return {module:extension/relatedTables~UserMappingRow[]} user mapping rows\n   */\n  getMappingRowsForBase(mappingTableName: string | ExtendedRelation, baseId: number): UserMappingRow[] {\n    const mappingDao = this.getMappingDao(mappingTableName);\n    const mappingRows: UserMappingRow[] = [];\n    const rows = mappingDao.queryByBaseId(baseId);\n    rows.forEach(row => {\n      mappingRows.push(mappingDao.getUserMappingRow(row));\n    });\n    return mappingRows;\n  }\n  /**\n   * Get the base id mappings for the base id\n   * @param  {string} mappingTableName mapping table name\n   * @param  {Number} relatedId           related id\n   * @return {Number[]} ids of base items\n   */\n  getMappingsForRelated(mappingTableName: string | ExtendedRelation, relatedId: number): number[] {\n    const mappingDao = this.getMappingDao(mappingTableName);\n    const results = mappingDao.queryByRelatedId(relatedId);\n    const baseIds = [];\n    for (let i = 0; i < results.length; i++) {\n      const row = mappingDao.getUserMappingRow(results[i]);\n      baseIds.push(row.baseId);\n    }\n    return baseIds;\n  }\n  /**\n   * Returns a {module:extension/relatedTables~MediaDao} from the table specified\n   * @param  {string|MediaTable|ExtendedRelation} tableName either a table name or a MediaTable\n   * @return {module:extension/relatedTables~MediaDao}\n   */\n  getMediaDao(tableName: string | MediaTable | ExtendedRelation): MediaDao<MediaRow> {\n    let table;\n    if (tableName instanceof MediaTable) {\n      table = tableName.getTableName();\n    } else if (tableName instanceof ExtendedRelation) {\n      table = tableName.related_table_name;\n    } else if (typeof tableName === 'string') {\n      table = tableName;\n    }\n    const reader = new UserCustomTableReader(table);\n    const userTable = reader.readTable(this.geoPackage.database);\n    table = new MediaTable(userTable.getTableName(), userTable.getUserColumns().getColumns(), MediaTable.requiredColumns());\n    table.setContents(this.geoPackage.contentsDao.queryForId(userTable.getTableName()));\n    return new MediaDao(this.geoPackage, table);\n  }\n  /**\n   * Returns a {module:extension/relatedTables~SimpleAttributesDao} from the table specified\n   * @param  {string|SimpleAttributesTable|ExtendedRelation} tableName either a table name or a SimpleAttributesDao\n   * @return {module:extension/relatedTables~SimpleAttributesDao}\n   */\n  getSimpleAttributesDao(\n    tableName: string | ExtendedRelation | SimpleAttributesTable,\n  ): SimpleAttributesDao<SimpleAttributesRow> {\n    let table;\n    if (tableName instanceof SimpleAttributesTable && tableName.TABLE_TYPE === 'simple_attributes') {\n      table = tableName;\n    } else {\n      if (tableName instanceof ExtendedRelation) {\n        table = tableName.related_table_name;\n      }\n      const reader = new UserCustomTableReader(table);\n      const userTable = reader.readTable(this.geoPackage.database);\n      table = new SimpleAttributesTable(\n        userTable.getTableName(),\n        userTable.getUserColumns().getColumns(),\n        SimpleAttributesTable.requiredColumns(),\n      );\n      table.setContents(this.geoPackage.contentsDao.queryForId(table.getTableName()));\n    }\n    return new SimpleAttributesDao(this.geoPackage, table);\n  }\n  /**\n   * Builds the custom relation name with the author\n   * @param  {string} author author\n   * @param  {string} name   name\n   * @return {string}\n   */\n  buildRelationName(author: string, name: string): string {\n    return 'x-' + author + '_' + name;\n  }\n  /**\n   * Remove all traces of the extension\n   */\n  removeExtension(): void {\n    if (this.extendedRelationDao.isTableExists()) {\n      const extendedRelations = this.extendedRelationDao.queryForAll();\n      extendedRelations.forEach(\n        function(relation: { mapping_table_name: string }): boolean {\n          return this.geoPackage.deleteTable(relation.mapping_table_name);\n        }.bind(this),\n      );\n      this.geoPackage.deleteTable(ExtendedRelationDao.TABLE_NAME);\n    }\n    if (this.extensionsDao.isTableExists()) {\n      this.extensionsDao.deleteByExtension(RelatedTablesExtension.EXTENSION_NAME);\n    }\n  }\n  /**\n   * Determine if the GeoPackage has the extension\n   * @param  {String} [mappingTableName] mapping table name to check, if not specified, this checks for any mapping table name\n   * @return {Boolean}\n   */\n  has(mappingTableName?: string): boolean {\n    if (mappingTableName) {\n      return (\n        this.hasExtension(RelatedTablesExtension.EXTENSION_NAME, ExtendedRelationDao.TABLE_NAME, null) &&\n        this.hasExtension(RelatedTablesExtension.EXTENSION_NAME, mappingTableName, null)\n      ) || (\n        this.hasExtension(RelatedTablesExtension.EXTENSION_RELATED_TABLES_NAME_NO_AUTHOR, ExtendedRelationDao.TABLE_NAME, null) &&\n        this.hasExtension(RelatedTablesExtension.EXTENSION_RELATED_TABLES_NAME_NO_AUTHOR, mappingTableName, null)\n      );\n    }\n    return this.hasExtension(RelatedTablesExtension.EXTENSION_NAME, ExtendedRelationDao.TABLE_NAME, null) ||\n      this.hasExtension(RelatedTablesExtension.EXTENSION_RELATED_TABLES_NAME_NO_AUTHOR, ExtendedRelationDao.TABLE_NAME, null);\n  }\n  static RelationshipBuilder(): any {\n    return OptionBuilder.build([\n      'baseTableName',\n      'relatedTableName',\n      'userMappingTable',\n      'mappingTableName',\n      'relationName',\n      'relationAuthor',\n      'relationType',\n      'relatedTable',\n    ]);\n  }\n  removeRelationships(table: string) {\n    try {\n      if (this.extendedRelationDao.isTableExists()) {\n        let extendedRelations = this.extendedRelationDao.getTableRelations(table);\n        extendedRelations.forEach(extendedRelation => {\n          this.removeRelationship(extendedRelation);\n        });\n      }\n    } catch (e) {\n      throw new Error(\"Failed to remove relationships for table: \" + table);\n    }\n  }\n  /**\n   * Remove all relationships with the mapping table\n   * @param mappingTable mapping table\n   */\n  removeRelationshipsWithMappingTable(mappingTable: string) {\n    try {\n      if (this.extendedRelationDao.isTableExists()) {\n        const extendedRelations = this.extendedRelationDao.queryByMappingTableName(mappingTable);\n        extendedRelations.forEach(extendedRelation => {\n          this.removeRelationship(extendedRelation);\n        });\n      }\n    } catch (e) {\n      throw new Error(\"Failed to remove relationships for mapping table: \" + mappingTable);\n    }\n  }\n}\n","import { UserDao } from '../../user/userDao';\nimport { MediaTable } from './mediaTable';\nimport { MediaRow } from './mediaRow';\nimport { GeoPackage } from '../../geoPackage';\nimport { DBValue } from '../../db/dbAdapter';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\nimport { UserCustomTableReader } from '../../user/custom/userCustomTableReader';\n\n/**\n * MediaDao module.\n * @module extension/relatedTables\n */\n\n/**\n * User Media DAO for reading user media data tables\n * @class\n * @param  {module:db/geoPackageConnection~GeoPackageConnection} connection        connection\n * @param  {string} table table name\n */\nexport class MediaDao<T extends MediaRow> extends UserDao<MediaRow> {\n  protected _table: MediaTable;\n  constructor(geoPackage: GeoPackage, table: MediaTable) {\n    super(geoPackage, table);\n  }\n  /**\n   * Create a media row with the column types and values\n   * @param  {module:db/geoPackageDataType[]} columnTypes  column types\n   * @param  {module:dao/columnValues~ColumnValues[]} values      values\n   * @return {module:extension/relatedTables~MediaRow}             media row\n   */\n  newRow(columnTypes?: { [key: string]: GeoPackageDataType }, values?: Record<string, DBValue>): MediaRow {\n    return new MediaRow(this.table, columnTypes, values);\n  }\n  /**\n   * Gets the media table\n   * @return {module:extension/relatedTables~MediaTable}\n   */\n  get table(): MediaTable {\n    return this._table;\n  }\n  /**\n   * Reads the table specified from the geopackage\n   * @param  {module:geoPackage~GeoPackage} geoPackage      geopackage object\n   * @param  {string} tableName       table name\n   * @return {module:user/userDao~UserDao}\n   */\n  static readTable(geoPackage: GeoPackage, tableName: string): MediaDao<MediaRow> {\n    const reader = new UserCustomTableReader(tableName);\n    const userTable = reader.readTable(geoPackage.database) as MediaTable;\n    return new MediaDao(geoPackage, userTable);\n  }\n}\n","import { MediaTable } from './mediaTable';\nimport { UserRow } from '../../user/userRow';\nimport { ImageUtils } from '../../tiles/imageUtils';\nimport { DBValue } from '../../db/dbAdapter';\nimport { UserColumn } from '../../user/userColumn';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\n\n/**\n * MediaRow module.\n * @module extension/relatedTables\n */\n\n/**\n * User Media Row containing the values from a single result set row\n * @class\n * @extends UserRow\n * @param  {module:extension/relatedTables~MediaTable} mediaTable  media table\n * @param  {module:db/geoPackageDataType[]} columnTypes  column types\n * @param  {module:dao/columnValues~ColumnValues[]} values      values\n */\nexport class MediaRow extends UserRow {\n  constructor(\n    public mediaTable: MediaTable,\n    columnTypes?: { [key: string]: GeoPackageDataType },\n    values?: Record<string, DBValue>,\n  ) {\n    super(mediaTable, columnTypes, values);\n  }\n  /**\n   * Get the data column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  get dataColumn(): UserColumn {\n    return this.mediaTable.dataColumn;\n  }\n  /**\n   * Gets the data\n   * @return {Buffer}\n   */\n  get data(): Buffer {\n    return this.getValueWithColumnName(this.dataColumn.name);\n  }\n  /**\n   * Sets the data for the row\n   * @param  {Buffer} data data\n   */\n  set data(data: Buffer) {\n    this.setValueWithColumnName(this.dataColumn.name, data);\n  }\n  /**\n   * Get the data image\n   *\n   * @return {Promise<Image>}\n   */\n  get dataImage(): Promise<{image: any, width: number, height: number}> {\n    return ImageUtils.getImage(this.data, this.contentType);\n  }\n  /**\n   * Get the scaled data image\n   * @param {Number} scale\n   * @return {Promise<Image>}\n   */\n  getScaledDataImage(scale: number): Promise<{image: any, width: number, height: number}> {\n    return ImageUtils.getScaledImage(this.data, scale);\n  }\n\n  /**\n   * Get the content type column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  get contentTypeColumn(): UserColumn {\n    return this.mediaTable.contentTypeColumn;\n  }\n  /**\n   * Gets the content type\n   * @return {string}\n   */\n  get contentType(): string {\n    return this.getValueWithColumnName(this.contentTypeColumn.name);\n  }\n  /**\n   * Sets the content type for the row\n   * @param  {string} contentType contentType\n   */\n  set contentType(contentType: string) {\n    this.setValueWithColumnName(this.contentTypeColumn.name, contentType);\n  }\n}\n","/**\n * mediaTable module.\n * @module extension/relatedTables\n */\nimport { UserRelatedTable } from './userRelatedTable';\nimport { RelationType } from './relationType';\nimport { UserColumn } from '../../user/userColumn';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\n\n/**\n * Media Requirements Class User-Defined Related Data Table\n * @class\n * @extends UserRelatedTable\n * @param  {string} tableName table name\n * @param  {module:user/userColumn~UserColumn[]} columns   media columns\n * @param {string[]} requiredColumns required column names\n */\nexport class MediaTable extends UserRelatedTable {\n  public static readonly RELATION_TYPE: RelationType = RelationType.MEDIA;\n  public static readonly COLUMN_ID: string = 'id';\n  public static readonly COLUMN_DATA: string = 'data';\n  public static readonly COLUMN_CONTENT_TYPE: string = 'content_type';\n\n  readonly TABLE_TYPE: string = 'media';\n\n  constructor(tableName: string, columns?: UserColumn[], requiredColumns?: string[]) {\n    super(tableName, MediaTable.RELATION_TYPE.name, MediaTable.RELATION_TYPE.dataType, columns, requiredColumns);\n  }\n\n  get tableType(): string {\n    return this.TABLE_TYPE;\n  }\n  /**\n   * Get the data column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  get dataColumn(): UserColumn {\n    return this.getColumnWithColumnName(MediaTable.COLUMN_DATA);\n  }\n  /**\n   * Get the content type column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  get contentTypeColumn(): UserColumn {\n    return this.getColumnWithColumnName(MediaTable.COLUMN_CONTENT_TYPE);\n  }\n  /**\n   * Create a media table with a minimum required columns followed by the additional columns\n   * @param  {string} tableName         name of the table\n   * @param  {module:user/userColumn~UserColumn[]} [additionalColumns] additional columns\n   * @return {module:extension/relatedTables~MediaTable}\n   */\n  static create(tableName: string, additionalColumns?: UserColumn[]): MediaTable {\n    let columns = MediaTable.createRequiredColumns();\n    if (additionalColumns) {\n      columns = columns.concat(additionalColumns);\n    }\n    return new MediaTable(tableName, columns, MediaTable.requiredColumns());\n  }\n  /**\n   * Get the required columns\n   * @param  {string} [idColumnName=id] id column name\n   * @return {string[]}\n   */\n  static requiredColumns(idColumnName = MediaTable.COLUMN_ID): string[] {\n    const requiredColumns = [];\n    requiredColumns.push(idColumnName);\n    requiredColumns.push(MediaTable.COLUMN_DATA);\n    requiredColumns.push(MediaTable.COLUMN_CONTENT_TYPE);\n    return requiredColumns;\n  }\n  /**\n   * Get the number of required columns\n   * @return {Number}\n   */\n  static numRequiredColumns(): number {\n    return MediaTable.requiredColumns().length;\n  }\n  /**\n   * Create the required columns\n   * @param  {Number} [startingIndex=0] starting index of the required columns\n   * @param  {string} [idColumnName=id]  id column name\n   * @return {module:user/userColumn~UserColumn[]}\n   */\n  static createRequiredColumns(startingIndex = 0, idColumnName = MediaTable.COLUMN_ID): UserColumn[] {\n    return [\n      MediaTable.createIdColumn(startingIndex++, idColumnName),\n      MediaTable.createDataColumn(startingIndex++),\n      MediaTable.createContentTypeColumn(startingIndex++),\n    ];\n  }\n  /**\n   * Create the primary key id column\n   * @param  {Number} index        index of the column\n   * @param  {string} idColumnName name of the id column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  static createIdColumn(index: number, idColumnName: string): UserColumn {\n    return UserColumn.createPrimaryKeyColumn(index, idColumnName);\n  }\n  /**\n   * Create the data column\n   * @param  {Number} index        index of the column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  static createDataColumn(index: number): UserColumn {\n    return UserColumn.createColumn(index, MediaTable.COLUMN_DATA, GeoPackageDataType.BLOB, true);\n  }\n  /**\n   * Create the content type column\n   * @param  {Number} index        index of the column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  static createContentTypeColumn(index: number): UserColumn {\n    return UserColumn.createColumn(index, MediaTable.COLUMN_CONTENT_TYPE, GeoPackageDataType.TEXT, true);\n  }\n}\n","/**\n * @module extension/relatedTables\n */\n\nimport { ContentsDataType } from '../../core/contents/contentsDataType';\n\n/**\n * Spec supported User-Defined Related Data Tables\n * @class\n */\nexport class RelationType {\n  /**\n   * Link features with other features\n   * @type {Object}\n   */\n  public static readonly FEATURES: RelationType = new RelationType('features', ContentsDataType.FEATURES);\n\n  /**\n   * Relate sets of tabular text or numeric data\n   * @type {Object}\n   */\n  public static readonly SIMPLE_ATTRIBUTES: RelationType = new RelationType('simple_attributes', ContentsDataType.ATTRIBUTES);\n\n  /**\n   * Relate features or attributes to multimedia files such as pictures and videos\n   * @type {Object}\n   */\n  public static readonly MEDIA: RelationType = new RelationType('media', ContentsDataType.ATTRIBUTES);\n\n  /**\n   * Attribute type relation\n   * @type {Object}\n   */\n  public static readonly ATTRIBUTES: RelationType = new RelationType('attributes', ContentsDataType.ATTRIBUTES);\n\n  /**\n   * Tile type relation\n   * @type {Object}\n   */\n  public static readonly TILES: RelationType = new RelationType('tiles', ContentsDataType.TILES);\n\n  constructor(public name: string, public dataType: string) {}\n  /**\n   * Get the relation type from the name\n   * @param  {string} name name\n   * @return {module:extension/relatedTables~RelationType}\n   */\n  static fromName(name: string): RelationType {\n    return RelationType[name.toUpperCase() as keyof typeof RelationType] as RelationType;\n  }\n}\n","/**\n * SimpleAttributesDao module.\n * @module extension/relatedTables\n */\nimport { UserDao } from '../../user/userDao';\nimport { SimpleAttributesTable } from './simpleAttributesTable';\nimport { SimpleAttributesRow } from './simpleAttributesRow';\nimport { GeoPackage } from '../../geoPackage';\nimport { DBValue } from '../../db/dbAdapter';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\n\n/**\n * User Simple Attributes DAO for reading user simple attributes data tables\n * @class\n * @extends UserDao\n * @param  {module:db/geoPackageConnection~GeoPackageConnection} connection        connection\n * @param  {string} table table name\n */\nexport class SimpleAttributesDao<T extends SimpleAttributesRow> extends UserDao<SimpleAttributesRow> {\n  constructor(geoPackage: GeoPackage, table: SimpleAttributesTable) {\n    super(geoPackage, table);\n  }\n  /**\n   * Create a new {module:extension/relatedTables~SimpleAttributesRow} with the column types and values\n   * @param  {module:db/geoPackageDataType[]} columnTypes  column types\n   * @param  {module:dao/columnValues~ColumnValues[]} values      values\n   * @return {module:extension/relatedTables~SimpleAttributesRow}             simple attributes row\n   */\n  newRow(columnTypes?: { [key: string]: GeoPackageDataType }, values?: Record<string, DBValue>): SimpleAttributesRow {\n    return new SimpleAttributesRow(this.table, columnTypes, values);\n  }\n  /**\n   * Gets the {module:extension/relatedTables~SimpleAttributesTable}\n   * @return {module:extension/relatedTables~SimpleAttributesTable}\n   */\n  get table(): SimpleAttributesTable {\n    return this._table as SimpleAttributesTable;\n  }\n  /**\n   * Get the simple attributes rows from this table by ids\n   * @param  {Number[]} ids array of ids\n   * @return {module:extension/relatedTables~SimpleAttributesRow[]}\n   */\n  getRows(ids: number[]): SimpleAttributesRow[] {\n    const simpleAttributesRows = [];\n    for (let i = 0; i < ids.length; i++) {\n      const row = this.queryForId(ids[i]);\n      if (row) {\n        simpleAttributesRows.push(row as SimpleAttributesRow);\n      }\n    }\n    return simpleAttributesRows;\n  }\n\n  static readTable(geoPackage: GeoPackage, tableName: string) {\n    return geoPackage.relatedTablesExtension.getSimpleAttributesDao(tableName);\n  }\n}\n","/**\n * SimpleAttributesRow module.\n * @module extension/relatedTables\n */\n\nimport { UserRow } from '../../user/userRow';\nimport { SimpleAttributesTable } from './simpleAttributesTable';\nimport { DBValue } from '../../db/dbAdapter';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\n\n/**\n * User Simple Attributes Row containing the values from a single result set row\n * @class\n * @extends UserRow\n * @param  {module:extension/relatedTables~SimpleAttributesTable} simpleAttributesTable simple attributes table\n * @param  {module:db/geoPackageDataType[]} columnTypes  column types\n * @param  {module:dao/columnValues~ColumnValues[]} values      values\n */\nexport class SimpleAttributesRow extends UserRow {\n  constructor(\n    public simpleAttributesTable: SimpleAttributesTable,\n    columnTypes?: { [key: string]: GeoPackageDataType },\n    values?: Record<string, DBValue>,\n  ) {\n    super(simpleAttributesTable, columnTypes, values);\n  }\n}\n","/**\n * simpleAttributesTable module.\n * @module extension/relatedTables\n */\n\nimport { UserRelatedTable } from './userRelatedTable';\nimport { RelationType } from './relationType';\nimport { UserColumn } from '../../user/userColumn';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\n/**\n * Simple Attributes Requirements Class User-Defined Related Data Table\n * @class\n * @extends UserRelatedTable\n * @param  {string} tableName table name\n * @param  {module:user/userColumn~UserColumn[]} columns   attribute columns\n * @param {string[]} requiredColumns required column names\n */\nexport class SimpleAttributesTable extends UserRelatedTable {\n  public static readonly RELATION_TYPE: RelationType = RelationType.SIMPLE_ATTRIBUTES;\n  public static readonly COLUMN_ID: string = 'id';\n\n  readonly TABLE_TYPE: string = 'simple_attributes';\n\n  constructor(tableName: string, columns?: UserColumn[], requiredColumns?: string[]) {\n    super(\n      tableName,\n      SimpleAttributesTable.RELATION_TYPE.name,\n      SimpleAttributesTable.RELATION_TYPE.dataType,\n      columns,\n      requiredColumns,\n    );\n    this.validateColumns();\n  }\n  /**\n   * Validate that Simple Attributes columns to verify at least one non id\n   * column exists and that all columns are simple data types\n   */\n  validateColumns(): boolean {\n    const columns = this.columns;\n    if (columns.getColumns().length < 2) {\n      throw new Error('Simple Attributes Tables require at least one non id column');\n    }\n    for (let i = 0; i < columns.getColumns().length; i++) {\n      const column = columns.getColumns()[i];\n      if (!SimpleAttributesTable.isSimple(column)) {\n        throw new Error(\n          'Simple Attributes Tables only support simple data types. Column: ' +\n            column.name +\n            ', Non Simple Data Type: ' +\n            column.dataType,\n        );\n      }\n    }\n    return true;\n  }\n  /**\n   * Create a simple attributes table with the columns\n   * @param  {string} tableName name of the table\n   * @param  {module:user/userColumn~UserColumn[]} additionalColumns additional columns\n   * @return {module:extension/relatedTables~SimpleAttributesTable}\n   */\n  static create(tableName: string, additionalColumns?: UserColumn[]): SimpleAttributesTable {\n    let tableColumns = SimpleAttributesTable.createRequiredColumns(0);\n    if (additionalColumns) {\n      tableColumns = tableColumns.concat(additionalColumns);\n    }\n    return new SimpleAttributesTable(tableName, tableColumns, SimpleAttributesTable.requiredColumns());\n  }\n  /**\n   * Get the required columns\n   * @param  {string} [idColumnName=id] id column name\n   * @return {string[]}\n   */\n  static requiredColumns(idColumnName = SimpleAttributesTable.COLUMN_ID): string[] {\n    const requiredColumns = [];\n    requiredColumns.push(idColumnName);\n    return requiredColumns;\n  }\n  /**\n   * Get the number of required columns\n   * @return {Number}\n   */\n  static numRequiredColumns(): number {\n    return SimpleAttributesTable.requiredColumns().length;\n  }\n  /**\n   * Create the required columns\n   * @param  {Number} [startingIndex=0] starting index of the required columns\n   * @param  {string} [idColumnName=id]  id column name\n   * @return {module:user/userColumn~UserColumn[]}\n   */\n  static createRequiredColumns(startingIndex = 0, idColumnName = 'id'): UserColumn[] {\n    return [SimpleAttributesTable.createIdColumn(startingIndex++, idColumnName || SimpleAttributesTable.COLUMN_ID)];\n  }\n  /**\n   * Create the primary key id column\n   * @param  {Number} index        index of the column\n   * @param  {string} idColumnName name of the id column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  static createIdColumn(index: number, idColumnName: string): UserColumn {\n    return UserColumn.createPrimaryKeyColumn(index, idColumnName);\n  }\n  /**\n   * Determine if the column is a simple column\n   * @param  {module:user/userColumn~UserColumn} column column to check\n   * @return {Boolean}\n   */\n  static isSimple(column: UserColumn): boolean {\n    return column.notNull && SimpleAttributesTable.isSimpleDataType(column.dataType);\n  }\n  /**\n   * Determine if the data type is a simple type: TEXT, INTEGER, or REAL\n   * @param {module:db/geoPackageDataType~GPKGDataType} dataType\n   * @return {Boolean}\n   */\n  static isSimpleDataType(dataType: GeoPackageDataType): boolean {\n    return dataType !== GeoPackageDataType.BLOB;\n  }\n}\n","/**\n * @module extension/relatedTables\n */\nimport { UserCustomDao } from '../../user/custom/userCustomDao';\nimport { GeoPackage } from '../../geoPackage';\nimport { UserMappingTable } from './userMappingTable';\nimport { UserMappingRow } from './userMappingRow';\nimport { ColumnValues } from '../../dao/columnValues';\nimport { UserRow } from '../../user/userRow';\nimport { DBValue } from '../../db/dbAdapter';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\n\n/**\n * User Mapping DAO for reading user mapping data tables\n * @class\n * @param  {string} table table name\n * @param  {module:geoPackage~GeoPackage} geoPackage      geopackage object\n * @param {UserMappingTable} [userMappingTable]\n */\nexport class UserMappingDao<T extends UserMappingRow> extends UserCustomDao<UserMappingRow> {\n  constructor(\n    userCustomDao: UserCustomDao<UserMappingRow>,\n    geoPackage: GeoPackage,\n    userMappingTable?: UserMappingTable,\n  ) {\n    super(\n      geoPackage,\n      userMappingTable || UserMappingDao.createMappingTable(userCustomDao),\n    );\n  }\n  /**\n   * Create a new {module:user/custom~UserCustomTable}\n   * @param  {module:user/custom~UserCustomDao} userCustomDao\n   * @return {module:user/custom~UserCustomTable} userCustomTable user custom table\n   */\n  static createMappingTable(userCustomDao: UserCustomDao<UserRow>): UserMappingTable {\n    return new UserMappingTable(userCustomDao.table.getTableName(), userCustomDao.table.getUserColumns().getColumns(), UserMappingTable.requiredColumns())\n  }\n  /**\n   * Gets the {module:extension/relatedTables~UserMappingTable}\n   * @return {module:extension/relatedTables~UserMappingTable}\n   */\n  get table(): UserMappingTable {\n    return this._table as UserMappingTable;\n  }\n  /**\n   * Create a user mapping row\n   * @param  {module:db/geoPackageDataType[]} columnTypes  column types\n   * @param  {module:dao/columnValues~ColumnValues[]} values      values\n   * @return {module:extension/relatedTables~UserMappingRow}             user mapping row\n   */\n  newRow(columnTypes?: { [key: string]: GeoPackageDataType }, values?: Record<string, DBValue>): UserMappingRow {\n    return new UserMappingRow(this.table, columnTypes, values);\n  }\n  /**\n   * Gets the user mapping row from the result\n   * @param  {Object} result db result\n   * @return {module:extension/relatedTables~UserMappingRow}             user mapping row\n   */\n  getUserMappingRow(result: Record<string, DBValue>): UserMappingRow {\n    return this.getRow(result) as UserMappingRow;\n  }\n  /**\n   * Query by base id\n   * @param  {(UserMappingRow | Number)} baseId base id\n   * @return {Object[]}\n   */\n  queryByBaseId(baseId: UserMappingRow | number): Record<string, DBValue>[] {\n    return this.queryForAllEq(\n      UserMappingTable.COLUMN_BASE_ID,\n      baseId instanceof UserMappingRow ? baseId.baseId : baseId,\n    );\n  }\n  /**\n   * Query by related id\n   * @param  {(Number & UserMappingRow)} relatedId related id\n   * @return {Object[]}\n   */\n  queryByRelatedId(relatedId: UserMappingRow | number): Record<string, DBValue>[] {\n    return this.queryForAllEq(\n      UserMappingTable.COLUMN_RELATED_ID,\n      relatedId instanceof UserMappingRow ? relatedId.relatedId : relatedId,\n    );\n  }\n  /**\n   * Query by base id and related id\n   * @param  {(UserMappingRow | Number)} baseId base id\n   * @param  {(UserMappingRow | Number)} [relatedId] related id\n   * @return {Iterable<any>}\n   */\n  queryByIds(\n    baseId: UserMappingRow | number,\n    relatedId?: UserMappingRow | number,\n  ): IterableIterator<Record<string, DBValue>> {\n    const values = new ColumnValues();\n    values.addColumn(UserMappingTable.COLUMN_BASE_ID, baseId instanceof UserMappingRow ? baseId.baseId : baseId);\n    if (relatedId !== undefined) {\n      values.addColumn(\n        UserMappingTable.COLUMN_RELATED_ID,\n        relatedId instanceof UserMappingRow ? relatedId.relatedId : relatedId,\n      );\n    }\n    return this.queryForFieldValues(values);\n  }\n  /**\n   * The unique related ids\n   * @return {Number[]}\n   */\n  uniqueRelatedIds(): { related_id: number }[] {\n    let query = 'SELECT DISTINCT ';\n    query += UserMappingTable.COLUMN_RELATED_ID;\n    query += ' FROM ';\n    query += '\\'' + this.gpkgTableName + '\\'';\n    return this.connection.all(query);\n  }\n  /**\n   * Count user mapping rows by base id and related id\n   * @param  {(UserMappingRow | Number)} baseId    base id\n   * @param  {(UserMappingRow | Number)} [relatedId] related id\n   * @return {Number}\n   */\n  countByIds(baseId: UserMappingRow | number, relatedId?: UserMappingRow | number): number {\n    const values = new ColumnValues();\n    values.addColumn(UserMappingTable.COLUMN_BASE_ID, baseId instanceof UserMappingRow ? baseId.baseId : baseId);\n    if (relatedId !== undefined) {\n      values.addColumn(\n        UserMappingTable.COLUMN_RELATED_ID,\n        relatedId instanceof UserMappingRow ? relatedId.relatedId : relatedId,\n      );\n    }\n    return this.count(values);\n  }\n  /**\n   * Delete by base id\n   * @param  {(UserMappingRow | Number)} baseId base id\n   * @return {Number} number of deleted rows\n   */\n  deleteByBaseId(baseId: UserMappingRow | number): number {\n    let where = '';\n    where += this.buildWhereWithFieldAndValue(\n      UserMappingTable.COLUMN_BASE_ID,\n      baseId instanceof UserMappingRow ? baseId.baseId : baseId,\n    );\n    const whereArgs = this.buildWhereArgs([baseId instanceof UserMappingRow ? baseId.baseId : baseId]);\n    return this.deleteWhere(where, whereArgs);\n  }\n  /**\n   * Delete by related id\n   * @param  {(UserMappingRow | Number)} relatedId related id\n   * @return {Number} number of deleted rows\n   */\n  deleteByRelatedId(relatedId: UserMappingRow | number): number {\n    let where = '';\n    where += this.buildWhereWithFieldAndValue(\n      UserMappingTable.COLUMN_RELATED_ID,\n      relatedId instanceof UserMappingRow ? relatedId.relatedId : relatedId,\n    );\n    const whereArgs = this.buildWhereArgs([relatedId instanceof UserMappingRow ? relatedId.relatedId : relatedId]);\n    return this.deleteWhere(where, whereArgs);\n  }\n  /**\n   * Delete by base id and related id\n   * @param  {(UserMappingRow | Number)} baseId    base id\n   * @param  {(UserMappingRow | Number)} [relatedId] related id\n   * @return {Number} number of deleted rows\n   */\n  deleteByIds(baseId: UserMappingRow | number, relatedId?: UserMappingRow | number): number {\n    let where = '';\n    const whereParams = [baseId instanceof UserMappingRow ? baseId.baseId : baseId];\n    where += this.buildWhereWithFieldAndValue(\n      UserMappingTable.COLUMN_BASE_ID,\n      baseId instanceof UserMappingRow ? baseId.baseId : baseId,\n    );\n    if (relatedId !== undefined) {\n      where += ' and ';\n      where += this.buildWhereWithFieldAndValue(\n        UserMappingTable.COLUMN_RELATED_ID,\n        relatedId instanceof UserMappingRow ? relatedId.relatedId : relatedId,\n      );\n      whereParams.push(relatedId instanceof UserMappingRow ? relatedId.relatedId : relatedId);\n    }\n    const whereArgs = this.buildWhereArgs(whereParams);\n    return this.deleteWhere(where, whereArgs);\n  }\n}\n","import { UserMappingTable } from './userMappingTable';\nimport { UserRow } from '../../user/userRow';\nimport { DBValue } from '../../db/dbAdapter';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\nimport { UserColumn } from '../../user/userColumn';\n\n/**\n * UserMappingRow module.\n * @module extension/relatedTables\n */\n\n/**\n * User Mapping Row containing the values from a single result set row\n * @class\n * @extends UserRow\n * @param  {module:extension/relatedTables~UserMappingTable} table user mapping table\n * @param  {module:db/geoPackageDataType[]} columnTypes  column types\n * @param  {module:dao/columnValues~ColumnValues[]} values      values\n */\nexport class UserMappingRow extends UserRow {\n  row: UserRow;\n  constructor(\n    public table: UserMappingTable,\n    columnTypes?: { [key: string]: GeoPackageDataType },\n    values?: Record<string, DBValue>,\n  ) {\n    super(table, columnTypes, values);\n  }\n  /**\n   * Get the base id column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  get baseIdColumn(): UserColumn {\n    return this.table.baseIdColumn;\n  }\n  /**\n   * Gets the base id\n   * @return {Number}\n   */\n  get baseId(): number {\n    return this.getValueWithColumnName(this.baseIdColumn.name);\n  }\n  /**\n   * Sets the base id\n   * @param  {Number} baseId base id\n   */\n  set baseId(baseId: number) {\n    this.setValueWithColumnName(this.baseIdColumn.name, baseId);\n  }\n  /**\n   * Get the related id column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  get relatedIdColumn(): UserColumn {\n    return this.table.relatedIdColumn;\n  }\n  /**\n   * Gets the related id\n   * @return {Number}\n   */\n  get relatedId(): number {\n    return this.getValueWithColumnName(this.relatedIdColumn.name);\n  }\n  /**\n   * Sets the related id\n   * @param  {Number} relatedId related id\n   */\n  set relatedId(relatedId: number) {\n    this.setValueWithColumnName(this.relatedIdColumn.name, relatedId);\n  }\n}\n","/**\n * userMappingTable module.\n * @module extension/relatedTables\n */\nimport { UserColumn } from '../../user/userColumn';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\nimport { UserCustomTable } from '../../user/custom/userCustomTable';\n\n/**\n * Contains user mapping table factory and utility methods\n * @class\n * @param  {string} tableName table name\n * @param  {module:user/userColumn~UserColumn[]} columns   user mapping columns\n */\nexport class UserMappingTable extends UserCustomTable {\n  public static readonly COLUMN_BASE_ID: string = 'base_id';\n  public static readonly COLUMN_RELATED_ID: string = 'related_id';\n\n  get tableType(): string {\n    return 'userMappingTable';\n  }\n  /**\n   * Get the base id column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  get baseIdColumn(): UserColumn {\n    return this.getColumnWithColumnName(UserMappingTable.COLUMN_BASE_ID);\n  }\n  /**\n   * Get the related id column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  get relatedIdColumn(): UserColumn {\n    return this.getColumnWithColumnName(UserMappingTable.COLUMN_RELATED_ID);\n  }\n  /**\n   * Creates a user mapping table with the minimum required columns followed by the additional columns\n   * @param  {string} tableName name of the table\n   * @param  {module:user/userColumn~UserColumn[]} [columns] additional columns\n   * @return {module:extension/relatedTables~UserMappingTable}\n   */\n  static create(tableName: string, columns?: UserColumn[]): UserMappingTable {\n    let allColumns = UserMappingTable.createRequiredColumns(0);\n    if (columns) {\n      allColumns = allColumns.concat(columns);\n    }\n    return new UserMappingTable(tableName, allColumns, UserMappingTable.requiredColumns());\n  }\n  /**\n   * Get the number of required columns\n   * @return {Number}\n   */\n  static numRequiredColumns(): number {\n    return UserMappingTable.createRequiredColumns(0).length;\n  }\n  /**\n   * Create the required columns\n   * @param  {Number} [startingIndex=0] starting index of the required columns\n   * @return {module:user/userColumn~UserColumn[]}\n   */\n  static createRequiredColumns(startingIndex = 0): UserColumn[] {\n    return [\n      UserMappingTable.createBaseIdColumn(startingIndex++),\n      UserMappingTable.createRelatedIdColumn(startingIndex),\n    ];\n  }\n  /**\n   * Create the base id column\n   * @param  {Number} index        index of the column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  static createBaseIdColumn(index: number): UserColumn {\n    return UserColumn.createColumn(index, UserMappingTable.COLUMN_BASE_ID, GeoPackageDataType.INTEGER, true);\n  }\n  /**\n   * Create the related id column\n   * @param  {Number} index        index of the column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  static createRelatedIdColumn(index: number): UserColumn {\n    return UserColumn.createColumn(index, UserMappingTable.COLUMN_RELATED_ID, GeoPackageDataType.INTEGER, true);\n  }\n  /**\n   * Get the required columns\n   * @return {string[]}\n   */\n  static requiredColumns(): string[] {\n    return [UserMappingTable.COLUMN_BASE_ID, UserMappingTable.COLUMN_RELATED_ID];\n  }\n}\n","/**\n * userRelatedTable module.\n * @module extension/relatedTables\n */\nimport { UserColumn } from '../../user/userColumn';\nimport { Contents } from '../../core/contents/contents';\nimport { UserCustomTable } from '../../user/custom/userCustomTable';\n\n/**\n * User Defined Related Table\n * @param  {string} tableName table name\n * @param  {array} columns   attribute columns\n */\n/**\n * User Defined Related Table\n * @param  {string} tableName       table name\n * @param  {string} relationName    relation name\n * @param  {string} dataType        Contents data type\n * @param  {module:user/userColumn~UserColumn} columns         columns\n * @param  {string[]} [requiredColumns] required columns\n * @return {module:extension/relatedTables~UserRelatedTable}\n */\nexport class UserRelatedTable extends UserCustomTable {\n  contents: Contents;\n  constructor(\n    tableName: string,\n    public relation_name: string,\n    public data_type: string,\n    columns: UserColumn[],\n    requiredColumns: string[],\n  ) {\n    super(tableName, columns, requiredColumns);\n  }\n\n  get tableType(): string {\n    return 'userRelatedTable';\n  }\n  /**\n   * Sets the contents\n   * @param  {module:core/contents~Contents} contents contents\n   * @throw Error if the contents data type does not match this data type\n   */\n  setContents(contents: Contents): boolean {\n    // verify the contents have a relation name data type\n    if (!contents.data_type || contents.data_type !== this.data_type) {\n      throw new Error('The contents of this related table must have a data type of ' + this.data_type);\n    }\n    this.contents = contents;\n    return true;\n  }\n}\n","import { GeoPackage } from '../../geoPackage';\nimport { BaseExtension } from '../baseExtension';\nimport { Extension } from '../extension';\nimport { RTreeIndexDao } from './rtreeIndexDao';\nimport { FeatureDao } from '../../features/user/featureDao';\nimport { EnvelopeBuilder } from '../../geom/envelopeBuilder';\nimport { GeometryData } from '../../geom/geometryData';\nimport { FeatureRow } from '../../features/user/featureRow';\nimport { FeatureTable } from '../../features/user/featureTable';\n/**\n * RTreeIndex extension\n * @class RTreeIndex\n * @extends BaseExtension\n * @param {module:geoPackage~GeoPackage} geoPackage The GeoPackage object\n */\nexport class RTreeIndex extends BaseExtension {\n  /**\n   * Trigger Insert name\n   */\n  static TRIGGER_INSERT_NAME = 'insert';\n\n  /**\n   * Trigger update 1 name\n   */\n  static TRIGGER_UPDATE1_NAME = 'update1';\n\n  /**\n   * Trigger update 2 name\n   */\n  static TRIGGER_UPDATE2_NAME = 'update2';\n\n  /**\n   * Trigger update 3 name\n   */\n  static TRIGGER_UPDATE3_NAME = 'update3';\n\n  /**\n   * Trigger update 4 name\n   */\n  static TRIGGER_UPDATE4_NAME = 'update4';\n\n  /**\n   * Trigger delete name\n   */\n  static TRIGGER_DELETE_NAME = 'delete';\n\n  tableName: string;\n  primaryKeyColumn: string;\n  columnName: string;\n  featureCount: number;\n  rtreeIndexDao: RTreeIndexDao;\n  extensionExists: boolean;\n  constructor(geoPackage: GeoPackage, featureDao: FeatureDao<FeatureRow>) {\n    super(geoPackage);\n    this.extensionName = Extension.buildExtensionName(\n      RTreeIndexDao.EXTENSION_RTREE_INDEX_AUTHOR,\n      RTreeIndexDao.EXTENSION_RTREE_INDEX_NAME_NO_AUTHOR,\n    );\n    this.extensionDefinition = RTreeIndexDao.EXTENSION_RTREE_INDEX_DEFINITION;\n    if (featureDao !== null && featureDao !== undefined) {\n      this.tableName = featureDao.table_name;\n      this.primaryKeyColumn = featureDao.idColumns[0];\n      this.columnName = featureDao.getGeometryColumnName();\n    }\n    this.rtreeIndexDao = new RTreeIndexDao(geoPackage, featureDao);\n    this.extensionExists = this.hasExtension(this.extensionName, this.tableName, this.columnName);\n    this.createAllFunctions();\n  }\n  getRTreeIndexExtension(): Extension[] {\n    return this.getExtension(this.extensionName, this.tableName, this.columnName);\n  }\n  getOrCreateExtension(): Extension {\n    return this.getOrCreate(\n      this.extensionName,\n      this.tableName,\n      this.columnName,\n      this.extensionDefinition,\n      Extension.WRITE_ONLY,\n    );\n  }\n\n /**\n  * Create the RTree Index extension for the feature table, geometry column,\n  * and id column. Creates the SQL functions, loads the tree, and creates the\n  * triggers.\n  * @param tableName table name\n  * @param geometryColumnName geometry column name\n  * @param idColumnName id column name\n  * @return extension\n  */\n  createWithParameters(tableName: string, geometryColumnName: string, idColumnName: string): Extension[] {\n   if (this.hasExtension(this.extensionName, tableName, geometryColumnName)) {\n     return this.getRTreeIndexExtension();\n   }\n    this.getOrCreate(this.extensionName, tableName, geometryColumnName, RTreeIndexDao.EXTENSION_RTREE_INDEX_DEFINITION, Extension.WRITE_ONLY);\n    this.createRTreeIndex(tableName, geometryColumnName);\n    this.loadRTreeIndex(tableName, geometryColumnName, idColumnName);\n    this.createAllTriggers(tableName, geometryColumnName, idColumnName);\n    return this.getRTreeIndexExtension();\n  }\n  /**\n   * Create the extension\n   * @param {Function} [progress] progress function\n   * @returns {Extension[]}\n   */\n  create(progress?: Function): Extension[] {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    const safeProgress = progress || function(): void {};\n    if (this.extensionExists) {\n      return this.getRTreeIndexExtension();\n    }\n    this.getOrCreate(\n      this.extensionName,\n      this.tableName,\n      this.columnName,\n      RTreeIndexDao.EXTENSION_RTREE_INDEX_DEFINITION,\n      Extension.WRITE_ONLY,\n    );\n    this.createAllFunctions();\n    this.createRTreeIndex(this.tableName, this.columnName);\n    const totalCount = this.connection.count(this.tableName);\n    safeProgress({\n      description: 'Creating Feature Index',\n      count: 0,\n      totalCount: totalCount,\n      layer: this.tableName,\n    });\n    try {\n      this.loadRTreeIndex(this.tableName, this.columnName, this.primaryKeyColumn);\n    } catch (e) {\n      console.log('ERROR CREATING RTREE INDEX', e);\n    }\n    this.createAllTriggers(this.tableName, this.columnName, this.primaryKeyColumn);\n    return this.getRTreeIndexExtension();\n  }\n  createAllTriggers(tableName: string, geometryColumnName: string, idColumnName: string): boolean {\n    const insertTrigger =\n      'CREATE TRIGGER \"rtree_' +\n      tableName +\n      '_' +\n      geometryColumnName +\n      '_insert\" AFTER INSERT ON \"' +\n      tableName +\n      '\" WHEN (new.' +\n      geometryColumnName +\n      ' NOT NULL AND NOT ST_IsEmpty(NEW.' +\n      geometryColumnName +\n      ')) ' +\n      'BEGIN ' +\n      '  INSERT OR REPLACE INTO \"rtree_' +\n      tableName +\n      '_' +\n      geometryColumnName +\n      '\" VALUES (' +\n      '    NEW.' +\n      idColumnName +\n      ',' +\n      '    ST_MinX(NEW.' +\n      geometryColumnName +\n      '), ST_MaxX(NEW.' +\n      geometryColumnName +\n      '), ' +\n      '    ST_MinY(NEW.' +\n      geometryColumnName +\n      '), ST_MaxY(NEW.' +\n      geometryColumnName +\n      ') ' +\n      '  ); ' +\n      'END;';\n    const update1Trigger =\n      'CREATE TRIGGER \"rtree_' +\n      tableName +\n      '_' +\n      geometryColumnName +\n      '_update1\" AFTER UPDATE OF ' +\n      geometryColumnName +\n      ' ON \"' +\n      tableName +\n      '\" WHEN OLD.' +\n      idColumnName +\n      ' = NEW.' +\n      idColumnName +\n      ' AND ' +\n      '     (NEW.' +\n      geometryColumnName +\n      ' NOTNULL AND NOT ST_IsEmpty(NEW.' +\n      geometryColumnName +\n      ')) ' +\n      'BEGIN ' +\n      '  INSERT OR REPLACE INTO \"rtree_' +\n      tableName +\n      '_' +\n      geometryColumnName +\n      '\" VALUES (' +\n      '    NEW.' +\n      idColumnName +\n      ',' +\n      '    ST_MinX(NEW.' +\n      geometryColumnName +\n      '), ST_MaxX(NEW.' +\n      geometryColumnName +\n      '), ' +\n      '    ST_MinY(NEW.' +\n      geometryColumnName +\n      '), ST_MaxY(NEW.' +\n      geometryColumnName +\n      ') ' +\n      '  ); ' +\n      'END;';\n    const update2Trigger =\n      'CREATE TRIGGER \"rtree_' +\n      tableName +\n      '_' +\n      geometryColumnName +\n      '_update2\" AFTER UPDATE OF ' +\n      geometryColumnName +\n      ' ON \"' +\n      tableName +\n      '\" WHEN OLD.' +\n      idColumnName +\n      ' = NEW.' +\n      idColumnName +\n      ' AND ' +\n      '       (NEW.' +\n      geometryColumnName +\n      ' ISNULL OR ST_IsEmpty(NEW.' +\n      geometryColumnName +\n      ')) ' +\n      'BEGIN ' +\n      '  DELETE FROM \"rtree_' +\n      tableName +\n      '_' +\n      geometryColumnName +\n      '\" WHERE id = OLD.' +\n      idColumnName +\n      '; ' +\n      'END;';\n    const update3Trigger =\n      'CREATE TRIGGER \"rtree_' +\n      tableName +\n      '_' +\n      geometryColumnName +\n      '_update3\" AFTER UPDATE OF ' +\n      geometryColumnName +\n      ' ON \"' +\n      tableName +\n      '\" WHEN OLD.' +\n      idColumnName +\n      ' != NEW.' +\n      idColumnName +\n      ' AND ' +\n      '       (NEW.' +\n      geometryColumnName +\n      ' NOTNULL AND NOT ST_IsEmpty(NEW.' +\n      geometryColumnName +\n      ')) ' +\n      'BEGIN ' +\n      '  DELETE FROM \"rtree_' +\n      tableName +\n      '_' +\n      geometryColumnName +\n      '\" WHERE id = OLD.' +\n      idColumnName +\n      '; ' +\n      '  INSERT OR REPLACE INTO \"rtree_' +\n      tableName +\n      '_' +\n      geometryColumnName +\n      '\" VALUES (' +\n      '    NEW.' +\n      idColumnName +\n      ', ' +\n      '    ST_MinX(NEW.' +\n      geometryColumnName +\n      '), ST_MaxX(NEW.' +\n      geometryColumnName +\n      '), ' +\n      '    ST_MinY(NEW.' +\n      geometryColumnName +\n      '), ST_MaxY(NEW.' +\n      geometryColumnName +\n      ')' +\n      '  ); ' +\n      'END;';\n    const update4Trigger =\n      'CREATE TRIGGER \"rtree_' +\n      tableName +\n      '_' +\n      geometryColumnName +\n      '_update4\" AFTER UPDATE ON \"' +\n      tableName +\n      '\"  WHEN OLD.' +\n      idColumnName +\n      ' != NEW.' +\n      idColumnName +\n      ' AND ' +\n      '       (NEW.' +\n      geometryColumnName +\n      ' ISNULL OR ST_IsEmpty(NEW.' +\n      geometryColumnName +\n      ')) ' +\n      'BEGIN ' +\n      '  DELETE FROM \"rtree_' +\n      tableName +\n      '_' +\n      geometryColumnName +\n      '\" WHERE id IN (OLD.' +\n      idColumnName +\n      ', NEW.' +\n      idColumnName +\n      '); ' +\n      'END;';\n    const deleteTrigger =\n      'CREATE TRIGGER \"rtree_' +\n      tableName +\n      '_' +\n      geometryColumnName +\n      '_delete\" AFTER DELETE ON \"' +\n      tableName +\n      '\" WHEN old.' +\n      geometryColumnName +\n      ' NOT NULL ' +\n      'BEGIN' +\n      '  DELETE FROM \"rtree_' +\n      tableName +\n      '_' +\n      geometryColumnName +\n      '\" WHERE id = OLD.' +\n      idColumnName +\n      '; ' +\n      'END;';\n    let changes = 0;\n    changes += this.connection.run(insertTrigger).changes;\n    changes += this.connection.run(update1Trigger).changes;\n    changes += this.connection.run(update2Trigger).changes;\n    changes += this.connection.run(update3Trigger).changes;\n    changes += this.connection.run(update4Trigger).changes;\n    changes += this.connection.run(deleteTrigger).changes;\n    return changes === 6;\n  }\n  loadRTreeIndex(tableName: string, geometryColumnName: string, idColumnName: string): boolean {\n    return (\n      this.connection.run(\n        'INSERT OR REPLACE INTO \"rtree_' +\n        tableName +\n        '_' +\n        geometryColumnName +\n        '\" SELECT ' +\n        idColumnName +\n        ', st_minx(' +\n        geometryColumnName +\n        '), st_maxx(' +\n        geometryColumnName +\n        '), st_miny(' +\n        geometryColumnName +\n        '), st_maxy(' +\n        geometryColumnName +\n        ') FROM \"' +\n        tableName + '\"',\n      ).changes === 1\n    );\n  }\n  createRTreeIndex(tableName: string, columnName: string): boolean {\n    return (\n      this.connection.run(\n        'CREATE VIRTUAL TABLE \"rtree_' +\n        tableName +\n        '_' +\n        columnName +\n        '\" USING rtree(id, minx, maxx, miny, maxy)',\n      ).changes === 1\n    );\n  }\n  createAllFunctions(): void {\n    this.createMinXFunction();\n    this.createMaxXFunction();\n    this.createMinYFunction();\n    this.createMaxYFunction();\n    this.createIsEmptyFunction();\n  }\n  createMinXFunction(): void {\n    this.connection.registerFunction('ST_MinX', function(buffer: Buffer | Uint8Array) {\n      const geom = new GeometryData(buffer);\n      if (!geom.geometry) {\n        return null;\n      }\n      let envelope = geom.envelope;\n      if (!envelope) {\n        envelope = EnvelopeBuilder.buildEnvelopeWithGeometry(geom.geometry);\n      }\n      if (envelope.minX === Infinity) {\n        return null;\n      }\n      return envelope.minX;\n    });\n  }\n  createMinYFunction(): void {\n    this.connection.registerFunction('ST_MinY', function(buffer: Buffer | Uint8Array) {\n      const geom = new GeometryData(buffer);\n      if (!geom.geometry) {\n        return null;\n      }\n      let envelope = geom.envelope;\n      if (!envelope) {\n        envelope = EnvelopeBuilder.buildEnvelopeWithGeometry(geom.geometry);\n      }\n      if (envelope.minY === Infinity) {\n        return null;\n      }\n      return envelope.minY;\n    });\n  }\n  createMaxXFunction(): void {\n    this.connection.registerFunction('ST_MaxX', function(buffer: Buffer | Uint8Array) {\n      const geom = new GeometryData(buffer);\n      if (!geom.geometry) {\n        return null;\n      }\n      let envelope = geom.envelope;\n      if (!envelope) {\n        envelope = EnvelopeBuilder.buildEnvelopeWithGeometry(geom.geometry);\n      }\n      if (envelope.maxX === -Infinity) {\n        return null;\n      }\n      return envelope.maxX;\n    });\n  }\n  createMaxYFunction(): void {\n    this.connection.registerFunction('ST_MaxY', function(buffer: Buffer | Uint8Array) {\n      const geom = new GeometryData(buffer);\n      if (!geom.geometry) {\n        return null;\n      }\n      let envelope = geom.envelope;\n      if (!envelope) {\n        envelope = EnvelopeBuilder.buildEnvelopeWithGeometry(geom.geometry);\n      }\n      if (envelope.maxY === -Infinity) {\n        return null;\n      }\n      return envelope.maxY;\n    });\n  }\n  createIsEmptyFunction(): void {\n    this.connection.registerFunction('ST_IsEmpty', function(buffer: Buffer | Uint8Array): number {\n      const geom = new GeometryData(buffer);\n      const empty = !geom || geom.empty || !geom.geometry;\n      return empty ? 1 : 0;\n    });\n  }\n\n  has(table?: string, column?: string) {\n    return this.hasExtension(this.extensionName, table, column);\n  }\n\n  deleteTable(tableName: string) {\n    try {\n      if (this.extensionsDao.isTableExists()) {\n        let extensions = this.extensionsDao.queryByExtensionAndTableName(this.extensionName, tableName);\n        extensions.forEach(extension => {\n          this.deleteTableAndColumn(extension.getTableName(), extension.column_name)\n        })\n      }\n    } catch (e) {\n      throw new Error(\"Failed to delete RTree Index extensions for table. GeoPackage: \" + this.geoPackage.name + \", Table: \" + tableName);\n    }\n  }\n\n  /**\n   * Delete the RTree Index extension for the table and geometry column. Drops\n   * the triggers, RTree table, and deletes the extension.\n   * @param tableName table name\n   * @param geometryColumnName geometry column name\n   */\n  deleteTableAndColumn(tableName: string, geometryColumnName: string) {\n    if (this.has(tableName, geometryColumnName)) {\n      this.dropTableAndColumn(tableName, geometryColumnName);\n      try {\n        this.extensionsDao.deleteByExtensionAndTableNameAndColumnName(this.extensionName, tableName, geometryColumnName);\n      } catch (e) {\n        throw new Error(\n          \"Failed to delete RTree Index extension. GeoPackage: \" + this.geoPackage.name + \", Table: \" + tableName + \", Geometry Column: \" + geometryColumnName);\n      }\n    }\n  }\n\n  deleteAll() {\n    try {\n      if (this.extensionsDao.isTableExists()) {\n        let extensions = this.extensionsDao.queryByExtensionAndTableName(this.extensionName, this.tableName);\n        extensions.forEach(extension => {\n          this.deleteTableAndColumn(extension.getTableName(), extension.column_name)\n        })\n      }\n    } catch (e) {\n      throw new Error(\"Failed to delete RTree Index extensions for table. GeoPackage: \" + this.geoPackage.name + \", Table: \" + this.tableName);\n    }\n  }\n\n  /**\n   * Drop the the triggers and RTree table for the feature table\n   * @param featureTable feature table\n   */\n  dropByFeatureTable(featureTable: FeatureTable) {\n    this.dropTableAndColumn(featureTable.getTableName(), featureTable.getGeometryColumnName());\n  }\n\n  /**\n   * Drop the the triggers and RTree table for the table and geometry column\n   *\n   * @param tableName table name\n   * @param geometryColumnName geometry column name\n   */\n  dropTableAndColumn(tableName: string, geometryColumnName: string) {\n    this.dropAllTriggers(tableName, geometryColumnName);\n    this.dropRTreeIndex(tableName, geometryColumnName);\n  }\n\n  /**\n   * Drop the RTree Index Virtual Table\n   * @param featureTable feature table\n   */\n  dropRTreeIndexByFeatureTable(featureTable: FeatureTable) {\n    this.dropRTreeIndex(featureTable.getTableName(), featureTable.getGeometryColumnName());\n  }\n\n  /**\n   * Drop the RTree Index Virtual Table\n   * @param tableName table name\n   * @param geometryColumnName geometry column name\n   */\n  dropRTreeIndex(tableName: string, geometryColumnName: string) {\n    try {\n      this.geoPackage.connection.run('DROP TABLE \"rtree_' + tableName + '_' + geometryColumnName + '\"');\n    } catch (e) {\n      // If no rtree module, try to delete manually\n      if (e.getMessage().indexOf(\"no such module: rtree\") > -1) {\n        this.geoPackage.connection.run('DROP TABLE IF EXISTS \"rtree_' + tableName + '_' + geometryColumnName + '_node\"');\n        this.geoPackage.connection.run('DROP TABLE IF EXISTS \"rtree_' + tableName + '_' + geometryColumnName + '_parent\"');\n        this.geoPackage.connection.run('DROP TABLE IF EXISTS \"rtree_' + tableName + '_' + geometryColumnName + '_rowid\"');\n        this.geoPackage.connection.run('PRAGMA writable_schema = ON');\n        this.geoPackage.connection.run('DELETE FROM sqlite_master WHERE type = \"table\" AND name = \"rtree_' + tableName + '_' + geometryColumnName + '\"');\n        this.geoPackage.connection.run('PRAGMA writable_schema = OFF');\n      } else {\n        throw e;\n      }\n    }\n\n  }\n\n  /**\n   * Check if the feature table has the RTree extension and if found, drop the\n   * triggers\n   * @param featureTable feature table\n   */\n  dropTriggersByFeatureTable(featureTable: FeatureTable) {\n    this.dropTriggers(featureTable.getTableName(), featureTable.getGeometryColumnName());\n  }\n\n  /**\n   * Check if the table and column has the RTree extension and if found, drop\n   * the triggers\n   * @param tableName table name\n   * @param columnName column name\n   * @return true if dropped\n   */\n  dropTriggers(tableName: string, columnName: string): boolean {\n    let dropped = this.has(tableName, columnName);\n    if (dropped) {\n      this.dropAllTriggers(tableName, columnName);\n    }\n    return dropped;\n  }\n\n  /**\n   * Drop Triggers that Maintain Spatial Index Values\n   * @param featureTable feature table\n   */\n  dropAllTriggersByFeatureTable(featureTable: FeatureTable) {\n    this.dropAllTriggers(featureTable.getTableName(), featureTable.getGeometryColumnName());\n  }\n\n  /**\n   * Drop Triggers that Maintain Spatial Index Values\n   *\n   * @param tableName table name\n   * @param geometryColumnName geometry column name\n   */\n  dropAllTriggers(tableName: string, geometryColumnName: string) {\n    this.dropInsertTrigger(tableName, geometryColumnName);\n    this.dropUpdate1Trigger(tableName, geometryColumnName);\n    this.dropUpdate2Trigger(tableName, geometryColumnName);\n    this.dropUpdate3Trigger(tableName, geometryColumnName);\n    this.dropUpdate4Trigger(tableName, geometryColumnName);\n    this.dropDeleteTrigger(tableName, geometryColumnName);\n  }\n\n  /**\n   * Drop insert trigger\n   *\n   * @param tableName\n   *            table name\n   * @param geometryColumnName\n   *            geometry column name\n   */\n  dropInsertTrigger(tableName: string, geometryColumnName: string) {\n    this.dropTrigger(tableName, geometryColumnName, RTreeIndex.TRIGGER_INSERT_NAME);\n  }\n\n  /**\n   * Drop update 1 trigger\n   *\n   * @param tableName table name\n   * @param geometryColumnName  geometry column name\n   */\n  dropUpdate1Trigger(tableName: string, geometryColumnName: string) {\n    this.dropTrigger(tableName, geometryColumnName, RTreeIndex.TRIGGER_UPDATE1_NAME);\n  }\n\n  /**\n   * Drop update 2 trigger\n   *\n   * @param tableName\n   *            table name\n   * @param geometryColumnName\n   *            geometry column name\n   */\n  dropUpdate2Trigger(tableName: string,\n    geometryColumnName: string) {\n    this.dropTrigger(tableName, geometryColumnName, RTreeIndex.TRIGGER_UPDATE2_NAME);\n  }\n\n  /**\n   * Drop update 3 trigger\n   *\n   * @param tableName\n   *            table name\n   * @param geometryColumnName\n   *            geometry column name\n   */\n  dropUpdate3Trigger(tableName: string,\n    geometryColumnName: string) {\n    this.dropTrigger(tableName, geometryColumnName, RTreeIndex.TRIGGER_UPDATE3_NAME);\n  }\n\n  /**\n   * Drop update 4 trigger\n   *\n   * @param tableName\n   *            table name\n   * @param geometryColumnName\n   *            geometry column name\n   */\n  dropUpdate4Trigger(tableName: string,\n    geometryColumnName: string) {\n    this.dropTrigger(tableName, geometryColumnName, RTreeIndex.TRIGGER_UPDATE4_NAME);\n  }\n\n  /**\n   * Drop delete trigger\n   *\n   * @param tableName\n   *            table name\n   * @param geometryColumnName\n   *            geometry column name\n   */\n  dropDeleteTrigger(tableName: string, geometryColumnName: string) {\n    this.dropTrigger(tableName, geometryColumnName, RTreeIndex.TRIGGER_DELETE_NAME);\n  }\n\n  /**\n   * Drop the trigger for the table, geometry column, and trigger name\n   * @param tableName table name\n   * @param geometryColumnName geometry column name\n   * @param triggerName trigger name\n   */\n  dropTrigger(tableName: string, geometryColumnName: string, triggerName: string) {\n    this.geoPackage.connection.run('DROP TRIGGER IF EXISTS \"rtree_' + tableName + '_' + geometryColumnName + '_' + triggerName + '\"');\n  }\n}\n","import { Dao } from '../../dao/dao';\nimport { RTreeIndex } from './rtreeIndex';\nimport { FeatureDao } from '../../features/user/featureDao';\nimport { GeoPackage } from '../../geoPackage';\nimport { SqliteQueryBuilder } from '../../db/sqliteQueryBuilder';\nimport { FeatureRow } from '../../features/user/featureRow';\nimport { DBValue } from '../../db/dbAdapter';\n/**\n * RTree module.\n */\n\n/**\n * RTree Index Data Access Object\n * @class\n * @extends Dao\n */\nexport class RTreeIndexDao extends Dao<RTreeIndex> {\n  public static readonly TABLE_NAME: string = 'rtree';\n  public static readonly PREFIX: string = 'rtree_';\n  public static readonly COLUMN_TABLE_NAME: string = RTreeIndexDao.TABLE_NAME + '.table_name';\n  public static readonly COLUMN_GEOM_ID: string = RTreeIndexDao.TABLE_NAME + '.geom_id';\n  public static readonly COLUMN_MIN_X: string = RTreeIndexDao.TABLE_NAME + '.minx';\n  public static readonly COLUMN_MAX_X: string = RTreeIndexDao.TABLE_NAME + '.maxx';\n  public static readonly COLUMN_MIN_Y: string = RTreeIndexDao.TABLE_NAME + '.miny';\n  public static readonly COLUMN_MAX_Y: string = RTreeIndexDao.TABLE_NAME + '.maxy';\n  public static readonly COLUMN_MIN_Z: string = RTreeIndexDao.TABLE_NAME + '.minz';\n  public static readonly COLUMN_MAX_Z: string = RTreeIndexDao.TABLE_NAME + '.maxz';\n  public static readonly COLUMN_MIN_M: string = RTreeIndexDao.TABLE_NAME + '.minm';\n  public static readonly COLUMN_MAX_M: string = RTreeIndexDao.TABLE_NAME + '.maxm';\n\n  public static readonly EXTENSION_NAME: string = 'gpkg_rtree_index';\n  public static readonly EXTENSION_RTREE_INDEX_AUTHOR: string = 'gpkg';\n  public static readonly EXTENSION_RTREE_INDEX_NAME_NO_AUTHOR: string = 'rtree_index';\n  public static readonly EXTENSION_RTREE_INDEX_DEFINITION: string = 'http://www.geopackage.org/spec/#extension_rtree';\n\n  gpkgTableName = RTreeIndexDao.TABLE_NAME;\n  featureDao: FeatureDao<FeatureRow>;\n\n  constructor(geoPackage: GeoPackage, featureDao: FeatureDao<FeatureRow>) {\n    super(geoPackage);\n    this.featureDao = featureDao;\n  }\n  createObject(results?: Record<string, DBValue>): RTreeIndex {\n    const rti = new RTreeIndex(this.geoPackage, this.featureDao);\n    if (results) {\n    }\n    return rti;\n  }\n  /**\n   * Generate query components\n   * @param envelope\n   * @returns {{whereArgs: Array, where: string, join: string, tableNameArr: string[]}}\n   * @private\n   */\n  _generateGeometryEnvelopeQuery(envelope: {\n    minX: number;\n    maxX: number;\n    minY: number;\n    maxY: number;\n  }): { whereArgs: any[]; where: string; join: string; tableNameArr: string[] } {\n    const tableName = this.featureDao.gpkgTableName;\n    let where = '';\n    const minXLessThanMaxX = envelope.minX < envelope.maxX;\n    if (minXLessThanMaxX) {\n      where += this.buildWhereWithFieldAndValue('minx', envelope.maxX, '<=');\n      where += ' and ';\n      where += this.buildWhereWithFieldAndValue('maxx', envelope.minX, '>=');\n    } else {\n      where += '(';\n      where += this.buildWhereWithFieldAndValue('minx', envelope.maxX, '<=');\n      where += ' or ';\n      where += this.buildWhereWithFieldAndValue('maxx', envelope.minX, '>=');\n      where += ' or ';\n      where += this.buildWhereWithFieldAndValue('minx', envelope.minX, '>=');\n      where += ' or ';\n      where += this.buildWhereWithFieldAndValue('maxx', envelope.maxX, '<=');\n      where += ')';\n    }\n    where += ' and ';\n    where += this.buildWhereWithFieldAndValue('miny', envelope.maxY, '<=');\n    where += ' and ';\n    where += this.buildWhereWithFieldAndValue('maxy', envelope.minY, '>=');\n    const whereArgs: number[] = [];\n    whereArgs.push(envelope.maxX, envelope.minX);\n    if (!minXLessThanMaxX) {\n      whereArgs.push(envelope.minX, envelope.maxX);\n    }\n    whereArgs.push(envelope.maxY, envelope.minY);\n    return {\n      join:\n        'inner join \"' +\n        tableName +\n        '\" on \"' +\n        tableName +\n        '\".' +\n        this.featureDao.idColumns[0] +\n        ' = \"' +\n        this.gpkgTableName +\n        '\".id',\n      where,\n      whereArgs,\n      tableNameArr: ['\"' + tableName + '\".*'],\n    };\n  }\n  /**\n   * Query witha geometry envelope\n   * @param  {any} envelope envelope\n   * @return {IterableIterator<any>}\n   */\n  queryWithGeometryEnvelope(envelope: {\n    minX: number;\n    maxX: number;\n    minY: number;\n    maxY: number;\n  }): IterableIterator<any> {\n    const result = this._generateGeometryEnvelopeQuery(envelope);\n    return this.queryJoinWhereWithArgs(result.join, result.where, result.whereArgs, result.tableNameArr);\n  }\n  countWithGeometryEnvelope(envelope: { minX: number; maxX: number; minY: number; maxY: number }): number {\n    const result = this._generateGeometryEnvelopeQuery(envelope);\n    return this.connection.get(\n      SqliteQueryBuilder.buildCount(\"'\" + this.gpkgTableName + \"'\", result.where),\n      result.whereArgs,\n    ).count;\n  }\n}\n","/**\n * @module extension/scale\n */\nimport { BaseExtension } from '../baseExtension';\nimport { GeoPackage } from '../../geoPackage';\nimport { Extension } from '../extension';\nimport { TileScalingDao } from './tileScalingDao';\nimport { TileScaling } from './tileScaling';\n\n/**\n * Tile Scaling extension\n */\nexport class TileScalingExtension extends BaseExtension {\n  public static readonly EXTENSION_NAME: string = 'nga_tile_scaling';\n  public static readonly EXTENSION_AUTHOR: string = 'nga';\n  public static readonly EXTENSION_NAME_NO_AUTHOR: string = 'tile_scaling';\n  public static readonly EXTENSION_DEFINITION: string =\n    'http://ngageoint.github.io/GeoPackage/docs/extensions/tile-scaling.html';\n\n  tileScalingDao: TileScalingDao;\n  tableName: string;\n  constructor(geoPackage: GeoPackage, tableName: string) {\n    super(geoPackage);\n    this.tableName = tableName;\n    this.tileScalingDao = geoPackage.tileScalingDao;\n  }\n  /**\n   * Get or create the tileScaling id extension\n   * @return {Extension}\n   */\n  getOrCreateExtension(): Extension {\n    const extension = this.getOrCreate(\n      TileScalingExtension.EXTENSION_NAME,\n      this.tableName,\n      null,\n      TileScalingExtension.EXTENSION_DEFINITION,\n      Extension.READ_WRITE,\n    );\n    this.tileScalingDao.createTable();\n    return extension;\n  }\n\n  /**\n   * Creates or updates a tile scaling row for this table extension.\n   * @param tileScaling\n   */\n  createOrUpdate(tileScaling: TileScaling): number {\n    tileScaling.table_name = this.tableName;\n    return this.tileScalingDao.createOrUpdate(tileScaling)\n  }\n\n  /**\n   * Get the TileScalingDao\n   * @returns {module:extension/scale.TileScalingDao}\n   */\n  get dao(): TileScalingDao {\n    return this.tileScalingDao;\n  }\n  has(): boolean {\n    return this.hasExtension(TileScalingExtension.EXTENSION_NAME, this.tableName, null) && this.tileScalingDao.isTableExists();\n  }\n  /**\n   * Remove tileScaling id extension\n   */\n  removeExtension(): void {\n    if (this.tileScalingDao.isTableExists()) {\n      this.geoPackage.deleteTable(TileScalingDao.TABLE_NAME);\n    }\n    if (this.extensionsDao.isTableExists()) {\n      this.extensionsDao.deleteByExtension(TileScalingExtension.EXTENSION_NAME);\n    }\n  }\n}\n","/**\n * @memberOf module:extension/scale\n * @class TileScaling\n */\nimport { TileScalingType } from './tileScalingType';\n\n/**\n * Tile Scaling object, for scaling tiles from nearby zoom levels for missing\n * @constructor\n */\nexport class TileScaling {\n  /**\n   * Table name column\n   * @member {String}\n   */\n  table_name: string;\n  /**\n   * scalingType field name\n   * @member {String}\n   */\n  scaling_type: string;\n  /**\n   * zoomIn field name\n   * @member {Number}\n   */\n  zoom_in: number;\n  /**\n   * zoomOut field name\n   * @member {Number}\n   */\n  zoom_out: number;\n\n  isZoomIn(): boolean {\n    return (this.zoom_in == null || this.zoom_in > 0) && this.scaling_type != null && this.scaling_type != TileScalingType.OUT;\n  }\n\n  isZoomOut(): boolean {\n    return (this.zoom_out == null || this.zoom_out > 0) && this.scaling_type != null && this.scaling_type != TileScalingType.IN;\n  }\n}\n","import { Dao } from '../../dao/dao';\nimport { TileScaling } from './tileScaling';\nimport { DBValue } from '../../db/dbAdapter';\n\n/**\n * Tile Scaling Data Access Object\n * @constructor\n * @extends Dao\n */\nexport class TileScalingDao extends Dao<TileScaling> {\n  public static readonly TABLE_NAME: string = 'nga_tile_scaling';\n  public static readonly COLUMN_TABLE_NAME: string = 'table_name';\n  public static readonly COLUMN_SCALING_TYPE: string = 'scaling_type';\n  public static readonly COLUMN_ZOOM_IN: string = 'zoom_in';\n  public static readonly COLUMN_ZOOM_OUT: string = 'zoom_out';\n\n  readonly gpkgTableName: string = TileScalingDao.TABLE_NAME;\n  readonly idColumns: string[] = [TileScalingDao.COLUMN_TABLE_NAME];\n  /**\n   * Create a {module:extension/scale.TileScaling} object\n   * @return {module:extension/scale.TileScaling}\n   */\n  createObject(results?: Record<string, DBValue>): TileScaling {\n    const c = new TileScaling();\n    if (results) {\n      c.table_name = results.table_name as string;\n      c.scaling_type = results.scaling_type as string;\n      c.zoom_in = results.zoom_in as number;\n      c.zoom_out = results.zoom_out as number;\n    }\n    return c;\n  }\n  /**\n   * Create the necessary tables for this dao\n   * @return {Promise}\n   */\n  createTable(): boolean {\n    return this.geoPackage.getTableCreator().createTileScaling();\n  }\n  /**\n   * Query by table name\n   * @param  {string} tableName name of the table\n   * @return {module:extension/scale.TileScaling}\n   */\n  queryForTableName(tableName: string): TileScaling {\n    const tileScaling = this.queryForAll(\n      this.buildWhereWithFieldAndValue(TileScalingDao.COLUMN_TABLE_NAME, tableName),\n      this.buildWhereArgs(tableName),\n    );\n    if (tileScaling.length > 0) {\n      return this.createObject(tileScaling[0]);\n    } else {\n      return null;\n    }\n  }\n  /**\n   * Delete by tableName\n   * @param  {string} tableName the table name to delete by\n   * @return {number} number of deleted rows\n   */\n  deleteByTableName(tableName: string): number {\n    return this.deleteWhere(\n      this.buildWhereWithFieldAndValue(TileScalingDao.COLUMN_TABLE_NAME, tableName),\n      this.buildWhereArgs(tableName),\n    );\n  }\n}\n","export enum TileScalingType {\n  /**\n   * Search for tiles by zooming in\n   */\n  IN = 'in',\n\n  /**\n   * Search for tiles by zooming out\n   */\n  OUT = 'out',\n\n  /**\n   * Search for tiles by zooming in first, and then zooming out\n   */\n  IN_OUT = 'in_out',\n\n  /**\n   * Search for tiles by zooming out first, and then zooming in\n   */\n  OUT_IN = 'out_in',\n\n  /**\n   * Search for tiles in closest zoom level order, zoom in levels before zoom\n   * out\n   */\n  CLOSEST_IN_OUT = 'closest_in_out',\n\n  /**\n   * Search for tiles in closest zoom level order, zoom out levels before zoom\n   * in\n   */\n  CLOSEST_OUT_IN = 'closest_out_in'\n}\n","/**\n * SchemaExtension module.\n * @module SchemaExtension\n * @see module:extension/BaseExtension\n */\n\nimport { BaseExtension } from '../baseExtension';\nimport { Extension } from '../extension';\nimport { GeoPackage } from '../../geoPackage';\nimport { DataColumnsDao } from '../../dataColumns/dataColumnsDao';\nimport { DataColumnConstraintsDao } from '../../dataColumnConstraints/dataColumnConstraintsDao';\n\nexport class SchemaExtension extends BaseExtension {\n  public static readonly EXTENSION_SCHEMA_AUTHOR: string = 'gpkg';\n  public static readonly EXTENSION_SCHEMA_NAME_NO_AUTHOR: string = 'schema';\n  public static readonly EXTENSION_NAME: string = SchemaExtension.EXTENSION_SCHEMA_AUTHOR + '_' + SchemaExtension.EXTENSION_SCHEMA_NAME_NO_AUTHOR;\n  public static readonly EXTENSION_SCHEMA_DEFINITION: string = 'http://www.geopackage.org/spec/#extension_schema';\n\n  constructor(geoPackage: GeoPackage) {\n    super(geoPackage);\n  }\n  getOrCreateExtension(): Extension[] {\n    let extensions = [];\n    extensions.push(this.getOrCreate(SchemaExtension.EXTENSION_NAME, DataColumnsDao.TABLE_NAME, null, SchemaExtension.EXTENSION_SCHEMA_DEFINITION, Extension.READ_WRITE));\n    extensions.push(this.getOrCreate(SchemaExtension.EXTENSION_NAME, DataColumnConstraintsDao.TABLE_NAME, null, SchemaExtension.EXTENSION_SCHEMA_DEFINITION, Extension.READ_WRITE));\n    return extensions;\n  }\n\n  has() {\n    return this.hasExtensions(SchemaExtension.EXTENSION_NAME);\n  }\n\n  removeExtension() {\n    if (this.geoPackage.isTable(DataColumnsDao.TABLE_NAME)) {\n      this.geoPackage.dropTable(DataColumnsDao.TABLE_NAME);\n    }\n    if (this.geoPackage.isTable(DataColumnConstraintsDao.TABLE_NAME)) {\n      this.geoPackage.dropTable(DataColumnConstraintsDao.TABLE_NAME);\n    }\n    if (this.extensionsDao.isTableExists()) {\n      this.extensionsDao.deleteByExtension(SchemaExtension.EXTENSION_NAME);\n    }\n  }\n}\n","import { StyleRow } from './styleRow';\nimport { IconRow } from './iconRow';\n\n/**\n * FeatureStyle constructor\n * @param {module:extension/style.StyleRow} styleRow\n * @param {module:extension/style.IconRow} iconRow\n * @constructor\n */\nexport class FeatureStyle {\n  constructor(public styleRow: StyleRow, public iconRow: IconRow) {}\n  /**\n   * Set style\n   * @param {module:extension/style.StyleRow} styleRow\n   */\n  set style(styleRow: StyleRow) {\n    this.styleRow = styleRow;\n  }\n  /**\n   * Get style\n   * @returns {module:extension/style.StyleRow}\n   */\n  get style(): StyleRow {\n    return this.styleRow;\n  }\n  /**\n   * Returns true if has style\n   * @returns {Boolean}\n   */\n  hasStyle(): boolean {\n    return !!this.styleRow;\n  }\n  /**\n   * Set icon\n   * @param {module:extension/style.IconRow} iconRow\n   */\n  set icon(iconRow: IconRow) {\n    this.iconRow = iconRow;\n  }\n  /**\n   * Get icon\n   * @returns {module:extension/style.IconRow}\n   */\n  get icon(): IconRow {\n    return this.iconRow;\n  }\n  /**\n   * Returns true if has icon\n   * @returns {Boolean}\n   */\n  hasIcon(): boolean {\n    return !!this.iconRow;\n  }\n\n  /**\n   * Determine if an icon exists and should be used. Returns false when an\n   * icon does not exist or when both a table level icon and row level style\n   * exist.\n   * @return true if the icon exists and should be used over a style\n   */\n  useIcon(): boolean {\n    return this.hasIcon() && (!this.iconRow.isTableIcon() || !this.hasStyle() || this.styleRow.isTableStyle());\n  }\n}\n","import { Styles } from './styles';\nimport { Icons } from './icons';\n/**\n * FeatureStyles constructor\n * @param {module:extension/style.Styles} styles\n * @param {module:extension/style.Icons} icons\n * @constructor\n */\nexport class FeatureStyles {\n  constructor(public styles: Styles = null, public icons: Icons = null) {}\n}\n","/**\n * @memberOf module:extension/style\n * @class FeatureStyleExtension\n */\nimport { FeatureStyles } from './featureStyles';\nimport { FeatureStyle } from './featureStyle';\nimport { Styles } from './styles';\nimport { Icons } from './icons';\nimport { FeatureStyleExtension } from '.';\nimport { GeoPackage } from '../../geoPackage';\nimport { ExtendedRelation } from '../relatedTables/extendedRelation';\nimport { StyleMappingDao } from './styleMappingDao';\nimport { StyleDao } from './styleDao';\nimport { IconDao } from './iconDao';\nimport { StyleRow } from './styleRow';\nimport { IconRow } from './iconRow';\nimport { FeatureRow } from '../../features/user/featureRow';\nimport { FeatureTable } from '../../features/user/featureTable';\nimport { GeometryType } from '../../features/user/geometryType';\n\n/**\n * Feature Table Styles, styles and icons for an individual feature table\n * @param  {module:geoPackage~GeoPackage} geoPackage GeoPackage object\n * @param {String} tableName\n * @constructor\n */\nexport class FeatureTableStyles {\n  featureStyleExtension: FeatureStyleExtension;\n  cachedTableFeatureStyles: FeatureStyles;\n  tableName: string;\n  constructor(public geoPackage: GeoPackage, tableNameOrTable: string | FeatureTable) {\n    if (tableNameOrTable instanceof FeatureTable) {\n      this.tableName = tableNameOrTable.getTableName();\n    } else {\n      this.tableName = tableNameOrTable;\n    }\n    this.featureStyleExtension = geoPackage.featureStyleExtension;\n    this.cachedTableFeatureStyles = new FeatureStyles();\n    // this.tableName = tableName;\n  }\n  /**\n   * Get the feature style extension\n   * @return {module:extension/style.FeatureStyleExtension} feature style extension\n   */\n  getFeatureStyleExtension(): FeatureStyleExtension {\n    return this.featureStyleExtension;\n  }\n  /**\n   * Get the feature table name\n   * @return {String} feature table name\n   */\n  getTableName(): string {\n    return this.tableName;\n  }\n  /**\n   * Determine if the GeoPackage has the extension for the table\n   * @return {Boolean} true if has extension\n   */\n  has(): boolean {\n    return this.featureStyleExtension.has(this.tableName);\n  }\n  /**\n   * Create style, icon, table style, and table icon relationships for the\n   * feature table\n   * @return {Promise}\n   */\n  createRelationships(): {\n    styleRelationship: ExtendedRelation;\n    tableStyleRelationship: ExtendedRelation;\n    iconRelationship: ExtendedRelation;\n    tableIconRelationship: ExtendedRelation;\n  } {\n    return this.featureStyleExtension.createRelationships(this.tableName);\n  }\n  /**\n   * Check if feature table has a style, icon, table style, or table icon\n   * relationships\n   * @return {Boolean} true if has a relationship\n   */\n  hasRelationship(): boolean {\n    return this.featureStyleExtension.hasRelationship(this.tableName);\n  }\n  /**\n   * Create a style relationship for the feature table\n   * @return {Promise}\n   */\n  createStyleRelationship(): ExtendedRelation {\n    return this.featureStyleExtension.createStyleRelationship(this.tableName);\n  }\n  /**\n   * Determine if a style relationship exists for the feature table\n   * @return {Boolean} true if relationship exists\n   */\n  hasStyleRelationship(): boolean {\n    return this.featureStyleExtension.hasStyleRelationship(this.tableName);\n  }\n  /**\n   * Create a feature table style relationship\n   * @return {Promise}\n   */\n  createTableStyleRelationship(): ExtendedRelation {\n    return this.featureStyleExtension.createTableStyleRelationship(this.tableName);\n  }\n  /**\n   * Determine if feature table style relationship exists\n   *\n   * @return {Boolean} true if relationship exists\n   */\n  hasTableStyleRelationship(): boolean {\n    return this.featureStyleExtension.hasTableStyleRelationship(this.tableName);\n  }\n  /**\n   * Create an icon relationship for the feature table\n   * @return {Promise}\n   */\n  createIconRelationship(): ExtendedRelation {\n    return this.featureStyleExtension.createIconRelationship(this.tableName);\n  }\n  /**\n   * Determine if an icon relationship exists for the feature table\n   * @return {Boolean} true if relationship exists\n   */\n  hasIconRelationship(): boolean {\n    return this.featureStyleExtension.hasIconRelationship(this.tableName);\n  }\n  /**\n   * Create a feature table icon relationship\n   * @return {Promise}\n   */\n  createTableIconRelationship(): ExtendedRelation {\n    return this.featureStyleExtension.createTableIconRelationship(this.tableName);\n  }\n  /**\n   * Determine if feature table icon relationship exists\n   * @return {Boolean} true if relationship exists\n   */\n  hasTableIconRelationship(): boolean {\n    return this.featureStyleExtension.hasTableIconRelationship(this.tableName);\n  }\n  /**\n   * Delete the style and icon table and row relationships for the feature\n   * table\n   */\n  deleteRelationships(): {\n    styleRelationships: number;\n    tableStyleRelationships: number;\n    iconRelationship: number;\n    tableIconRelationship: number;\n  } {\n    return this.featureStyleExtension.deleteRelationships(this.tableName);\n  }\n  /**\n   * Delete a style relationship for the feature table\n   */\n  deleteStyleRelationship(): number {\n    return this.featureStyleExtension.deleteStyleRelationship(this.tableName);\n  }\n  /**\n   * Delete a table style relationship for the feature table\n   */\n  deleteTableStyleRelationship(): number {\n    return this.featureStyleExtension.deleteTableStyleRelationship(this.tableName);\n  }\n  /**\n   * Delete a icon relationship for the feature table\n   */\n  deleteIconRelationship(): number {\n    return this.featureStyleExtension.deleteIconRelationship(this.tableName);\n  }\n  /**\n   * Delete a table icon relationship for the feature table\n   */\n  deleteTableIconRelationship(): number {\n    return this.featureStyleExtension.deleteTableIconRelationship(this.tableName);\n  }\n  /**\n   * Get a Style Mapping DAO\n   * @return {module:extension/style.StyleMappingDao} style mapping DAO\n   */\n  getStyleMappingDao(): StyleMappingDao {\n    return this.featureStyleExtension.getStyleMappingDao(this.tableName);\n  }\n  /**\n   * Get a Table Style Mapping DAO\n   * @return {module:extension/style.StyleMappingDao} table style mapping DAO\n   */\n  getTableStyleMappingDao(): StyleMappingDao {\n    return this.featureStyleExtension.getTableStyleMappingDao(this.tableName);\n  }\n  /**\n   * Get a Icon Mapping DAO\n   * @return {module:extension/style.StyleMappingDao} icon mapping DAO\n   */\n  getIconMappingDao(): StyleMappingDao {\n    return this.featureStyleExtension.getIconMappingDao(this.tableName);\n  }\n  /**\n   * Get a Table Icon Mapping DAO\n   * @return {module:extension/style.StyleMappingDao} table icon mapping DAO\n   */\n  getTableIconMappingDao(): StyleMappingDao {\n    return this.featureStyleExtension.getTableIconMappingDao(this.tableName);\n  }\n  /**\n   * Get a style DAO\n   * @return {module:extension/style.StyleDao} style DAO\n   */\n  getStyleDao(): StyleDao {\n    return this.featureStyleExtension.getStyleDao();\n  }\n  /**\n   * Get a icon DAO\n   * @return {module:extension/style.IconDao} icon DAO\n   */\n  getIconDao(): IconDao {\n    return this.featureStyleExtension.getIconDao();\n  }\n  /**\n   * Get the table feature styles\n   * @return {module:extension/style.FeatureStyles} table feature styles or null\n   */\n  getTableFeatureStyles(): FeatureStyles {\n    return this.featureStyleExtension.getTableFeatureStyles(this.tableName);\n  }\n  /**\n   * Get the table styles\n   * @return {module:extension/style.Styles} table styles or null\n   */\n  getTableStyles(): Styles {\n    return this.featureStyleExtension.getTableStyles(this.tableName);\n  }\n  /**\n   * Get the cached table styles, querying and caching if needed\n   * @return {module:extension/style.Styles} cached table styles\n   */\n  getCachedTableStyles(): Styles {\n    let styles = this.cachedTableFeatureStyles.styles;\n    if (styles === null) {\n      styles = this.getTableStyles();\n      if (styles === null) {\n        styles = new Styles(true);\n      }\n      this.cachedTableFeatureStyles.styles = styles;\n    }\n    if (styles.isEmpty()) {\n      styles = null;\n    }\n    return styles;\n  }\n  /**\n   * Get the table style of the geometry type\n   * @param {GeometryType} geometryType geometry type\n   * @return {module:extension/style.StyleRow} style row\n   */\n  getTableStyle(geometryType: GeometryType): StyleRow {\n    return this.featureStyleExtension.getTableStyle(this.tableName, geometryType);\n  }\n  /**\n   * Get the table style default\n   * @return {module:extension/style.StyleRow} style row\n   */\n  getTableStyleDefault(): StyleRow {\n    return this.featureStyleExtension.getTableStyleDefault(this.tableName);\n  }\n  /**\n   * Get the table icons\n   * @return {module:extension/style.Icons} table icons or null\n   */\n  getTableIcons(): Icons {\n    return this.featureStyleExtension.getTableIcons(this.tableName);\n  }\n  /**\n   * Get the cached table icons, querying and caching if needed\n   * @return {module:extension/style.Icons} cached table icons\n   */\n  getCachedTableIcons(): Icons {\n    let icons = this.cachedTableFeatureStyles.icons;\n    if (icons === null) {\n      icons = this.getTableIcons();\n      if (icons === null) {\n        icons = new Icons(true);\n      }\n      this.cachedTableFeatureStyles.icons = icons;\n    }\n    if (icons.isEmpty()) {\n      icons = null;\n    }\n    return icons;\n  }\n  /**\n   * Get the table icon of the geometry type\n   * @param {GeometryType} geometryType geometry type\n   * @return {module:extension/style.IconRow} icon row\n   */\n  getTableIcon(geometryType: GeometryType): IconRow {\n    return this.featureStyleExtension.getTableIcon(this.tableName, geometryType);\n  }\n  /**\n   * Get the table icon default\n   * @return {module:extension/style.IconRow} icon row\n   */\n  getTableIconDefault(): IconRow {\n    return this.featureStyleExtension.getTableIconDefault(this.tableName);\n  }\n  /**\n   * Get the feature styles for the feature row\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @return {module:extension/style.FeatureStyles} feature styles or null\n   */\n  getFeatureStylesForFeatureRow(featureRow: FeatureRow): FeatureStyles {\n    return this.featureStyleExtension.getFeatureStylesForFeatureRow(featureRow);\n  }\n  /**\n   * Get the feature styles for the feature id\n   *\n   * @param {Number} featureId feature id\n   * @return {module:extension/style.FeatureStyles} feature styles or null\n   */\n  getFeatureStyles(featureId: number): FeatureStyles {\n    return this.featureStyleExtension.getFeatureStyles(this.tableName, featureId);\n  }\n  /**\n   * Get the feature style (style and icon) of the feature row, searching in\n   * order: feature geometry type style or icon, feature default style or\n   * icon, table geometry type style or icon, table default style or icon\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @return {module:extension/style.FeatureStyle} feature style\n   */\n  getFeatureStyleForFeatureRow(featureRow: FeatureRow): FeatureStyle {\n    return this.getFeatureStyleForFeatureRowAndGeometryType(featureRow, GeometryType.fromName(featureRow.geometryType.toUpperCase()));\n  }\n  /**\n   * Get the feature style (style and icon) of the feature row with the\n   * provided geometry type, searching in order: feature geometry type style\n   * or icon, feature default style or icon, table geometry type style or\n   * icon, table default style or icon\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {GeometryType} geometryType geometry type\n   * @return {module:extension/style.FeatureStyle} feature style\n   */\n  getFeatureStyleForFeatureRowAndGeometryType(featureRow: FeatureRow, geometryType: GeometryType): FeatureStyle {\n    return this.getFeatureStyle(featureRow.id, geometryType);\n  }\n  /**\n   * Get the feature style default (style and icon) of the feature row,\n   * searching in order: feature default style or icon, table default style or\n   * icon\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @return {module:extension/style.FeatureStyle} feature style\n   */\n  getFeatureStyleDefaultForFeatureRow(featureRow: FeatureRow): FeatureStyle {\n    return this.getFeatureStyle(featureRow.id, null);\n  }\n  /**\n   * Get the feature style (style and icon) of the feature, searching in\n   * order: feature geometry type style or icon, feature default style or\n   * icon, table geometry type style or icon, table default style or icon\n   *\n   * @param {Number} featureId feature id\n   * @param {GeometryType} geometryType geometry type\n   * @return {module:extension/style.FeatureStyle} feature style\n   */\n  getFeatureStyle(featureId: number, geometryType: GeometryType): FeatureStyle {\n    let featureStyle = null;\n    const style = this.getStyle(featureId, geometryType);\n    const icon = this.getIcon(featureId, geometryType);\n    if ((style !== null && style !== undefined) || (icon !== null && icon !== undefined)) {\n      featureStyle = new FeatureStyle(style, icon);\n    }\n    return featureStyle;\n  }\n  /**\n   * Get the feature style (style and icon) of the feature, searching in\n   * order: feature geometry type style or icon, feature default style or\n   * icon, table geometry type style or icon, table default style or icon\n   *\n   * @param {Number} featureId feature id\n   * @return {module:extension/style.FeatureStyle} feature style\n   */\n  getFeatureStyleDefault(featureId: number): FeatureStyle {\n    return this.getFeatureStyle(featureId, null);\n  }\n  /**\n   * Get the styles for the feature row\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @return {module:extension/style.Styles} styles or null\n   */\n  getStylesForFeatureRow(featureRow: FeatureRow): Styles {\n    return this.featureStyleExtension.getStylesForFeatureRow(featureRow);\n  }\n  /**\n   * Get the styles for the feature id\n   *\n   * @param {Number} featureId feature id\n   * @return {module:extension/style.Styles}  styles or null\n   */\n  getStylesForFeatureId(featureId: number): Styles {\n    return this.featureStyleExtension.getStylesForFeatureId(this.tableName, featureId);\n  }\n  /**\n   * Get the style of the feature row, searching in order: feature geometry\n   * type style, feature default style, table geometry type style, table\n   * default style\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @return {module:extension/style.StyleRow} style row\n   */\n  getStyleForFeatureRow(featureRow: FeatureRow): StyleRow {\n    return this.getStyleForFeatureRowAndGeometryType(featureRow, GeometryType.fromName(featureRow.geometryType.toUpperCase()));\n  }\n  /**\n   * Get the style of the feature row with the provided geometry type,\n   * searching in order: feature geometry type style, feature default style,\n   * table geometry type style, table default style\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {GeometryType} geometryType geometry type\n   * @return {module:extension/style.StyleRow} style row\n   */\n  getStyleForFeatureRowAndGeometryType(featureRow: FeatureRow, geometryType: GeometryType): StyleRow {\n    return this.getStyle(featureRow.id, geometryType);\n  }\n  /**\n   * Get the default style of the feature row, searching in order: feature\n   * default style, table default style\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @return {module:extension/style.StyleRow} style row\n   */\n  getStyleDefaultForFeatureRow(featureRow: FeatureRow): StyleRow {\n    return this.getStyle(featureRow.id, null);\n  }\n  /**\n   * Get the style of the feature, searching in order: feature geometry type\n   * style, feature default style, table geometry type style, table default\n   * style\n   *\n   * @param {Number} featureId feature id\n   * @param {GeometryType} geometryType geometry type\n   * @return {module:extension/style.StyleRow} style row\n   */\n  getStyle(featureId: number, geometryType: GeometryType): StyleRow {\n    let styleRow = this.featureStyleExtension.getStyle(this.tableName, featureId, geometryType, false);\n    if (styleRow === null) {\n      // Table Style\n      const styles = this.getCachedTableStyles();\n      if (styles !== null) {\n        styleRow = styles.getStyle(geometryType);\n      }\n    }\n    return styleRow;\n  }\n  /**\n   * Get the default style of the feature, searching in order: feature default\n   * style, table default style\n   *\n   * @param {Number} featureId feature id\n   * @return {module:extension/style.StyleRow} style row\n   */\n  getStyleDefault(featureId: number): StyleRow {\n    return this.getStyle(featureId, null);\n  }\n  /**\n   * Get the icons for the feature row\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @return {module:extension/style.Icons} icons or null\n   */\n  getIconsForFeatureRow(featureRow: FeatureRow): Icons {\n    return this.featureStyleExtension.getIconsForFeatureRow(featureRow);\n  }\n  /**\n   * Get the icons for the feature id\n   *\n   * @param {Number} featureId feature id\n   * @return {module:extension/style.Icons} icons or null\n   */\n  getIconsForFeatureId(featureId: number): Icons {\n    return this.featureStyleExtension.getIconsForFeatureId(this.tableName, featureId);\n  }\n  /**\n   * Get the icon of the feature row, searching in order: feature geometry\n   * type icon, feature default icon, table geometry type icon, table default\n   * icon\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @return {module:extension/style.IconRow} icon row\n   */\n  getIconForFeatureRow(featureRow: FeatureRow): IconRow {\n    return this.getIconForFeatureRowAndGeometryType(featureRow, GeometryType.fromName(featureRow.geometryType.toUpperCase()));\n  }\n  /**\n   * Get the icon of the feature row with the provided geometry type,\n   * searching in order: feature geometry type icon, feature default icon,\n   * table geometry type icon, table default icon\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {GeometryType} geometryType geometry type\n   * @return {module:extension/style.IconRow} icon row\n   */\n  getIconForFeatureRowAndGeometryType(featureRow: FeatureRow, geometryType: GeometryType): IconRow {\n    return this.getIcon(featureRow.id, geometryType);\n  }\n  /**\n   * Get the default icon of the feature row, searching in order: feature\n   * default icon, table default icon\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @return {module:extension/style.IconRow} icon row\n   */\n  getIconDefaultForFeatureRow(featureRow: FeatureRow): IconRow {\n    return this.getIcon(featureRow.id, null);\n  }\n  /**\n   * Get the icon of the feature, searching in order: feature geometry type\n   * icon, feature default icon, table geometry type icon, table default icon\n   *\n   * @param {Number} featureId feature id\n   * @param {GeometryType} geometryType geometry type\n   * @return {module:extension/style.IconRow} icon row\n   */\n  getIcon(featureId: number, geometryType: GeometryType): IconRow {\n    let iconRow = this.featureStyleExtension.getIcon(this.tableName, featureId, geometryType, false);\n    if (iconRow === null) {\n      // Table Icon\n      const icons = this.getCachedTableIcons();\n      if (icons !== null) {\n        iconRow = icons.getIcon(geometryType);\n      }\n    }\n    return iconRow;\n  }\n  /**\n   * Get the default icon of the feature, searching in order: feature default\n   * icon, table default icon\n   *\n   * @param {Number} featureId feature id\n   * @return {module:extension/style.IconRow} icon row\n   */\n  getIconDefault(featureId: number): IconRow {\n    return this.getIcon(featureId, null);\n  }\n  /**\n   * Set the feature table default feature styles\n   * @param {module:extension/style.FeatureStyles} featureStyles default feature styles\n   * @return {Promise}\n   */\n  setTableFeatureStyles(\n    featureStyles: FeatureStyles,\n  ): {\n    tableStyles: {\n      styleDefault: number;\n      styles: number[];\n    };\n    tableIcons: {\n      iconDefault: number;\n      icons: number[];\n    };\n    deleted?: {\n      styles: number;\n      icons: number;\n    };\n  } {\n    const styles = this.featureStyleExtension.setTableFeatureStyles(this.tableName, featureStyles);\n    this.clearCachedTableFeatureStyles();\n    return styles;\n  }\n  /**\n   * Set the feature table default styles\n   *\n   * @param {module:extension/style.Styles} styles default styles\n   * @return {Promise}\n   */\n  setTableStyles(\n    styles: Styles,\n  ): {\n    styleDefault: number;\n    styles: number[];\n    deleted: number;\n  } {\n    const result = this.featureStyleExtension.setTableStyles(this.tableName, styles);\n    this.clearCachedTableStyles();\n    return result;\n  }\n  /**\n   * Set the feature table style default\n   *\n   * @param {module:extension/style.StyleRow} style style row\n   * @return {number}\n   */\n  setTableStyleDefault(style: StyleRow): number {\n    const result = this.featureStyleExtension.setTableStyleDefault(this.tableName, style);\n    this.clearCachedTableStyles();\n    return result;\n  }\n  /**\n   * Set the feature table style for the geometry type\n   *\n   * @param {GeometryType} geometryType geometry type\n   * @param {StyleRow} style style row\n   * @return {number}\n   */\n  setTableStyle(geometryType: GeometryType, style: StyleRow): number {\n    const result = this.featureStyleExtension.setTableStyle(this.tableName, geometryType, style);\n    this.clearCachedTableStyles();\n    return result;\n  }\n  /**\n   * Set the feature table default icons\n   *\n   * @param {module:extension/style.Icons} icons default icons\n   * @return {any}\n   */\n  setTableIcons(\n    icons: Icons,\n  ): {\n    iconDefault: number;\n    icons: number[];\n    deleted: number;\n  } {\n    const result = this.featureStyleExtension.setTableIcons(this.tableName, icons);\n    this.clearCachedTableIcons();\n    return result;\n  }\n  /**\n   * Set the feature table icon default\n   *\n   * @param {module:extension/style.IconRow} icon icon row\n   * @return {number}\n   */\n  setTableIconDefault(icon: IconRow): number {\n    const result = this.featureStyleExtension.setTableIconDefault(this.tableName, icon);\n    this.clearCachedTableIcons();\n    return result;\n  }\n  /**\n   * Set the feature table icon for the geometry type\n   *\n   * @param {GeometryType} geometryType geometry type\n   * @param {module:extension/style.IconRow} icon icon row\n   * @return {number}\n   */\n  setTableIcon(geometryType: GeometryType, icon: IconRow): number {\n    const result = this.featureStyleExtension.setTableIcon(this.tableName, geometryType, icon);\n    this.clearCachedTableIcons();\n    return result;\n  }\n  /**\n   * Set the feature styles for the feature row\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.FeatureStyles} featureStyles feature styles\n   * @return {any}\n   */\n  setFeatureStylesForFeatureRow(\n    featureRow: FeatureRow,\n    featureStyles: FeatureStyles,\n  ): {\n    styles: { styleDefault: number; styles: number[] };\n    icons: {\n      iconDefault: number;\n      icons: number[];\n      deleted?: {\n        style: number;\n        icon: number;\n      };\n    };\n  } {\n    return this.featureStyleExtension.setFeatureStylesForFeatureRow(featureRow, featureStyles);\n  }\n  /**\n   * Set the feature styles for the feature table and feature id\n   *\n   * @param {Number} featureId feature id\n   * @param {module:extension/style.FeatureStyles} featureStyles feature styles\n   * @return {any}\n   */\n  setFeatureStyles(\n    featureId: number,\n    featureStyles: FeatureStyles,\n  ): {\n    styles: { styleDefault: number; styles: number[] };\n    icons: { iconDefault: number; icons: number[] };\n    deleted?: {\n      deletedStyles: number;\n      deletedIcons: number;\n    };\n  } {\n    return this.featureStyleExtension.setFeatureStyles(this.tableName, featureId, featureStyles);\n  }\n  /**\n   * Set the feature style (style and icon) of the feature row\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.FeatureStyle} featureStyle feature style\n   * @return {any}\n   */\n  setFeatureStyleForFeatureRow(\n    featureRow: FeatureRow,\n    featureStyle: FeatureStyle,\n  ): {\n    style: number;\n    icon: number;\n    deleted?: {\n      style: number;\n      icon: number;\n    };\n  } {\n    return this.featureStyleExtension.setFeatureStyleForFeatureRow(featureRow, featureStyle);\n  }\n  /**\n   * Set the feature style (style and icon) of the feature row for the\n   * specified geometry type\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {GeometryType} geometryType geometry type\n   * @param {module:extension/style.FeatureStyle} featureStyle feature style\n   * @return {any}\n   */\n  setFeatureStyleForFeatureRowAndGeometryType(\n    featureRow: FeatureRow,\n    geometryType: GeometryType,\n    featureStyle: FeatureStyle,\n  ): {\n    style: number;\n    icon: number;\n    deleted?: {\n      style: number;\n      icon: number;\n    };\n  } {\n    return this.featureStyleExtension.setFeatureStyleForFeatureRowAndGeometryType(\n      featureRow,\n      geometryType,\n      featureStyle,\n    );\n  }\n  /**\n   * Set the feature style default (style and icon) of the feature row\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.FeatureStyle} featureStyle feature style\n   * @return {any}\n   */\n  setFeatureStyleDefaultForFeatureRow(\n    featureRow: FeatureRow,\n    featureStyle: FeatureStyle,\n  ): {\n    style: number;\n    icon: number;\n    deleted?: {\n      style: number;\n      icon: number;\n    };\n  } {\n    return this.featureStyleExtension.setFeatureStyleDefaultForFeatureRow(featureRow, featureStyle);\n  }\n  /**\n   * Set the feature style (style and icon) of the feature\n   *\n   * @param {Number} featureId feature id\n   * @param {GeometryType} geometryType geometry type\n   * @param {module:extension/style.FeatureStyle} featureStyle feature style\n   * @return {any}\n   */\n  setFeatureStyle(\n    featureId: number,\n    geometryType: GeometryType,\n    featureStyle: FeatureStyle,\n  ): {\n    style: number;\n    icon: number;\n    deleted?: {\n      style: number;\n      icon: number;\n    };\n  } {\n    return this.featureStyleExtension.setFeatureStyle(this.tableName, featureId, geometryType, featureStyle);\n  }\n  /**\n   * Set the feature style (style and icon) of the feature\n   *\n   * @param {Number} featureId feature id\n   * @param {module:extension/style.FeatureStyle} featureStyle feature style\n   * @return {any}\n   */\n  setFeatureStyleDefault(\n    featureId: number,\n    featureStyle: FeatureStyle,\n  ): {\n    style: number;\n    icon: number;\n    deleted?: {\n      style: number;\n      icon: number;\n    };\n  } {\n    return this.featureStyleExtension.setFeatureStyleDefault(this.tableName, featureId, featureStyle);\n  }\n  /**\n   * Set the styles for the feature row\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.Styles} styles styles\n   * @return {any}\n   */\n  setStylesForFeatureRow(\n    featureRow: FeatureRow,\n    styles: Styles,\n  ): { styleDefault: number; styles: number[]; deleted: number } {\n    return this.featureStyleExtension.setStylesForFeatureRow(featureRow, styles);\n  }\n  /**\n   * Set the styles for the feature table and feature id\n   *\n   * @param {Number} featureId feature id\n   * @param {module:extension/style.Styles} styles styles\n   * @return {any}\n   */\n  setStyles(\n    featureId: number,\n    styles: Styles,\n  ): { styleDefault: number; styles: number[]; deleted: number } {\n    return this.featureStyleExtension.setStyles(this.tableName, featureId, styles);\n  }\n  /**\n   * Set the style of the feature row\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.StyleRow} style style row\n   * @return {any}\n   */\n  setStyleForFeatureRow(featureRow: FeatureRow, style: StyleRow): number {\n    return this.featureStyleExtension.setStyleForFeatureRow(featureRow, style);\n  }\n  /**\n   * Set the style of the feature row for the specified geometry type\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {GeometryType} geometryType geometry type\n   * @param {module:extension/style.StyleRow} style style row\n   * @return {number}\n   */\n  setStyleForFeatureRowAndGeometryType(\n    featureRow: FeatureRow,\n    geometryType: GeometryType,\n    style: StyleRow,\n  ): number {\n    return this.featureStyleExtension.setStyleForFeatureRowAndGeometryType(featureRow, geometryType, style);\n  }\n  /**\n   * Set the default style of the feature row\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.StyleRow} style style row\n   * @return {number}\n   */\n  setStyleDefaultForFeatureRow(featureRow: FeatureRow, style: StyleRow): number {\n    return this.featureStyleExtension.setStyleDefaultForFeatureRow(featureRow, style);\n  }\n  /**\n   * Set the style of the feature\n   *\n   * @param {Number} featureId feature id\n   * @param {GeometryType} geometryType geometry type\n   * @param {module:extension/style.StyleRow} style style row\n   * @return {number}\n   */\n  setStyle(featureId: number, geometryType: GeometryType, style: StyleRow): number {\n    return this.featureStyleExtension.setStyle(this.tableName, featureId, geometryType, style);\n  }\n  /**\n   * Set the default style of the feature\n   *\n   * @param {Number} featureId feature id\n   * @param {module:extension/style.StyleRow} style style row\n   * @return {number}\n   */\n  setStyleDefault(featureId: number, style: StyleRow): number {\n    return this.featureStyleExtension.setStyleDefault(this.tableName, featureId, style);\n  }\n  /**\n   * Set the icons for the feature row\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.Icons} icons icons\n   * @return {any}\n   */\n  setIconsForFeatureRow(\n    featureRow: FeatureRow,\n    icons: Icons,\n  ): {\n    iconDefault: number;\n    icons: number[];\n    deleted: number;\n  } {\n    return this.featureStyleExtension.setIconsForFeatureRow(featureRow, icons);\n  }\n  /**\n   * Set the icons for the feature table and feature id\n   *\n   * @param {Number} featureId feature id\n   * @param {module:extension/style.Icons} icons icons\n   * @return {any}\n   */\n  setIcons(\n    featureId: number,\n    icons: Icons,\n  ): {\n    iconDefault: number;\n    icons: number[];\n    deleted: number;\n  } {\n    return this.featureStyleExtension.setIcons(this.tableName, featureId, icons);\n  }\n  /**\n   * Set the icon of the feature row\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.IconRow} icon icon row\n   * @return {number}\n   */\n  setIconForFeatureRow(featureRow: FeatureRow, icon: IconRow): number {\n    return this.featureStyleExtension.setIconForFeatureRow(featureRow, icon);\n  }\n  /**\n   * Set the icon of the feature row for the specified geometry type\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {GeometryType} geometryType geometry type\n   * @param {module:extension/style.IconRow} icon icon row\n   * @return {Promise}\n   */\n  setIconForFeatureRowAndGeometryType(\n    featureRow: FeatureRow,\n    geometryType: GeometryType,\n    icon: IconRow,\n  ): number {\n    return this.featureStyleExtension.setIconForFeatureRowAndGeometryType(featureRow, geometryType, icon);\n  }\n  /**\n   * Set the default icon of the feature row\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.IconRow} icon icon row\n   * @return {Promise}\n   */\n  setIconDefaultForFeatureRow(featureRow: FeatureRow, icon: IconRow): number {\n    return this.featureStyleExtension.setIconDefaultForFeatureRow(featureRow, icon);\n  }\n  /**\n   * Get the icon of the feature, searching in order: feature geometry type\n   * icon, feature default icon, table geometry type icon, table default icon\n   *\n   * @param {Number} featureId feature id\n   * @param {GeometryType} geometryType geometry type\n   * @param {module:extension/style.IconRow} icon icon row\n   * @return {Promise}\n   */\n  setIcon(featureId: number, geometryType: GeometryType, icon: IconRow): number {\n    return this.featureStyleExtension.setIcon(this.tableName, featureId, geometryType, icon);\n  }\n  /**\n   * Set the default icon of the feature\n   *\n   * @param {Number} featureId feature id\n   * @param {module:extension/style.IconRow} icon icon row\n   * @return {Promise}\n   */\n  setIconDefault(featureId: number, icon: IconRow): number {\n    return this.featureStyleExtension.setIconDefault(this.tableName, featureId, icon);\n  }\n  /**\n   * Delete all feature styles including table styles, table icons, style, and\n   * icons\n   */\n  deleteAllFeatureStyles(): {\n    tableStyles: {\n      styles: number;\n      icons: number;\n    };\n    styles: {\n      styles: number;\n      icons: number;\n    };\n  } {\n    const result = this.featureStyleExtension.deleteAllFeatureStyles(this.tableName);\n    this.clearCachedTableFeatureStyles();\n    return result;\n  }\n  /**\n   * Delete all styles including table styles and feature row styles\n   */\n  deleteAllStyles(): {\n    tableStyles: number;\n    styles: number;\n  } {\n    const result = this.featureStyleExtension.deleteAllStyles(this.tableName);\n    this.clearCachedTableStyles();\n    return result;\n  }\n  /**\n   * Delete all icons including table icons and feature row icons\n   */\n  deleteAllIcons(): {\n    tableIcons: number;\n    icons: number;\n  } {\n    const result = this.featureStyleExtension.deleteAllIcons(this.tableName);\n    this.clearCachedTableIcons();\n    return result;\n  }\n  /**\n   * Delete the feature table feature styles\n   */\n  deleteTableFeatureStyles(): {\n    styles: number;\n    icons: number;\n  } {\n    const result = this.featureStyleExtension.deleteTableFeatureStyles(this.tableName);\n    this.clearCachedTableFeatureStyles();\n    return result;\n  }\n  /**\n   * Delete the feature table styles\n   */\n  deleteTableStyles(): number {\n    const result = this.featureStyleExtension.deleteTableStyles(this.tableName);\n    this.clearCachedTableStyles();\n    return result;\n  }\n  /**\n   * Delete the feature table default style\n   */\n  deleteTableStyleDefault(): number {\n    const result = this.featureStyleExtension.deleteTableStyleDefault(this.tableName);\n    this.clearCachedTableStyles();\n    return result;\n  }\n  /**\n   * Delete the feature table style for the geometry type\n   *\n   * @param {GeometryType} geometryType geometry type\n   */\n  deleteTableStyle(geometryType: GeometryType): number {\n    const result = this.featureStyleExtension.deleteTableStyle(this.tableName, geometryType);\n    this.clearCachedTableStyles();\n    return result;\n  }\n  /**\n   * Delete the feature table icons\n   */\n  deleteTableIcons(): number {\n    const result = this.featureStyleExtension.deleteTableIcons(this.tableName);\n    this.clearCachedTableIcons();\n    return result;\n  }\n  /**\n   * Delete the feature table default icon\n   */\n  deleteTableIconDefault(): number {\n    const result = this.featureStyleExtension.deleteTableIconDefault(this.tableName);\n    this.clearCachedTableIcons();\n    return result;\n  }\n  /**\n   * Delete the feature table icon for the geometry type\n   *\n   * @param {GeometryType} geometryType geometry type\n   */\n  deleteTableIcon(geometryType: GeometryType): number {\n    const result = this.featureStyleExtension.deleteTableIcon(this.tableName, geometryType);\n    this.clearCachedTableIcons();\n    return result;\n  }\n  /**\n   * Clear the cached table feature styles\n   */\n  clearCachedTableFeatureStyles(): void {\n    this.cachedTableFeatureStyles.styles = null;\n    this.cachedTableFeatureStyles.icons = null;\n  }\n  /**\n   * Clear the cached table styles\n   */\n  clearCachedTableStyles(): void {\n    this.cachedTableFeatureStyles.styles = null;\n  }\n  /**\n   * Clear the cached table icons\n   */\n  clearCachedTableIcons(): void {\n    this.cachedTableFeatureStyles.icons = null;\n  }\n  /**\n   * Delete all feature styles\n   */\n  deleteFeatureStyles(): {\n    styles: number;\n    icons: number;\n  } {\n    return this.featureStyleExtension.deleteFeatureStyles(this.tableName);\n  }\n  /**\n   * Delete all styles\n   */\n  deleteStyles(): number {\n    return this.featureStyleExtension.deleteStyles(this.tableName);\n  }\n  /**\n   * Delete feature row styles\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   */\n  deleteStylesForFeatureRow(featureRow: FeatureRow): number {\n    return this.featureStyleExtension.deleteStylesForFeatureRow(featureRow);\n  }\n  /**\n   * Delete feature row styles\n   *\n   * @param {Number} featureId feature id\n   */\n  deleteStylesForFeatureId(featureId: number): number {\n    return this.featureStyleExtension.deleteStylesForFeatureId(this.tableName, featureId);\n  }\n  /**\n   * Delete the feature row default style\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   */\n  deleteStyleDefaultForFeatureRow(featureRow: FeatureRow): number {\n    return this.featureStyleExtension.deleteStyleDefaultForFeatureRow(featureRow);\n  }\n  /**\n   * Delete the feature row default style\n   *\n   * @param {Number} featureId feature id\n   */\n  deleteStyleDefault(featureId: number): number {\n    return this.featureStyleExtension.deleteStyleDefault(this.tableName, featureId);\n  }\n  /**\n   * Delete the feature row style for the feature row geometry type\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   */\n  deleteStyleForFeatureRow(featureRow: FeatureRow): number {\n    return this.featureStyleExtension.deleteStyleForFeatureRow(featureRow);\n  }\n  /**\n   * Delete the feature row style for the geometry type\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {GeometryType} geometryType geometry type\n   */\n  deleteStyleForFeatureRowAndGeometryType(featureRow: FeatureRow, geometryType: GeometryType): number {\n    return this.featureStyleExtension.deleteStyleForFeatureRowAndGeometryType(featureRow, geometryType);\n  }\n  /**\n   * Delete the feature row style for the geometry type\n   *\n   * @param {Number} featureId feature id\n   * @param {GeometryType} geometryType geometry type\n   */\n  deleteStyle(featureId: number, geometryType: GeometryType): number {\n    return this.featureStyleExtension.deleteStyle(this.tableName, featureId, geometryType);\n  }\n  /**\n   * Delete the style and associated mappings using StyleRow\n   *\n   * @param {module:extension/style.StyleRow} styleRow style row\n   */\n  deleteStyleAndMappingsByStyleRow(styleRow: StyleRow): number {\n    return this.featureStyleExtension.deleteStyleAndMappingsByStyleRow(this.tableName, styleRow);\n  }\n\n  /**\n   * Delete the style and associated mappings using StyleRow's Id\n   *\n   * @param {Number} styleRowId style row id\n   */\n  deleteStyleAndMappingsByStyleRowId(styleRowId: number): number {\n    return this.featureStyleExtension.deleteStyleAndMappingsByStyleRowId(this.tableName, styleRowId);\n  }\n\n  /**\n   * Delete all icons\n   */\n  deleteIcons(): number {\n    return this.featureStyleExtension.deleteIcons(this.tableName);\n  }\n  /**\n   * Delete feature row icons\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   */\n  deleteIconsForFeatureRow(featureRow: FeatureRow): number {\n    return this.featureStyleExtension.deleteIconsForFeatureRow(featureRow);\n  }\n  /**\n   * Delete feature row icons\n   *\n   * @param {Number} featureId feature id\n   */\n  deleteIconsForFeatureId(featureId: number): number {\n    return this.featureStyleExtension.deleteIconsForFeatureId(this.tableName, featureId);\n  }\n  /**\n   * Delete the feature row default icon\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   */\n  deleteIconDefaultForFeatureRow(featureRow: FeatureRow): number {\n    return this.featureStyleExtension.deleteIconDefaultForFeatureRow(featureRow);\n  }\n  /**\n   * Delete the feature row default icon\n   *\n   * @param {Number} featureId feature id\n   */\n  deleteIconDefault(featureId: number): number {\n    return this.featureStyleExtension.deleteIconDefault(this.tableName, featureId);\n  }\n  /**\n   * Delete the feature row icon for the feature row geometry type\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   */\n  deleteIconForFeatureRow(featureRow: FeatureRow): number {\n    return this.featureStyleExtension.deleteIconForFeatureRow(featureRow);\n  }\n  /**\n   * Delete the feature row icon for the geometry type\n   *\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {GeometryType} geometryType geometry type\n   */\n  deleteIconForFeatureRowAndGeometryType(featureRow: FeatureRow, geometryType: GeometryType): number {\n    return this.featureStyleExtension.deleteIconForFeatureRowAndGeometryType(featureRow, geometryType);\n  }\n  /**\n   * Delete the feature row icon for the geometry type\n   *\n   * @param {Number} featureId feature id\n   * @param {GeometryType} geometryType geometry type\n   */\n  deleteIcon(featureId: number, geometryType: GeometryType): number {\n    return this.featureStyleExtension.deleteIcon(this.tableName, featureId, geometryType);\n  }\n  /**\n   * Delete the icon and associated mappings using IconRow\n   *\n   * @param {module:extension/style.IconRow} iconRow icon row\n   */\n  deleteIconAndMappingsByIconRow(iconRow: IconRow): number {\n    return this.featureStyleExtension.deleteIconAndMappingsByIconRow(this.tableName, iconRow);\n  }\n\n  /**\n   * Delete the icon and associated mappings using IconRow\n   *\n   * @param {Number} iconRowId icon row id\n   */\n  deleteIconAndMappingsByIconRowId(iconRowId: number): number {\n    return this.featureStyleExtension.deleteIconAndMappingsByIconRowId(this.tableName, iconRowId);\n  }\n  /**\n   * Get all the unique style row ids the table maps to\n   *\n   * @return {module:extension/style.StyleRow} style row ids\n   */\n  getAllTableStyleIds(): number[] {\n    return this.featureStyleExtension.getAllTableStyleIds(this.tableName);\n  }\n  /**\n   * Get all the unique icon row ids the table maps to\n   *\n   * @return {module:extension/style.IconRow} icon row ids\n   */\n  getAllTableIconIds(): number[] {\n    return this.featureStyleExtension.getAllTableIconIds(this.tableName);\n  }\n  /**\n   * Get all the unique style row ids the features map to\n   *\n   * @return {module:extension/style.StyleRow} style row ids\n   */\n  getAllStyleIds(): number[] {\n    return this.featureStyleExtension.getAllStyleIds(this.tableName);\n  }\n  /**\n   * Get all the unique icon row ids the features map to\n   *\n   * @return {module:extension/style.IconRow} icon row ids\n   */\n  getAllIconIds(): number[] {\n    return this.featureStyleExtension.getAllIconIds(this.tableName);\n  }\n}\n","import { IconRow } from './iconRow';\nimport { Canvas } from '../../canvas/canvas';\nimport {ImageUtils} from \"../../tiles/imageUtils\";\n\n/**\n * @memberOf module:extension/style\n * @class IconCache\n */\n/**\n * Constructor, created with cache size of {@link #IconCache.DEFAULT_CACHE_SIZE}\n * @constructor\n */\nexport class IconCache {\n  public static DEFAULT_CACHE_SIZE = 100;\n  iconCache: { [key: number]: {image: any, width: number, height: number} } = {};\n  accessHistory: number[] = [];\n\n  constructor(public cacheSize = IconCache.DEFAULT_CACHE_SIZE) {}\n\n  /**\n   * Get the cached image for the icon row or null if not cached\n   * @param {module:extension/style.IconRow} iconRow icon row\n   * @return {Image} icon image or null\n   */\n  getIconForIconRow(iconRow: IconRow): {image: any, width: number, height: number} {\n    return this.get(iconRow.id);\n  }\n  /**\n   * Get the cached image for the icon row id or null if not cached\n   * @param {Number} iconRowId icon row id\n   * @return {Image} icon image or null\n   */\n  get(iconRowId: number): {image: any, width: number, height: number} {\n    const image = this.iconCache[iconRowId];\n    if (image) {\n      const index = this.accessHistory.indexOf(iconRowId);\n      if (index > -1) {\n        this.accessHistory.splice(index, 1);\n      }\n      this.accessHistory.push(iconRowId);\n    }\n    return image;\n  }\n  /**\n   * Cache the icon image for the icon row\n   * @param {module:extension/style.IconRow} iconRow icon row\n   * @param {Image} image icon image\n   * @return {Image} previous cached icon image or null\n   */\n  putIconForIconRow(iconRow: IconRow, image: {image: any, width: number, height: number}): {image: any, width: number, height: number} {\n    return this.put(iconRow.id, image);\n  }\n  /**\n   * Cache the icon image for the icon row id\n   * @param {Number} iconRowId icon row id\n   * @param {Image} image icon image\n   * @return {Image} previous cached icon image or null\n   */\n  put(iconRowId: number, image: {image: any, width: number, height: number}): {image: any, width: number, height: number} {\n    const previous = this.iconCache[iconRowId];\n    this.iconCache[iconRowId] = image;\n    if (previous) {\n      const index = this.accessHistory.indexOf(iconRowId);\n      if (index > -1) {\n        this.accessHistory.splice(index, 1);\n      }\n    }\n    this.accessHistory.push(iconRowId);\n    if (Object.keys(this.iconCache).length > this.cacheSize) {\n      const iconId = this.accessHistory.shift();\n      if (iconId) {\n        const iconToDelete = this.iconCache[iconId];\n        if (iconToDelete) {\n          Canvas.disposeImage(iconToDelete);\n        }\n        delete this.iconCache[iconId];\n      }\n    }\n    return previous;\n  }\n  /**\n   * Remove the cached image for the icon row, if using CanvasKitCanvasAdapter, dispose of returned image to free up memory using Canvas.dispose(icon.image)\n   * @param {module:extension/style.IconRow} iconRow icon row\n   * @return {Image} removed icon image or null\n   */\n  removeIconForIconRow(iconRow: IconRow): {image: any, width: number, height: number} {\n    return this.remove(iconRow.id);\n  }\n  /**\n   * Remove the cached image for the icon row id\n   * @param {Number} iconRowId icon row id\n   * @return {Image} removed icon image or null\n   */\n  remove(iconRowId: number): {image: any, width: number, height: number} {\n    const removed = this.iconCache[iconRowId];\n    delete this.iconCache[iconRowId];\n    if (removed) {\n      const index = this.accessHistory.indexOf(iconRowId);\n      if (index > -1) {\n        this.accessHistory.splice(index, 1);\n      }\n    }\n    return removed;\n  }\n  /**\n   * Clear the cache\n   */\n  clear(): void {\n    Object.keys(this.iconCache).forEach(key => {\n      const icon = this.iconCache[key];\n      Canvas.disposeImage(icon);\n    })\n    this.iconCache = {};\n    this.accessHistory = [];\n  }\n  /**\n   * Resize the cache\n   * @param {Number} maxSize max size\n   */\n  resize(maxSize: number): void {\n    this.cacheSize = maxSize;\n    const keys = Object.keys(this.iconCache);\n    if (keys.length > maxSize) {\n      const numberToRemove = keys.length - maxSize;\n      for (let i = 0; i < numberToRemove; i++) {\n        const indexToRemove = this.accessHistory.shift();\n        const icon = this.iconCache[indexToRemove];\n        Canvas.disposeImage(icon);\n        delete this.iconCache[indexToRemove];\n      }\n    }\n  }\n  /**\n   * Create or retrieve from cache an icon image for the icon row\n   * @param {module:extension/style.IconRow} icon icon row\n   * @return {Promise<Image>} icon image\n   */\n  async createIcon(icon: IconRow): Promise<{image: any, width: number, height: number}> {\n    return this.createAndCacheIcon(icon, this);\n  }\n  /**\n   * Create or retrieve from cache an icon image for the icon row\n   * @param {module:extension/style.IconRow} icon icon row\n   * @param {Number} scale scale factor\n   * @return {Promise<Image>} icon image\n   */\n  async createScaledIcon(icon: IconRow, scale: number): Promise<{image: any, width: number, height: number}> {\n    return this.createAndCacheScaledIcon(icon, scale, this);\n  }\n  /**\n   * Create an icon image for the icon row without caching\n   * @param {module:extension/style.IconRow} icon icon row\n   * @return {Promise<Image>} icon image\n   */\n  async createIconNoCache(icon: IconRow): Promise<{image: any, width: number, height: number}> {\n    return this.createScaledIconNoCache(icon, 1.0);\n  }\n  /**\n   * Create an icon image for the icon row without caching\n   * @param icon icon row\n   * @param scale scale factor\n   * @return {Promise<Image>} icon image\n   */\n  async createScaledIconNoCache(icon: IconRow, scale: number): Promise<{image: any, width: number, height: number}> {\n    return this.createAndCacheScaledIcon(icon, scale, null);\n  }\n  /**\n   * Create or retrieve from cache an icon image for the icon row\n   * @param {module:extension/style.IconRow} icon icon row\n   * @param {module:extension/style.IconCache} iconCache icon cache\n   * @return {Promise<Image>} icon image\n   */\n  async createAndCacheIcon(icon: IconRow, iconCache: IconCache): Promise<{image: any, width: number, height: number}> {\n    return this.createAndCacheScaledIcon(icon, 1.0, iconCache);\n  }\n  /**\n   * Create or retrieve from cache an icon image for the icon row\n   * @param {module:extension/style.IconRow} icon icon row\n   * @param {Number} scale scale factor\n   * @param {module:extension/style.IconCache} iconCache icon cache\n   * @return {Promise<Image>} icon image\n   */\n  async createAndCacheScaledIcon(icon: IconRow, scale: number, iconCache: IconCache): Promise<{image: any, width: number, height: number}> {\n    let iconImage = null;\n    if (icon != null) {\n      const iconId = icon.id;\n\n      if (iconCache != null) {\n        iconImage = iconCache.get(iconId);\n      }\n\n      if (iconImage == null) {\n        try {\n          iconImage = await ImageUtils.getImage(icon.data);\n        } catch (e) {\n          throw new Error('Failed to get the Icon Row image. Id: ' + iconId + ', Name: ' + icon.name)\n        }\n\n        const dataWidth = iconImage.width;\n        const dataHeight = iconImage.height;\n        let iconWidth = icon.width;\n        let iconHeight = icon.height;\n\n        let scaleImage = iconWidth != null || iconHeight != null;\n        if (!scaleImage && scale != 1.0) {\n          iconWidth = dataWidth;\n          iconHeight = dataHeight;\n          scaleImage = true;\n        }\n\n        if (scaleImage) {\n          if (iconWidth == null) {\n            iconWidth = dataWidth * (iconHeight / dataHeight);\n          } else if (iconHeight == null) {\n            iconHeight = dataHeight * (iconWidth / dataWidth);\n          }\n\n          const scaledWidth = Math.round(scale * iconWidth);\n          const scaledHeight = Math.round(scale * iconHeight);\n\n          if (scaledWidth != dataWidth || scaledHeight != dataHeight) {\n            iconImage = await ImageUtils.scaleImage(iconImage, scaledWidth, scaledHeight);\n          }\n        }\n\n        if (iconCache != null) {\n          iconCache.putIconForIconRow(icon, iconImage);\n        }\n      }\n    }\n    return iconImage;\n  }\n}\n","/**\n * @memberOf module:extension/style\n * @class IconDao\n */\nimport { MediaDao } from '../relatedTables/mediaDao';\nimport { IconRow } from './iconRow';\nimport { IconTable } from './iconTable';\nimport { GeoPackage } from '../../geoPackage';\nimport { DBValue } from '../../db/dbAdapter';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\n\n/**\n * Icon DAO for reading user icon data tables\n * @extends MediaDao\n * @param  {module:db/geoPackageConnection~GeoPackageConnection} geoPackage connection\n * @param  {string} table table name\n * @constructor\n */\nexport class IconDao extends MediaDao<IconRow> {\n  constructor(geoPackage: GeoPackage, table: IconTable) {\n    super(geoPackage, table);\n  }\n  /**\n   * Create a icon row with the column types and values\n   * @param  {module:db/geoPackageDataType[]} columnTypes  column types\n   * @param  {module:dao/columnValues~ColumnValues[]} values      values\n   * @return {module:extension/style.IconRow}             icon row\n   */\n  newRow(columnTypes?: { [key: string]: GeoPackageDataType }, values?: Record<string, DBValue>): IconRow {\n    return new IconRow(this.table as IconTable, columnTypes, values);\n  }\n}\n","import { IconTable } from './iconTable';\nimport { MediaRow } from '../relatedTables/mediaRow';\nimport { ImageUtils } from '../../tiles/imageUtils';\nimport { UserColumn } from '../../user/userColumn';\nimport { DBValue } from '../../db/dbAdapter';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\n\n/**\n * @memberOf module:extension/style\n * @class IconRow\n */\n\n/**\n * Icon Row\n * @extends MediaRow\n * @param  {module:extension/style.IconTable} iconTable  icon table\n * @param  {module:db/geoPackageDataType[]} columnTypes  column types\n * @param  {module:dao/columnValues~ColumnValues[]} values      values\n * @constructor\n */\nexport class IconRow extends MediaRow {\n  iconTable: IconTable;\n  tableIcon: boolean = false;\n  constructor(iconTable: IconTable, columnTypes?: { [key: string]: GeoPackageDataType }, values?: Record<string, DBValue>) {\n    super(iconTable, columnTypes, values);\n    this.iconTable = iconTable;\n  }\n  /**\n   * Get the name column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  get nameColumn(): UserColumn {\n    return this.iconTable.getNameColumn();\n  }\n  /**\n   * Gets the name\n   * @return {String}\n   */\n  get name(): string {\n    return this.getValueWithColumnName(this.nameColumn.name);\n  }\n  /**\n   * Sets the name for the row\n   * @param {String} name name\n   */\n  set name(name: string) {\n    this.setValueWithColumnName(this.nameColumn.name, name);\n  }\n  /**\n   * Get the description column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  get descriptionColumn(): UserColumn {\n    return this.iconTable.getDescriptionColumn();\n  }\n  /**\n   * Gets the description\n   * @return {String}\n   */\n  get description(): string {\n    return this.getValueWithColumnName(this.descriptionColumn.name);\n  }\n  /**\n   * Sets the description for the row\n   * @param {string} description description\n   */\n  set description(description: string) {\n    this.setValueWithColumnName(this.descriptionColumn.name, description);\n  }\n  /**\n   * Get the width column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  get widthColumn(): UserColumn {\n    return this.iconTable.getWidthColumn();\n  }\n  /**\n   * Gets the width\n   * @return {Number}\n   */\n  get width(): number {\n    return this.getValueWithColumnName(this.widthColumn.name);\n  }\n  /**\n   * Sets the width for the row\n   * @param {Number} width width\n   */\n  set width(width: number) {\n    this.setValueWithColumnName(this.widthColumn.name, width);\n  }\n  /**\n   * Get the width or derived width from the icon data and scaled as needed\n   * for the height\n   *\n   * @return {Number}  derived width\n   */\n  get derivedWidth(): number {\n    let width = this.width;\n    if (width === undefined || width === null) {\n      width = this.derivedDimensions[0];\n    }\n    return width;\n  }\n  /**\n   * Get the height column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  get heightColumn(): UserColumn {\n    return this.iconTable.getHeightColumn();\n  }\n  /**\n   * Gets the height\n   * @return {Number}\n   */\n  get height(): number {\n    return this.getValueWithColumnName(this.heightColumn.name);\n  }\n  /**\n   * Sets the height for the row\n   * @param {Number} height height\n   */\n  set height(height: number) {\n    this.setValueWithColumnName(this.heightColumn.name, height);\n  }\n  /**\n   * Get the height or derived height from the icon data and scaled as needed\n   * for the width\n   *\n   * @return {Number} derived height\n   */\n  get derivedHeight(): number {\n    let height = this.height;\n    if (height === undefined || height === null) {\n      height = this.derivedDimensions[1];\n    }\n    return height;\n  }\n  /**\n   * Get the derived width and height from the values and icon data, scaled as needed\n   * @return {Number[]} derived dimensions array with two values, width at index 0, height at index 1\n   */\n  get derivedDimensions(): number[] {\n    let width = this.width;\n    let height = this.height;\n    if (width === undefined || width === null || height === undefined || height === null) {\n      const imageSize = ImageUtils.getImageSize(this.data);\n      const dataWidth = imageSize.width;\n      const dataHeight = imageSize.height;\n      if (width === undefined || width === null) {\n        width = dataWidth;\n        if (height !== undefined && height !== null) {\n          width *= height / dataHeight;\n        }\n      }\n      if (height === undefined || height === null) {\n        height = dataHeight;\n        if (width !== undefined && width !== null) {\n          height *= width / dataWidth;\n        }\n      }\n    }\n    return [width, height];\n  }\n  /**\n   * Get the anchor_u column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  get anchorUColumn(): UserColumn {\n    return this.iconTable.getAnchorUColumn();\n  }\n  /**\n   * Gets the anchor_u\n   * @return {Number}\n   */\n  get anchorU(): number {\n    return this.getValueWithColumnName(this.anchorUColumn.name);\n  }\n  /**\n   * Sets the anchor_u for the row\n   * @param {Number} anchor_u anchor_u\n   */\n  set anchorU(anchorU: number) {\n    this.validateAnchor(anchorU);\n    this.setValueWithColumnName(this.anchorUColumn.name, anchorU);\n  }\n  /**\n   * Get the anchor u value or the default value of 0.5\n   * @return {Number} anchor u value\n   */\n  get anchorUOrDefault(): number {\n    let anchorU = this.anchorU;\n    if (anchorU == null) {\n      anchorU = 0.5;\n    }\n    return anchorU;\n  }\n  /**\n   * Get the anchor_v column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  get anchorVColumn(): UserColumn {\n    return this.iconTable.getAnchorVColumn();\n  }\n  /**\n   * Gets the anchor_v\n   * @return {Number}\n   */\n  get anchorV(): number {\n    return this.getValueWithColumnName(this.anchorVColumn.name);\n  }\n  /**\n   * Sets the anchor_v for the row\n   * @param {Number} anchor_v anchor_v\n   */\n  set anchorV(anchorV: number) {\n    this.validateAnchor(anchorV);\n    this.setValueWithColumnName(this.anchorVColumn.name, anchorV);\n  }\n  /**\n   * Get the anchor v value or the default value of 1.0\n   * @return {Number} anchor v value\n   */\n  get anchorVOrDefault(): number {\n    let anchorV = this.anchorV;\n    if (anchorV == null) {\n      anchorV = 1.0;\n    }\n    return anchorV;\n  }\n  /**\n   * Validate the anchor value\n   * @param {Number} anchor anchor\n   */\n  validateAnchor(anchor: number): boolean {\n    if (anchor != null && (anchor < 0.0 || anchor > 1.0)) {\n      throw new Error('Anchor must be set inclusively between 0.0 and 1.0, invalid value: ' + anchor);\n    }\n    return true;\n  }\n\n  /**\n   * Is a table icon\n   * @return table icon flag\n   */\n  isTableIcon(): boolean {\n    return this.tableIcon;\n  }\n\n  /**\n   * Set table icon flag\n   * @param tableIcon table icon flag\n   */\n  setTableIcon(tableIcon: boolean) {\n    this.tableIcon = tableIcon;\n  }\n}\n","/**\n * @memberOf module:extension/style\n * @class IconTable\n */\n\nimport { MediaTable } from '../relatedTables/mediaTable';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\nimport { UserColumn } from '../../user/userColumn';\n\n/**\n * Icon Requirements Class Media Table\n * @class\n * @extends {MediaTable}\n * @param  {string} tableName table name\n * @param  {module:user/userColumn~UserColumn[]} columns   media columns\n * @param {string[]} requiredColumns required column names\n */\nexport class IconTable extends MediaTable {\n  public static readonly TABLE_NAME = 'nga_icon';\n  public static readonly COLUMN_NAME = 'name';\n  public static readonly COLUMN_DESCRIPTION = 'description';\n  public static readonly COLUMN_WIDTH = 'width';\n  public static readonly COLUMN_HEIGHT = 'height';\n  public static readonly COLUMN_ANCHOR_U = 'anchor_u';\n  public static readonly COLUMN_ANCHOR_V = 'anchor_v';\n\n  readonly TABLE_TYPE = 'media';\n\n  /**\n   * Get the name column index\n   * @return int\n   */\n  getNameColumnIndex(): number {\n    return this.getColumnIndex(IconTable.COLUMN_NAME);\n  }\n  /**\n   * Get the name column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getNameColumn(): UserColumn {\n    return this.getColumnWithColumnName(IconTable.COLUMN_NAME);\n  }\n  /**\n   * Get the description column index\n   * @return int\n   */\n  getDescriptionColumnIndex(): number {\n    return this.getColumnIndex(IconTable.COLUMN_DESCRIPTION);\n  }\n  /**\n   * Get the description column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getDescriptionColumn(): UserColumn {\n    return this.getColumnWithColumnName(IconTable.COLUMN_DESCRIPTION);\n  }\n  /**\n   * Get the width column index\n   * @return int\n   */\n  getWidthColumnIndex(): number {\n    return this.getColumnIndex(IconTable.COLUMN_WIDTH);\n  }\n  /**\n   * Get the width column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getWidthColumn(): UserColumn {\n    return this.getColumnWithColumnName(IconTable.COLUMN_WIDTH);\n  }\n  /**\n   * Get the height column index\n   * @return int\n   */\n  getHeightColumnIndex(): number {\n    return this.getColumnIndex(IconTable.COLUMN_HEIGHT);\n  }\n  /**\n   * Get the height column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getHeightColumn(): UserColumn {\n    return this.getColumnWithColumnName(IconTable.COLUMN_HEIGHT);\n  }\n  /**\n   * Get the anchor_u column index\n   * @return int\n   */\n  getAnchorUColumnIndex(): number {\n    return this.getColumnIndex(IconTable.COLUMN_ANCHOR_U);\n  }\n  /**\n   * Get the anchor_u column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getAnchorUColumn(): UserColumn {\n    return this.getColumnWithColumnName(IconTable.COLUMN_ANCHOR_U);\n  }\n  /**\n   * Get the anchor_v column index\n   * @return int\n   */\n  getAnchorVColumnIndex(): number {\n    return this.getColumnIndex(IconTable.COLUMN_ANCHOR_V);\n  }\n  /**\n   * Get the anchor_v column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getAnchorVColumn(): UserColumn {\n    return this.getColumnWithColumnName(IconTable.COLUMN_ANCHOR_V);\n  }\n  /**\n   * Create a media table with a minimum required columns followed by the additional columns\n   * @return {module:extension/relatedTables~MediaTable}\n   */\n  static create(): IconTable {\n    return new IconTable(IconTable.TABLE_NAME, IconTable.createColumns(), IconTable.requiredColumns());\n  }\n  static createRequiredColumns(): UserColumn[] {\n    return MediaTable.createRequiredColumns();\n  }\n  /**\n   * Get the required columns\n   * @return {string[]}\n   */\n  static requiredColumns(): string[] {\n    return MediaTable.requiredColumns();\n  }\n  /**\n   * Create the columns\n   * @return {module:user/userColumn~UserColumn[]}\n   */\n  static createColumns(): UserColumn[] {\n    const columns = IconTable.createRequiredColumns();\n    let index = columns.length;\n    columns.push(\n      UserColumn.createColumn(index++, IconTable.COLUMN_NAME, GeoPackageDataType.TEXT, false),\n    );\n    columns.push(\n      UserColumn.createColumn(index++, IconTable.COLUMN_DESCRIPTION, GeoPackageDataType.TEXT, false),\n    );\n    columns.push(\n      UserColumn.createColumn(index++, IconTable.COLUMN_WIDTH, GeoPackageDataType.REAL, false),\n    );\n    columns.push(\n      UserColumn.createColumn(index++, IconTable.COLUMN_HEIGHT, GeoPackageDataType.REAL, false),\n    );\n    columns.push(\n      UserColumn.createColumn(index++, IconTable.COLUMN_ANCHOR_U, GeoPackageDataType.REAL, false),\n    );\n    columns.push(\n      UserColumn.createColumn(index, IconTable.COLUMN_ANCHOR_V, GeoPackageDataType.REAL, false),\n    );\n    return columns;\n  }\n}\n","import { IconRow } from './iconRow';\nimport { GeometryType } from '../../features/user/geometryType';\n\n/**\n * @memberOf module:extension/style\n * @class Icons\n */\n/**\n * Icons constructor\n * @constructor\n */\nexport class Icons {\n  defaultIcon: IconRow = null;\n  icons: Map<GeometryType, IconRow>;\n  tableIcons: boolean;\n\n  constructor(tableIcons: boolean = false) {\n    this.icons = new Map();\n    this.tableIcons = tableIcons;\n  }\n\n  setDefault(iconRow: IconRow): void {\n    if (iconRow !== null && iconRow !== undefined) {\n      iconRow.setTableIcon(this.tableIcons);\n    }\n    this.defaultIcon = iconRow;\n  }\n  getDefault(): IconRow {\n    return this.defaultIcon;\n  }\n  setIcon(iconRow: IconRow, geometryType: GeometryType = null): void {\n    if (geometryType !== null) {\n      if (iconRow !== null && iconRow !== undefined) {\n        iconRow.setTableIcon(this.tableIcons);\n        this.icons.set(geometryType, iconRow);\n      } else {\n        this.icons.delete(geometryType);\n      }\n    } else {\n      this.setDefault(iconRow);\n    }\n  }\n  getIcon(geometryType: GeometryType = null): IconRow {\n    let iconRow = null;\n    if (geometryType !== null && this.icons.has(geometryType)) {\n      iconRow = this.icons.get(geometryType);\n    }\n    if (iconRow === null || iconRow === undefined || geometryType === null) {\n      iconRow = this.getDefault();\n    }\n    return iconRow;\n  }\n  isEmpty(): boolean {\n    return this.icons.size === 0 && this.defaultIcon === null;\n  }\n  getGeometryTypes(): GeometryType[] {\n    return Array.from(this.icons.keys());\n  }\n}\n","/**\n * @module extension/style\n */\n\nimport { BaseExtension } from '../baseExtension';\nimport { Extension } from '../extension';\nimport { ContentsIdDao } from '../contents/contentsIdDao';\nimport { IconTable } from './iconTable';\nimport { IconDao } from './iconDao';\nimport { StyleTable } from './styleTable';\nimport { StyleDao } from './styleDao';\nimport { StyleMappingTable } from './styleMappingTable';\nimport { StyleMappingDao } from './styleMappingDao';\nimport { StyleTableReader } from './styleTableReader';\nimport { FeatureTable } from '../../features/user/featureTable';\nimport { FeatureStyles } from './featureStyles';\nimport { FeatureStyle } from './featureStyle';\nimport { Styles } from './styles';\nimport { Icons } from './icons';\nimport { IconRow } from './iconRow';\nimport { FeatureRow } from '../../features/user/featureRow';\nimport { RelatedTablesExtension } from '../relatedTables';\nimport { ContentsIdExtension } from '../contents';\nimport { GeoPackage } from '../../geoPackage';\nimport { ExtendedRelation } from '../relatedTables/extendedRelation';\nimport { StyleRow } from './styleRow';\nimport { StyleMappingRow } from './styleMappingRow';\nimport { UserCustomTableReader } from '../../user/custom/userCustomTableReader';\nimport { GeometryType } from '../../features/user/geometryType';\n\n/**\n * Style extension\n * @param  {module:geoPackage~GeoPackage} geoPackage GeoPackage object\n * @extends BaseExtension\n * @constructor\n */\nexport class FeatureStyleExtension extends BaseExtension {\n  relatedTablesExtension: RelatedTablesExtension;\n  contentsIdExtension: ContentsIdExtension;\n  public static readonly EXTENSION_NAME = 'nga_feature_style';\n  public static readonly EXTENSION_AUTHOR = 'nga';\n  public static readonly EXTENSION_NAME_NO_AUTHOR = 'feature_style';\n  public static readonly EXTENSION_DEFINITION =\n    'http://ngageoint.github.io/GeoPackage/docs/extensions/feature-style.html';\n  public static readonly TABLE_MAPPING_STYLE = FeatureStyleExtension.EXTENSION_AUTHOR + '_style_';\n  public static readonly TABLE_MAPPING_TABLE_STYLE = FeatureStyleExtension.EXTENSION_AUTHOR + '_style_default_';\n  public static readonly TABLE_MAPPING_ICON = FeatureStyleExtension.EXTENSION_AUTHOR + '_icon_';\n  public static readonly TABLE_MAPPING_TABLE_ICON = FeatureStyleExtension.EXTENSION_AUTHOR + '_icon_default_';\n  constructor(geoPackage: GeoPackage) {\n    super(geoPackage);\n    this.relatedTablesExtension = geoPackage.relatedTablesExtension;\n    this.contentsIdExtension = geoPackage.contentsIdExtension;\n  }\n  /**\n   * Get or create the metadata extension\n   *  @param {module:features/user/featureTable|String} featureTable, defaults to null\n   * @return {Promise}\n   */\n  getOrCreateExtension(featureTable: FeatureTable | string): Extension {\n    return this.getOrCreate(\n      FeatureStyleExtension.EXTENSION_NAME,\n      this.getFeatureTableName(featureTable),\n      null,\n      FeatureStyleExtension.EXTENSION_DEFINITION,\n      Extension.READ_WRITE,\n    );\n  }\n  /**\n   * Determine if the GeoPackage has the extension or has the extension for the feature table\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @returns {Boolean}\n   */\n  has(featureTable: FeatureTable | string): boolean {\n    return this.hasExtension(FeatureStyleExtension.EXTENSION_NAME, this.getFeatureTableName(featureTable), null);\n  }\n  /**\n   * Gets featureTables\n   * @returns {String[]}\n   */\n  getTables(): string[] {\n    const tables = [];\n    if (this.extensionsDao.isTableExists()) {\n      const extensions = this.extensionsDao.queryAllByExtension(FeatureStyleExtension.EXTENSION_NAME);\n      for (let i = 0; i < extensions.length; i++) {\n        tables.push(extensions[i].table_name);\n      }\n    }\n    return tables;\n  }\n  /**\n   * Get the related tables extension\n   * @returns {module:extension/relatedTables~RelatedTablesExtension}\n   */\n  getRelatedTables(): RelatedTablesExtension {\n    return this.relatedTablesExtension;\n  }\n  /**\n   * Get the contentsId extension\n   * @returns {module:extension/contents~ContentsIdExtension}\n   */\n  getContentsId(): ContentsIdExtension {\n    return this.contentsIdExtension;\n  }\n  /**\n   * Create style, icon, table style, and table icon relationships for the\n   * feature table\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return {any}\n   */\n  createRelationships(\n    featureTable: FeatureTable | string,\n  ): {\n    styleRelationship: ExtendedRelation;\n    tableStyleRelationship: ExtendedRelation;\n    iconRelationship: ExtendedRelation;\n    tableIconRelationship: ExtendedRelation;\n  } {\n    return {\n      styleRelationship: this.createStyleRelationship(featureTable),\n      tableStyleRelationship: this.createTableStyleRelationship(featureTable),\n      iconRelationship: this.createIconRelationship(featureTable),\n      tableIconRelationship: this.createTableIconRelationship(featureTable),\n    };\n  }\n  /**\n   * Check if feature table has a style, icon, table style, or table icon\n   * relationships\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @returns {boolean}\n   */\n  hasRelationship(featureTable: string | FeatureTable): boolean {\n    return (\n      this.hasStyleRelationship(featureTable) ||\n      this.hasTableStyleRelationship(featureTable) ||\n      this.hasIconRelationship(featureTable) ||\n      this.hasTableIconRelationship(featureTable)\n    );\n  }\n  /**\n   * Create a style relationship for the feature table\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return {any}\n   */\n  createStyleRelationship(featureTable: string | FeatureTable): ExtendedRelation {\n    return this._createStyleRelationship(\n      this.getMappingTableName(FeatureStyleExtension.TABLE_MAPPING_STYLE, featureTable),\n      this.getFeatureTableName(featureTable),\n      this.getFeatureTableName(featureTable),\n      StyleTable.TABLE_NAME,\n    );\n  }\n  /**\n   * Determine if a style relationship exists for the feature table\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @returns {boolean}\n   */\n  hasStyleRelationship(featureTable: string | FeatureTable): boolean {\n    return this._hasStyleRelationship(\n      this.getMappingTableName(FeatureStyleExtension.TABLE_MAPPING_STYLE, featureTable),\n      this.getFeatureTableName(featureTable),\n      StyleTable.TABLE_NAME,\n    );\n  }\n  /**\n   * Create a feature table style relationship\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return {ExtendedRelation}\n   */\n  createTableStyleRelationship(featureTable: string | FeatureTable): ExtendedRelation {\n    return this._createStyleRelationship(\n      this.getMappingTableName(FeatureStyleExtension.TABLE_MAPPING_TABLE_STYLE, featureTable),\n      this.getFeatureTableName(featureTable),\n      ContentsIdDao.TABLE_NAME,\n      StyleTable.TABLE_NAME,\n    );\n  }\n  /**\n   * Determine if a feature table style relationship exists\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @returns {boolean} true if relationship exists\n   */\n  hasTableStyleRelationship(featureTable: string | FeatureTable): boolean {\n    return this._hasStyleRelationship(\n      this.getMappingTableName(FeatureStyleExtension.TABLE_MAPPING_TABLE_STYLE, featureTable),\n      ContentsIdDao.TABLE_NAME,\n      StyleTable.TABLE_NAME,\n    );\n  }\n  /**\n   * Create an icon relationship for the feature table\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return {ExtendedRelation}\n   */\n  createIconRelationship(featureTable: string | FeatureTable): ExtendedRelation {\n    return this._createStyleRelationship(\n      this.getMappingTableName(FeatureStyleExtension.TABLE_MAPPING_ICON, featureTable),\n      this.getFeatureTableName(featureTable),\n      this.getFeatureTableName(featureTable),\n      IconTable.TABLE_NAME,\n    );\n  }\n  /**\n   * Determine if an icon relationship exists for the feature table\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @returns {boolean} true if relationship exists\n   */\n  hasIconRelationship(featureTable: string | FeatureTable): boolean {\n    return this._hasStyleRelationship(\n      this.getMappingTableName(FeatureStyleExtension.TABLE_MAPPING_ICON, featureTable),\n      this.getFeatureTableName(featureTable),\n      IconTable.TABLE_NAME,\n    );\n  }\n  /**\n   * Create a feature table icon relationship\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return {ExtendedRelation}\n   */\n  createTableIconRelationship(featureTable: string | FeatureTable): ExtendedRelation {\n    return this._createStyleRelationship(\n      this.getMappingTableName(FeatureStyleExtension.TABLE_MAPPING_TABLE_ICON, featureTable),\n      this.getFeatureTableName(featureTable),\n      ContentsIdDao.TABLE_NAME,\n      IconTable.TABLE_NAME,\n    );\n  }\n  /**\n   * Determine if a feature table icon relationship exists\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @returns {Boolean} true if relationship exists\n   */\n  hasTableIconRelationship(featureTable: string | FeatureTable): boolean {\n    return this._hasStyleRelationship(\n      this.getMappingTableName(FeatureStyleExtension.TABLE_MAPPING_TABLE_ICON, featureTable),\n      ContentsIdDao.TABLE_NAME,\n      IconTable.TABLE_NAME,\n    );\n  }\n  /**\n   * Get the mapping table name\n   * @param tablePrefix table name prefix\n   * @param {module:features/user/featureTable|String} featureTable feature table name\n   * @returns {String} mapping table name\n   */\n  getMappingTableName(tablePrefix: string, featureTable: string | FeatureTable): string {\n    return tablePrefix + this.getFeatureTableName(featureTable);\n  }\n  /**\n   * Check if the style extension relationship between a feature table and\n   * style extension table exists\n   * @param {String} mappingTableName mapping table name\n   * @param {String} baseTable base table name\n   * @param {String} relatedTable related table name\n   * @returns {boolean} true if relationship exists\n   */\n  _hasStyleRelationship(mappingTableName: string, baseTable: string, relatedTable: string): boolean {\n    return this.relatedTablesExtension.hasRelations(baseTable, relatedTable, mappingTableName);\n  }\n  /**\n   * Create a style extension relationship between a feature table and style\n   * extension table\n   * @param {String} mappingTableName mapping table name\n   * @param {String} featureTable feature table\n   * @param {String} baseTable base table name\n   * @param {String} relatedTable related table name\n   * @return {ExtendedRelation}\n   * @private\n   */\n  _createStyleRelationship(\n    mappingTableName: string,\n    featureTable: string,\n    baseTable: string,\n    relatedTable: string,\n  ): ExtendedRelation {\n    if (!this._hasStyleRelationship(mappingTableName, baseTable, relatedTable)) {\n      // Create the extension\n      this.getOrCreateExtension(featureTable);\n      if (baseTable === ContentsIdDao.TABLE_NAME && !this.contentsIdExtension.has()) {\n        this.contentsIdExtension.getOrCreateExtension();\n      }\n      return this._handleCreateStyleRelationship(mappingTableName, baseTable, relatedTable);\n    } else {\n      const relationships = this.geoPackage.extendedRelationDao.getRelations(baseTable, relatedTable, mappingTableName);\n      // TODO this isn't quite right\n      return relationships[0];\n    }\n  }\n  /**\n   * Private function to aid in creation of the a style extension relationship between a feature table and style extension table\n   * @param {String} mappingTableName\n   * @param {String} baseTable\n   * @param {String} relatedTable\n   * @return {ExtendedRelation}\n   * @private\n   */\n  _handleCreateStyleRelationship(\n    mappingTableName: string,\n    baseTable: string,\n    relatedTable: string,\n  ): ExtendedRelation {\n    if (relatedTable === StyleTable.TABLE_NAME) {\n      return this.relatedTablesExtension.addAttributesRelationship(\n        this.geoPackage.relatedTablesExtension\n          .getRelationshipBuilder()\n          .setBaseTableName(baseTable)\n          .setUserMappingTable(StyleMappingTable.create(mappingTableName))\n          .setRelatedTable(StyleTable.create()),\n      );\n    } else {\n      return this.relatedTablesExtension.addMediaRelationship(\n        this.geoPackage.relatedTablesExtension\n          .getRelationshipBuilder()\n          .setBaseTableName(baseTable)\n          .setUserMappingTable(StyleMappingTable.create(mappingTableName))\n          .setRelatedTable(IconTable.create()),\n      );\n    }\n  }\n  /**\n   * Delete the style and icon table and row relationships for all feature\n   * tables\n   */\n  deleteAllRelationships(): {\n    styleRelationships: number;\n    tableStyleRelationships: number;\n    iconRelationship: number;\n    tableIconRelationship: number;\n  } {\n    const removed = {\n      styleRelationships: 0,\n      tableStyleRelationships: 0,\n      iconRelationship: 0,\n      tableIconRelationship: 0,\n    };\n    const tables = this.getTables();\n    for (let i = 0; i < tables.length; i++) {\n      const {\n        styleRelationships,\n        tableStyleRelationships,\n        iconRelationship,\n        tableIconRelationship,\n      } = this.deleteRelationships(tables[i]);\n\n      removed.styleRelationships += styleRelationships;\n      removed.tableStyleRelationships += tableStyleRelationships;\n      removed.iconRelationship += iconRelationship;\n      removed.tableIconRelationship += tableIconRelationship;\n    }\n    return removed;\n  }\n  /**\n   * Delete the style and icon table and row relationships for the feature\n   * table\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   */\n  deleteRelationships(\n    featureTable: string | FeatureTable,\n  ): {\n    styleRelationships: number;\n    tableStyleRelationships: number;\n    iconRelationship: number;\n    tableIconRelationship: number;\n  } {\n    return {\n      styleRelationships: this.deleteStyleRelationship(featureTable),\n      tableStyleRelationships: this.deleteTableStyleRelationship(featureTable),\n      iconRelationship: this.deleteIconRelationship(featureTable),\n      tableIconRelationship: this.deleteTableIconRelationship(featureTable),\n    };\n  }\n  /**\n   * Delete a style relationship for the feature table\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   */\n  deleteStyleRelationship(featureTable: string | FeatureTable): number {\n    return this._deleteStyleRelationship(\n      this.getMappingTableName(FeatureStyleExtension.TABLE_MAPPING_STYLE, featureTable),\n      featureTable,\n    );\n  }\n  /**\n   * Delete a table style relationship for the feature table\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   */\n  deleteTableStyleRelationship(featureTable: string | FeatureTable): number {\n    return this._deleteStyleRelationship(\n      this.getMappingTableName(FeatureStyleExtension.TABLE_MAPPING_TABLE_STYLE, featureTable),\n      featureTable,\n    );\n  }\n  /**\n   * Delete a icon relationship for the feature table\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   */\n  deleteIconRelationship(featureTable: string | FeatureTable): number {\n    return this._deleteStyleRelationship(\n      this.getMappingTableName(FeatureStyleExtension.TABLE_MAPPING_ICON, featureTable),\n      featureTable,\n    );\n  }\n  /**\n   * Delete a table icon relationship for the feature table\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   */\n  deleteTableIconRelationship(featureTable: string | FeatureTable): number {\n    return this._deleteStyleRelationship(\n      this.getMappingTableName(FeatureStyleExtension.TABLE_MAPPING_TABLE_ICON, featureTable),\n      featureTable,\n    );\n  }\n  /**\n   * Delete a style extension feature table relationship and the mapping table\n   * @param {String} mappingTableName\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @private\n   */\n  _deleteStyleRelationship(mappingTableName: string, featureTable: string | FeatureTable): number {\n    let removed = 0;\n    this.relatedTablesExtension.removeRelationshipsWithMappingTable(mappingTableName)\n    if (!this.hasRelationship(featureTable)) {\n      if (this.extensionsDao.isTableExists()) {\n        this.extensionsDao.deleteByExtensionAndTableName(\n          FeatureStyleExtension.EXTENSION_NAME,\n          this.getFeatureTableName(featureTable),\n        );\n      }\n    }\n    return removed;\n  }\n  /**\n   * Get a Style Mapping DAO\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return {module:extension/style.StyleMappingDao} style mapping DAO\n   */\n  getStyleMappingDao(featureTable: string | FeatureTable): StyleMappingDao {\n    return this._getMappingDao(FeatureStyleExtension.TABLE_MAPPING_STYLE, featureTable);\n  }\n  /**\n   * Get a Table Style Mapping DAO\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return {module:extension/style.StyleMappingDao} table style mapping DAO\n   */\n  getTableStyleMappingDao(featureTable: string | FeatureTable): StyleMappingDao {\n    return this._getMappingDao(FeatureStyleExtension.TABLE_MAPPING_TABLE_STYLE, featureTable);\n  }\n  /**\n   * Get a Icon Mapping DAO\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return {module:extension/style.StyleMappingDao} icon mapping DAO\n   */\n  getIconMappingDao(featureTable: FeatureTable | string): StyleMappingDao {\n    return this._getMappingDao(FeatureStyleExtension.TABLE_MAPPING_ICON, featureTable);\n  }\n  /**\n   * Get a Table Icon Mapping DAO\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return {module:extension/style.StyleMappingDao} table icon mapping DAO\n   */\n  getTableIconMappingDao(featureTable: string | FeatureTable): StyleMappingDao {\n    return this._getMappingDao(FeatureStyleExtension.TABLE_MAPPING_TABLE_ICON, featureTable);\n  }\n  /**\n   * Get a Style Mapping DAO from a table name\n   * @param {String} tablePrefix table name prefix\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return {module:extension/style.StyleMappingDao} style mapping dao\n   * @private\n   */\n  _getMappingDao(tablePrefix: string, featureTable: string | FeatureTable): StyleMappingDao {\n    const featureTableName = this.getFeatureTableName(featureTable);\n    const tableName = tablePrefix + featureTableName;\n    let dao = null;\n    if (this.geoPackage.isTable(tableName)) {\n      dao = new StyleMappingDao(\n        this.relatedTablesExtension.getUserDao(tableName),\n        this.geoPackage,\n      );\n    }\n    return dao;\n  }\n  /**\n   * Get a style DAO\n   * @return {module:extension/style.StyleDao} style DAO\n   */\n  getStyleDao(): StyleDao {\n    let styleDao = null;\n    if (this.geoPackage.isTable(StyleTable.TABLE_NAME)) {\n      const contents = this.geoPackage.contentsDao.queryForId(StyleTable.TABLE_NAME);\n      if (contents) {\n        const reader = new StyleTableReader(contents.table_name);\n        const table = reader.readTable(this.geoPackage.connection) as StyleTable;\n        table.setContents(contents);\n        styleDao = new StyleDao(this.geoPackage, table);\n      }\n    }\n    return styleDao;\n  }\n  /**\n   * Get a icon DAO\n   * @return {module:extension/style.IconDao}\n   */\n  getIconDao(): IconDao {\n    let iconDao = null;\n    if (this.geoPackage.isTable(IconTable.TABLE_NAME)) {\n      const reader = new UserCustomTableReader(IconTable.TABLE_NAME);\n      const userTable = reader.readTable(this.geoPackage.database);\n      const table = new IconTable(userTable.getTableName(), userTable.getUserColumns().getColumns(), IconTable.requiredColumns());\n      table.setContents(this.geoPackage.contentsDao.queryForId(IconTable.TABLE_NAME));\n      iconDao = new IconDao(this.geoPackage, table);\n    }\n    return iconDao;\n  }\n  /**\n   * Get the feature table default feature styles\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return {module:extension/style.FeatureStyles} table feature styles or null\n   */\n  getTableFeatureStyles(featureTable: string | FeatureTable): FeatureStyles {\n    let featureStyles = null;\n    const id = this.contentsIdExtension.getIdByTableName(this.getFeatureTableName(featureTable));\n    if (id !== null) {\n      const styles = this.getTableStyles(featureTable);\n      const icons = this.getTableIcons(featureTable);\n      if (styles !== null || icons !== null) {\n        featureStyles = new FeatureStyles(styles, icons);\n      }\n    }\n    return featureStyles;\n  }\n  /**\n   * Get the default style of the feature table\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return {module:extension/style.StyleRow} style row\n   */\n  getTableStyleDefault(featureTable: string | FeatureTable): StyleRow {\n    return this.getTableStyle(featureTable, null);\n  }\n  /**\n   * Get the style of the feature table and geometry type\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @param {GeometryType} geometryType geometry type\n   * @return {module:extension/style.StyleRow} style row\n   */\n  getTableStyle(featureTable: string | FeatureTable, geometryType: GeometryType): StyleRow {\n    let style = null;\n    const styles = this.getTableStyles(featureTable);\n    if (styles !== null) {\n      if (geometryType === null) {\n        style = styles.getDefault();\n      } else {\n        style = styles.getStyle(geometryType);\n      }\n    }\n    return style;\n  }\n  /**\n   * Get the feature table default styles\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return {module:extension/style.Styles} table styles or null\n   */\n  getTableStyles(featureTable: string | FeatureTable): Styles {\n    let styles = null;\n    const id = this.contentsIdExtension.getIdByTableName(this.getFeatureTableName(featureTable));\n    if (id !== null) {\n      styles = this.getStyles(id, this.getTableStyleMappingDao(featureTable), true);\n    }\n    return styles;\n  }\n  /**\n   * Get the default icon of the feature table\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return {module:extension/style.IconRow} icon row\n   */\n  getTableIconDefault(featureTable: string | FeatureTable): IconRow {\n    return this.getTableIcon(featureTable, null);\n  }\n  /**\n   * Get the icon of the feature table and geometry type\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @param {GeometryType} geometryType geometry type\n   * @return {module:extension/style.IconRow} icon row\n   */\n  getTableIcon(featureTable: string | FeatureTable, geometryType: GeometryType): IconRow {\n    let icon = null;\n    const icons = this.getTableIcons(featureTable);\n    if (icons !== null) {\n      if (geometryType === null) {\n        icon = icons.getDefault();\n      } else {\n        icon = icons.getIcon(geometryType);\n      }\n    }\n    return icon;\n  }\n  /**\n   * Get the feature table default icons\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return {module:extension/style.Icons} table icons or null\n   */\n  getTableIcons(featureTable: string | FeatureTable): Icons {\n    let icons = null;\n    const id = this.contentsIdExtension.getIdByTableName(this.getFeatureTableName(featureTable));\n    if (id !== null) {\n      icons = this.getIcons(id, this.getTableIconMappingDao(featureTable), true);\n    }\n    return icons;\n  }\n  /**\n   * Gets Icons for featureId and mappingDao\n   * @param {Number} featureId\n   * @param mappingDao\n   * @param {boolean} tableIcons\n   * @returns {module:extension/style.Icons}\n   * @private\n   */\n  getIcons(featureId: number, mappingDao: StyleMappingDao, tableIcons: boolean = false): Icons {\n    let icons = new Icons(tableIcons);\n    if (mappingDao !== null) {\n      const iconDao = this.getIconDao();\n      const styleMappingRows = mappingDao.queryByBaseId(featureId);\n      for (let i = 0; i < styleMappingRows.length; i++) {\n        const styleMappingRow = mappingDao.createObject(styleMappingRows[i]) as StyleMappingRow;\n        const iconRow = iconDao.queryForId(styleMappingRow.relatedId) as IconRow;\n        if (styleMappingRow.getGeometryTypeName() === null) {\n          icons.setDefault(iconRow);\n        } else {\n          icons.setIcon(iconRow, GeometryType.fromName(styleMappingRow.getGeometryTypeName().toUpperCase()));\n        }\n      }\n    }\n    if (icons.isEmpty()) {\n      icons = null;\n    }\n    return icons;\n  }\n  /**\n   * Gets Styles for featureId and mappingDao\n   * @param {Number} featureId\n   * @param {module:extension/style.StyleMappingDao} mappingDao\n   * @param {boolean} tableStyles\n   * @returns {module:extension/style.Styles}\n   */\n  getStyles(featureId: number, mappingDao: StyleMappingDao, tableStyles: boolean = false): Styles {\n    let styles = new Styles(tableStyles);\n    if (mappingDao !== null) {\n      const styleDao = this.getStyleDao();\n      const styleMappingRows = mappingDao.queryByBaseId(featureId);\n      for (let i = 0; i < styleMappingRows.length; i++) {\n        const styleMappingRow = mappingDao.createObject(styleMappingRows[i]) as StyleMappingRow;\n        const styleRow = styleDao.queryForId(styleMappingRow.relatedId) as StyleRow;\n        if (styleMappingRow.getGeometryTypeName() === null) {\n          styles.setDefault(styleRow);\n        } else {\n          styles.setStyle(styleRow, GeometryType.fromName(styleMappingRow.getGeometryTypeName().toUpperCase()));\n        }\n      }\n    }\n    if (styles.isEmpty()) {\n      styles = null;\n    }\n    return styles;\n  }\n  /**\n   * Get the feature styles for the feature row\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @return {module:extension/style.FeatureStyles} feature styles or null\n   */\n  getFeatureStylesForFeatureRow(featureRow: FeatureRow): FeatureStyles {\n    return this.getFeatureStyles(featureRow.featureTable, featureRow.id);\n  }\n  /**\n   * Get the feature styles for the feature row\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @param {Number} featureId feature id\n   * @return {module:extension/style.FeatureStyles} feature styles or null\n   */\n  getFeatureStyles(featureTable: string | FeatureTable, featureId: number): FeatureStyles {\n    const styles = this.getStyles(featureId, this.getStyleMappingDao(featureTable));\n    const icons = this.getIcons(featureId, this.getIconMappingDao(featureTable));\n    let featureStyles = null;\n    if (styles !== null || icons !== null) {\n      featureStyles = new FeatureStyles(styles, icons);\n    }\n    return featureStyles;\n  }\n  /**\n   * Get the styles for the feature row\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @return {module:extension/style.Styles} styles or null\n   */\n  getStylesForFeatureRow(featureRow: FeatureRow): Styles {\n    return this.getStyles(featureRow.id, this.getStyleMappingDao(featureRow.featureTable.getTableName()));\n  }\n  /**\n   * Get the styles for the feature id\n   * @param {String} tableName table name\n   * @param {Number} featureId feature id\n   * @return {module:extension/style.Styles} styles or null\n   */\n  getStylesForFeatureId(tableName: string, featureId: number): Styles {\n    return this.getStyles(featureId, this.getStyleMappingDao(tableName));\n  }\n  /**\n   * Get the icons for the feature row\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @return {module:extension/style.Icons} icons or null\n   */\n  getIconsForFeatureRow(featureRow: FeatureRow): Icons {\n    return this.getIcons(featureRow.id, this.getIconMappingDao(featureRow.featureTable.getTableName()));\n  }\n  /**\n   * Get the icons for the feature id\n   * @param {String} tableName table name\n   * @param {Number} featureId feature id\n   * @return {module:extension/style.Icons} icons or null\n   */\n  getIconsForFeatureId(tableName: string, featureId: number): Icons {\n    return this.getIcons(featureId, this.getIconMappingDao(tableName));\n  }\n  /**\n   * Get the feature style (style and icon) of the feature row, searching in\n   * order: feature geometry type style or icon, feature default style or\n   * icon, table geometry type style or icon, table default style or icon\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @return {module:extension/style.FeatureStyle} feature style\n   */\n  getFeatureStyleForFeatureRow(featureRow: FeatureRow): FeatureStyle {\n    return new FeatureStyle(\n      this.getStyle(featureRow.featureTable.getTableName(), featureRow.id, GeometryType.fromName(featureRow.geometryType.toUpperCase()), true),\n      this.getIcon(featureRow.featureTable.getTableName(), featureRow.id, GeometryType.fromName(featureRow.geometryType.toUpperCase()), true),\n    );\n  }\n  /**\n   * Get the feature style (style and icon) of the feature, searching in\n   * order: feature geometry type style or icon, feature default style or\n   * icon, table geometry type style or icon, table default style or icon\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @return {module:extension/style.FeatureStyle} feature style\n   */\n  getFeatureStyleDefault(featureRow: FeatureRow): FeatureStyle {\n    return new FeatureStyle(\n      this.getStyle(featureRow.featureTable.getTableName(), featureRow.id, null, true),\n      this.getIcon(featureRow.featureTable.getTableName(), featureRow.id, null, true),\n    );\n  }\n  /**\n   * Get the icon of the feature, searching in order: feature geometry type\n   * icon, feature default icon, when tableIcon enabled continue searching:\n   * table geometry type icon, table default icon\n   * @param {module:features/user/featureTable|String} featureTable\n   * @param {Number} featureId\n   * @param {GeometryType} geometryType\n   * @param {Boolean} tableIcon\n   * @returns {module:extension/style.IconRow}\n   * @private\n   */\n  getIcon(featureTable: string | FeatureTable, featureId: number, geometryType: GeometryType, tableIcon: boolean): IconRow {\n    let iconRow = null;\n    const icons = this.getIcons(featureId, this.getIconMappingDao(featureTable));\n    if (icons !== null) {\n      iconRow = icons.getIcon(geometryType);\n    }\n    if (iconRow === null && tableIcon) {\n      iconRow = this.getTableIcon(featureTable, geometryType);\n    }\n    return iconRow;\n  }\n  /**\n   * Get the style of the feature, searching in order: feature geometry type\n   * style, feature default style, when tableStyle enabled continue searching:\n   * table geometry type style, table default style\n   * @param {module:features/user/featureTable|String} featureTable\n   * @param {Number} featureId\n   * @param {GeometryType} geometryType\n   * @param {Boolean} tableStyle\n   * @returns {module:extension/style.StyleRow}\n   * @private\n   */\n  getStyle(\n    featureTable: string | FeatureTable,\n    featureId: number,\n    geometryType: GeometryType,\n    tableStyle: boolean,\n  ): StyleRow {\n    let styleRow = null;\n    const styles = this.getStyles(featureId, this.getStyleMappingDao(featureTable));\n    if (styles !== null) {\n      styleRow = styles.getStyle(geometryType);\n    }\n    if (styleRow === null && tableStyle) {\n      styleRow = this.getTableStyle(featureTable, geometryType);\n    }\n    return styleRow;\n  }\n  /**\n   * Set the feature table default feature styles\n   * @param {module:features/user/featureTable~FeatureTable|String} featureTable feature table\n   * @param {module:extension/style.FeatureStyles} featureStyles feature styles\n   * @return {any}\n   */\n  setTableFeatureStyles(\n    featureTable: string | FeatureTable,\n    featureStyles?: FeatureStyles,\n  ): {\n    tableStyles: {\n      styleDefault: number;\n      styles: number[];\n    };\n    tableIcons: {\n      iconDefault: number;\n      icons: number[];\n    };\n    deleted?: {\n      styles: number;\n      icons: number;\n    };\n  } {\n    if (featureStyles !== null) {\n      const tableStyles = this.setTableStyles(featureTable, featureStyles.styles);\n      const tableIcons = this.setTableIcons(featureTable, featureStyles.icons);\n      return {\n        tableStyles: tableStyles,\n        tableIcons: tableIcons,\n      };\n    } else {\n      return {\n        deleted: this.deleteTableFeatureStyles(featureTable),\n        tableStyles: undefined,\n        tableIcons: undefined,\n      };\n    }\n  }\n  /**\n   * Set the feature table default styles\n   * @param {module:features/user/featureTable~FeatureTable|String} featureTable feature table\n   * @param {module:extension/style.Styles} styles default styles\n   * @return {any}\n   */\n  setTableStyles(\n    featureTable: string | FeatureTable,\n    styles?: Styles,\n  ): { styleDefault: number; styles: number[]; deleted: number } {\n    const deleted = this.deleteTableStyles(featureTable);\n    if (styles !== null) {\n      let styleIdList = [];\n      let styleDefault = undefined;\n      if (styles.getDefault() !== null) {\n        styleDefault = this.setTableStyleDefault(featureTable, styles.getDefault());\n      }\n      const keys = styles.getGeometryTypes();\n      for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        const value = styles.getStyle(key);\n        styleIdList.push(this.setTableStyle(featureTable, key, value));\n      }\n      return {\n        styleDefault,\n        styles: styleIdList,\n        deleted,\n      };\n    }\n  }\n  /**\n   * Set the feature table style default\n   * @param {module:features/user/featureTable~FeatureTable|String} featureTable feature table\n   * @param {module:extension/style.StyleRow} style style row\n   * @return {number}\n   */\n  setTableStyleDefault(featureTable: string | FeatureTable, style: StyleRow): number {\n    return this.setTableStyle(featureTable, null, style);\n  }\n  /**\n   * Set the feature table style for the geometry type\n   * @param {module:features/user/featureTable~FeatureTable|String} featureTable feature table\n   * @param {GeometryType} geometryType geometry type\n   * @param {module:extension/style.StyleRow} style style row\n   * @return {number}\n   */\n  setTableStyle(featureTable: string | FeatureTable, geometryType: GeometryType, style?: StyleRow): number {\n    this.deleteTableStyle(featureTable, geometryType);\n    if (style !== null) {\n      this.createTableStyleRelationship(featureTable);\n      const featureContentsId = this.contentsIdExtension.getOrCreateIdByTableName(\n        this.getFeatureTableName(featureTable),\n      );\n      const styleId = this.getOrInsertStyle(style);\n      const mappingDao = this.getTableStyleMappingDao(featureTable);\n      return this.insertStyleMapping(mappingDao, featureContentsId.id, styleId, geometryType);\n    }\n  }\n  /**\n   * Set the feature table default icons\n   * @param {module:features/user/featureTable~FeatureTable|String} featureTable feature table\n   * @param {module:extension/style.Icons} icons default icons\n   * @return {any}\n   */\n  setTableIcons(\n    featureTable: string | FeatureTable,\n    icons?: Icons,\n  ): { iconDefault: number; icons: number[]; deleted: number } {\n    const deleted = this.deleteTableIcons(featureTable);\n    if (icons !== null) {\n      let iconDefault = undefined;\n      let iconIdList= [];\n      if (icons.getDefault() !== null) {\n        iconDefault = this.setTableIconDefault(featureTable, icons.getDefault());\n      }\n      const keys = icons.getGeometryTypes();\n      for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        const value = icons.getIcon(key);\n        iconIdList.push(this.setTableIcon(featureTable, key, value));\n      }\n      return {\n        iconDefault,\n        icons: iconIdList,\n        deleted,\n      };\n    }\n  }\n  /**\n   * Set the feature table icon default\n   * @param {module:features/user/featureTable~FeatureTable|String} featureTable feature table\n   * @param {module:extension/style.IconRow} icon icon row\n   * @return {number}\n   */\n  setTableIconDefault(featureTable: string | FeatureTable, icon?: IconRow): number {\n    return this.setTableIcon(featureTable, null, icon);\n  }\n  /**\n   * Set the feature table icon for the geometry type\n   * @param {module:features/user/featureTable~FeatureTable|String} featureTable feature table\n   * @param {GeometryType} geometryType geometry type\n   * @param {module:extension/style.IconRow} icon icon row\n   * @return {number}\n   */\n  setTableIcon(featureTable: string | FeatureTable, geometryType: GeometryType, icon?: IconRow): number {\n    this.deleteTableIcon(featureTable, geometryType);\n    if (icon !== null) {\n      this.createTableIconRelationship(featureTable);\n      const featureContentsId = this.contentsIdExtension.getOrCreateIdByTableName(\n        this.getFeatureTableName(featureTable),\n      );\n      const iconId = this.getOrInsertIcon(icon);\n      const mappingDao = this.getTableIconMappingDao(featureTable);\n      return this.insertStyleMapping(mappingDao, featureContentsId.id, iconId, geometryType);\n    }\n  }\n  /**\n   * Set the feature styles for the feature row\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.FeatureStyles} featureStyles feature styles\n   * @return {any}\n   */\n  setFeatureStylesForFeatureRow(\n    featureRow: FeatureRow,\n    featureStyles: FeatureStyles,\n  ): {\n    styles: { styleDefault: number; styles: number[] };\n    icons: {\n      iconDefault: number;\n      icons: number[];\n      deleted?: {\n        style: number;\n        icon: number;\n      };\n    };\n  } {\n    return this.setFeatureStyles(featureRow.featureTable.getTableName(), featureRow.id, featureStyles);\n  }\n\n  /**\n   * Set the feature styles for the feature table and feature id\n   * @param {module:features/user/featureTable~FeatureTable|String} featureTable feature table\n   * @param {Number} featureId feature id\n   * @param {module:extension/style.FeatureStyles} featureStyles feature styles\n   * @return {any}\n   */\n  setFeatureStyles(\n    featureTable: string | FeatureTable,\n    featureId: number,\n    featureStyles?: FeatureStyles,\n  ): {\n    styles: { styleDefault: number; styles: number[] };\n    icons: { iconDefault: number; icons: number[] };\n    deleted?: {\n      deletedStyles: number;\n      deletedIcons: number;\n    };\n  } {\n    if (featureStyles !== null) {\n      const styles = this.setStyles(featureTable, featureId, featureStyles.styles);\n      const icons = this.setIcons(featureTable, featureId, featureStyles.icons);\n      return {\n        styles,\n        icons,\n      };\n    } else {\n      const deletedStyles = this.deleteStyles(featureTable); //, featureId);\n      const deletedIcons = this.deleteIcons(featureTable); //, featureId);\n      return {\n        styles: undefined,\n        icons: undefined,\n        deleted: {\n          deletedStyles,\n          deletedIcons,\n        },\n      };\n    }\n  }\n  /**\n   * Set the feature style (style and icon) of the feature row\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.FeatureStyle} featureStyle feature style\n   * @return {any}\n   */\n  setFeatureStyleForFeatureRow(\n    featureRow: FeatureRow,\n    featureStyle: FeatureStyle,\n  ): {\n    style: number;\n    icon: number;\n    deleted?: {\n      style: number;\n      icon: number;\n    };\n  } {\n    return this.setFeatureStyleForFeatureRowAndGeometryType(featureRow, GeometryType.fromName(featureRow.geometryType.toUpperCase()), featureStyle);\n  }\n  /**\n   * Set the feature style (style and icon) of the feature row for the\n   * specified geometry type\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {GeometryType} geometryType geometry type\n   * @param {module:extension/style.FeatureStyle} featureStyle feature style\n   * @return {any}\n   */\n  setFeatureStyleForFeatureRowAndGeometryType(\n    featureRow: FeatureRow,\n    geometryType: GeometryType,\n    featureStyle: FeatureStyle,\n  ): {\n    style: number;\n    icon: number;\n    deleted?: {\n      style: number;\n      icon: number;\n    };\n  } {\n    return this.setFeatureStyle(featureRow.featureTable.getTableName(), featureRow.id, geometryType, featureStyle);\n  }\n  /**\n   * Set the feature style default (style and icon) of the feature row\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.FeatureStyle} featureStyle feature style\n   * @return {any}\n   */\n  setFeatureStyleDefaultForFeatureRow(\n    featureRow: FeatureRow,\n    featureStyle: FeatureStyle,\n  ): {\n    style: number;\n    icon: number;\n    deleted?: {\n      style: number;\n      icon: number;\n    };\n  } {\n    return this.setFeatureStyle(featureRow.featureTable.getTableName(), featureRow.id, null, featureStyle);\n  }\n  /**\n   * Set the feature style (style and icon) of the feature\n   * @param {module:features/user/featureTable~FeatureTable|String} featureTable feature table\n   * @param {Number} featureId feature id\n   * @param {GeometryType} geometryType geometry type\n   * @param {module:extension/style.FeatureStyle} featureStyle feature style\n   * @return {any}\n   */\n  setFeatureStyle(\n    featureTable: string | FeatureTable,\n    featureId: number,\n    geometryType: GeometryType,\n    featureStyle?: FeatureStyle,\n  ): {\n    style: number;\n    icon: number;\n    deleted?: {\n      style: number;\n      icon: number;\n    };\n  } {\n    if (featureStyle !== null) {\n      return {\n        style: this.setStyle(featureTable, featureId, geometryType, featureStyle.style),\n        icon: this.setIcon(featureTable, featureId, geometryType, featureStyle.icon),\n      }\n    } else {\n      return {\n        style: undefined,\n        icon: undefined,\n        deleted: {\n          style: this.deleteStyle(featureTable, featureId, geometryType),\n          icon: this.deleteIcon(featureTable, featureId, geometryType),\n        },\n      };\n    }\n  }\n  /**\n   * Set the feature style (style and icon) of the feature\n   * @param {module:features/user/featureTable~FeatureTable|String} featureTable feature table\n   * @param {Number} featureId feature id\n   * @param {module:extension/style.FeatureStyle} featureStyle feature style\n   * @return {object}\n   */\n  setFeatureStyleDefault(\n    featureTable: string | FeatureTable,\n    featureId: number,\n    featureStyle: FeatureStyle,\n  ): {\n    style: number;\n    icon: number;\n    deleted?: {\n      style: number;\n      icon: number;\n    };\n  } {\n    return this.setFeatureStyle(featureTable, featureId, null, featureStyle);\n  }\n  /**\n   * Set the styles for the feature row\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.Styles} styles styles\n   * @return {Promise}\n   */\n  setStylesForFeatureRow(\n    featureRow: FeatureRow,\n    styles: Styles,\n  ): { styleDefault: number; styles: number[]; deleted: number } {\n    return this.setStyles(featureRow.featureTable.getTableName(), featureRow.id, styles);\n  }\n  /**\n   * Set the styles for the feature table and feature id\n   * @param {module:features/user/featureTable~FeatureTable|String} featureTable feature table\n   * @param {Number} featureId feature id\n   * @param {module:extension/style.Styles} styles styles\n   * @return {Promise}\n   */\n  setStyles(\n    featureTable: string | FeatureTable,\n    featureId: number,\n    styles?: Styles,\n  ): { styleDefault: number; styles: number[]; deleted: number } {\n    const deleted = this.deleteStylesForFeatureId(featureTable, featureId);\n    if (styles !== null) {\n      let styleIds = [];\n      let styleDefault = undefined;\n      if (styles.getDefault() !== null) {\n        styleDefault = this.setStyleDefault(featureTable, featureId, styles.getDefault());\n      }\n      const keys = styles.getGeometryTypes();\n      for (let i = 0; i < keys.length; i++) {\n        styleIds.push(this.setStyle(featureTable, featureId, keys[i], styles.getStyle(keys[i])));\n      }\n      return {\n        styleDefault,\n        styles: styleIds,\n        deleted,\n      };\n    } else {\n      return {\n        styleDefault: undefined,\n        styles: undefined,\n        deleted,\n      };\n    }\n  }\n  /**\n   * Set the style of the feature row\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.StyleRow} style style row\n   * @return {Promise}\n   */\n  setStyleForFeatureRow(featureRow: FeatureRow, style: StyleRow): number {\n    return this.setStyleForFeatureRowAndGeometryType(featureRow, GeometryType.fromName(featureRow.geometryType.toUpperCase()), style);\n  }\n  /**\n   * Set the style of the feature row for the specified geometry type\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {GeometryType} geometryType geometry type\n   * @param {module:extension/style.StyleRow} style style row\n   * @return {Promise}\n   */\n  setStyleForFeatureRowAndGeometryType(\n    featureRow: FeatureRow,\n    geometryType: GeometryType,\n    style: StyleRow,\n  ): number {\n    return this.setStyle(featureRow.featureTable.getTableName(), featureRow.id, geometryType, style);\n  }\n  /**\n   * Set the default style of the feature row\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.StyleRow} style style row\n   * @return {Promise}\n   */\n  setStyleDefaultForFeatureRow(featureRow: FeatureRow, style: StyleRow): number {\n    return this.setStyle(featureRow.featureTable.getTableName(), featureRow.id, null, style);\n  }\n  /**\n   * Set the style of the feature\n   * @param {module:features/user/featureTable~FeatureTable|String} featureTable feature table\n   * @param {Number} featureId feature id\n   * @param {GeometryType} geometryType geometry type\n   * @param {module:extension/style.StyleRow} style style row\n   * @return {number}\n   */\n  setStyle(\n    featureTable: string | FeatureTable,\n    featureId: number,\n    geometryType: GeometryType,\n    style: StyleRow,\n  ): number {\n    this.deleteStyle(featureTable, featureId, geometryType);\n    if (style !== null) {\n      this.createStyleRelationship(featureTable);\n      const styleId = this.getOrInsertStyle(style);\n      const mappingDao = this.getStyleMappingDao(featureTable);\n      return this.insertStyleMapping(mappingDao, featureId, styleId, geometryType);\n    }\n  }\n  /**\n   * Set the default style of the feature\n   * @param {module:features/user/featureTable~FeatureTable|String} featureTable feature table\n   * @param {Number} featureId feature id\n   * @param {module:extension/style.StyleRow} style style row\n   * @return {number}\n   */\n  setStyleDefault(featureTable: string | FeatureTable, featureId: number, style: StyleRow): number {\n    return this.setStyle(featureTable, featureId, null, style);\n  }\n  /**\n   * Set the icons for the feature row\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.Icons} icons icons\n   * @return {Promise}\n   */\n  setIconsForFeatureRow(\n    featureRow: FeatureRow,\n    icons: Icons,\n  ): { iconDefault: number; icons: number[]; deleted: number } {\n    return this.setIcons(featureRow.featureTable.getTableName(), featureRow.id, icons);\n  }\n  /**\n   * Set the icons for the feature table and feature id\n   * @param {module:features/user/featureTable~FeatureTable|String} featureTable feature table\n   * @param {Number} featureId feature id\n   * @param {module:extension/style.Icons} icons icons\n   * @return {Promise}\n   */\n  setIcons(\n    featureTable: string | FeatureTable,\n    featureId: number,\n    icons?: Icons,\n  ): { iconDefault: number; icons: number[]; deleted: number } {\n    const deleted = this.deleteIconsForFeatureId(featureTable, featureId);\n    if (icons !== null) {\n      if (icons.getDefault() !== null) {\n        this.setIconDefault(featureTable, featureId, icons.getDefault());\n      }\n      const keys = icons.getGeometryTypes();\n      for (let i = 0; i < keys.length; i++) {\n        this.setIcon(featureTable, featureId, keys[i], icons.getIcon(keys[i]));\n      }\n      return {\n        iconDefault: undefined,\n        icons: undefined,\n        deleted,\n      };\n    } else {\n      return {\n        iconDefault: undefined,\n        icons: undefined,\n        deleted,\n      };\n    }\n  }\n  /**\n   * Set the icon of the feature row\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.IconRow} icon icon row\n   * @return {number}\n   */\n  setIconForFeatureRow(featureRow: FeatureRow, icon: IconRow): number {\n    return this.setIconForFeatureRowAndGeometryType(featureRow, GeometryType.fromName(featureRow.geometryType.toUpperCase()), icon);\n  }\n  /**\n   * Set the icon of the feature row for the specified geometry type\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {GeometryType} geometryType geometry type\n   * @param {module:extension/style.IconRow} icon icon row\n   * @return {number}\n   */\n  setIconForFeatureRowAndGeometryType(\n    featureRow: FeatureRow,\n    geometryType: GeometryType,\n    icon: IconRow,\n  ): number {\n    return this.setIcon(featureRow.featureTable.getTableName(), featureRow.id, geometryType, icon);\n  }\n  /**\n   * Set the default icon of the feature row\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {module:extension/style.IconRow} icon icon row\n   * @return {number}\n   */\n  setIconDefaultForFeatureRow(featureRow: FeatureRow, icon: IconRow): number {\n    return this.setIcon(featureRow.featureTable.getTableName(), featureRow.id, null, icon);\n  }\n  /**\n   * Get the icon of the feature, searching in order: feature geometry type\n   * icon, feature default icon, table geometry type icon, table default icon\n   * @param {module:features/user/featureTable~FeatureTable|String} featureTable feature table\n   * @param {Number} featureId feature id\n   * @param {GeometryType} geometryType geometry type\n   * @param {module:extension/style.IconRow} icon icon row\n   * @return {number}\n   */\n  setIcon(\n    featureTable: string | FeatureTable,\n    featureId: number,\n    geometryType: GeometryType,\n    icon?: IconRow,\n  ): number {\n    this.deleteIcon(featureTable, featureId, geometryType);\n    if (icon !== null) {\n      this.createIconRelationship(featureTable);\n      const iconId = this.getOrInsertIcon(icon);\n      const mappingDao = this.getIconMappingDao(featureTable);\n      return this.insertStyleMapping(mappingDao, featureId, iconId, geometryType);\n    }\n  }\n  /**\n   * Set the default icon of the feature\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @param {Number} featureId feature id\n   * @param {module:extension/style.IconRow} icon icon row\n   * @return {number}\n   */\n  setIconDefault(featureTable: string | FeatureTable, featureId: number, icon: IconRow): number {\n    return this.setIcon(featureTable, featureId, null, icon);\n  }\n  /**\n   * Get the style id, either from the existing style or by inserting a new one\n   * @param {module:extension/style.StyleRow} style style row\n   * @return {Number} style id\n   */\n  getOrInsertStyle(style: StyleRow): number {\n    let styleId;\n    if (style.hasId()) {\n      styleId = style.id;\n    } else {\n      const styleDao = this.getStyleDao();\n      if (styleDao !== null) {\n        styleId = styleDao.create(style);\n        style.id = styleId;\n      }\n    }\n    return styleId;\n  }\n  /**\n   * Get the icon id, either from the existing icon or by inserting a new one\n   * @param {module:extension/style.IconRow} icon icon row\n   * @return {Number} icon id\n   */\n  getOrInsertIcon(icon: IconRow): number {\n    let iconId: number;\n    if (icon.hasId()) {\n      iconId = icon.id;\n    } else {\n      const iconDao = this.getIconDao();\n      if (iconDao != null) {\n        iconId = iconDao.create(icon);\n        icon.id = iconId;\n      }\n    }\n    return iconId;\n  }\n  /**\n   * Insert a style mapping row\n   * @param {module:extension/style.StyleMappingDao} mappingDao mapping dao\n   * @param {Number} baseId base id, either contents id or feature id\n   * @param {Number} relatedId related id, either style or icon id\n   * @param {GeometryType} geometryType geometry type or null\n   */\n  insertStyleMapping(mappingDao: StyleMappingDao, baseId: number, relatedId: number, geometryType: GeometryType = null): number {\n    const row = mappingDao.newRow();\n    row.baseId = baseId;\n    row.relatedId = relatedId;\n    row.setGeometryTypeName(GeometryType.nameFromType(geometryType));\n    return mappingDao.create(row);\n  }\n  /**\n   * Delete all feature styles including table styles, table icons, style, and icons\n   * @param {module:features/user/featureTable~FeatureTable|String} featureTable feature table\n   */\n  deleteAllFeatureStyles(\n    featureTable: string | FeatureTable,\n  ): {\n    tableStyles: {\n      styles: number;\n      icons: number;\n    };\n    styles: {\n      styles: number;\n      icons: number;\n    };\n  } {\n    return {\n      tableStyles: this.deleteTableFeatureStyles(featureTable),\n      styles: this.deleteFeatureStyles(featureTable),\n    };\n  }\n  /**\n   * Delete all styles including table styles and feature row style\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   */\n  deleteAllStyles(\n    featureTable: string | FeatureTable,\n  ): {\n    tableStyles: number;\n    styles: number;\n  } {\n    return {\n      tableStyles: this.deleteTableStyles(featureTable),\n      styles: this.deleteStyles(featureTable),\n    };\n  }\n  /**\n   * Delete all icons including table icons and feature row icons\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   */\n  deleteAllIcons(\n    featureTable: string | FeatureTable,\n  ): {\n    tableIcons: number;\n    icons: number;\n  } {\n    return {\n      tableIcons: this.deleteTableIcons(featureTable),\n      icons: this.deleteIcons(featureTable),\n    };\n  }\n  /**\n   * Delete the feature table feature styles\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   */\n  deleteTableFeatureStyles(\n    featureTable: string | FeatureTable,\n  ): {\n    styles: number;\n    icons: number;\n  } {\n    return {\n      styles: this.deleteTableStyles(featureTable),\n      icons: this.deleteTableIcons(featureTable),\n    };\n  }\n  /**\n   * Delete the feature table styles\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   */\n  deleteTableStyles(featureTable: string | FeatureTable): number {\n    return this.deleteTableMappings(this.getTableStyleMappingDao(featureTable), featureTable);\n  }\n  /**\n   * Delete the feature table default style\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   */\n  deleteTableStyleDefault(featureTable: string | FeatureTable): number {\n    return this.deleteTableStyle(featureTable, null);\n  }\n  /**\n   * Delete the feature table style for the geometry type\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @param {GeometryType} geometryType geometry type\n   */\n  deleteTableStyle(featureTable: string | FeatureTable, geometryType: GeometryType): number {\n    return this.deleteTableMapping(this.getTableStyleMappingDao(featureTable), featureTable, geometryType);\n  }\n  /**\n   * Delete the feature table icons\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   */\n  deleteTableIcons(featureTable: string | FeatureTable): number {\n    return this.deleteTableMappings(this.getTableIconMappingDao(featureTable), featureTable);\n  }\n  /**\n   * Delete the feature table default icon\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   */\n  deleteTableIconDefault(featureTable: string | FeatureTable): number {\n    return this.deleteTableIcon(featureTable, null);\n  }\n  /**\n   * Delete the feature table icon for the geometry type\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @param {GeometryType} geometryType geometry type\n   */\n  deleteTableIcon(featureTable: string | FeatureTable, geometryType: GeometryType): number {\n    return this.deleteTableMapping(this.getTableIconMappingDao(featureTable), featureTable, geometryType);\n  }\n  /**\n   * Delete the table style mappings\n   * @param {module:extension/style.StyleMappingDao} mappingDao  mapping dao\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   */\n  deleteTableMappings(mappingDao: StyleMappingDao, featureTable: string | FeatureTable): number {\n    if (mappingDao !== null) {\n      const featureContentsId = this.contentsIdExtension.getIdByTableName(this.getFeatureTableName(featureTable));\n      if (featureContentsId !== null) {\n        return mappingDao.deleteByBaseId(featureContentsId);\n      }\n    }\n    return 0;\n  }\n  /**\n   * Delete the table style mapping with the geometry type value\n   * @param {module:extension/style.StyleMappingDao} mappingDao  mapping dao\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @param {GeometryType} geometryType geometry type\n   */\n  deleteTableMapping(mappingDao: StyleMappingDao, featureTable: string | FeatureTable, geometryType: GeometryType): number {\n    if (mappingDao !== null) {\n      const featureContentsId = this.contentsIdExtension.getIdByTableName(this.getFeatureTableName(featureTable));\n      if (featureContentsId !== null) {\n        return mappingDao.deleteByBaseIdAndGeometryType(featureContentsId, geometryType);\n      }\n    }\n    return 0;\n  }\n  /**\n   * Delete all feature styles\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   */\n  deleteFeatureStyles(\n    featureTable: string | FeatureTable,\n  ): {\n    styles: number;\n    icons: number;\n  } {\n    return {\n      styles: this.deleteStyles(featureTable),\n      icons: this.deleteIcons(featureTable),\n    };\n  }\n  /**\n   * Delete all styles\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   */\n  deleteStyles(featureTable: string | FeatureTable): number {\n    return this.deleteMappings(this.getStyleMappingDao(featureTable));\n  }\n  /**\n   * Delete feature row styles\n   * @param {module:features/user/featureRow} featureRow feature row\n   */\n  deleteStylesForFeatureRow(featureRow: FeatureRow): number {\n    return this.deleteStylesForFeatureId(featureRow.featureTable.getTableName(), featureRow.id);\n  }\n  /**\n   * Delete feature row styles\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @param {Number} featureId feature id\n   */\n  deleteStylesForFeatureId(featureTable: string | FeatureTable, featureId: number): number {\n    return this.deleteMappingsForFeatureId(this.getStyleMappingDao(featureTable), featureId);\n  }\n  /**\n   * Delete the feature row default style\n   * @param {module:features/user/featureRow} featureRow feature row\n   */\n  deleteStyleDefaultForFeatureRow(featureRow: FeatureRow): number {\n    return this.deleteStyleForFeatureRowAndGeometryType(featureRow, null);\n  }\n  /**\n   * Delete the feature row default style\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @param {Number} featureId feature id\n   */\n  deleteStyleDefault(featureTable: string | FeatureTable, featureId: number): number {\n    return this.deleteStyle(featureTable, featureId, null);\n  }\n  /**\n   * Delete the feature row style for the feature row geometry type\n   * @param {module:features/user/featureRow} featureRow feature row\n   */\n  deleteStyleForFeatureRow(featureRow: FeatureRow): number {\n    return this.deleteStyleForFeatureRowAndGeometryType(featureRow, GeometryType.fromName(featureRow.geometryType.toUpperCase()));\n  }\n  /**\n   * Delete the feature row style for the geometry type\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {GeometryType} geometryType geometry type\n   */\n  deleteStyleForFeatureRowAndGeometryType(featureRow: FeatureRow, geometryType: GeometryType): number {\n    return this.deleteStyle(featureRow.featureTable, featureRow.id, geometryType);\n  }\n  /**\n   * Delete the feature row style for the geometry type\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @param {Number} featureId feature id\n   * @param {GeometryType} geometryType geometry type\n   */\n  deleteStyle(featureTable: string | FeatureTable, featureId: number, geometryType: GeometryType): number {\n    return this.deleteMapping(this.getStyleMappingDao(featureTable), featureId, geometryType);\n  }\n  /**\n   * Delete the style row and associated mappings by style row\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @param {module:extension/style.StyleRow} styleRow style row\n   */\n  deleteStyleAndMappingsByStyleRow(featureTable: string | FeatureTable, styleRow: StyleRow): number {\n    return this.deleteStyleAndMappingsByStyleRowId(featureTable, styleRow.id);\n  }\n\n  /**\n   * Delete the style row and associated mappings by style row id\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @param {Number} styleRowId style row id\n   */\n  deleteStyleAndMappingsByStyleRowId(featureTable: string | FeatureTable, styleRowId: number): number {\n    let rowsDeleted = 0;\n    const styleDao = this.getStyleDao();\n    if (styleDao !== null && styleDao !== undefined) {\n      rowsDeleted += styleDao.deleteById(styleRowId);\n    }\n    const styleMappingDao = this.getStyleMappingDao(featureTable);\n    if (styleMappingDao !== null && styleMappingDao !== undefined) {\n      rowsDeleted += styleMappingDao.deleteByRelatedId(styleRowId);\n    }\n    const tableStyleMappingDao = this.getTableStyleMappingDao(featureTable);\n    if (tableStyleMappingDao !== null && tableStyleMappingDao !== undefined) {\n      rowsDeleted += tableStyleMappingDao.deleteByRelatedId(styleRowId);\n    }\n    return rowsDeleted;\n  }\n\n  /**\n   * Delete all icons\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   */\n  deleteIcons(featureTable: string | FeatureTable): number {\n    return this.deleteMappings(this.getIconMappingDao(featureTable));\n  }\n  /**\n   * Delete feature row icons\n   * @param {module:features/user/featureRow} featureRow feature row\n   */\n  deleteIconsForFeatureRow(featureRow: FeatureRow): number {\n    return this.deleteIconsForFeatureId(featureRow.featureTable.getTableName(), featureRow.id);\n  }\n  /**\n   * Delete feature row icons\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @param {Number} featureId feature id\n   */\n  deleteIconsForFeatureId(featureTable: string | FeatureTable, featureId: number): number {\n    return this.deleteMappingsForFeatureId(this.getIconMappingDao(featureTable), featureId);\n  }\n  /**\n   * Delete the feature row default icon\n   * @param {module:features/user/featureRow} featureRow feature row\n   */\n  deleteIconDefaultForFeatureRow(featureRow: FeatureRow): number {\n    return this.deleteIconDefault(featureRow.featureTable.getTableName(), featureRow.id);\n  }\n  /**\n   * Delete the feature row default icon\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @param {Number} featureId feature id\n   */\n  deleteIconDefault(featureTable: FeatureTable | string, featureId: number): number {\n    return this.deleteIcon(featureTable, featureId, null);\n  }\n  /**\n   * Delete the feature row icon for the feature row geometry type\n   * @param {module:features/user/featureRow} featureRow feature row\n   */\n  deleteIconForFeatureRow(featureRow: FeatureRow): number {\n    return this.deleteIconForFeatureRowAndGeometryType(featureRow, GeometryType.fromName(featureRow.geometryType.toUpperCase()));\n  }\n  /**\n   * Delete the feature row icon for the geometry type\n   * @param {module:features/user/featureRow} featureRow feature row\n   * @param {GeometryType} geometryType geometry type\n   */\n  deleteIconForFeatureRowAndGeometryType(featureRow: FeatureRow, geometryType: GeometryType): number {\n    return this.deleteIcon(featureRow.featureTable, featureRow.id, geometryType);\n  }\n  /**\n   * Delete the feature row icon for the geometry type\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @param {Number} featureId feature id\n   * @param {GeometryType} geometryType geometry type\n   */\n  deleteIcon(featureTable: FeatureTable | string, featureId: number, geometryType: GeometryType): number {\n    return this.deleteMapping(this.getIconMappingDao(featureTable), featureId, geometryType);\n  }\n  /**\n   * Delete the icon row and associated mappings by icon row\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @param {module:extension/style.IconRow} iconRow icon row\n   */\n  deleteIconAndMappingsByIconRow(featureTable: FeatureTable | string, iconRow: IconRow): number {\n    return this.deleteIconAndMappingsByIconRowId(featureTable, iconRow.id);\n  }\n\n  /**\n   * Delete the icon row and associated mappings by icon row id\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @param {Number} iconRowId icon row id\n   */\n  deleteIconAndMappingsByIconRowId(featureTable: FeatureTable | string, iconRowId: number): number {\n    let rowsDeleted = 0;\n    const iconDao = this.getIconDao();\n    if (iconDao !== null && iconDao !== undefined) {\n      rowsDeleted += iconDao.deleteById(iconRowId);\n    }\n    const iconMappingDao = this.getIconMappingDao(featureTable);\n    if (iconMappingDao !== null && iconMappingDao !== undefined) {\n      rowsDeleted += iconMappingDao.deleteByRelatedId(iconRowId);\n    }\n    const tableIconMappingDao = this.getTableIconMappingDao(featureTable);\n    if (tableIconMappingDao !== null && tableIconMappingDao !== undefined) {\n      rowsDeleted += tableIconMappingDao.deleteByRelatedId(iconRowId);\n    }\n    return rowsDeleted;\n  }\n\n  /**\n   * Delete all style mappings\n   * @param {module:extension/style.StyleMappingDao} mappingDao  mapping dao\n   */\n  deleteMappings(mappingDao?: StyleMappingDao): number {\n    if (mappingDao !== null) {\n      return mappingDao.deleteAll();\n    }\n    return 0;\n  }\n  /**\n   * Delete the style mappings\n   * @param {module:extension/style.StyleMappingDao} mappingDao  mapping dao\n   * @param {Number} featureId feature id\n   */\n  deleteMappingsForFeatureId(mappingDao?: StyleMappingDao, featureId?: number): number {\n    if (mappingDao !== null && featureId) {\n      return mappingDao.deleteByBaseId(featureId);\n    }\n    return 0;\n  }\n  /**\n   * Delete the style mapping with the geometry type value\n   * @param {module:extension/style.StyleMappingDao} mappingDao  mapping dao\n   * @param {Number} featureId feature id\n   * @param {GeometryType} geometryType geometry type\n   */\n  deleteMapping(mappingDao?: StyleMappingDao, featureId?: number, geometryType?: GeometryType): number {\n    if (mappingDao !== null) {\n      return mappingDao.deleteByBaseIdAndGeometryType(featureId, geometryType);\n    }\n    return 0;\n  }\n  /**\n   * Get all the unique style row ids the table maps to\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return style row ids\n   */\n  getAllTableStyleIds(featureTable: FeatureTable | string): number[] {\n    let styleIds = null;\n    const mappingDao = this.getTableStyleMappingDao(featureTable);\n    if (mappingDao !== null) {\n      styleIds = mappingDao.uniqueRelatedIds().map(row => row['related_id']);\n    }\n    return styleIds;\n  }\n  /**\n   * Get all the unique icon row ids the table maps to\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return icon row ids\n   */\n  getAllTableIconIds(featureTable: FeatureTable | string): number[] {\n    let styleIds = null;\n    const mappingDao = this.getTableIconMappingDao(featureTable);\n    if (mappingDao !== null) {\n      styleIds = mappingDao.uniqueRelatedIds().map(row => row['related_id']);\n    }\n    return styleIds;\n  }\n  /**\n   * Get all the unique style row ids the features map to\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return {Number[]} style row ids\n   */\n  getAllStyleIds(featureTable: FeatureTable | string): number[] {\n    let styleIds = null;\n    const mappingDao = this.getStyleMappingDao(featureTable);\n    if (mappingDao !== null) {\n      styleIds = mappingDao.uniqueRelatedIds().map(row => row['related_id']);\n    }\n    return styleIds;\n  }\n  /**\n   * Get all the unique icon row ids the features map to\n   * @param {module:features/user/featureTable|String} featureTable feature table\n   * @return {Number[]} icon row ids\n   */\n  getAllIconIds(featureTable: FeatureTable | string): number[] {\n    let styleIds = null;\n    const mappingDao = this.getIconMappingDao(featureTable);\n    if (mappingDao !== null) {\n      styleIds = mappingDao.uniqueRelatedIds().map(row => row['related_id']);\n    }\n    return styleIds;\n  }\n  /**\n   * Get name of feature table\n   * @param featureTable\n   * @returns {String}\n   */\n  getFeatureTableName(featureTable: FeatureTable | string): string {\n    return featureTable instanceof FeatureTable ? featureTable.getTableName() : featureTable;\n  }\n  /**\n   * Remove all traces of the extension\n   */\n  removeExtension(): number {\n    this.deleteAllRelationships();\n    this.geoPackage.deleteTable(StyleTable.TABLE_NAME);\n    this.geoPackage.deleteTable(IconTable.TABLE_NAME);\n    if (this.extensionsDao.isTableExists()) {\n      return this.extensionsDao.deleteByExtension(FeatureStyleExtension.EXTENSION_NAME);\n    }\n    return 0;\n  }\n}\n","/**\n * @memberOf module:extension/style\n * @class StyleDao\n */\n\nimport { StyleTable } from './styleTable';\nimport { AttributesDao } from '../../attributes/attributesDao';\nimport { StyleRow } from './styleRow';\nimport { GeoPackage } from '../../geoPackage';\nimport { DBValue } from '../../db/dbAdapter';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\n\n/**\n * Style DAO for reading style tables\n * @extends {AttributesDao}\n * @param  {module:db/geoPackageConnection~GeoPackageConnection} geoPackage connection\n * @param  {string} table table name\n * @constructor\n */\nexport class StyleDao extends AttributesDao<StyleRow> {\n  constructor(geoPackage: GeoPackage, table: StyleTable) {\n    super(geoPackage, table);\n  }\n  /**\n   * Creates a StyleRow object from the results\n   * @param results\n   * @returns {module:extension/style.StyleRow}\n   */\n  createObject(results: Record<string, DBValue> = undefined): StyleRow {\n    if (results) {\n      return this.getRow(results) as StyleRow;\n    }\n    return this.newRow();\n  }\n\n  get table(): StyleTable {\n    return this._table as StyleTable;\n  }\n  /**\n   * Create a style row with the column types and values\n   * @param  {module:db/geoPackageDataType[]} columnTypes  column types\n   * @param  {module:dao/columnValues~ColumnValues[]} values      values\n   * @return {module:extension/style.StyleRow}             icon row\n   */\n  newRow(columnTypes?: { [key: string]: GeoPackageDataType }, values?: Record<string, DBValue>): StyleRow {\n    return new StyleRow(this.table, columnTypes, values);\n  }\n}\n","/**\n * @memberOf module:extension/style\n * @class StyleMappingDao\n */\nimport { UserMappingDao } from '../relatedTables/userMappingDao';\nimport { UserCustomDao } from '../../user/custom/userCustomDao';\nimport { GeoPackage } from '../../geoPackage';\nimport { StyleMappingTable } from './styleMappingTable';\nimport { UserMappingTable } from '../relatedTables/userMappingTable';\nimport { StyleMappingRow } from './styleMappingRow';\nimport { UserRow } from '../../user/userRow';\nimport { DBValue } from '../../db/dbAdapter';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\nimport { GeometryType } from '../../features/user/geometryType';\n\n/**\n * Style Mapping DAO for reading user mapping data tables\n * @extends UserMappingDao\n * @param  {module:user/custom~UserCustomDao} userCustomDao\n * @param  {module:geoPackage~GeoPackage} geoPackage      geopackage object\n * @param {StyleMappingTable} [styleMappingTable]\n * @constructor\n */\nexport class StyleMappingDao extends UserMappingDao<StyleMappingRow> {\n  constructor(\n    userCustomDao: UserCustomDao<StyleMappingRow>,\n    geoPackage: GeoPackage,\n    styleMappingTable?: StyleMappingTable,\n  ) {\n    super(\n      userCustomDao,\n      geoPackage,\n      styleMappingTable || new StyleMappingTable(userCustomDao.table.getTableName(), userCustomDao.table.getUserColumns().getColumns(), null),\n    );\n  }\n\n  get table(): StyleMappingTable {\n    return this._table as StyleMappingTable;\n  }\n\n  /**\n   * Create a new {module:user/custom~UserCustomTable}\n   * @param  {module:user/custom~UserCustomDao} userCustomDao\n   * @return {module:user/custom~UserCustomTable} userCustomTable user custom table\n   */\n  createMappingTable(userCustomDao: UserCustomDao<UserRow>): StyleMappingTable {\n    return new StyleMappingTable(userCustomDao.table.getTableName(), userCustomDao.table.getUserColumns().getColumns(), null);\n  }\n  /**\n   * Create a user mapping row\n   * @param  {module:db/geoPackageDataType[]} columnTypes  column types\n   * @param  {module:dao/columnValues~ColumnValues[]} values values\n   * @return {module:extension/style.StyleMappingRow} style mapping row\n   */\n  newRow(columnTypes?: { [key: string]: GeoPackageDataType }, values?: Record<string, DBValue>): StyleMappingRow {\n    return new StyleMappingRow(this.table, columnTypes, values);\n  }\n  /**\n   * Delete by base id and geometry type\n   * @param  {Number} baseId base id\n   * @param  {GeometryType} geometryType geometry type\n   * @return {Number} number of deleted rows\n   */\n  deleteByBaseIdAndGeometryType(baseId: number, geometryType: GeometryType): number {\n    let where = '';\n    where += this.buildWhereWithFieldAndValue(UserMappingTable.COLUMN_BASE_ID, baseId);\n    where += ' AND ';\n    where += this.buildWhereWithFieldAndValue(StyleMappingTable.COLUMN_GEOMETRY_TYPE_NAME, GeometryType.nameFromType(geometryType));\n    const whereArgs = this.buildWhereArgs([baseId, GeometryType.nameFromType(geometryType)]);\n    return this.deleteWhere(where, whereArgs);\n  }\n}\n","/**\n * @memberOf module:extension/style\n * @class StyleMappingRow\n */\n\nimport { UserMappingRow } from '../relatedTables/userMappingRow';\nimport { StyleMappingTable } from './styleMappingTable';\nimport { UserColumn } from '../../user/userColumn';\nimport { DBValue } from '../../db/dbAdapter';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\n\n/**\n * User Mapping Row containing the values from a single result set row\n * @extends UserMappingRow\n * @param  {module:extension/style.StyleMappingTable} styleMappingTable style mapping table\n * @param  {module:db/geoPackageDataType[]} columnTypes  column types\n * @param  {module:dao/columnValues~ColumnValues[]} values      values\n * @constructor\n */\nexport class StyleMappingRow extends UserMappingRow {\n  styleMappingTable: StyleMappingTable;\n  constructor(\n    styleMappingTable: StyleMappingTable,\n    columnTypes?: { [key: string]: GeoPackageDataType },\n    values?: Record<string, DBValue>,\n  ) {\n    super(styleMappingTable, columnTypes, values);\n    this.styleMappingTable = styleMappingTable;\n  }\n  /**\n   * Get the geometry type name column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getGeometryTypeNameColumn(): UserColumn {\n    return this.styleMappingTable.getGeometryTypeNameColumn();\n  }\n  /**\n   * Gets the geometry type name\n   * @return {string}\n   */\n  getGeometryTypeName(): string {\n    return this.getValueWithColumnName(this.getGeometryTypeNameColumn().name);\n  }\n  /**\n   * Sets the geometry type name\n   * @param  {string} geometryTypeName geometry type name\n   */\n  setGeometryTypeName(geometryTypeName: string): void {\n    this.setValueWithColumnName(this.getGeometryTypeNameColumn().name, geometryTypeName);\n  }\n}\n","/**\n * @memberOf module:extension/style\n * @class StyleMappingTable\n */\n\nimport { UserMappingTable } from '../relatedTables/userMappingTable';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\nimport { UserColumn } from '../../user/userColumn';\n\n/**\n * Contains style mapping table factory and utility methods\n * @extends UserMappingTable\n * @param  {string} tableName table name\n * @param  {module:user/userColumn~UserColumn[]} columns   style mapping columns\n * @constructor\n */\nexport class StyleMappingTable extends UserMappingTable {\n  public static readonly COLUMN_GEOMETRY_TYPE_NAME = 'geometry_type_name';\n\n  /**\n   * Get the geometry type name column index\n   * @return int\n   */\n  getGeometryTypeNameColumnIndex(): number {\n    return this.getColumnIndex(StyleMappingTable.COLUMN_GEOMETRY_TYPE_NAME);\n  }\n  /**\n   * Get the geometry type name column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getGeometryTypeNameColumn(): UserColumn {\n    return this.getColumnWithColumnName(StyleMappingTable.COLUMN_GEOMETRY_TYPE_NAME);\n  }\n  /**\n   * Creates a user mapping table with the minimum required columns followed by the additional columns\n   * @param  {string} tableName name of the table\n   * @return {module:extension/relatedTables~UserMappingTable}\n   */\n  static create(tableName: string): StyleMappingTable {\n    return new StyleMappingTable(tableName, StyleMappingTable.createColumns(), null);\n  }\n  /**\n   * Create the columns\n   * @return {module:user/userColumn~UserColumn[]}\n   */\n  static createColumns(): UserColumn[] {\n    const columns = UserMappingTable.createRequiredColumns();\n    const index = columns.length;\n    columns.push(UserColumn.createColumn(index, StyleMappingTable.COLUMN_GEOMETRY_TYPE_NAME, GeoPackageDataType.TEXT, false));\n    return columns;\n  }\n}\n","/**\n * @memberOf module:extension/style\n * @class StyleRow\n */\n\nimport { AttributesRow } from '../../attributes/attributesRow';\nimport { StyleTable } from './styleTable';\nimport { UserColumn } from '../../user/userColumn';\nimport { DBValue } from '../../db/dbAdapter';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\n\n/**\n * Style Row\n * @extends AttributesRow\n * @param  {module:extension/style.StyleTable} styleTable  style table\n * @param  {module:db/geoPackageDataType[]} columnTypes  column types\n * @param  {module:dao/columnValues~ColumnValues[]} values      values\n * @constructor\n */\nexport class StyleRow extends AttributesRow {\n  /**\n   * Color hex pattern\n   */\n  private static readonly colorPattern = /^#([0-9a-fA-F]{3}){1,2}$/;\n  styleTable: StyleTable;\n  tableStyle: boolean = false;\n  constructor(styleTable: StyleTable, columnTypes?: { [key: string]: GeoPackageDataType }, values?: Record<string, DBValue>) {\n    super(styleTable, columnTypes, values);\n    this.styleTable = styleTable;\n  }\n  /**\n   * Get the name column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getNameColumn(): UserColumn {\n    return this.styleTable.getNameColumn();\n  }\n  /**\n   * Gets the name\n   * @return {String}\n   */\n  getName(): string {\n    return this.getValueWithColumnName(this.getNameColumn().name);\n  }\n  /**\n   * Sets the name for the row\n   * @param {String} name name\n   */\n  setName(name: string): void {\n    this.setValueWithColumnName(this.getNameColumn().name, name);\n  }\n  /**\n   * Get the description column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getDescriptionColumn(): UserColumn {\n    return this.styleTable.getDescriptionColumn();\n  }\n  /**\n   * Gets the description\n   * @return {String}\n   */\n  getDescription(): string {\n    return this.getValueWithColumnName(this.getDescriptionColumn().name);\n  }\n  /**\n   * Sets the description for the row\n   * @param {String} description description\n   */\n  setDescription(description: string): void {\n    this.setValueWithColumnName(this.getDescriptionColumn().name, description);\n  }\n  /**\n   * Get the color column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getColorColumn(): UserColumn {\n    return this.styleTable.getColorColumn();\n  }\n  /**\n   * Get the style color\n   * @return {String} color\n   */\n  getColor(): string {\n    return this.createColor(this.getHexColor(), this.getOpacity());\n  }\n  /**\n   * Check if the style has a color\n   * @return true if has a color\n   */\n  hasColor(): boolean {\n    return this._hasColor(this.getHexColor(), this.getOpacity());\n  }\n  /**\n   * Get the color\n   * @return {String} color\n   */\n  getHexColor(): string {\n    return this.getValueWithColumnName(this.getColorColumn().name);\n  }\n  /**\n   * Set the color\n   * @param {String} color color\n   * @param {Number} opacity opacity\n   */\n  setColor(color: string, opacity: number): void {\n    this.setHexColor(color);\n    this.setOpacity(opacity);\n  }\n  /**\n   * Sets the color for the row\n   * @param {String} color color\n   */\n  setHexColor(color: string): void {\n    const validatedColor = this.validateColor(color);\n    this.setValueWithColumnName(this.getColorColumn().name, validatedColor);\n  }\n  /**\n   * Get the opacity column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getOpacityColumn(): UserColumn {\n    return this.styleTable.getOpacityColumn();\n  }\n  /**\n   * Gets the opacity\n   * @return {Number}\n   */\n  getOpacity(): number {\n    return this.getValueWithColumnName(this.getOpacityColumn().name);\n  }\n  /**\n   * Get the opacity or default value\n   * @return {Number} opacity\n   */\n  getOpacityOrDefault(): number {\n    let opacity = this.getOpacity();\n    if (opacity === null) {\n      opacity = 1.0;\n    }\n    return opacity;\n  }\n  /**\n   * Sets the opacity for the row\n   * @param {Number} opacity opacity\n   */\n  setOpacity(opacity: number): void {\n    this.validateOpacity(opacity);\n    this.setValueWithColumnName(this.getOpacityColumn().name, opacity);\n  }\n  /**\n   * Get the width column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getWidthColumn(): UserColumn {\n    return this.styleTable.getWidthColumn();\n  }\n  /**\n   * Gets the width\n   * @return {number}\n   */\n  getWidth(): number {\n    return this.getValueWithColumnName(this.getWidthColumn().name);\n  }\n  /**\n   * Sets the width for the row\n   * @param {Number} width width\n   */\n  setWidth(width: number): void {\n    if (width !== null && width < 0.0) {\n      throw new Error('Width must be greater than or equal to 0.0, invalid value: ' + width);\n    }\n    this.setValueWithColumnName(this.getWidthColumn().name, width);\n  }\n  /**\n   * Get the width value or default width\n   * @return width\n   */\n  getWidthOrDefault(): number {\n    let width = this.getWidth();\n    if (width === null) {\n      width = 1.0;\n    }\n    return width;\n  }\n  /**\n   * Get the fill color column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getFillColorColumn(): UserColumn {\n    return this.styleTable.getFillColorColumn();\n  }\n  /**\n   * Get the style fill color\n   * @return {String} color\n   */\n  getFillColor(): string {\n    return this.createColor(this.getFillHexColor(), this.getFillOpacity());\n  }\n  /**\n   * Check if the style has a fill color\n   * @return true if has a color\n   */\n  hasFillColor(): boolean {\n    return this._hasColor(this.getFillHexColor(), this.getFillOpacity());\n  }\n  /**\n   * Get the fill color\n   * @return {String} color\n   */\n  getFillHexColor(): string {\n    return this.getValueWithColumnName(this.getFillColorColumn().name);\n  }\n  /**\n   * Set the fill color\n   * @param {String} color color\n   * @param {Number} opacity opacity\n   */\n  setFillColor(color: string, opacity: number): void {\n    this.setFillHexColor(color);\n    this.setFillOpacity(opacity);\n  }\n  /**\n   * Sets the fill color for the row\n   * @param {String} color color\n   */\n  setFillHexColor(color: string): void {\n    const validatedColor = this.validateColor(color);\n    this.setValueWithColumnName(this.getFillColorColumn().name, validatedColor);\n  }\n  /**\n   * Get the fill opacity column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getFillOpacityColumn(): UserColumn {\n    return this.styleTable.getFillOpacityColumn();\n  }\n  /**\n   * Gets the fill opacity\n   * @return {Number}\n   */\n  getFillOpacity(): number {\n    return this.getValueWithColumnName(this.getFillOpacityColumn().name);\n  }\n  /**\n   * Sets the fill opacity for the row\n   * @param {Number} fillOpacity fillOpacity\n   */\n  setFillOpacity(fillOpacity: number): void {\n    this.validateOpacity(fillOpacity);\n    this.setValueWithColumnName(this.getFillOpacityColumn().name, fillOpacity);\n  }\n  /**\n   * Get the fill opacity or default value\n   * @return {Number} fill opacity\n   */\n  getFillOpacityOrDefault(): number {\n    let fillOpacity = this.getFillOpacity();\n    if (fillOpacity == null) {\n      fillOpacity = 1.0;\n    }\n    return fillOpacity;\n  }\n  /**\n   * Validate and adjust the color value\n   * @param {String} color color\n   */\n  validateColor(color: string): string {\n    let validated = color;\n    if (color != null) {\n      if (!color.startsWith('#')) {\n        validated = '#' + color;\n      }\n      if (!StyleRow.colorPattern.test(validated)) {\n        throw new Error('Color must be in hex format #RRGGBB or #RGB, invalid value: ' + color);\n      }\n      validated = validated.toUpperCase();\n    }\n    return validated;\n  }\n  /**\n   * Validate the opacity value\n   * @param {Number} opacity opacity\n   */\n  validateOpacity(opacity: number): boolean {\n    if (opacity != null && (opacity < 0.0 || opacity > 1.0)) {\n      throw new Error('Opacity must be set inclusively between 0.0 and 1.0, invalid value: ' + opacity);\n    }\n    return true;\n  }\n  /**\n   * Create a color from the hex color and opacity\n   * @param {String} hexColor hex color\n   * @param {Number} opacity opacity\n   * @return {String} rgba color\n   */\n  createColor(hexColor: string, opacity: number): string {\n    let color = '#000000';\n    if (hexColor !== null) {\n      color = hexColor;\n    }\n    if (opacity !== null) {\n      let a = Math.round(opacity * 255).toString(16);\n      if (a.length === 1) {\n        a = '0' + a;\n      }\n      color += a;\n    }\n    return color.toUpperCase();\n  }\n  /**\n   * Determine if a color exists from the hex color and opacity\n   * @param {String} hexColor hex color\n   * @param {Number} opacity opacity\n   * @return true if has a color\n   */\n  _hasColor(hexColor: string, opacity: number): boolean {\n    return hexColor !== null || opacity !== null;\n  }\n\n  /**\n   * Is a table style\n   * @return table style flag\n   */\n  isTableStyle(): boolean {\n    return this.tableStyle;\n  }\n\n  /**\n   * Set table style flag\n   * @param tableStyle table style flag\n   */\n  setTableStyle(tableStyle: boolean) {\n    this.tableStyle = tableStyle;\n  }\n}\n","/**\n * @memberOf module:extension/style\n * @class StyleTable\n */\nimport { AttributesTable } from '../../attributes/attributesTable';\nimport { RelationType } from '../relatedTables/relationType';\nimport { UserColumn } from '../../user/userColumn';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\n\n/**\n * Icon Requirements Class Media Table\n * @param  {string} tableName table name\n * @param  {module:user/userColumn~UserColumn[]} columns   media columns\n * @constructor\n */\nexport class StyleTable extends AttributesTable {\n  public static readonly TABLE_NAME: string = 'nga_style';\n  public static readonly COLUMN_ID: string = 'id';\n  public static readonly COLUMN_NAME: string = 'name';\n  public static readonly COLUMN_DESCRIPTION: string = 'description';\n  public static readonly COLUMN_COLOR: string = 'color';\n  public static readonly COLUMN_OPACITY: string = 'opacity';\n  public static readonly COLUMN_WIDTH: string = 'width';\n  public static readonly COLUMN_FILL_COLOR: string = 'fill_color';\n  public static readonly COLUMN_FILL_OPACITY: string = 'fill_opacity';\n  readonly TABLE_TYPE: string = 'media';\n  data_type: string = RelationType.ATTRIBUTES.dataType;\n  relation_name: string = RelationType.ATTRIBUTES.name;\n\n  /**\n   * Get the name column index\n   * @return int\n   */\n  getNameColumnIndex(): number {\n    return this.getColumnIndex(StyleTable.COLUMN_NAME);\n  }\n  /**\n   * Get the name column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getNameColumn(): UserColumn {\n    return this.getColumnWithColumnName(StyleTable.COLUMN_NAME);\n  }\n  /**\n   * Get the description column index\n   * @return int\n   */\n  getDescriptionColumnIndex(): number {\n    return this.getColumnIndex(StyleTable.COLUMN_DESCRIPTION);\n  }\n  /**\n   * Get the description column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getDescriptionColumn(): UserColumn {\n    return this.getColumnWithColumnName(StyleTable.COLUMN_DESCRIPTION);\n  }\n  /**\n   * Get the color column index\n   * @return int\n   */\n  getColorColumnIndex(): number {\n    return this.getColumnIndex(StyleTable.COLUMN_COLOR);\n  }\n  /**\n   * Get the color column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getColorColumn(): UserColumn {\n    return this.getColumnWithColumnName(StyleTable.COLUMN_COLOR);\n  }\n  /**\n   * Get the opacity column index\n   * @return int\n   */\n  getOpacityColumnIndex(): number {\n    return this.getColumnIndex(StyleTable.COLUMN_OPACITY);\n  }\n  /**\n   * Get the opacity column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getOpacityColumn(): UserColumn {\n    return this.getColumnWithColumnName(StyleTable.COLUMN_OPACITY);\n  }\n  /**\n   * Get the width column index\n   * @return int\n   */\n  getWidthColumnIndex(): number {\n    return this.getColumnIndex(StyleTable.COLUMN_WIDTH);\n  }\n  /**\n   * Get the width column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getWidthColumn(): UserColumn {\n    return this.getColumnWithColumnName(StyleTable.COLUMN_WIDTH);\n  }\n  /**\n   * Get the fill_color column index\n   * @return int\n   */\n  getFillColorColumnIndex(): number {\n    return this.getColumnIndex(StyleTable.COLUMN_FILL_COLOR);\n  }\n  /**\n   * Get the fill_color column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getFillColorColumn(): UserColumn {\n    return this.getColumnWithColumnName(StyleTable.COLUMN_FILL_COLOR);\n  }\n  /**\n   * Get the fill_opacity column index\n   * @return int\n   */\n  getFillOpacityColumnIndex(): number {\n    return this.getColumnIndex(StyleTable.COLUMN_FILL_OPACITY);\n  }\n  /**\n   * Get the fill_opacity column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getFillOpacityColumn(): UserColumn {\n    return this.getColumnWithColumnName(StyleTable.COLUMN_FILL_OPACITY);\n  }\n  /**\n   * Create a media table with a minimum required columns followed by the additional columns\n   * @return {module:extension/style.StyleTable}\n   */\n  static create(): StyleTable {\n    return new StyleTable(StyleTable.TABLE_NAME, StyleTable.createColumns());\n  }\n  /**\n   * Create the columns\n   * @return {module:user/custom~UserCustomColumn[]}\n   */\n  static createColumns(): UserColumn[] {\n    const columns = [];\n    let index = 0;\n    columns.push(UserColumn.createPrimaryKeyColumn(index++, StyleTable.COLUMN_ID));\n    columns.push(\n      UserColumn.createColumn(index++, StyleTable.COLUMN_NAME, GeoPackageDataType.TEXT, false),\n    );\n    columns.push(\n      UserColumn.createColumn(index++, StyleTable.COLUMN_DESCRIPTION, GeoPackageDataType.TEXT, false),\n    );\n    columns.push(\n      UserColumn.createColumn(index++, StyleTable.COLUMN_COLOR, GeoPackageDataType.TEXT, false),\n    );\n    columns.push(\n      UserColumn.createColumn(index++, StyleTable.COLUMN_OPACITY, GeoPackageDataType.REAL, false),\n    );\n    columns.push(\n      UserColumn.createColumn(index++, StyleTable.COLUMN_WIDTH, GeoPackageDataType.REAL, false),\n    );\n    columns.push(\n      UserColumn.createColumn(index++, StyleTable.COLUMN_FILL_COLOR, GeoPackageDataType.TEXT, false),\n    );\n    columns.push(\n      UserColumn.createColumn(index, StyleTable.COLUMN_FILL_OPACITY, GeoPackageDataType.REAL, false),\n    );\n    return columns;\n  }\n}\n","/**\n * @memberOf module:extension/style\n * @class StyleTableReader\n */\nimport { AttributesTableReader } from '../../attributes/attributesTableReader';\nimport { StyleTable } from './styleTable';\nimport { UserColumn } from '../../user/userColumn';\n\n/**\n * Reads the metadata from an existing attribute table\n * @extends {AttributesTableReader}\n * @constructor\n */\nexport class StyleTableReader extends AttributesTableReader {\n  /**\n   *\n   * @param {String} tableName\n   * @param columns\n   * @returns {module:extension/style.StyleTable}\n   */\n  createTable(tableName: string, columns: UserColumn[]): StyleTable {\n    return new StyleTable(tableName, columns);\n  }\n}\n","import { StyleRow } from './styleRow';\nimport { GeometryType } from '../../features/user/geometryType';\n\n/**\n * Styles constructor\n * @constructor\n */\nexport class Styles {\n  defaultStyle: StyleRow = null;\n  // @ts-ignore\n  styles: Map<GeometryType, StyleRow>;\n  tableStyles: boolean;\n\n  constructor(tableStyles: boolean = false) {\n    this.styles = new Map();\n    this.tableStyles = tableStyles;\n  }\n\n  setDefault(styleRow: StyleRow): void {\n    if (styleRow !== null && styleRow !== undefined) {\n      styleRow.setTableStyle(this.tableStyles);\n    }\n    this.defaultStyle = styleRow;\n  }\n  getDefault(): StyleRow {\n    return this.defaultStyle;\n  }\n  setStyle(styleRow: StyleRow, geometryType: GeometryType = null): void {\n    if (geometryType !== null) {\n      if (styleRow !== null && styleRow !== undefined) {\n        styleRow.setTableStyle(this.tableStyles);\n        this.styles.set(geometryType, styleRow);\n      } else {\n        this.styles.delete(geometryType);\n      }\n    } else {\n      this.setDefault(styleRow);\n    }\n  }\n  getStyle(geometryType: GeometryType = null): StyleRow {\n    let styleRow = null;\n    if (geometryType !== null) {\n      styleRow = this.styles.get(geometryType);\n    }\n    if (styleRow === null || styleRow === undefined || geometryType === null) {\n      styleRow = this.getDefault();\n    }\n    return styleRow;\n  }\n  isEmpty(): boolean {\n    return this.styles.size === 0 && this.defaultStyle === null;\n  }\n  getGeometryTypes(): GeometryType[] {\n    return Array.from(this.styles.keys());\n  }\n}\n","import { GeoPackage } from '../../geoPackage';\nimport { BaseExtension } from '../baseExtension';\nimport { Extension } from '../extension';\n\nexport class WebPExtension extends BaseExtension {\n  public static readonly EXTENSION_NAME: string = 'gpkg_webp';\n  public static readonly EXTENSION_WEBP_AUTHOR: string = 'gpkg';\n  public static readonly EXTENSION_WEBP_NAME_NO_AUTHOR: string = 'webp';\n  public static readonly EXTENSION_WEBP_DEFINITION: string = 'http://www.geopackage.org/spec/#extension_webp';\n  constructor(geoPackage: GeoPackage, tableName: string) {\n    super(geoPackage);\n    this.tableName = tableName;\n  }\n  getOrCreateExtension(): Extension {\n    return this.getOrCreate(\n      WebPExtension.EXTENSION_NAME,\n      this.tableName,\n      'tile_data',\n      WebPExtension.EXTENSION_WEBP_DEFINITION,\n      Extension.READ_WRITE,\n    );\n  }\n}\n","import { SpatialReferenceSystem } from '../../core/srs/spatialReferenceSystem';\nimport { ContentsDataType } from '../../core/contents/contentsDataType';\nimport { Contents } from '../../core/contents/contents';\n\n/**\n * Spatial Reference System object. The coordinate reference system definitions it contains are referenced by the GeoPackage Contents and GeometryColumns objects to relate the vector and tile data in user tables to locations on the earth.\n * @class GeometryColumns\n */\nexport class GeometryColumns {\n  public static readonly TABLE_NAME: string = 'tableName';\n  public static readonly COLUMN_NAME: string = 'columnName';\n  public static readonly GEOMETRY_TYPE_NAME: string = 'geometryTypeName';\n  public static readonly SRS_ID: string = 'srsId';\n  public static readonly Z: string = 'z';\n  public static readonly M: string = 'm';\n  /**\n   * Name of the table containing the geometry column\n   * @member {string}\n   */\n  table_name: string;\n  /**\n   * Name of a column in the feature table that is a Geometry Column\n   * @member {string}\n   */\n  column_name: string;\n  /**\n   * Name from Geometry Type Codes (Core) or Geometry Type Codes (Extension)\n   * in Geometry Types (Normative)\n   * @member {string}\n   */\n  geometry_type_name: string;\n  /**\n   * Spatial Reference System ID: gpkg_spatial_ref_sys.srs_id\n   * @member {module:dao/spatialReferenceSystem~SpatialReferenceSystem}\n   */\n  srs: SpatialReferenceSystem;\n  /**\n   * Unique identifier for each Spatial Reference System within a GeoPackage\n   * @member {Number}\n   */\n  srs_id: number;\n  /**\n   * 0: z values prohibited; 1: z values mandatory; 2: z values optional\n   * @member {byte}\n   */\n  z: number;\n  /**\n   * 0: m values prohibited; 1: m values mandatory; 2: m values optional\n   * @member {byte}\n   */\n  m: number;\n  get geometryType(): string {\n    return this.geometry_type_name;\n  }\n  get id(): string {\n    return `${this.table_name} ${this.column_name}`;\n  }\n\n  /**\n   * Set the contents\n   * @param contents contents\n   */\n  setContents(contents: Contents) {\n    if (contents !== null && contents !== undefined) {\n      // Verify the Contents have a features data type (Spec Requirement 23)\n      const dataType = contents.data_type;\n      if (dataType === null || dataType === undefined || dataType !== ContentsDataType.FEATURES) {\n        throw new Error(\"The Contents of a GeometryColumns must have a data type of \" + ContentsDataType.nameFromType(ContentsDataType.FEATURES))\n      }\n      this.table_name = contents.table_name;\n    } else {\n      this.table_name = null;\n    }\n  }\n}\n","/* eslint-disable camelcase */\n/**\n * GeometryColumns module.\n * @module features/columns\n */\nimport proj4 from 'proj4';\nimport { Dao } from '../../dao/dao';\nimport { GeometryColumns } from './geometryColumns';\nimport { SpatialReferenceSystem } from '../../core/srs/spatialReferenceSystem';\nimport { Contents } from '../../core/contents/contents';\nimport { DBValue } from '../../db/dbAdapter';\n/**\n * Geometry Columns Data Access Object\n * @class GeometryColumnsDao\n * @extends Dao\n */\nexport class GeometryColumnsDao extends Dao<GeometryColumns> {\n  /**\n   * tableName field name\n   * @type {String}\n   */\n  public static readonly COLUMN_TABLE_NAME: string = 'table_name';\n\n  /**\n   * columnName field name\n   * @type {String}\n   */\n  public static readonly COLUMN_COLUMN_NAME: string = 'column_name';\n\n  /**\n   * id 1 field name, tableName\n   * @type {String}\n   */\n  public static readonly COLUMN_ID_1: string = GeometryColumnsDao.COLUMN_TABLE_NAME;\n\n  /**\n   * id 2 field name, columnName\n   * @type {String}\n   */\n  public static readonly COLUMN_ID_2: string = GeometryColumnsDao.COLUMN_COLUMN_NAME;\n\n  /**\n   * geometryTypeName field name\n   * @type {String}\n   */\n  public static readonly COLUMN_GEOMETRY_TYPE_NAME: string = 'geometry_type_name';\n\n  /**\n   * srsId field name\n   * @type {String}\n   */\n  public static readonly COLUMN_SRS_ID: string = 'srs_id';\n\n  /**\n   * z field name\n   * @type {String}\n   */\n  public static readonly COLUMN_Z: string = 'z';\n\n  /**\n   * m field name\n   * @type {String}\n   */\n  public static readonly COLUMN_M: string = 'm';\n\n  /**\n   * Table Name\n   * @type {String}\n   */\n  readonly gpkgTableName: string = 'gpkg_geometry_columns';\n\n  readonly idColumns: string[] = [GeometryColumnsDao.COLUMN_ID_1, GeometryColumnsDao.COLUMN_ID_2];\n  readonly columns: string[] = [\n    GeometryColumnsDao.COLUMN_TABLE_NAME,\n    GeometryColumnsDao.COLUMN_COLUMN_NAME,\n    GeometryColumnsDao.COLUMN_GEOMETRY_TYPE_NAME,\n    GeometryColumnsDao.COLUMN_SRS_ID,\n    GeometryColumnsDao.COLUMN_Z,\n    GeometryColumnsDao.COLUMN_M,\n  ];\n\n  createObject(results?: Record<string, DBValue>): GeometryColumns {\n    const gc = new GeometryColumns();\n    if (results) {\n      gc.table_name = results.table_name as string;\n      gc.column_name = results.column_name as string;\n      gc.geometry_type_name = results.geometry_type_name as string;\n      gc.srs_id = results.srs_id as number;\n      gc.z = results.z as number;\n      gc.m = results.m as number;\n    }\n    return gc;\n  }\n  /**\n   *  Query for the table name\n   *\n   *  @param {string} tableName table name\n   */\n  queryForTableName(tableName: string): GeometryColumns {\n    const results = this.queryForAllEq(GeometryColumnsDao.COLUMN_TABLE_NAME, tableName);\n    if (results && results.length) {\n      return this.createObject(results[0]);\n    }\n    return;\n  }\n  /**\n   *  Get the feature table names\n   * @returns {String []} feature table names\n   */\n  getFeatureTables(): string[] {\n    const tableNames = [];\n    for (const result of this.connection.each(\n      'select ' + GeometryColumnsDao.COLUMN_TABLE_NAME + ' from ' + this.gpkgTableName,\n    )) {\n      tableNames.push(result[GeometryColumnsDao.COLUMN_TABLE_NAME]);\n    }\n    return tableNames;\n  }\n  /**\n   *  Get the Spatial Reference System of the Geometry Columns\n   *\n   *  @param {module:dao/geometryColumns~GeometryColumns} geometryColumns geometry columns\n   */\n  getSrs(geometryColumns: GeometryColumns): SpatialReferenceSystem {\n    return this.geoPackage.spatialReferenceSystemDao.queryForId(geometryColumns.srs_id);\n  }\n  /**\n   *  Get the Contents of the Geometry Columns\n   *\n   *  @param {module:dao/geometryColumns~GeometryColumns} geometryColumns geometry columns\n   *  @return {ContentsDao} contents dao\n   */\n  getContents(geometryColumns: GeometryColumns): Contents {\n    return this.geoPackage.contentsDao.queryForId(geometryColumns.table_name);\n  }\n  getProjection(projectionObject: GeometryColumns): proj4.Converter {\n    const srs = this.getSrs(projectionObject);\n    return this.geoPackage.spatialReferenceSystemDao.getProjection(srs);\n  }\n}\n","/**\n * @module features/user/featureColumn\n */\n\nimport { UserColumn } from '../../user/userColumn';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\nimport { DBValue } from '../../db/dbAdapter';\nimport { GeometryType } from './geometryType';\nimport { TableColumn  } from '../../db/table/tableColumn';\nimport { UserTableDefaults } from '../../user/userTableDefaults';\n\n/**\n * Represents a user feature column\n * @class\n * @extends UserColumn\n */\nexport class FeatureColumn extends UserColumn {\n  geometryType: GeometryType;\n\n  constructor(\n    index: number,\n    name: string,\n    dataType: GeoPackageDataType,\n    max?: number,\n    notNull?: boolean,\n    defaultValue?: any,\n    primaryKey?: boolean,\n    geometryType?: GeometryType,\n    autoincrement?: boolean,\n  ) {\n    super(index, name, dataType, max, notNull, defaultValue, primaryKey, autoincrement);\n    this.geometryType = geometryType;\n    this.type = this.getTypeName(name, dataType, geometryType);\n  }\n  /**\n   *  Create a new primary key column\n   *\n   *  @param {Number} index column index\n   *  @param {string} name  column name\n   *  @param {boolean} autoincrement  column name\n   *\n   *  @return feature column\n   */\n  static createPrimaryKeyColumn(\n    index: number,\n    name: string,\n    autoincrement: boolean = UserTableDefaults.DEFAULT_AUTOINCREMENT\n  ): FeatureColumn {\n    return new FeatureColumn(index, name, GeoPackageDataType.INTEGER, undefined, true, undefined, true, undefined, autoincrement);\n  }\n  /**\n   *  Create a new geometry column\n   *\n   *  @param {Number} index        column index\n   *  @param {string} name         column name\n   *  @param {GeometryType} type\n   *  @param {Boolean} notNull      not null\n   *  @param {Object} defaultValue default value or nil\n   *\n   *  @return feature column\n   */\n  static createGeometryColumn(\n    index: number,\n    name: string,\n    type: GeometryType,\n    notNull: boolean,\n    defaultValue?: DBValue,\n  ): FeatureColumn {\n    if ((type === null || type === undefined)) {\n      throw new Error('Geometry Type is required to create column: ' + name);\n    }\n    return new FeatureColumn(index, name, GeoPackageDataType.BLOB, undefined, notNull, defaultValue, false, type, false);\n  }\n\n  /**\n   * Create a new column\n   * @param index\n   * @param name\n   * @param type\n   * @param notNull\n   * @param defaultValue\n   * @param max\n   * @param autoincrement\n   */\n  static createColumn(\n    index: number,\n    name: string,\n    type: GeoPackageDataType,\n    notNull = false,\n    defaultValue?: DBValue,\n    max?: number,\n    autoincrement?: boolean,\n  ): FeatureColumn {\n    return new FeatureColumn(index, name, type, max, notNull, defaultValue, false, undefined, autoincrement);\n  }\n\n  /**\n   * Get the type name from the data and geometry type\n   * @param name column name\n   * @param dataType data type\n   * @param geometryType  geometry type\n   * @return type name\n   */\n  getTypeName(name: string, dataType: GeoPackageDataType, geometryType?: GeometryType): string {\n    let type;\n    if (geometryType !== null && geometryType !== undefined) {\n      type = GeometryType.nameFromType(geometryType);\n    } else {\n      type = super.getTypeName(name, dataType);\n    }\n    return type;\n  }\n\n  /**\n   * Attempt to get the geometry type of the table column\n   * @param tableColumn table column\n   * @return geometry type\n   */\n  static getGeometryTypeFromTableColumn(tableColumn: TableColumn): GeometryType {\n    let geometryType = null;\n    if (tableColumn.isDataType(GeoPackageDataType.BLOB)) {\n      geometryType = GeometryType.fromName(tableColumn.type);\n    }\n    return geometryType;\n  }\n\n  /**\n   * Copy the column\n   * @return copied column\n   */\n  copy(): FeatureColumn {\n    return new FeatureColumn(this.index, this.name, this.dataType, this.max, this.notNull, this.defaultValue, this.primaryKey, this.geometryType, this.autoincrement);\n  }\n\n  /**\n   * Determine if this column is a geometry\n   *\n   * @return true if a geometry column\n   */\n  isGeometry(): boolean {\n    return this.geometryType !== null;\n  }\n\n  /**\n   * When a geometry column, gets the geometry type\n   * @return geometry type\n   */\n  getGeometryType(): GeometryType {\n    return this.geometryType;\n  }\n\n}\n","/**\n * @module user/custom\n */\nimport { FeatureColumn } from './featureColumn';\nimport { UserColumns } from '../../user/userColumns';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\n\n/**\n * UserCustomColumns\n */\nexport class FeatureColumns extends UserColumns<FeatureColumn> {\n  /**\n   * Geometry column\n   */\n  geometryColumn: string;\n\n  /**\n   * Geometry column index\n   */\n  geometryIndex: number = -1;\n\n  constructor(tableName: string, geometryColumn: string, columns: FeatureColumn[], custom: boolean) {\n    super(tableName, columns, custom);\n    this.geometryColumn = geometryColumn;\n    this.updateColumns();\n  }\n\n  copy(): FeatureColumns {\n    return new FeatureColumns(this.getTableName(), this.getGeometryColumnName(), this.getColumns(), this.isCustom());\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  updateColumns() {\n    super.updateColumns();\n    let index = null;\n    if (this.geometryColumn !== null && this.geometryColumn !== undefined) {\n      index = this.getColumnIndex(this.geometryColumn, false);\n    } else {\n      for (let i = 0; i < this.getColumns().length; i++) {\n        const column = this.getColumns()[i];\n        if (column.isGeometry()) {\n          index = column.getIndex();\n          this.geometryColumn = column.getName();\n          break;\n        }\n      }\n    }\n    if (!this.isCustom()) {\n      this.missingCheck(index, GeoPackageDataType.nameFromType(GeoPackageDataType.BLOB));\n    }\n    if (index !== null && index !== undefined) {\n      this.geometryIndex = index;\n    }\n  }\n\n  /**\n   * Get the geometry column name\n   * @return geometry column name\n   */\n  getGeometryColumnName(): string {\n    return this.geometryColumn;\n  }\n\n  /**\n   * Set the geometry column name\n   * @param geometryColumn geometry column name\n   */\n  setGeometryColumnName(geometryColumn: string) {\n    this.geometryColumn = geometryColumn;\n  }\n\n  /**\n   * Get the geometry index\n   * @return geometry index\n   */\n  getGeometryIndex(): number {\n    return this.geometryIndex;\n  }\n\n  /**\n   * Set the geometry index\n   * @param geometryIndex  geometry index\n   */\n  setGeometryIndex(geometryIndex: number) {\n    this.geometryIndex = geometryIndex;\n  }\n\n  /**\n   * Check if the table has a geometry column\n   * @return true if has a geometry column\n   */\n  hasGeometryColumn(): boolean {\n    return this.geometryIndex >= 0;\n  }\n\n  /**\n   * Get the geometry column\n   * @return geometry column\n   */\n  getGeometryColumn(): FeatureColumn {\n    let column = null;\n    if (this.hasGeometryColumn()) {\n      column = this.getColumnForIndex(this.geometryIndex);\n    }\n    return column;\n  }\n}\n","/**\n * featureDao module.\n * @module features/user/featureDao\n */\nimport proj4 from 'proj4';\n// @ts-ignore\nimport reproject from 'reproject';\nimport LineIntersect from '@turf/line-intersect';\nimport Intersect from '@turf/intersect';\n// @ts-ignore\nimport BooleanWithin from '@turf/boolean-within';\n// @ts-ignore\nimport BooleanPointInPolygon from '@turf/boolean-point-in-polygon';\n\nimport { FeatureTableIndex } from '../../extension/index/featureTableIndex';\nimport { UserDao } from '../../user/userDao';\nimport { DataColumnsDao } from '../../dataColumns/dataColumnsDao';\nimport { FeatureRow } from './featureRow';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\nimport { BoundingBox } from '../../boundingBox';\nimport { Feature, GeoJsonObject } from 'geojson';\nimport { GeometryColumns } from '../columns/geometryColumns';\nimport { MetadataDao } from '../../metadata/metadataDao';\nimport { GeoPackage } from '../../geoPackage';\nimport { FeatureTable } from './featureTable';\nimport { Contents } from '../../core/contents/contents';\nimport { SpatialReferenceSystem } from '../../core/srs/spatialReferenceSystem';\nimport { DBValue } from '../../db/dbAdapter';\nimport { DataColumns } from '../../dataColumns/dataColumns';\nimport { ProjectionConstants } from '../../projection/projectionConstants';\n\n/**\n * Feature DAO for reading feature user data tables\n * @class FeatureDao\n * @extends UserDao\n * @param  {any} db              database connection\n * @param  {FeatureTable} table           feature table\n * @param  {GeometryColumns} geometryColumns geometry columns\n * @param  {MetadataDao} metadataDao      metadata dao\n */\nexport class FeatureDao<T extends FeatureRow> extends UserDao<FeatureRow> {\n  dataColumnsDao: DataColumnsDao;\n  featureTableIndex: FeatureTableIndex;\n  projection: proj4.Converter;\n  protected _table: FeatureTable;\n  constructor(\n    geoPackage: GeoPackage,\n    table: FeatureTable,\n    public geometryColumns: GeometryColumns,\n    public metadataDao: MetadataDao,\n  ) {\n    super(geoPackage, table);\n    this.dataColumnsDao = new DataColumnsDao(geoPackage);\n    this.featureTableIndex = new FeatureTableIndex(geoPackage, this);\n    const dao = geoPackage.geometryColumnsDao;\n    if (!dao.getContents(geometryColumns)) {\n      throw new Error('Geometry Columns ' + geometryColumns.id + ' has null Contents');\n    }\n    if (!dao.getSrs(geometryColumns)) {\n      throw new Error('Geometry Columns ' + geometryColumns.id + ' has null Spatial Reference System');\n    }\n    this.projection = dao.getProjection(geometryColumns);\n  }\n  createObject(results: Record<string, DBValue>): FeatureRow {\n    if (results) {\n      return this.getRow(results) as FeatureRow;\n    }\n    return this.newRow();\n  }\n  getRow(results: Record<string, DBValue>): FeatureRow {\n    return super.getRow(results) as FeatureRow;\n  }\n  getContents(): Contents {\n    const dao = this.geoPackage.geometryColumnsDao;\n    return dao.getContents(this.geometryColumns);\n  }\n  /**\n   * Get the feature table\n   * @return {FeatureTable} the feature table\n   */\n  getFeatureTable(): FeatureTable {\n    return this.table;\n  }\n  get table(): FeatureTable {\n    return this._table;\n  }\n  /**\n   * Create a new feature row with the column types and values\n   * @param  {Array} columnTypes column types\n   * @param  {Array} values      values\n   * @return {FeatureRow}             feature row\n   */\n  newRow(columnTypes?: { [key: string]: GeoPackageDataType }, values?: Record<string, DBValue>): FeatureRow {\n    return new FeatureRow(this.getFeatureTable(), columnTypes, values);\n  }\n  /**\n   * Get the geometry column name\n   * @return {string} the geometry column name\n   */\n  getGeometryColumnName(): string {\n    return this.geometryColumns.column_name;\n  }\n  /**\n   * Get the geometry types\n   * @return {Number} well known binary geometry type\n   */\n  get geometryType(): string {\n    return this.geometryColumns.geometryType;\n  }\n  get srs(): SpatialReferenceSystem {\n    return this.geoPackage.geometryColumnsDao.getSrs(this.geometryColumns);\n  }\n  /**\n   * Determine if the feature table is indexed\n   * @returns {Boolean} indexed status of the table\n   */\n  isIndexed(): boolean {\n    return this.featureTableIndex.isIndexed();\n  }\n  async index(progress?: Function): Promise<boolean> {\n    return this.featureTableIndex.index(progress);\n  }\n  /**\n   * Query for count in bounding box\n   * @param boundingBox\n   * @returns {Number}\n   */\n  countWebMercatorBoundingBox(boundingBox: BoundingBox): number {\n    return this.countInBoundingBox(boundingBox, ProjectionConstants.EPSG_3857);\n  }\n  /**\n   * Query for count in bounding box\n   * @param boundingBox\n   * @param projection\n   * @returns {Number}}\n   */\n  countInBoundingBox(boundingBox: BoundingBox, projection?: string): number {\n    return this.featureTableIndex.countWithBoundingBox(boundingBox, projection);\n  }\n  /**\n   * Fast query web mercator bounding box\n   * @param {BoundingBox} boundingBox bounding box to query for\n   * @returns {any}\n   */\n  fastQueryWebMercatorBoundingBox(boundingBox: BoundingBox): IterableIterator<FeatureRow> {\n    const iterator = this.featureTableIndex.queryWithBoundingBox(boundingBox, ProjectionConstants.EPSG_3857);\n    return {\n      [Symbol.iterator](): IterableIterator<FeatureRow> {\n        return this;\n      },\n      next: (): IteratorResult<FeatureRow> => {\n        const nextRow = iterator.next();\n        if (!nextRow.done) {\n          const featureRow = this.getRow(nextRow.value) as FeatureRow;\n          return {\n            value: featureRow,\n            done: false,\n          };\n        } else {\n          return {\n            value: undefined,\n            done: true,\n          };\n        }\n      },\n    };\n  }\n  queryIndexedFeaturesWithWebMercatorBoundingBox(boundingBox: BoundingBox): IterableIterator<FeatureRow> {\n    const srs = this.srs;\n    const projection = this.projection;\n    const iterator = this.featureTableIndex.queryWithBoundingBox(boundingBox, ProjectionConstants.EPSG_3857);\n    const thisGetRow = this.getRow.bind(this);\n    const projectedBoundingBox = boundingBox.projectBoundingBox(ProjectionConstants.EPSG_3857, ProjectionConstants.EPSG_4326);\n    return {\n      [Symbol.iterator](): IterableIterator<FeatureRow> {\n        return this;\n      },\n      next: (): IteratorResult<FeatureRow> => {\n        let nextRow = iterator.next();\n        if (!nextRow.done) {\n          let featureRow: FeatureRow;\n          let geometry;\n          while (!nextRow.done && !geometry) {\n            featureRow = thisGetRow(nextRow.value);\n            try {\n              const reporjectedGeometry = FeatureDao.reprojectFeature(featureRow, srs, projection);\n              geometry = FeatureDao.verifyFeature(reporjectedGeometry, projectedBoundingBox);\n            } catch (e) {\n              console.log('Error parsing Geometry', e);\n            }\n            if (geometry) {\n              geometry.properties = featureRow.values;\n              return {\n                value: featureRow,\n                done: false,\n              };\n            } else {\n              nextRow = iterator.next();\n            }\n          }\n        }\n        return {\n          done: true,\n          value: undefined,\n        };\n      },\n    };\n  }\n  fastQueryBoundingBox(boundingBox: BoundingBox, projection?: string): IterableIterator<FeatureRow> {\n    const iterator = this.featureTableIndex.queryWithBoundingBox(boundingBox, projection);\n    const thisgetRow = this.getRow.bind(this);\n\n    return {\n      [Symbol.iterator](): IterableIterator<FeatureRow> {\n        return this;\n      },\n      next: (): IteratorResult<FeatureRow> => {\n        const nextRow = iterator.next();\n        if (!nextRow.done) {\n          const featureRow = thisgetRow(nextRow.value);\n\n          return {\n            value: featureRow,\n            done: false,\n          };\n        } else {\n          return {\n            done: true,\n            value: undefined,\n          };\n        }\n      },\n    };\n  }\n\n  queryIndexedFeaturesWithBoundingBox(boundingBox: BoundingBox): IterableIterator<FeatureRow> {\n    const srs = this.srs;\n    const projection = this.projection;\n\n    const iterator = this.featureTableIndex.queryWithBoundingBox(boundingBox, projection);\n    const thisgetRow = this.getRow.bind(this);\n    const projectedBoundingBox = boundingBox.projectBoundingBox(projection, this.projection);\n    return {\n      [Symbol.iterator](): IterableIterator<FeatureRow> {\n        return this;\n      },\n      next: (): IteratorResult<FeatureRow> => {\n        let nextRow = iterator.next();\n        if (!nextRow.done) {\n          let featureRow;\n          let geometry;\n\n          while (!nextRow.done && !geometry) {\n            featureRow = thisgetRow(nextRow.value);\n            try {\n              const reporjectedGeometry = FeatureDao.reprojectFeature(featureRow, srs, projection);\n              geometry = FeatureDao.verifyFeature(reporjectedGeometry, projectedBoundingBox);\n            } catch (e) {\n              console.log('Error parsing Geometry', e);\n            }\n            if (geometry) {\n              geometry.properties = featureRow.values;\n              return {\n                value: featureRow,\n                done: false,\n              };\n            } else {\n              nextRow = iterator.next();\n            }\n          }\n        }\n        return {\n          done: true,\n          value: undefined,\n        };\n      },\n    };\n  }\n\n  /**\n   * Calls geoJSONFeatureCallback with the geoJSON of each matched feature (always in 4326 projection)\n   * @param  {BoundingBox} boundingBox        4326 bounding box to query\n   * @param {Boolean} [skipVerification] do not verify if the feature actually exists in the box\n   * @returns {any}\n   */\n  queryForGeoJSONIndexedFeaturesWithBoundingBox(\n    boundingBox: BoundingBox,\n    skipVerification = false,\n  ): IterableIterator<Feature> & { srs: SpatialReferenceSystem; featureDao: FeatureDao<FeatureRow> } {\n    const columns = [] as {\n      index: number;\n      name: string;\n      max?: number;\n      min?: number;\n      notNull?: boolean;\n      primaryKey?: boolean;\n      dataType: string;\n      displayName: string;\n      dataColumn: DataColumns;\n    }[];\n    const columnMap: Record<\n      string,\n      {\n        index: number;\n        name: string;\n        max?: number;\n        min?: number;\n        notNull?: boolean;\n        primaryKey?: boolean;\n        dataType: string;\n        displayName: string;\n        dataColumn: DataColumns;\n      }\n    > = {};\n    const srs = this.srs;\n    const projection = this.projection;\n    this.table.getUserColumns().getColumns().forEach(column => {\n      const dataColumn = this.dataColumnsDao.getDataColumns(this.table.getTableName(), column.name);\n      columns.push({\n        index: column.index,\n        name: column.name,\n        max: column.max,\n        min: column.min,\n        notNull: column.notNull,\n        primaryKey: column.primaryKey,\n        dataType: column.dataType ? GeoPackageDataType.nameFromType(column.dataType) : '',\n        displayName: dataColumn && dataColumn.name ? dataColumn.name : column.name,\n        dataColumn: dataColumn,\n      });\n      columnMap[column.name] = columns[columns.length - 1];\n    });\n    let iterator: IterableIterator<any>;\n    if (boundingBox) {\n      iterator = this.featureTableIndex.queryWithBoundingBox(boundingBox, ProjectionConstants.EPSG_4326)[Symbol.iterator]();\n    } else {\n      iterator = this.queryForEach();\n    }\n    return {\n      srs: srs,\n      featureDao: this,\n      [Symbol.iterator](): IterableIterator<Feature> {\n        return this;\n      },\n      // eslint-disable-next-line complexity\n      next: (): IteratorResult<Feature> => {\n        let nextRow = iterator.next();\n        if (!nextRow.done) {\n          let featureRow: FeatureRow;\n          let geometry: GeoJsonObject;\n          while (!nextRow.done && !geometry) {\n            featureRow = this.getRow(nextRow.value) as FeatureRow;\n            try {\n              geometry = FeatureDao.reprojectFeature(featureRow, srs, projection);\n              if (!skipVerification && boundingBox) {\n                geometry = FeatureDao.verifyFeature(geometry, boundingBox);\n              }\n            } catch (e) {\n              console.log('Error parsing Geometry', e);\n            }\n            if (geometry) {\n              const geoJson = {\n                id: undefined,\n                type: 'Feature',\n                properties: {},\n                geometry: geometry,\n              } as Feature;\n              for (const key in featureRow.values) {\n                if (\n                  Object.prototype.hasOwnProperty.call(featureRow.values, key) &&\n                  key !== featureRow.geometryColumn.name\n                ) {\n                  if (key.toLowerCase() === '_feature_id' ) {\n                    geoJson.id = featureRow.values[key] as string | number;\n                  } else if (key.toLowerCase() === 'id') {\n                      geoJson.properties[key] = featureRow.values[key];\n                  } else if (key.toLowerCase() === '_properties_id') {\n                    geoJson.properties[key.substring(12)] = featureRow.values[key];\n                  } else {\n                    geoJson.properties[columnMap[key].displayName] = featureRow.values[key];\n                  }\n                }\n              }\n              geoJson.id = geoJson.id || featureRow.id;\n              return {\n                value: geoJson,\n                done: false,\n              };\n            } else {\n              nextRow = iterator.next();\n            }\n          }\n        }\n        return {\n          done: true,\n          value: undefined,\n        };\n      },\n    };\n  }\n  getBoundingBox(): BoundingBox {\n    const contents = this.getContents();\n    return new BoundingBox(contents.min_x, contents.max_x, contents.min_y, contents.max_y);\n  }\n\n  static reprojectFeature(\n    featureRow: FeatureRow,\n    srs: SpatialReferenceSystem,\n    projection: proj4.Converter | string,\n  ): GeoJsonObject {\n    let geometry = featureRow.geometry.toGeoJSON();\n    if (srs.organization !== ProjectionConstants.EPSG || srs.organization_coordsys_id !== ProjectionConstants.EPSG_CODE_4326) {\n      geometry = reproject.reproject(geometry, projection, ProjectionConstants.EPSG_4326);\n    }\n    return geometry;\n  }\n\n  static verifyFeature(geometry: any, boundingBox: BoundingBox): Feature {\n    try {\n      if (geometry.type === 'Point') {\n        return geometry;\n      } else if (geometry.type === 'LineString') {\n        return FeatureDao.verifyLineString(geometry, boundingBox);\n      } else if (geometry.type === 'Polygon') {\n        return FeatureDao.verifyPolygon(geometry, boundingBox);\n      } else if (geometry.type === 'MultiPoint') {\n        return FeatureDao.verifyMultiPoint(geometry, boundingBox);\n      } else if (geometry.type === 'MultiLineString') {\n        return FeatureDao.verifyLineString(geometry, boundingBox);\n      } else if (geometry.type === 'MultiPolygon') {\n        return FeatureDao.verifyPolygon(geometry, boundingBox);\n      } else if (geometry.type === 'GeometryCollection') {\n        return FeatureDao.verifyGeometryCollection(geometry, boundingBox);\n      } else {\n        return undefined;\n      }\n    } catch (e) {\n      return undefined;\n    }\n  }\n\n  static verifyMultiPoint(geometry: any, boundingBox: BoundingBox): Feature {\n    const multiPointIntersects = FeatureDao.multiPointIntersects(geometry, boundingBox.toGeoJSON().geometry);\n    if (multiPointIntersects) {\n      return geometry;\n    } else if (BooleanWithin(geometry, boundingBox.toGeoJSON().geometry)) {\n      return geometry;\n    }\n  }\n\n  static verifyLineString(geometry: any, boundingBox: BoundingBox): Feature {\n    const intersect = LineIntersect(geometry, boundingBox.toGeoJSON().geometry);\n    if (intersect.features.length) {\n      return geometry;\n    } else if (BooleanWithin(geometry, boundingBox.toGeoJSON().geometry)) {\n      return geometry;\n    }\n  }\n\n  static verifyPolygon(geometry: any, boundingBox: BoundingBox): Feature {\n    const polyIntersect = Intersect(geometry, boundingBox.toGeoJSON().geometry);\n    if (polyIntersect) {\n      return geometry;\n    } else if (BooleanWithin(geometry, boundingBox.toGeoJSON().geometry)) {\n      return geometry;\n    }\n  }\n\n  static multiPointIntersects(geometry, boundsGeometry): Boolean {\n    let intersects: Boolean = false;\n    for (let i = 0; i < geometry.coordinates.length && !intersects; i++) {\n      const point = geometry.coordinates[i];\n      intersects = BooleanPointInPolygon(point, boundsGeometry);\n    }\n    return intersects;\n  }\n\n  /**\n   * Iterate over geometries in GeometryCollection looking for any geometry that intersects the bounding box provided\n   * @param geometry\n   * @param boundsGeometry\n   */\n  static geometryCollectionIntersects(geometry, boundsGeometry): Boolean {\n    let intersects: Boolean = false;\n    for (let i = 0; i < geometry.geometries.length && !intersects; i++) {\n      const childGeometry = geometry.geometries[i];\n      switch (childGeometry.type) {\n        case 'Point':\n          intersects = BooleanPointInPolygon(childGeometry, boundsGeometry);\n          break;\n        case 'LineString':\n        case 'MultiLineString':\n          intersects = LineIntersect(childGeometry, boundsGeometry).features.length > 0;\n          break;\n        case 'Polygon':\n        case 'MultiPolygon':\n          intersects = Intersect(childGeometry, boundsGeometry) !== null;\n          break;\n        case 'MultiPoint':\n          intersects = FeatureDao.multiPointIntersects(childGeometry, boundsGeometry);\n          break;\n        case 'GeometryCollection':\n          intersects = FeatureDao.geometryCollectionIntersects(childGeometry, boundsGeometry);\n          break;\n        default:\n          break;\n      }\n    }\n    return intersects;\n  }\n\n  static verifyGeometryCollection(geometry: any, boundingBox: BoundingBox): Feature {\n    const geomCollectionIntersect = FeatureDao.geometryCollectionIntersects(geometry, boundingBox.toGeoJSON().geometry);\n    if (geomCollectionIntersect) {\n      return geometry;\n    } else if (BooleanWithin(geometry, boundingBox.toGeoJSON().geometry)) {\n      return geometry;\n    }\n  }\n\n  static readTable(geoPackage: GeoPackage, tableName: string): FeatureDao<FeatureRow> {\n    return geoPackage.getFeatureDao(tableName);\n  }\n}\n","import { FeatureTable } from './featureTable';\nimport { UserRow } from '../../user/userRow';\nimport { FeatureColumn } from './featureColumn';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\nimport { GeometryData } from '../../geom/geometryData';\nimport { DBValue } from '../../db/dbAdapter';\n\n/**\n * featureRow module.\n * @module features/user/featureRow\n */\n\n/**\n * Feature Row containing the values from a single result set row\n * @param  {FeatureTable} featureTable feature table\n * @param  {Array} columnTypes  column types\n * @param  {Array} values       values\n */\nexport class FeatureRow extends UserRow {\n  constructor(\n    public featureTable: FeatureTable,\n    columnTypes?: { [key: string]: GeoPackageDataType },\n    values?: Record<string, DBValue>,\n  ) {\n    super(featureTable, columnTypes, values);\n  }\n  /**\n   * Get the geometry column index\n   * @return {Number} geometry column index\n   */\n  get geometryColumnIndex(): number {\n    return this.featureTable.getGeometryColumnIndex();\n  }\n  /**\n   * Get the geometry column\n   * @return {FeatureColumn} geometry column\n   */\n  get geometryColumn(): FeatureColumn {\n    return this.featureTable.getGeometryColumn();\n  }\n  /**\n   * Get the geometry\n   * @return {Buffer} geometry data\n   */\n  get geometry(): GeometryData {\n    return this.getValueWithIndex(this.featureTable.getGeometryColumnIndex());\n  }\n  /**\n   * set the geometry\n   * @param {Buffer} geometryData geometry data\n   */\n  set geometry(geometryData: GeometryData) {\n    this.setValueWithIndex(this.featureTable.getGeometryColumnIndex(), geometryData);\n  }\n  /**\n   * Get the geometry's type\n   * @return {String} geometry data\n   */\n  get geometryType(): string {\n    let geometryType = null;\n    const geometry = this.getValueWithIndex(this.featureTable.getGeometryColumnIndex());\n    if (geometry !== null) {\n      geometryType = geometry.toGeoJSON().type;\n    }\n    return geometryType;\n  }\n\n  toObjectValue(index: number, value: DBValue): object | GeometryData {\n    const column = this.getColumnWithIndex(index);\n    if (\n      (column instanceof FeatureColumn && column.isGeometry() && value && value instanceof Buffer) ||\n      value instanceof Uint8Array\n    ) {\n      return new GeometryData(value);\n    }\n    return super.toObjectValue(index, value);\n  }\n\n  getValueWithColumnName(columnName: string): any {\n    const value = this.values[columnName];\n    const column = this.getColumnWithColumnName(columnName);\n    if (value !== undefined && value !== null && column instanceof FeatureColumn && column.isGeometry() && (value as any).toData) {\n      return (value as any).toData();\n    }\n    return super.getValueWithColumnName(columnName);\n  }\n}\n","/**\n * featureTable module.\n * @module features/user/featureTable\n */\nimport { UserTable } from '../../user/userTable';\nimport { FeatureColumn } from './featureColumn';\nimport { FeatureColumns } from './featureColumns';\nimport { Contents } from '../../core/contents/contents';\nimport { ContentsDataType } from '../../core/contents/contentsDataType';\n\n/**\n * Represents a user feature table\n * @param  {string} tableName table name\n * @param  {array} columns   feature columns\n */\nexport class FeatureTable extends UserTable<FeatureColumn> {\n  constructor(tableName: string, geometryColumn: string, columns: FeatureColumn[]) {\n    super(new FeatureColumns(tableName, geometryColumn, columns, false));\n  }\n\n  copy(): FeatureTable {\n    return new FeatureTable(this.getTableName(), this.getGeometryColumnName(), this.getUserColumns().getColumns());\n  }\n\n  /**\n   * Get the geometry column index\n   * @return geometry column index\n   */\n  getGeometryColumnIndex(): number {\n    return this.getUserColumns().getGeometryIndex();\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  getUserColumns(): FeatureColumns {\n    return super.getUserColumns() as FeatureColumns;\n  }\n\n  /**\n   * Get the geometry feature column\n   * @return geometry feature column\n   */\n  getGeometryColumn(): FeatureColumn {\n    return this.getUserColumns().getGeometryColumn();\n  }\n\n  /**\n   * Get the geometry column name\n   * @return geometry column name\n   */\n  getGeometryColumnName(): string {\n    return this.getUserColumns().getGeometryColumnName();\n  }\n\n  /**\n   * Get the Id and Geometry Column names\n   * @return column names\n   */\n  getIdAndGeometryColumnNames(): string[] {\n    return [ this.getPkColumnName(), this.getGeometryColumnName() ];\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  validateContents(contents: Contents) {\n    // Verify the Contents have a features data type\n    const dataType = contents.data_type;\n    if (dataType === null || dataType === undefined || dataType !== ContentsDataType.FEATURES) {\n    throw new Error('The Contents of a '\n        + 'FeatureTable'\n        + ' must have a data type of '\n        + ContentsDataType.FEATURES);\n    }\n  }\n\n}\n","/**\n * featureTableReader module.\n * @module features/user/featureTableReader\n */\nimport { GeometryColumnsDao } from '../columns/geometryColumnsDao';\nimport { FeatureTable } from './featureTable';\nimport { UserTableReader } from '../../user/userTableReader';\nimport { FeatureColumn } from './featureColumn';\nimport { GeometryColumns } from '../columns/geometryColumns';\nimport { GeoPackage } from '../../geoPackage';\nimport { TableColumn } from '../../db/table/tableColumn';\n\n/**\n * Reads the metadata from an existing feature table\n * @class FeatureTableReader\n */\nexport class FeatureTableReader extends UserTableReader<FeatureColumn, FeatureTable> {\n  /*\n   * GeometryColumn name\n   */\n  columnName: string\n\n  constructor(tableNameOrGeometryColumns: string | GeometryColumns) {\n    super(\n      tableNameOrGeometryColumns instanceof GeometryColumns\n        ? tableNameOrGeometryColumns.table_name\n        : tableNameOrGeometryColumns,\n    );\n    tableNameOrGeometryColumns instanceof GeometryColumns\n      ? (this.columnName = tableNameOrGeometryColumns.column_name)\n      : undefined;\n  }\n  readFeatureTable(geoPackage: GeoPackage): FeatureTable {\n    if (this.columnName === null || this.columnName === undefined) {\n      const gcd = new GeometryColumnsDao(geoPackage);\n      this.columnName = gcd.queryForTableName(this.table_name).column_name;\n    }\n    return this.readTable(geoPackage.database) as FeatureTable;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  createTable(tableName: string, columns: FeatureColumn[]): FeatureTable {\n    return new FeatureTable(tableName, this.columnName, columns);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  createColumn(tableColumn: TableColumn): FeatureColumn {\n    return new FeatureColumn(tableColumn.index, tableColumn.name, tableColumn.dataType, tableColumn.max, tableColumn.notNull, tableColumn.defaultValue, tableColumn.primaryKey, FeatureColumn.getGeometryTypeFromTableColumn(tableColumn), tableColumn.autoincrement);\n  }\n}\n","export enum GeometryType {\n  GEOMETRY,\n  POINT,\n  LINESTRING,\n  POLYGON,\n  MULTIPOINT,\n  MULTILINESTRING,\n  MULTIPOLYGON,\n  GEOMETRYCOLLECTION,\n  CIRCULARSTRING,\n  COMPOUNDCURVE,\n  CURVEPOLYGON,\n  MULTICURVE,\n  MULTISURFACE,\n  CURVE,\n  SURFACE,\n  POLYHEDRALSURFACE,\n  TIN,\n  TRIANGLE\n}\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace GeometryType {\n  export function nameFromType(type: GeometryType): string {\n    let name = null;\n    if (type !== null && type !== undefined) {\n      name = GeometryType[type];\n    }\n    return name;\n  }\n\n  export function fromName(type: string): GeometryType {\n    return GeometryType[type as keyof typeof GeometryType] as GeometryType;\n  }\n}\n","import wkx from 'wkx';\n// @ts-ignore\nimport reproject from 'reproject';\nimport pointToLineDistance from '@turf/point-to-line-distance';\nimport polygonToLine from '@turf/polygon-to-line';\nimport booleanPointInPolygon from '@turf/boolean-point-in-polygon';\n// @ts-ignore\nimport pointDistance from '@turf/distance';\nimport * as helpers from '@turf/helpers';\nimport proj4 from 'proj4';\nimport { Feature, FeatureCollection, Geometry, LineString, MultiPolygon, Point, Polygon } from 'geojson';\n\nimport { GeometryData } from './geom/geometryData';\nimport { GeoPackageConnection } from './db/geoPackageConnection';\nimport { CrsWktExtension } from './extension/crsWkt';\nimport { RelatedTablesExtension } from './extension/relatedTables';\nimport { FeatureStyleExtension } from './extension/style';\nimport { ContentsIdExtension } from './extension/contents';\nimport { TileScalingExtension } from './extension/scale';\nimport { SpatialReferenceSystemDao } from './core/srs/spatialReferenceSystemDao';\nimport { GeometryColumnsDao } from './features/columns/geometryColumnsDao';\nimport { FeatureDao } from './features/user/featureDao';\nimport { FeatureTableReader } from './features/user/featureTableReader';\nimport { ContentsDao } from './core/contents/contentsDao';\nimport { TileMatrixSetDao } from './tiles/matrixset/tileMatrixSetDao';\nimport { TileMatrixDao } from './tiles/matrix/tileMatrixDao';\nimport { DataColumnsDao } from './dataColumns/dataColumnsDao';\nimport { DataColumnConstraintsDao } from './dataColumnConstraints/dataColumnConstraintsDao';\nimport { MetadataDao } from './metadata/metadataDao';\nimport { MetadataReferenceDao } from './metadata/reference/metadataReferenceDao';\nimport { ExtensionDao } from './extension/extensionDao';\nimport { TableIndexDao } from './extension/index/tableIndexDao';\nimport { GeometryIndexDao } from './extension/index/geometryIndexDao';\nimport { ExtendedRelationDao } from './extension/relatedTables/extendedRelationDao';\nimport { AttributesDao } from './attributes/attributesDao';\nimport { TileDao } from './tiles/user/tileDao';\nimport { ContentsIdDao } from './extension/contents/contentsIdDao';\nimport { TileScalingDao } from './extension/scale/tileScalingDao';\nimport { AttributesTable } from './attributes/attributesTable';\nimport { TileTableReader } from './tiles/user/tileTableReader';\nimport { AttributesTableReader } from './attributes/attributesTableReader';\nimport { FeatureTable } from './features/user/featureTable';\nimport { StyleMappingTable } from './extension/style/styleMappingTable';\nimport { TileTable } from './tiles/user/tileTable';\nimport { Contents } from './core/contents/contents';\nimport { GeoPackageDataType } from './db/geoPackageDataType';\nimport { SchemaExtension } from './extension/schema';\nimport { GeometryColumns } from './features/columns/geometryColumns';\nimport { TableCreator } from './db/tableCreator';\nimport { TileMatrix } from './tiles/matrix/tileMatrix';\nimport { TileBoundingBoxUtils } from './tiles/tileBoundingBoxUtils';\nimport { BoundingBox } from './boundingBox';\nimport { TileMatrixSet } from './tiles/matrixset/tileMatrixSet';\nimport { UserColumn } from './user/userColumn';\nimport { DataColumns } from './dataColumns/dataColumns';\nimport { AttributesRow } from './attributes/attributesRow';\nimport { SpatialReferenceSystem } from './core/srs/spatialReferenceSystem';\nimport { FeatureRow } from './features/user/featureRow';\nimport { GeoPackageValidate, GeoPackageValidationError } from './validate/geoPackageValidate';\nimport { FeatureColumn } from './features/user/featureColumn';\nimport { DBValue } from './db/dbAdapter';\nimport { MediaDao } from './extension/relatedTables/mediaDao';\nimport { MediaRow } from './extension/relatedTables/mediaRow';\nimport { MediaTable } from './extension/relatedTables/mediaTable';\nimport { ExtendedRelation } from './extension/relatedTables/extendedRelation';\nimport { RelationType } from './extension/relatedTables/relationType';\nimport { SimpleAttributesDao } from './extension/relatedTables/simpleAttributesDao';\nimport { SimpleAttributesRow } from './extension/relatedTables/simpleAttributesRow';\nimport { SimpleAttributesTable } from './extension/relatedTables/simpleAttributesTable';\nimport { TileRow } from './tiles/user/tileRow';\nimport { FeatureTiles } from './tiles/features';\nimport { GeoPackageTileRetriever } from './tiles/retriever';\nimport { TileScaling } from './extension/scale/tileScaling';\nimport { TileScalingType } from './extension/scale/tileScalingType';\nimport { AttributesColumn } from './attributes/attributesColumn';\nimport { AlterTable } from './db/alterTable';\nimport { GeoPackageExtensions } from './extension/geoPackageExtensions';\nimport { ContentsDataType } from './core/contents/contentsDataType';\nimport { UserMappingTable } from './extension/relatedTables/userMappingTable';\nimport { GeometryType } from './features/user/geometryType';\nimport { Constraints } from './db/table/constraints';\nimport { Projection } from './projection/projection';\nimport { ProjectionConstants } from './projection/projectionConstants';\nimport {SqliteQueryBuilder} from \"./db/sqliteQueryBuilder\";\n\ntype ColumnMap = {\n  [key: string]: {\n    index: number;\n    name: string;\n    max?: number;\n    min?: number;\n    notNull?: boolean;\n    primaryKey?: boolean;\n    dataType?: GeoPackageDataType;\n    displayName: string;\n    dataColumn?: DataColumns;\n  };\n};\n\nexport interface ClosestFeature {\n  feature_count: number;\n  coverage: boolean;\n  gp_table: string;\n  gp_name: string;\n  distance?: number;\n}\n\n/**\n * A `GeoPackage` instance is the interface to a physical GeoPackage SQLite\n * database.\n */\nexport class GeoPackage {\n  /** name of the GeoPackage */\n  name: string;\n  /** path to the GeoPackage */\n  path: string;\n  connection: GeoPackageConnection;\n  tableCreator: TableCreator;\n  private _spatialReferenceSystemDao: SpatialReferenceSystemDao;\n  private _contentsDao: ContentsDao;\n  private _tileMatrixSetDao: TileMatrixSetDao;\n  private _tileMatrixDao: TileMatrixDao;\n  private _dataColumnsDao: DataColumnsDao;\n  private _extensionDao: ExtensionDao;\n  private _tableIndexDao: TableIndexDao;\n  private _geometryColumnsDao: GeometryColumnsDao;\n  private _dataColumnConstraintsDao: DataColumnConstraintsDao;\n  private _metadataReferenceDao: MetadataReferenceDao;\n  private _metadataDao: MetadataDao;\n  private _extendedRelationDao: ExtendedRelationDao;\n  private _contentsIdDao: ContentsIdDao;\n  private _tileScalingDao: TileScalingDao;\n  private _contentsIdExtension: ContentsIdExtension;\n  private _featureStyleExtension: FeatureStyleExtension;\n  private _relatedTablesExtension: RelatedTablesExtension;\n\n  /**\n   * Construct a new GeoPackage object\n   * @param name name to give to this GeoPackage\n   * @param path path to the GeoPackage\n   * @param connection database connection to the GeoPackage\n   */\n  constructor(name: string, path: string, connection: GeoPackageConnection) {\n    this.name = name;\n    this.path = path;\n    this.connection = connection;\n    this.tableCreator = new TableCreator(this);\n    this.loadSpatialReferenceSystemsIntoProj4();\n  }\n  close(): void {\n    this.connection.close();\n  }\n  get database(): GeoPackageConnection {\n    return this.connection;\n  }\n  async export(): Promise<any> {\n    return this.connection.export();\n  }\n  loadSpatialReferenceSystemsIntoProj4(): void {\n    this.spatialReferenceSystemDao.getAllSpatialReferenceSystems().forEach(spatialReferenceSystem => {\n      try {\n        if (spatialReferenceSystem.srs_id > 0 && (spatialReferenceSystem.organization !== ProjectionConstants.EPSG ||\n          (spatialReferenceSystem.organization_coordsys_id !== ProjectionConstants.EPSG_CODE_4326 &&\n          spatialReferenceSystem.organization_coordsys_id !== ProjectionConstants.EPSG_CODE_3857)))\n        Projection.loadProjection([spatialReferenceSystem.organization, spatialReferenceSystem.organization_coordsys_id].join(':'), spatialReferenceSystem.definition)\n      } catch (e) {}\n    })\n  }\n  validate(): GeoPackageValidationError[] {\n    let errors: GeoPackageValidationError[] = [];\n    errors = errors.concat(GeoPackageValidate.validateMinimumTables(this));\n    return errors;\n  }\n  /**\n   * @returns {module:core/srs~SpatialReferenceSystemDao} the DAO to access the [SRS table]{@link module:core/srs~SpatialReferenceSystem} in this `GeoPackage`\n   */\n  get spatialReferenceSystemDao(): SpatialReferenceSystemDao {\n    return this._spatialReferenceSystemDao || (this._spatialReferenceSystemDao = new SpatialReferenceSystemDao(this));\n  }\n  /**\n   * @returns {module:core/contents~ContentsDao} the DAO to access the [contents table]{@link module:core/contents~Contents} in this `GeoPackage`\n   */\n  get contentsDao(): ContentsDao {\n    return this._contentsDao || (this._contentsDao = new ContentsDao(this));\n  }\n  /**\n   * @returns {module:tiles/matrixset~TileMatrixSetDao} the DAO to access the [tile matrix set]{@link module:tiles/matrixset~TileMatrixSet} in this `GeoPackage`\n   */\n  get tileMatrixSetDao(): TileMatrixSetDao {\n    return this._tileMatrixSetDao || (this._tileMatrixSetDao = new TileMatrixSetDao(this));\n  }\n  /**\n   * @returns {module:tiles/matrixset~TileMatrixDao} the DAO to access the [tile matrix]{@link module:tiles/matrixset~TileMatrix} in this `GeoPackage`\n   */\n  get tileMatrixDao(): TileMatrixDao {\n    return this._tileMatrixDao || (this._tileMatrixDao = new TileMatrixDao(this));\n  }\n  get dataColumnsDao(): DataColumnsDao {\n    return this._dataColumnsDao || (this._dataColumnsDao = new DataColumnsDao(this));\n  }\n  get extensionDao(): ExtensionDao {\n    return this._extensionDao || (this._extensionDao = new ExtensionDao(this));\n  }\n  get tableIndexDao(): TableIndexDao {\n    return this._tableIndexDao || (this._tableIndexDao = new TableIndexDao(this));\n  }\n  get geometryColumnsDao(): GeometryColumnsDao {\n    return this._geometryColumnsDao || (this._geometryColumnsDao = new GeometryColumnsDao(this));\n  }\n  get dataColumnConstraintsDao(): DataColumnConstraintsDao {\n    return this._dataColumnConstraintsDao || (this._dataColumnConstraintsDao = new DataColumnConstraintsDao(this));\n  }\n  get metadataReferenceDao(): MetadataReferenceDao {\n    return this._metadataReferenceDao || (this._metadataReferenceDao = new MetadataReferenceDao(this));\n  }\n  get metadataDao(): MetadataDao {\n    return this._metadataDao || (this._metadataDao = new MetadataDao(this));\n  }\n  get extendedRelationDao(): ExtendedRelationDao {\n    return this._extendedRelationDao || (this._extendedRelationDao = new ExtendedRelationDao(this));\n  }\n  get contentsIdDao(): ContentsIdDao {\n    return this._contentsIdDao || (this._contentsIdDao = new ContentsIdDao(this));\n  }\n  get tileScalingDao(): TileScalingDao {\n    return this._tileScalingDao || (this._tileScalingDao = new TileScalingDao(this));\n  }\n  get contentsIdExtension(): ContentsIdExtension {\n    return this._contentsIdExtension || (this._contentsIdExtension = new ContentsIdExtension(this));\n  }\n  get featureStyleExtension(): FeatureStyleExtension {\n    return this._featureStyleExtension || (this._featureStyleExtension = new FeatureStyleExtension(this));\n  }\n  getTileScalingExtension(tableName: string): TileScalingExtension {\n    return new TileScalingExtension(this, tableName);\n  }\n  getGeometryIndexDao(featureDao: FeatureDao<FeatureRow>): GeometryIndexDao {\n    return new GeometryIndexDao(this, featureDao);\n  }\n  get relatedTablesExtension(): RelatedTablesExtension {\n    return this._relatedTablesExtension || (this._relatedTablesExtension = new RelatedTablesExtension(this));\n  }\n  getSrs(srsId: number): SpatialReferenceSystem {\n    const dao = this.spatialReferenceSystemDao;\n    return dao.queryForId(srsId);\n  }\n  createRequiredTables(): GeoPackage {\n    this.tableCreator.createRequired();\n    return this;\n  }\n  createSupportedExtensions(): GeoPackage {\n    const crs = new CrsWktExtension(this);\n    crs.getOrCreateExtension();\n    const schema = new SchemaExtension(this);\n    schema.getOrCreateExtension();\n    return this;\n  }\n\n  /**\n   * Get a Tile DAO\n   * @param table\n   * @returns {TileDao}\n   */\n  getTileDao(table: string | Contents | TileMatrixSet): TileDao<TileRow> {\n    if (table instanceof Contents) {\n      table = this.contentsDao.getTileMatrixSet(table);\n    } else if (!(table instanceof TileMatrixSet)) {\n      const tms = this.tileMatrixSetDao;\n      const results = tms.queryForAllEq(TileMatrixSetDao.COLUMN_TABLE_NAME, table);\n      if (results.length > 1) {\n        throw new Error(\n          'Unexpected state. More than one Tile Matrix Set matched for table name: ' +\n            table +\n            ', count: ' +\n            results.length,\n        );\n      } else if (results.length === 0) {\n        throw new Error('No Tile Matrix found for table name: ' + table);\n      }\n      table = tms.createObject(results[0]);\n    }\n\n    if (!table) {\n      throw new Error('Non null TileMatrixSet is required to create Tile DAO');\n    }\n    const tileMatrices: TileMatrix[] = [];\n    const tileMatrixDao = this.tileMatrixDao;\n    const results = tileMatrixDao.queryForAllEq(\n      TileMatrixDao.COLUMN_TABLE_NAME,\n      table.table_name,\n      null,\n      null,\n      TileMatrixDao.COLUMN_ZOOM_LEVEL +\n        ' ASC, ' +\n        TileMatrixDao.COLUMN_PIXEL_X_SIZE +\n        ' DESC, ' +\n        TileMatrixDao.COLUMN_PIXEL_Y_SIZE +\n        ' DESC',\n    );\n    results.forEach(function(result) {\n      const tm = tileMatrixDao.createObject(result);\n      // verify first that there are actual tiles at this zoom level due to QGIS doing weird things and\n      // creating tile matrix entries for zoom levels that have no tiles\n      if (tileMatrixDao.hasTiles(tm)) {\n        tileMatrices.push(tm);\n      }\n    });\n    const tableReader = new TileTableReader(table);\n    const tileTable = tableReader.readTileTable(this);\n    return new TileDao(this, tileTable, table, tileMatrices);\n  }\n\n  /**\n   * Return a hash containing arrays of table names grouped under keys `features`,\n   * `tiles`, and `attributes`.\n   * @return {{features: string[], tiles: string[], attributes: string[]}}\n   */\n  getTables(): { features: string[]; tiles: string[]; attributes: string[] };\n\n  getTables(\n    fullInformation = false,\n  ):\n    | { features: Contents[]; tiles: Contents[]; attributes: Contents[] }\n    | { features: string[]; tiles: string[]; attributes: string[] } {\n    if (!fullInformation) {\n      const tables = {\n        features: this.getFeatureTables(),\n        tiles: this.getTileTables(),\n        attributes: this.getAttributesTables(),\n      };\n      return tables;\n    } else {\n      const tables = {\n        features: this.contentsDao.getContentsForTableType(ContentsDataType.FEATURES),\n        tiles: this.contentsDao.getContentsForTableType(ContentsDataType.TILES),\n        attributes: this.contentsDao.getContentsForTableType(ContentsDataType.ATTRIBUTES),\n      };\n      return tables;\n    }\n  }\n\n  getAttributesTables(): string[] {\n    return this.contentsDao.getTables(ContentsDataType.ATTRIBUTES);\n  }\n\n  hasAttributeTable(attributeTableName: string): boolean {\n    const tables = this.getAttributesTables();\n    return tables && tables.indexOf(attributeTableName) != -1;\n  }\n\n  /**\n   *  Get the tile tables\n   *  @returns {String[]} tile table names\n   */\n  getTileTables(): string[] {\n    const cd = this.contentsDao;\n    if (!cd.isTableExists()) {\n      return [];\n    }\n    return cd.getTables(ContentsDataType.TILES);\n  }\n\n  /**\n   * Checks if the tile table exists in the GeoPackage\n   * @param  {String} tileTableName name of the table to query for\n   * @returns {Boolean} indicates the existence of the tile table\n   */\n  hasTileTable(tileTableName: string): boolean {\n    const tables = this.getTileTables();\n    return tables && tables.indexOf(tileTableName) !== -1;\n  }\n\n  /**\n   * Checks if the feature table exists in the GeoPackage\n   * @param  {String} featureTableName name of the table to query for\n   * @returns {Boolean} indicates the existence of the feature table\n   */\n  hasFeatureTable(featureTableName: string): boolean {\n    const tables = this.getFeatureTables();\n    return tables && tables.indexOf(featureTableName) != -1;\n  }\n\n  /**\n   *  Get the feature tables\n   *  @returns {String[]} feature table names\n   */\n  getFeatureTables(): string[] {\n    const cd = this.contentsDao;\n    if (!cd.isTableExists()) {\n      return [];\n    }\n    return cd.getTables(ContentsDataType.FEATURES);\n  }\n\n  isTable(tableName: string): boolean {\n    return !!this.connection.tableExists(tableName);\n  }\n\n  isTableType(type: string, tableName: string): boolean {\n    return type === this.getTableType(tableName);\n  }\n\n  getTableType(tableName: string): string {\n    const contents = this.getTableContents(tableName);\n    if (contents) {\n      return contents.data_type;\n    }\n  }\n\n  getTableContents(tableName: string): Contents {\n    return this.contentsDao.queryForId(tableName);\n  }\n\n  dropTable(tableName: string): boolean {\n    return this.connection.dropTable(tableName);\n  }\n  /**\n   * {@inheritDoc}\n   */\n  deleteTable(table: string) {\n    GeoPackageExtensions.deleteTableExtensions(this, table);\n    this.contentsDao.deleteTable(table);\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  deleteTableQuietly(tableName: string) {\n    try {\n      this.deleteTable(tableName);\n    } catch (e) {\n      // eat\n    }\n  }\n\n  getTableCreator(): TableCreator {\n    return this.tableCreator;\n  }\n\n  async index(): Promise<boolean> {\n    const tables = this.getFeatureTables();\n    for (let i = 0; i < tables.length; i++) {\n      if (!(await this.indexFeatureTable(tables[i]))) {\n        throw new Error('Unable to index table ' + tables[i]);\n      }\n    }\n    return true;\n  }\n\n  async indexFeatureTable(table: string, progress?: Function): Promise<boolean> {\n    const featureDao = this.getFeatureDao(table);\n    const fti = featureDao.featureTableIndex;\n    if (fti.isIndexed()) {\n      return true;\n    }\n    return await fti.index(progress);\n  }\n\n  /**\n   * Get a Feature DAO from Contents\n   *  @returns {FeatureDao}\n   * @param table\n   */\n  getFeatureDao(table: string | Contents | GeometryColumns): FeatureDao<FeatureRow> {\n    if (table instanceof Contents) {\n      table = this.contentsDao.getGeometryColumns(table);\n    } else if (!(table instanceof GeometryColumns)) {\n      table = this.geometryColumnsDao.queryForTableName(table);\n    }\n\n    if (!table) {\n      throw new Error('Non null Geometry Columns is required to create Feature DAO');\n    }\n    const tableReader = new FeatureTableReader(table);\n    const featureTable = tableReader.readFeatureTable(this);\n    return new FeatureDao(this, featureTable, table, this.metadataDao);\n  }\n  /**\n   * Queries for GeoJSON features in a feature table\n   * @param  {String}   tableName   Table name to query\n   * @param  {BoundingBox}   boundingBox BoundingBox to query\n   * @returns {Object[]} array of GeoJSON features\n   */\n  queryForGeoJSONFeaturesInTable(tableName: string, boundingBox: BoundingBox): Feature[] {\n    const featureDao = this.getFeatureDao(tableName);\n    const features = [];\n    const iterator = featureDao.queryForGeoJSONIndexedFeaturesWithBoundingBox(boundingBox);\n    for (const feature of iterator) {\n      features.push(feature);\n    }\n    return features;\n  }\n\n  /**\n   * Create the Geometry Columns table if it does not already exist\n   * @returns {Promise}\n   */\n  createGeometryColumnsTable(): boolean {\n    if (this.geometryColumnsDao.isTableExists()) {\n      return true;\n    }\n    return this.tableCreator.createGeometryColumns();\n  }\n  /**\n   * Get a Attribute DAO\n   * @param  {Contents}   contents Contents\n   * @returns {AttributesDao}\n   */\n  getAttributeDao(table: Contents | string): AttributesDao<AttributesRow> {\n    if (!(table instanceof Contents)) {\n      table = this.contentsDao.queryForId(table);\n    }\n    if (!table) {\n      throw new Error('Non null Contents is required to create an Attributes DAO');\n    }\n    const reader = new AttributesTableReader(table.table_name);\n    const attributeTable: AttributesTable = reader.readTable(this.connection) as AttributesTable;\n    attributeTable.setContents(table);\n    return new AttributesDao(this, attributeTable);\n  }\n\n  /**\n   * Create AttributesTable from properties\n   * @param tableName\n   * @param properties\n   */\n  createAttributesTableFromProperties(\n    tableName: string,\n    properties: {\n          name: string;\n          dataType: string;\n          dataColumn?: {\n            table_name: string;\n            column_name: string;\n            name?: string;\n            title?: string;\n            description?: string;\n            mime_type?: string;\n            constraint_name?: string;\n          };\n        }[]\n  ): boolean {\n    let attributeColumns: AttributesColumn[] = [];\n    let columnNumber = 0;\n    let dataColumns = [];\n    attributeColumns.push(UserColumn.createPrimaryKeyColumn(columnNumber++, 'id'));\n    for (let i = 0; i < properties.length; i++) {\n      const property = properties[i] as {\n        name: string;\n        dataType: string;\n        dataColumn?: {\n          table_name: string;\n          column_name: string;\n          name?: string;\n          title?: string;\n          description?: string;\n          mime_type?: string;\n          constraint_name?: string;\n        };\n      };\n      attributeColumns.push(\n        UserColumn.createColumn(columnNumber++, property.name, GeoPackageDataType.fromName(property.dataType)),\n      );\n      if (property.dataColumn) {\n        const dc = new DataColumns();\n        dc.table_name = property.dataColumn.table_name;\n        dc.column_name = property.dataColumn.column_name;\n        dc.name = property.dataColumn.name;\n        dc.title = property.dataColumn.title;\n        dc.description = property.dataColumn.description;\n        dc.mime_type = property.dataColumn.mime_type;\n        dc.constraint_name = property.dataColumn.constraint_name;\n        dataColumns.push(dc);\n      }\n    }\n    return this.createAttributesTable(tableName, attributeColumns, new Constraints(), dataColumns);\n  }\n\n  /**\n   * Create attributes table for these columns, will add id column if no primary key column is defined\n   * @param tableName\n   * @param additionalColumns\n   * @param constraints\n   * @param dataColumns\n   */\n  createAttributesTable(tableName: string, additionalColumns: AttributesColumn[], constraints?: Constraints, dataColumns?: DataColumns[]): boolean {\n    let columns = [];\n\n    // Check for primary key field\n    if (additionalColumns.findIndex(c => c.isPrimaryKey()) === -1) {\n      columns.push(AttributesColumn.createPrimaryKeyColumn(AttributesColumn.NO_INDEX, 'id'))\n    }\n\n    additionalColumns.forEach(c => {\n      columns.push(c.copy());\n    });\n\n    // Build the user attributes table\n    let table = new AttributesTable(tableName, columns);\n\n    // Add unique constraints\n    if (constraints !== null && constraints !== undefined) {\n      table.addConstraints(constraints);\n    }\n\n    // Create the user attributes table\n    this.tableCreator.createUserTable(table);\n\n    try {\n      // Create the contents\n      let contents = new Contents();\n      contents.table_name = tableName;\n      contents.data_type = ContentsDataType.ATTRIBUTES;\n      contents.identifier = tableName;\n      contents.last_change = new Date().toISOString();\n      this.contentsDao.create(contents);\n      table.setContents(contents);\n\n      // create passed in data columns\n      if (dataColumns && dataColumns.length) {\n        this.createDataColumns();\n        const dataColumnsDao = this.dataColumnsDao;\n        dataColumns.forEach(dataColumn => {\n          dataColumnsDao.create(dataColumn);\n        });\n      }\n    } catch (e) {\n      this.deleteTableQuietly(tableName);\n      throw new Error(\"Failed to create table and metadata: \" + tableName);\n    }\n\n    return true;\n  }\n\n  /**\n   * Create a media table with the properties specified.  These properties are added to the required columns\n   * @param {module:geoPackage~GeoPackage} geopackage the geopackage object\n   * @param {Object[]} properties properties to create columns from\n   * @param {string} properties.name name of the column\n   * @param {string} properties.dataType name of the data type\n   * @return {Promise}\n   */\n  createMediaTable(\n    tableName: string,\n    properties?: { name: string; dataType: string; notNull?: boolean; defaultValue?: DBValue; max?: number }[],\n  ): MediaDao<MediaRow> {\n    const relatedTables = this.relatedTablesExtension;\n    const columns = [];\n    let columnNumber = MediaTable.numRequiredColumns();\n    if (properties) {\n      for (let i = 0; i < properties.length; i++) {\n        const property = properties[i];\n        columns.push(\n          UserColumn.createColumn(\n            columnNumber++,\n            property.name,\n            GeoPackageDataType.fromName(property.dataType),\n            property.notNull,\n            property.defaultValue,\n            property.max,\n          ),\n        );\n      }\n    }\n    const mediaTable = MediaTable.create(tableName, columns);\n    relatedTables.createRelatedTable(mediaTable);\n    return relatedTables.getMediaDao(mediaTable);\n  }\n\n  linkMedia(baseTableName: string, baseId: number, mediaTableName: string, mediaId: number): number {\n    return this.linkRelatedRows(baseTableName, baseId, mediaTableName, mediaId, RelationType.MEDIA);\n  }\n\n  /**\n   * Links related rows together\n   * @param baseId\n   * @param baseTableName\n   * @param relatedId\n   * @param relatedTableName\n   * @param  {string} relationType        relation type\n   * @param  {string|UserMappingTable} [mappingTable]        mapping table\n   * @param  {module:dao/columnValues~ColumnValues} [mappingColumnValues] column values\n   * @return {number}\n   */\n  linkRelatedRows(\n    baseTableName: string,\n    baseId: number,\n    relatedTableName: string,\n    relatedId: number,\n    relationType: RelationType,\n    mappingTable?: string | UserMappingTable,\n    mappingColumnValues?: Record<string, any>,\n  ): number {\n    const rte = this.relatedTablesExtension;\n    const relationship = rte\n      .getRelationshipBuilder()\n      .setBaseTableName(baseTableName)\n      .setRelatedTableName(relatedTableName)\n      .setRelationType(relationType);\n    let mappingTableName: string;\n    if (!mappingTable || typeof mappingTable === 'string') {\n      mappingTable = mappingTable || baseTableName + '_' + relatedTableName;\n      relationship.setMappingTableName(mappingTable);\n      mappingTableName = mappingTable as string;\n    } else {\n      relationship.setUserMappingTable(mappingTable);\n      mappingTableName = mappingTable.getTableName();\n    }\n    rte.addRelationship(relationship);\n    const userMappingDao = rte.getMappingDao(mappingTableName);\n    const userMappingRow = userMappingDao.newRow();\n    userMappingRow.baseId = baseId;\n    userMappingRow.relatedId = relatedId;\n    for (const column in mappingColumnValues) {\n      userMappingRow.setValueWithColumnName(column, mappingColumnValues[column]);\n    }\n    return userMappingDao.create(userMappingRow);\n  }\n\n  getLinkedMedia(baseTableName: string, baseId: number): MediaRow[] {\n    const relationships = this.getRelatedRows(baseTableName, baseId);\n    const mediaRelationships = [];\n    for (let i = 0; i < relationships.length; i++) {\n      const relationship = relationships[i];\n      if (relationship.relation_name === RelationType.MEDIA.name) {\n        for (let r = 0; r < relationship.mappingRows.length; r++) {\n          const row = relationship.mappingRows[r].row;\n          mediaRelationships.push(row);\n        }\n      }\n    }\n\n    return mediaRelationships;\n  }\n\n  /**\n   * Adds a list of features to a FeatureTable. Inserts features from the list in batches, providing progress updates\n   * after each batch completes.\n   * @param  {module:geoPackage~GeoPackage}   geopackage open GeoPackage object\n   * @param  {object}   features    GeoJSON features to add\n   * @param  {string}   tableName  name of the table that will store the feature\n   * @param {boolean} index updates the FeatureTableIndex extension if it exists\n   * @param {number} batchSize how many features are inserted in a single transaction,\n   * progress is published after each batch is inserted. 1000 is recommended, 100 is about 25% slower,\n   * but provides more updates and keeps the thread open.\n   * @param  {function}  progress  optional progress function that is called after a batch of features has been\n   * processed. The number of features added is sent as an argument to that function.\n   * @return {Promise<number>} number of features inserted\n   */\n  async addGeoJSONFeaturesToGeoPackage (features: Feature[], tableName: string, index = false, batchSize = 1000,  progress?: (featuresAdded: number) => void): Promise<number> {\n    let inserted = 0;\n    const featureDao = this.getFeatureDao(tableName);\n    const srs = featureDao.srs;\n    let geometryData;\n    let featureRow = featureDao.newRow();\n\n    // empty geometry when none is present\n    const emptyPoint = wkx.Geometry.parse('POINT EMPTY');\n\n    // determine if we need to reproject to the srs of the table\n    const reprojectionNeeded = !(srs.organization === ProjectionConstants.EPSG && srs.organization_coordsys_id === ProjectionConstants.EPSG_CODE_4326);\n\n    // progress is called after each step\n    const progressFunction = function(featuresAdded: any): void {\n      setTimeout((progress || function(): void {}), 0, featuresAdded);\n    };\n\n    const insertSql = SqliteQueryBuilder.buildInsert(\"'\" + featureDao.gpkgTableName + \"'\", featureRow);\n\n    const stepFunction = async (start: number, end: number, resolve: Function) => {\n      // execute step if there are still features\n      if (start < end) {\n        featureDao.connection.transaction(() => {\n          // builds the insert sql statement\n          const insertStatement = featureDao.connection.adapter.prepareStatement(insertSql);\n\n          // determine if indexing is needed\n          let fti;\n          let tableIndex;\n          if (index) {\n            fti = featureDao.featureTableIndex;\n            tableIndex = fti.tableIndex;\n          }\n\n          for (let i = start; i < end; i++) {\n            let feature = features[i];\n            featureRow = featureDao.newRow();\n            geometryData = new GeometryData();\n            geometryData.setSrsId(srs.srs_id);\n            if (reprojectionNeeded) {\n              feature = reproject.reproject(feature, ProjectionConstants.EPSG_4326, featureDao.projection);\n            }\n            const featureGeometry = typeof feature.geometry === 'string' ? JSON.parse(feature.geometry) : feature.geometry;\n            geometryData.setGeometry(featureGeometry ? wkx.Geometry.parseGeoJSON(featureGeometry) : emptyPoint);\n            featureRow.geometry = geometryData;\n            for (const propertyKey in feature.properties) {\n              if (Object.prototype.hasOwnProperty.call(feature.properties, propertyKey)) {\n                featureRow.setValueWithColumnName(propertyKey, feature.properties[propertyKey]);\n              }\n            }\n            // bind this feature's data to the insert statement and insert into the table\n            const id = featureDao.connection.adapter.bindAndInsert(insertStatement, SqliteQueryBuilder.buildUpdateOrInsertObject(featureRow));\n            inserted++;\n            // if table index exists, be sure to index the row (note, rtree will run using a trigger)\n            if (tableIndex != null) {\n              fti.indexRow(tableIndex, id, geometryData);\n            }\n          }\n          if (tableIndex != null) {\n            fti.updateLastIndexed(tableIndex);\n          }\n\n          // close the prepared statement\n          featureDao.connection.adapter.closeStatement(insertStatement);\n        });\n        progressFunction(end);\n        setTimeout(() => {\n          stepFunction(end, Math.min(end + batchSize, features.length), resolve);\n        })\n      } else {\n        resolve(inserted);\n      }\n    }\n\n    return new Promise ((resolve) => {\n      setTimeout(() => {\n        stepFunction(0, Math.min(batchSize, features.length), resolve);\n      });\n    });\n  }\n\n  addGeoJSONFeatureToGeoPackage(feature: Feature, tableName: string, index = false): number {\n    const featureDao = this.getFeatureDao(tableName);\n    return this.addGeoJSONFeatureToGeoPackageWithFeatureDaoAndSrs(feature, featureDao, featureDao.srs, index);\n  }\n\n  /**\n   * Adds a GeoJSON feature to the GeoPackage\n   * @param  {module:geoPackage~GeoPackage}   geopackage open GeoPackage object\n   * @param  {object}   feature    GeoJSON feature to add\n   * @param  {string}   featureDao  feature dao for the table\n   * @param  {string}   srs  srs of the table\n   * @param {boolean} index updates the FeatureTableIndex extension if it exists\n   */\n  addGeoJSONFeatureToGeoPackageWithFeatureDaoAndSrs(feature: Feature, featureDao: FeatureDao<FeatureRow>, srs: SpatialReferenceSystem, index = false): number {\n    const featureRow = featureDao.newRow();\n    const geometryData = new GeometryData();\n    geometryData.setSrsId(srs.srs_id);\n    if (!(srs.organization === ProjectionConstants.EPSG && srs.organization_coordsys_id === ProjectionConstants.EPSG_CODE_4326)) {\n      feature = reproject.reproject(feature, ProjectionConstants.EPSG_4326, featureDao.projection);\n    }\n\n    const featureGeometry = typeof feature.geometry === 'string' ? JSON.parse(feature.geometry) : feature.geometry;\n    if (featureGeometry !== null) {\n      const geometry = wkx.Geometry.parseGeoJSON(featureGeometry);\n      geometryData.setGeometry(geometry);\n    } else {\n      const temp = wkx.Geometry.parse('POINT EMPTY');\n      geometryData.setGeometry(temp);\n    }\n    featureRow.geometry = geometryData;\n    for (const propertyKey in feature.properties) {\n      if (Object.prototype.hasOwnProperty.call(feature.properties, propertyKey)) {\n        featureRow.setValueWithColumnName(propertyKey, feature.properties[propertyKey]);\n      }\n    }\n\n    const id = featureDao.create(featureRow);\n    if (index) {\n      const fti = featureDao.featureTableIndex;\n      const tableIndex = fti.tableIndex;\n      if (!tableIndex) return id;\n      fti.indexRow(tableIndex, id, geometryData);\n      fti.updateLastIndexed(tableIndex);\n    }\n    return id;\n  }\n\n  addAttributeRow(tableName: string, row: Record<string, DBValue>): number {\n    const attributeDao = this.getAttributeDao(tableName);\n    const attributeRow = attributeDao.getRow(row);\n    return attributeDao.create(attributeRow);\n  }\n\n  /**\n   * Create a simple attributes table with the properties specified.\n   * @param {Object[]} properties properties to create columns from\n   * @param {string} properties.name name of the column\n   * @param {string} properties.dataType name of the data type\n   * @return {Promise}\n   */\n  createSimpleAttributesTable(\n    tableName: string,\n    properties: { name: string; dataType: string }[],\n  ): SimpleAttributesDao<SimpleAttributesRow> {\n    const relatedTables = this.relatedTablesExtension;\n    const columns = [];\n    let columnNumber = SimpleAttributesTable.numRequiredColumns();\n    if (properties) {\n      for (let i = 0; i < properties.length; i++) {\n        const property = properties[i];\n        columns.push(\n          UserColumn.createColumn(columnNumber++, property.name, GeoPackageDataType.fromName(property.dataType), true),\n        );\n      }\n    }\n    const simpleAttributesTable = SimpleAttributesTable.create(tableName, columns);\n    relatedTables.createRelatedTable(simpleAttributesTable);\n    return relatedTables.getSimpleAttributesDao(simpleAttributesTable);\n  }\n\n  addMedia(\n    tableName: string,\n    dataBuffer: Buffer,\n    contentType: string,\n    additionalProperties?: Record<string, DBValue>,\n  ): number {\n    const relatedTables = this.relatedTablesExtension;\n    const mediaDao = relatedTables.getMediaDao(tableName);\n    const row = mediaDao.newRow();\n    row.contentType = contentType;\n    row.data = dataBuffer;\n    for (const key in additionalProperties) {\n      row.setValueWithColumnName(key, additionalProperties[key]);\n    }\n    return mediaDao.create(row);\n  }\n\n  getRelatedRows(baseTableName: string, baseId: number): ExtendedRelation[] {\n    return this.relatedTablesExtension.getRelatedRows(baseTableName, baseId);\n  }\n\n  /**\n   * Create the given {@link module:features/user/featureTable~FeatureTable}\n   * @param  {FeatureTable}   featureTable    feature table\n   */\n  createUserFeatureTable(featureTable: FeatureTable): { lastInsertRowid: number; changes: number } {\n    return this.tableCreator.createUserTable(featureTable);\n  }\n  createFeatureTableFromProperties(\n    tableName: string,\n    properties: { name: string; dataType: string }[],\n  ): boolean {\n    const geometryColumn = new GeometryColumns();\n    geometryColumn.table_name = tableName;\n    geometryColumn.column_name = 'geometry';\n    geometryColumn.geometry_type_name = 'GEOMETRY';\n    geometryColumn.z = 0;\n    geometryColumn.m = 0;\n\n    const columns: UserColumn[] = [];\n    let columnNumber = 0;\n    columns.push(FeatureColumn.createPrimaryKeyColumn(columnNumber++, 'id'));\n    columns.push(\n      FeatureColumn.createGeometryColumn(\n        columnNumber++,\n        geometryColumn.column_name,\n        GeometryType.GEOMETRY,\n        false,\n        null,\n      ),\n    );\n\n    for (let i = 0; properties && i < properties.length; i++) {\n      const property = properties[i] as { name: string; dataType: string };\n      columns.push(FeatureColumn.createColumn(columnNumber++, property.name, GeoPackageDataType.fromName(property.dataType)));\n    }\n    return this.createFeatureTable(tableName, geometryColumn, columns);\n  }\n\n  createFeatureTable(\n    tableName: string,\n    geometryColumns?: GeometryColumns,\n    featureColumns?: UserColumn[] | { name: string; dataType: string }[],\n    boundingBox: BoundingBox = new BoundingBox(-180, 180, -90, 90),\n    srsId: number = ProjectionConstants.EPSG_CODE_4326,\n    dataColumns?: DataColumns[],\n  ): boolean {\n    const srs = this.spatialReferenceSystemDao.getBySrsId(srsId);\n    if (!srs) {\n      throw new Error('Spatial reference system (' + srsId + ') is not defined.');\n    }\n\n    this.createGeometryColumnsTable();\n\n    let geometryColumn;\n    if (geometryColumns) {\n      geometryColumn = geometryColumns;\n    } else {\n      geometryColumn = new GeometryColumns();\n      geometryColumn.table_name = tableName;\n      geometryColumn.column_name = 'geometry';\n      geometryColumn.geometry_type_name = 'GEOMETRY';\n      geometryColumn.z = 0;\n      geometryColumn.m = 0;\n    }\n\n    let columns: FeatureColumn[] = [];\n    if (featureColumns && featureColumns.length > 0 && featureColumns[0] instanceof UserColumn) {\n      columns = featureColumns as FeatureColumn[];\n    } else {\n      let columnNumber = 0;\n      columns.push(FeatureColumn.createPrimaryKeyColumn(columnNumber++, 'id'));\n      columns.push(FeatureColumn.createGeometryColumn(columnNumber++, geometryColumn.column_name, GeometryType.GEOMETRY, false, null));\n\n      for (let i = 0; featureColumns && i < featureColumns.length; i++) {\n        const property = featureColumns[i] as { name: string; dataType: string };\n        columns.push(FeatureColumn.createColumn(columnNumber++, property.name, GeoPackageDataType.fromName(property.dataType)));\n      }\n    }\n\n    const featureTable = new FeatureTable(geometryColumn.table_name, geometryColumn.column_name, columns);\n    this.createUserFeatureTable(featureTable);\n    const contents = new Contents();\n    contents.table_name = geometryColumn.table_name;\n    contents.data_type = ContentsDataType.FEATURES;\n    contents.identifier = geometryColumn.table_name;\n    contents.last_change = new Date().toISOString();\n    contents.min_x = boundingBox.minLongitude;\n    contents.min_y = boundingBox.minLatitude;\n    contents.max_x = boundingBox.maxLongitude;\n    contents.max_y = boundingBox.maxLatitude;\n    contents.srs_id = srsId;\n    this.contentsDao.create(contents);\n    geometryColumn.srs_id = srsId;\n    this.geometryColumnsDao.create(geometryColumn);\n    if (dataColumns) {\n      this.createDataColumns();\n      const dataColumnsDao = this.dataColumnsDao;\n      dataColumns.forEach(function(dataColumn) {\n        dataColumnsDao.create(dataColumn);\n      });\n    }\n    return true;\n  }\n\n  /**\n   * Create the Tile Matrix Set table if it does not already exist\n   * @returns {Promise} resolves when the table is created\n   */\n  createTileMatrixSetTable(): boolean {\n    if (this.tileMatrixSetDao.isTableExists()) {\n      return true;\n    }\n    return this.tableCreator.createTileMatrixSet();\n  }\n  /**\n   * Create the Tile Matrix table if it does not already exist\n   * @returns {Promise} resolves when the table is created\n   */\n  createTileMatrixTable(): boolean {\n    if (this.tileMatrixDao.isTableExists()) {\n      return true;\n    }\n    return this.tableCreator.createTileMatrix();\n  }\n  /**\n   * Create the given tile table in this GeoPackage.\n   *\n   * @param  {module:tiles/user/tileTable~TileTable} tileTable\n   * @return {object} the result of {@link module:db/geoPackageConnection~GeoPackageConnection#run}\n   */\n  createTileTable(tileTable: TileTable): { lastInsertRowid: number; changes: number } {\n    return this.tableCreator.createUserTable(tileTable);\n  }\n\n  /**\n   * Adds a spatial reference system to the gpkg_spatial_ref_sys table to be used by feature and tile tables.\n   * @param spatialReferenceSystem\n   */\n  createSpatialReferenceSystem(spatialReferenceSystem: SpatialReferenceSystem) {\n    Projection.loadProjection([spatialReferenceSystem.organization.toUpperCase(), spatialReferenceSystem.organization_coordsys_id].join(':'), spatialReferenceSystem.definition)\n    this.spatialReferenceSystemDao.create(spatialReferenceSystem)\n  }\n\n  /**\n   * Create a new [tile table]{@link module:tiles/user/tileTable~TileTable} in this GeoPackage.\n   *\n   * @param {String} tableName tile table name\n   * @param {BoundingBox} contentsBoundingBox bounding box of the contents table\n   * @param {Number} contentsSrsId srs id of the contents table\n   * @param {BoundingBox} tileMatrixSetBoundingBox bounding box of the matrix set\n   * @param {Number} tileMatrixSetSrsId srs id of the matrix set\n   * @returns {TileMatrixSet} `Promise` of the created {@link module:tiles/matrixset~TileMatrixSet}\n   */\n  createTileTableWithTableName(\n    tableName: string,\n    contentsBoundingBox: BoundingBox,\n    contentsSrsId: number,\n    tileMatrixSetBoundingBox: BoundingBox,\n    tileMatrixSetSrsId: number,\n  ): TileMatrixSet {\n    let srs = this.spatialReferenceSystemDao.getBySrsId(contentsSrsId);\n    if (!srs) {\n      throw new Error('Spatial reference system (' + contentsSrsId + ') is not defined.');\n    }\n    srs = this.spatialReferenceSystemDao.getBySrsId(tileMatrixSetSrsId);\n    if (!srs) {\n      throw new Error('Spatial reference system (' + tileMatrixSetSrsId + ') is not defined.');\n    }\n    const columns = TileTable.createRequiredColumns(0);\n    const tileTable = new TileTable(tableName, columns);\n    const contents = new Contents();\n    contents.table_name = tableName;\n    contents.data_type = ContentsDataType.TILES;\n    contents.identifier = tableName;\n    contents.last_change = new Date().toISOString();\n    contents.min_x = contentsBoundingBox.minLongitude;\n    contents.min_y = contentsBoundingBox.minLatitude;\n    contents.max_x = contentsBoundingBox.maxLongitude;\n    contents.max_y = contentsBoundingBox.maxLatitude;\n    contents.srs_id = contentsSrsId;\n    const tileMatrixSet = new TileMatrixSet();\n    tileMatrixSet.contents = contents;\n    tileMatrixSet.srs_id = tileMatrixSetSrsId;\n    tileMatrixSet.min_x = tileMatrixSetBoundingBox.minLongitude;\n    tileMatrixSet.min_y = tileMatrixSetBoundingBox.minLatitude;\n    tileMatrixSet.max_x = tileMatrixSetBoundingBox.maxLongitude;\n    tileMatrixSet.max_y = tileMatrixSetBoundingBox.maxLatitude;\n    this.createTileMatrixSetTable();\n    this.createTileMatrixTable();\n    this.createTileTable(tileTable);\n    this.contentsDao.create(contents);\n    this.tileMatrixSetDao.create(tileMatrixSet);\n    return tileMatrixSet;\n  }\n  /**\n   * Create the [tables and rows](https://www.geopackage.org/spec121/index.html#tiles)\n   * necessary to store tiles according to the ubiquitous [XYZ web/slippy-map tiles](https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames) scheme.\n   * The extent for the [contents table]{@link module:core/contents~Contents} row,\n   * `contentsBoundingBox`, is [informational only](https://www.geopackage.org/spec121/index.html#gpkg_contents_cols),\n   * and need not match the [tile matrix set]{@link module:tiles/matrixset~TileMatrixSet}\n   * extent, `tileMatrixSetBoundingBox`, which should be the precise bounding box\n   * used to calculate the tile row and column coordinates of all tiles in the\n   * tile set.  The two SRS ID parameters, `contentsSrsId` and `tileMatrixSetSrsId`,\n   * must match, however.  See {@link module:tiles/matrixset~TileMatrixSet} for\n   * more information about how GeoPackage consumers use the bouding boxes for a\n   * tile set.\n   *\n   * @param {string} tableName the name of the table that will store the tiles\n   * @param {BoundingBox} contentsBoundingBox the bounds stored in the [`gpkg_contents`]{@link module:core/contents~Contents} table row for the tile matrix set\n   * @param {SRSRef} contentsSrsId the ID of a [spatial reference system]{@link module:core/srs~SpatialReferenceSystem}; must match `tileMatrixSetSrsId`\n   * @param {BoundingBox} tileMatrixSetBoundingBox the bounds stored in the [`gpkg_tile_matrix_set`]{@link module:tiles/matrixset~TileMatrixSet} table row\n   * @param {SRSRef} tileMatrixSetSrsId the ID of a [spatial reference system]{@link module:core/srs~SpatialReferenceSystem}\n   *   for the [tile matrix set](https://www.geopackage.org/spec121/index.html#_tile_matrix_set) table; must match `contentsSrsId`\n   * @param {number} minZoom the zoom level of the lowest resolution [tile matrix]{@link module:tiles/matrix~TileMatrix} in the tile matrix set\n   * @param {number} maxZoom the zoom level of the highest resolution [tile matrix]{@link module:tiles/matrix~TileMatrix} in the tile matrix set\n   * @param tileSize the width and height in pixels of the tile images; defaults to 256\n   * @returns {TileMatrixSet} the created {@link module:tiles/matrixset~TileMatrixSet} object, or rejects with an `Error`\n   *\n   */\n  createStandardWGS84TileTable(\n    tableName: string,\n    contentsBoundingBox: BoundingBox,\n    contentsSrsId: number,\n    tileMatrixSetBoundingBox: BoundingBox,\n    tileMatrixSetSrsId: number,\n    minZoom: number,\n    maxZoom: number,\n    tileSize = 256,\n  ): TileMatrixSet {\n    let wgs84 = this.spatialReferenceSystemDao.getByOrganizationAndCoordSysId(\n      ProjectionConstants.EPSG,\n      ProjectionConstants.EPSG_CODE_4326,\n    );\n    if (!wgs84) {\n      this.spatialReferenceSystemDao.createWebMercator();\n      wgs84 = this.spatialReferenceSystemDao.getByOrganizationAndCoordSysId(\n        ProjectionConstants.EPSG,\n        ProjectionConstants.EPSG_CODE_4326,\n      );\n    }\n    const wgs84SrsId = wgs84.srs_id;\n\n    let srs = this.spatialReferenceSystemDao.getBySrsId(contentsSrsId);\n    if (!srs) {\n      throw new Error('Spatial reference system (' + contentsSrsId + ') is not defined.');\n    }\n    srs = this.spatialReferenceSystemDao.getBySrsId(tileMatrixSetSrsId);\n    if (!srs) {\n      throw new Error('Spatial reference system (' + tileMatrixSetSrsId + ') is not defined.');\n    }\n\n    if (contentsSrsId !== wgs84SrsId) {\n      const srsDao = new SpatialReferenceSystemDao(this);\n      const from = srsDao.getBySrsId(contentsSrsId).projection;\n      contentsBoundingBox = contentsBoundingBox.projectBoundingBox(from, ProjectionConstants.EPSG_4326);\n    }\n    if (tileMatrixSetSrsId !== wgs84SrsId) {\n      const srsDao = new SpatialReferenceSystemDao(this);\n      const from = srsDao.getBySrsId(tileMatrixSetSrsId).projection;\n      tileMatrixSetBoundingBox = tileMatrixSetBoundingBox.projectBoundingBox(from, ProjectionConstants.EPSG_4326);\n    }\n    const tileMatrixSet = this.createTileTableWithTableName(\n      tableName,\n      contentsBoundingBox,\n      wgs84SrsId,\n      tileMatrixSetBoundingBox,\n      wgs84SrsId,\n    );\n\n    this.createStandardWGS84TileMatrix(tileMatrixSetBoundingBox, tileMatrixSet, minZoom, maxZoom, tileSize);\n    return tileMatrixSet;\n  }\n  /**\n   * Create the tables and rows necessary to store tiles in a {@link module:tiles/matrixset~TileMatrixSet}.\n   * This will create a [tile matrix row]{@link module:tiles/matrix~TileMatrix}\n   * for every integral zoom level in the range `[minZoom..maxZoom]`.\n   *\n   * @param {BoundingBox} wgs84BoundingBox\n   * @param {TileMatrixSet} tileMatrixSet\n   * @param {number} minZoom\n   * @param {number} maxZoom\n   * @param {number} [tileSize=256] optional tile size in pixels\n   * @returns {module:geoPackage~GeoPackage} `this` `GeoPackage`\n   */\n  createStandardWGS84TileMatrix(\n    wgs84BoundingBox: BoundingBox,\n    tileMatrixSet: TileMatrixSet,\n    minZoom: number,\n    maxZoom: number,\n    tileSize = 256,\n  ): GeoPackage {\n    tileSize = tileSize || 256;\n    const tileMatrixDao = this.tileMatrixDao;\n    for (let zoom = minZoom; zoom <= maxZoom; zoom++) {\n      this.createWGS84TileMatrixRow(wgs84BoundingBox, tileMatrixSet, tileMatrixDao, zoom, tileSize);\n    }\n    return this;\n  }\n  /**\n   * Create the [tables and rows](https://www.geopackage.org/spec121/index.html#tiles)\n   * necessary to store tiles according to the ubiquitous [XYZ web/slippy-map tiles](https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames) scheme.\n   * The extent for the [contents table]{@link module:core/contents~Contents} row,\n   * `contentsBoundingBox`, is [informational only](https://www.geopackage.org/spec121/index.html#gpkg_contents_cols),\n   * and need not match the [tile matrix set]{@link module:tiles/matrixset~TileMatrixSet}\n   * extent, `tileMatrixSetBoundingBox`, which should be the precise bounding box\n   * used to calculate the tile row and column coordinates of all tiles in the\n   * tile set.  The two SRS ID parameters, `contentsSrsId` and `tileMatrixSetSrsId`,\n   * must match, however.  See {@link module:tiles/matrixset~TileMatrixSet} for\n   * more information about how GeoPackage consumers use the bouding boxes for a\n   * tile set.\n   *\n   * @param {string} tableName the name of the table that will store the tiles\n   * @param {BoundingBox} contentsBoundingBox the bounds stored in the [`gpkg_contents`]{@link module:core/contents~Contents} table row for the tile matrix set\n   * @param {SRSRef} contentsSrsId the ID of a [spatial reference system]{@link module:core/srs~SpatialReferenceSystem}; must match `tileMatrixSetSrsId`\n   * @param {BoundingBox} tileMatrixSetBoundingBox the bounds stored in the [`gpkg_tile_matrix_set`]{@link module:tiles/matrixset~TileMatrixSet} table row\n   * @param {SRSRef} tileMatrixSetSrsId the ID of a [spatial reference system]{@link module:core/srs~SpatialReferenceSystem}\n   *   for the [tile matrix set](https://www.geopackage.org/spec121/index.html#_tile_matrix_set) table; must match `contentsSrsId`\n   * @param {number} minZoom the zoom level of the lowest resolution [tile matrix]{@link module:tiles/matrix~TileMatrix} in the tile matrix set\n   * @param {number} maxZoom the zoom level of the highest resolution [tile matrix]{@link module:tiles/matrix~TileMatrix} in the tile matrix set\n   * @param tileSize the width and height in pixels of the tile images; defaults to 256\n   * @returns {TileMatrixSet} the created {@link module:tiles/matrixset~TileMatrixSet} object, or rejects with an `Error`\n   *\n   * @todo make `tileMatrixSetSrsId` optional because it always has to be the same anyway\n   */\n  createStandardWebMercatorTileTable(\n    tableName: string,\n    contentsBoundingBox: BoundingBox,\n    contentsSrsId: number,\n    tileMatrixSetBoundingBox: BoundingBox,\n    tileMatrixSetSrsId: number,\n    minZoom: number,\n    maxZoom: number,\n    tileSize = 256,\n  ): TileMatrixSet {\n    let webMercator = this.spatialReferenceSystemDao.getByOrganizationAndCoordSysId(ProjectionConstants.EPSG, ProjectionConstants.EPSG_CODE_3857);\n    if (!webMercator) {\n      this.spatialReferenceSystemDao.createWebMercator();\n      webMercator = this.spatialReferenceSystemDao.getByOrganizationAndCoordSysId(ProjectionConstants.EPSG, ProjectionConstants.EPSG_CODE_3857);\n    }\n    const webMercatorSrsId = webMercator.srs_id;\n\n    let srs = this.spatialReferenceSystemDao.getBySrsId(contentsSrsId);\n    if (!srs) {\n      throw new Error('Spatial reference system (' + contentsSrsId + ') is not defined.');\n    }\n    srs = this.spatialReferenceSystemDao.getBySrsId(tileMatrixSetSrsId);\n    if (!srs) {\n      throw new Error('Spatial reference system (' + tileMatrixSetSrsId + ') is not defined.');\n    }\n\n    if (contentsSrsId !== webMercatorSrsId) {\n      const srsDao = new SpatialReferenceSystemDao(this);\n      const from = srsDao.getBySrsId(contentsSrsId).projection;\n      contentsBoundingBox = contentsBoundingBox.projectBoundingBox(from, ProjectionConstants.EPSG_3857);\n    }\n    if (tileMatrixSetSrsId !== webMercatorSrsId) {\n      const srsDao = new SpatialReferenceSystemDao(this);\n      const from = srsDao.getBySrsId(tileMatrixSetSrsId).projection;\n      tileMatrixSetBoundingBox = tileMatrixSetBoundingBox.projectBoundingBox(from, ProjectionConstants.EPSG_3857);\n    }\n    const tileMatrixSet = this.createTileTableWithTableName(\n      tableName,\n      contentsBoundingBox,\n      webMercatorSrsId,\n      tileMatrixSetBoundingBox,\n      webMercatorSrsId,\n    );\n\n    this.createStandardWebMercatorTileMatrix(tileMatrixSetBoundingBox, tileMatrixSet, minZoom, maxZoom, tileSize);\n    return tileMatrixSet;\n  }\n  /**\n   * Create the [tables and rows](https://www.geopackage.org/spec121/index.html#tiles)\n   * necessary to store tiles according to the ubiquitous [XYZ web/slippy-map tiles](https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames) scheme.\n   * The extent for the [contents table]{@link module:core/contents~Contents} row,\n   * `contentsBoundingBox`, is [informational only](https://www.geopackage.org/spec121/index.html#gpkg_contents_cols),\n   * and need not match the [tile matrix set]{@link module:tiles/matrixset~TileMatrixSet}\n   * extent, `tileMatrixSetBoundingBox`, which should be the precise bounding box\n   * used to calculate the tile row and column coordinates of all tiles in the\n   * tile set.\n   *\n   * @param {string} tableName the name of the table that will store the tiles\n   * @param {BoundingBox} contentsBoundingBox the bounds stored in the [`gpkg_contents`]{@link module:core/contents~Contents} table row for the tile matrix set. MUST BE EPSG:3857\n   * @param {BoundingBox} tileMatrixSetBoundingBox the bounds stored in the [`gpkg_tile_matrix_set`]{@link module:tiles/matrixset~TileMatrixSet} table row. MUST BE EPSG:3857\n   * @param {Set<number>} zoomLevels create tile of all resolutions in the set.\n   * @param tileSize the width and height in pixels of the tile images; defaults to 256\n   * @returns {Promise} a `Promise` that resolves with the created {@link module:tiles/matrixset~TileMatrixSet} object, or rejects with an `Error`\n   *\n   * @todo make `tileMatrixSetSrsId` optional because it always has to be the same anyway\n   */\n  async createStandardWebMercatorTileTableWithZoomLevels(\n    tableName: string,\n    contentsBoundingBox: BoundingBox,\n    tileMatrixSetBoundingBox: BoundingBox,\n    zoomLevels: Set<number>,\n    tileSize = 256,\n  ): Promise<TileMatrixSet> {\n    let webMercator = this.spatialReferenceSystemDao.getByOrganizationAndCoordSysId(ProjectionConstants.EPSG, ProjectionConstants.EPSG_CODE_3857);\n    if (!webMercator) {\n      this.spatialReferenceSystemDao.createWebMercator();\n      webMercator = this.spatialReferenceSystemDao.getByOrganizationAndCoordSysId(ProjectionConstants.EPSG, ProjectionConstants.EPSG_CODE_3857);\n    }\n    const webMercatorSrsId = webMercator.srs_id;\n    const tileMatrixSet = await this.createTileTableWithTableName(\n      tableName,\n      contentsBoundingBox,\n      webMercatorSrsId,\n      tileMatrixSetBoundingBox,\n      webMercatorSrsId,\n    );\n    this.createStandardWebMercatorTileMatrixWithZoomLevels(\n      tileMatrixSetBoundingBox,\n      tileMatrixSet,\n      zoomLevels,\n      tileSize,\n    );\n    return tileMatrixSet;\n  }\n  /**\n   * Create the tables and rows necessary to store tiles in a {@link module:tiles/matrixset~TileMatrixSet}.\n   * This will create a [tile matrix row]{@link module:tiles/matrix~TileMatrix}\n   * for every integral zoom level in the range `[minZoom..maxZoom]`.\n   *\n   * @param {BoundingBox} epsg3857TileBoundingBox\n   * @param {TileMatrixSet} tileMatrixSet\n   * @param {number} minZoom\n   * @param {number} maxZoom\n   * @param {number} [tileSize=256] optional tile size in pixels\n   * @returns {module:geoPackage~GeoPackage} `this` `GeoPackage`\n   */\n  createStandardWebMercatorTileMatrix(\n    epsg3857TileBoundingBox: BoundingBox,\n    tileMatrixSet: TileMatrixSet,\n    minZoom: number,\n    maxZoom: number,\n    tileSize = 256,\n  ): GeoPackage {\n    tileSize = tileSize || 256;\n    const tileMatrixDao = this.tileMatrixDao;\n    for (let zoom = minZoom; zoom <= maxZoom; zoom++) {\n      this.createTileMatrixRow(epsg3857TileBoundingBox, tileMatrixSet, tileMatrixDao, zoom, tileSize);\n    }\n    return this;\n  }\n  /**\n   * Create the tables and rows necessary to store tiles in a {@link module:tiles/matrixset~TileMatrixSet}.\n   * This will create a [tile matrix row]{@link module:tiles/matrix~TileMatrix}\n   * for every item in the set zoomLevels.\n   *\n   * @param {BoundingBox} epsg3857TileBoundingBox\n   * @param {TileMatrixSet} tileMatrixSet\n   * @param {Set<number>} zoomLevels\n   * @param {number} [tileSize=256] optional tile size in pixels\n   * @returns {module:geoPackage~GeoPackage} `this` `GeoPackage`\n   */\n  createStandardWebMercatorTileMatrixWithZoomLevels(\n    epsg3857TileBoundingBox: BoundingBox,\n    tileMatrixSet: TileMatrixSet,\n    zoomLevels: Set<number>,\n    tileSize = 256,\n  ): GeoPackage {\n    tileSize = tileSize || 256;\n    const tileMatrixDao = this.tileMatrixDao;\n    zoomLevels.forEach(zoomLevel => {\n      this.createTileMatrixRow(epsg3857TileBoundingBox, tileMatrixSet, tileMatrixDao, zoomLevel, tileSize);\n    });\n    return this;\n  }\n\n  /**\n   * Adds row to tileMatrixDao\n   *\n   * @param {BoundingBox} epsg4326TileBoundingBox\n   * @param {TileMatrixSet} tileMatrixSet\n   * @param {TileMatrixDao} tileMatrixDao\n   * @param {number} zoomLevel\n   * @param {number} [tileSize=256]\n   * @returns {number}\n   * @memberof GeoPackage\n   */\n  createWGS84TileMatrixRow(\n    epsg4326TileBoundingBox: BoundingBox,\n    tileMatrixSet: TileMatrixSet,\n    tileMatrixDao: TileMatrixDao,\n    zoomLevel: number,\n    tileSize = 256,\n  ): number {\n    const box = TileBoundingBoxUtils.wgs84TileBox(epsg4326TileBoundingBox, zoomLevel);\n    const matrixWidth = box.maxLongitude - box.minLongitude + 1;\n    const matrixHeight = box.maxLatitude - box.minLatitude + 1;\n    const pixelXSize =\n      (epsg4326TileBoundingBox.maxLongitude - epsg4326TileBoundingBox.minLongitude) / matrixWidth / tileSize;\n    const pixelYSize =\n      (epsg4326TileBoundingBox.maxLatitude - epsg4326TileBoundingBox.minLatitude) / matrixHeight / tileSize;\n    const tileMatrix = new TileMatrix();\n    tileMatrix.table_name = tileMatrixSet.table_name;\n    tileMatrix.zoom_level = zoomLevel;\n    tileMatrix.matrix_width = matrixWidth;\n    tileMatrix.matrix_height = matrixHeight;\n    tileMatrix.tile_width = tileSize;\n    tileMatrix.tile_height = tileSize;\n    tileMatrix.pixel_x_size = pixelXSize;\n    tileMatrix.pixel_y_size = pixelYSize;\n    return tileMatrixDao.create(tileMatrix);\n  }\n\n  /**\n   * Adds row to tileMatrixDao\n   *\n   * @param {BoundingBox} epsg3857TileBoundingBox\n   * @param {TileMatrixSet} tileMatrixSet\n   * @param {TileMatrixDao} tileMatrixDao\n   * @param {number} zoomLevel\n   * @param {number} [tileSize=256]\n   * @returns {number}\n   * @memberof GeoPackage\n   */\n  createTileMatrixRow(\n    epsg3857TileBoundingBox: BoundingBox,\n    tileMatrixSet: TileMatrixSet,\n    tileMatrixDao: TileMatrixDao,\n    zoomLevel: number,\n    tileSize = 256,\n  ): number {\n    const box = TileBoundingBoxUtils.webMercatorTileBox(epsg3857TileBoundingBox, zoomLevel);\n    const matrixWidth = box.maxLongitude - box.minLongitude + 1;\n    const matrixHeight = box.maxLatitude - box.minLatitude + 1;\n    const pixelXSize = (epsg3857TileBoundingBox.maxLongitude - epsg3857TileBoundingBox.minLongitude) / matrixWidth / tileSize;\n    const pixelYSize = (epsg3857TileBoundingBox.maxLatitude - epsg3857TileBoundingBox.minLatitude) / matrixHeight / tileSize;\n    const tileMatrix = new TileMatrix();\n    tileMatrix.table_name = tileMatrixSet.table_name;\n    tileMatrix.zoom_level = zoomLevel;\n    tileMatrix.matrix_width = matrixWidth;\n    tileMatrix.matrix_height = matrixHeight;\n    tileMatrix.tile_width = tileSize;\n    tileMatrix.tile_height = tileSize;\n    tileMatrix.pixel_x_size = pixelXSize;\n    tileMatrix.pixel_y_size = pixelYSize;\n    return tileMatrixDao.create(tileMatrix);\n  }\n  /**\n   * Adds a tile to the GeoPackage\n   * @param  {object}   tileStream       Byte array or Buffer containing the tile bytes\n   * @param  {String}   tableName  Table name to add the tile to\n   * @param  {Number}   zoom       zoom level of this tile\n   * @param  {Number}   tileRow    row of this tile\n   * @param  {Number}   tileColumn column of this tile\n   */\n  addTile(tileStream: any, tableName: string, zoom: number, tileRow: number, tileColumn: number): number {\n    const tileDao = this.getTileDao(tableName);\n    const newRow = tileDao.newRow();\n    newRow.zoomLevel = zoom;\n    newRow.tileColumn = tileColumn;\n    newRow.tileRow = tileRow;\n    newRow.tileData = tileStream;\n    return tileDao.create(newRow);\n  }\n\n  /**\n   * Gets a tile from the specified table\n   * @param  {string}   table      name of the table to get the tile from\n   * @param  {Number}   zoom       zoom level of the tile\n   * @param  {Number}   tileRow    row of the tile\n   * @param  {Number}   tileColumn column of the tile\n   *\n   * @todo jsdoc return value\n   */\n  getTileFromTable(table: string, zoom: number, tileRow: number, tileColumn: number): TileRow {\n    const tileDao = this.getTileDao(table);\n    return tileDao.queryForTile(tileColumn, tileRow, zoom);\n  }\n\n  /**\n   * Gets the tiles in the EPSG:4326 bounding box\n   * @param  {module:geoPackage~GeoPackage}   geopackage open GeoPackage object\n   * @param  {string}   table      name of the tile table\n   * @param  {Number}   zoom       Zoom of the tiles to query for\n   * @param  {Number}   west       EPSG:4326 western boundary\n   * @param  {Number}   east       EPSG:4326 eastern boundary\n   * @param  {Number}   south      EPSG:4326 southern boundary\n   * @param  {Number}   north      EPSG:4326 northern boundary\n   */\n  getTilesInBoundingBox(\n    table: string,\n    zoom: number,\n    west: number,\n    east: number,\n    south: number,\n    north: number,\n  ): {\n    columns: {\n      index: number;\n      name: string;\n      max?: number;\n      min?: number;\n      notNull?: boolean;\n      primaryKey?: boolean;\n    }[];\n    srs: SpatialReferenceSystem;\n    tiles: {\n      tableName: string;\n      id: number;\n      minLongitude: number;\n      maxLongitude: number;\n      minLatitude: number;\n      maxLatitude: number;\n      projection: string;\n      values: string[];\n    }[];\n    west?: string;\n    east?: string;\n    south?: string;\n    north?: string;\n    zoom?: number;\n  } {\n    const tiles = {\n      columns: [],\n      srs: undefined,\n      tiles: [],\n      west: undefined,\n      east: undefined,\n      south: undefined,\n      north: undefined,\n      zoom: undefined,\n    } as {\n      columns: {\n        index: number;\n        name: string;\n        max: number;\n        min: number;\n        notNull: boolean;\n        primaryKey: boolean;\n      }[];\n      srs: SpatialReferenceSystem;\n      tiles: {\n        tableName: string;\n        id: number;\n        minLongitude: number;\n        maxLongitude: number;\n        minLatitude: number;\n        maxLatitude: number;\n        projection: string;\n        values: string[];\n      }[];\n      west?: string;\n      east?: string;\n      south?: string;\n      north?: string;\n      zoom?: number;\n    };\n\n    const tileDao = this.getTileDao(table);\n    if (zoom < tileDao.minZoom || zoom > tileDao.maxZoom) {\n      return;\n    }\n    for (let i = 0; i < tileDao.table.getUserColumns().getColumns().length; i++) {\n      const column = tileDao.table.getUserColumns().getColumns()[i];\n      tiles.columns.push({\n        index: column.index,\n        name: column.name,\n        max: column.max,\n        min: column.min,\n        notNull: column.notNull,\n        primaryKey: column.primaryKey,\n      });\n    }\n    const srs = tileDao.srs;\n    tiles.srs = srs;\n    tiles.tiles = [];\n\n    const tms = tileDao.tileMatrixSet;\n    const tm = tileDao.getTileMatrixWithZoomLevel(zoom);\n    if (!tm) {\n      return tiles;\n    }\n    let mapBoundingBox = new BoundingBox(Math.max(-180, west), Math.min(east, 180), south, north);\n    tiles.west = Math.max(-180, west).toFixed(2);\n    tiles.east = Math.min(east, 180).toFixed(2);\n    tiles.south = south.toFixed(2);\n    tiles.north = north.toFixed(2);\n    tiles.zoom = zoom;\n    mapBoundingBox = mapBoundingBox.projectBoundingBox(\n      ProjectionConstants.EPSG_4326,\n      tileDao.srs.organization.toUpperCase() + ':' + tileDao.srs.organization_coordsys_id,\n    );\n\n    const grid = TileBoundingBoxUtils.getTileGridWithTotalBoundingBox(\n      tms.boundingBox,\n      tm.matrix_width,\n      tm.matrix_height,\n      mapBoundingBox,\n    );\n\n    const iterator = tileDao.queryByTileGrid(grid, zoom);\n\n    for (const row of iterator) {\n      const tile = {} as {\n        tableName: string;\n        id: number;\n        minLongitude: number;\n        maxLongitude: number;\n        minLatitude: number;\n        maxLatitude: number;\n        projection: string;\n        values: string[];\n      } & Record<string, any>;\n      tile.tableName = table;\n      tile.id = row.id;\n\n      const tileBB = TileBoundingBoxUtils.getTileBoundingBox(tms.boundingBox, tm, row.tileColumn, row.row);\n      tile.minLongitude = tileBB.minLongitude;\n      tile.maxLongitude = tileBB.maxLongitude;\n      tile.minLatitude = tileBB.minLatitude;\n      tile.maxLatitude = tileBB.maxLatitude;\n      tile.projection = tileDao.srs.organization.toUpperCase() + ':' + tileDao.srs.organization_coordsys_id;\n      tile.values = [];\n      for (let i = 0; i < tiles.columns.length; i++) {\n        const value = row.values[tiles.columns[i].name];\n        if (tiles.columns[i].name === 'tile_data') {\n          tile.values.push('data');\n        } else if (value === null || value === 'null') {\n          tile.values.push('');\n        } else {\n          tile.values.push(value.toString());\n          tile[tiles.columns[i].name] = value;\n        }\n      }\n      tiles.tiles.push(tile);\n    }\n    return tiles;\n  }\n\n  /**\n   * Gets the tiles in the EPSG:4326 bounding box\n   * @param  {module:geoPackage~GeoPackage}   geopackage open GeoPackage object\n   * @param  {string}   table      name of the tile table\n   * @param  {Number}   webZoom       Zoom of the tiles to query for\n   * @param  {Number}   west       EPSG:4326 western boundary\n   * @param  {Number}   east       EPSG:4326 eastern boundary\n   * @param  {Number}   south      EPSG:4326 southern boundary\n   * @param  {Number}   north      EPSG:4326 northern boundary\n   */\n  getTilesInBoundingBoxWebZoom(\n    table: string,\n    webZoom: number,\n    west: number,\n    east: number,\n    south: number,\n    north: number,\n  ): {\n    columns: {\n      index: number;\n      name: string;\n      max?: number;\n      min?: number;\n      notNull?: boolean;\n      primaryKey?: boolean;\n    }[];\n    srs: SpatialReferenceSystem;\n    tiles: {\n      tableName: string;\n      id: number;\n      minLongitude: number;\n      maxLongitude: number;\n      minLatitude: number;\n      maxLatitude: number;\n      projection: string;\n      values: string[];\n    }[];\n    west?: string;\n    east?: string;\n    south?: string;\n    north?: string;\n    zoom?: number;\n  } {\n    const tiles = {\n      columns: [],\n      srs: undefined,\n      tiles: [],\n      west: undefined,\n      east: undefined,\n      south: undefined,\n      north: undefined,\n      zoom: undefined,\n    } as {\n      columns: {\n        index: number;\n        name: string;\n        max: number;\n        min: number;\n        notNull: boolean;\n        primaryKey: boolean;\n      }[];\n      srs: SpatialReferenceSystem;\n      tiles: {\n        tableName: string;\n        id: number;\n        minLongitude: number;\n        maxLongitude: number;\n        minLatitude: number;\n        maxLatitude: number;\n        projection: string;\n        values: string[];\n      }[];\n      west?: string;\n      east?: string;\n      south?: string;\n      north?: string;\n      zoom?: number;\n    };\n\n    const tileDao = this.getTileDao(table);\n    if (webZoom < tileDao.minWebMapZoom || webZoom > tileDao.maxWebMapZoom) {\n      return;\n    }\n    tiles.columns = [];\n    for (let i = 0; i < tileDao.table.getUserColumns().getColumns().length; i++) {\n      const column = tileDao.table.getUserColumns().getColumns()[i];\n      tiles.columns.push({\n        index: column.index,\n        name: column.name,\n        max: column.max,\n        min: column.min,\n        notNull: column.notNull,\n        primaryKey: column.primaryKey,\n      });\n    }\n    const srs = tileDao.srs;\n    tiles.srs = srs;\n    tiles.tiles = [];\n\n    const zoom = tileDao.webZoomToGeoPackageZoom(webZoom);\n\n    const tms = tileDao.tileMatrixSet;\n    const tm = tileDao.getTileMatrixWithZoomLevel(zoom);\n    if (!tm) {\n      return tiles;\n    }\n    let mapBoundingBox = new BoundingBox(Math.max(-180, west), Math.min(east, 180), south, north);\n    tiles.west = Math.max(-180, west).toFixed(2);\n    tiles.east = Math.min(east, 180).toFixed(2);\n    tiles.south = south.toFixed(2);\n    tiles.north = north.toFixed(2);\n    tiles.zoom = zoom;\n    mapBoundingBox = mapBoundingBox.projectBoundingBox(\n      ProjectionConstants.EPSG_4326,\n      tileDao.srs.organization.toUpperCase() + ':' + tileDao.srs.organization_coordsys_id,\n    );\n\n    const grid = TileBoundingBoxUtils.getTileGridWithTotalBoundingBox(\n      tms.boundingBox,\n      tm.matrix_width,\n      tm.matrix_height,\n      mapBoundingBox,\n    );\n\n    const iterator = tileDao.queryByTileGrid(grid, zoom);\n    for (const row of iterator) {\n      const tile = {\n        tableName: undefined,\n        id: undefined,\n        minLongitude: undefined,\n        maxLongitude: undefined,\n        minLatitude: undefined,\n        maxLatitude: undefined,\n        projection: undefined as string,\n        values: [],\n      } as {\n        tableName: string;\n        id: number;\n        minLongitude: number;\n        maxLongitude: number;\n        minLatitude: number;\n        maxLatitude: number;\n        projection: string;\n        values: any[];\n      } & Record<string, any>;\n      tile.tableName = table;\n      tile.id = row.id;\n\n      const tileBB = TileBoundingBoxUtils.getTileBoundingBox(tms.boundingBox, tm, row.tileColumn, row.row);\n      tile.minLongitude = tileBB.minLongitude;\n      tile.maxLongitude = tileBB.maxLongitude;\n      tile.minLatitude = tileBB.minLatitude;\n      tile.maxLatitude = tileBB.maxLatitude;\n      tile.projection = tileDao.srs.organization.toUpperCase() + ':' + tileDao.srs.organization_coordsys_id;\n      tile.values = [];\n      for (let i = 0; i < tiles.columns.length; i++) {\n        const value = row.values[tiles.columns[i].name];\n        if (tiles.columns[i].name === 'tile_data') {\n          tile.values.push('data');\n        } else if (value === null || value === 'null') {\n          tile.values.push('');\n        } else {\n          tile.values.push(value.toString());\n          tile[tiles.columns[i].name] = value;\n        }\n      }\n      tiles.tiles.push(tile);\n    }\n    return tiles;\n  }\n\n  async getFeatureTileFromXYZ(\n    table: string,\n    x: number,\n    y: number,\n    z: number,\n    width: number,\n    height: number,\n  ): Promise<any> {\n    x = Number(x);\n    y = Number(y);\n    z = Number(z);\n    width = Number(width);\n    height = Number(height);\n    const featureDao = this.getFeatureDao(table);\n    if (!featureDao) return;\n    const ft = new FeatureTiles(featureDao, width, height);\n    return ft.drawTile(x, y, z);\n  }\n\n  getClosestFeatureInXYZTile(\n    table: string,\n    x: number,\n    y: number,\n    z: number,\n    latitude: number,\n    longitude: number,\n  ): Feature & ClosestFeature {\n    x = Number(x);\n    y = Number(y);\n    z = Number(z);\n\n    const featureDao = this.getFeatureDao(table);\n    if (!featureDao) return;\n    const ft = new FeatureTiles(featureDao, 256, 256);\n    const tileCount = ft.getFeatureCountXYZ(x, y, z);\n    let boundingBox = TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(x, y, z);\n    boundingBox = boundingBox.projectBoundingBox(ProjectionConstants.EPSG_3857, ProjectionConstants.EPSG_4326);\n\n    if (tileCount > 10000) {\n      // too many, send back the entire tile\n      // add the goepackage name and table\n      const gj = boundingBox.toGeoJSON() as Feature & ClosestFeature;\n      gj.feature_count = tileCount;\n      gj.coverage = true;\n      gj.gp_table = table;\n      gj.gp_name = this.name;\n      return gj;\n    }\n    const ne = [boundingBox.maxLongitude, boundingBox.maxLatitude];\n    const sw = [boundingBox.minLongitude, boundingBox.minLatitude];\n    const width = ne[0] - sw[0];\n    const widthPerPixel = width / 256;\n    const tolerance = 10 * widthPerPixel;\n    boundingBox.maxLongitude = longitude + tolerance;\n    boundingBox.minLongitude = longitude - tolerance;\n    boundingBox.maxLatitude = latitude + tolerance;\n    boundingBox.minLatitude = latitude - tolerance;\n    const iterator = featureDao.queryForGeoJSONIndexedFeaturesWithBoundingBox(boundingBox);\n    const features = [];\n    let closestDistance = 100000000000;\n    let closest: ClosestFeature & Feature;\n\n    const centerPoint = helpers.point([longitude, latitude]);\n\n    for (const feature of iterator) {\n      feature.type = 'Feature';\n      const distance = GeoPackage.determineDistance(centerPoint.geometry, feature);\n      if (distance < closestDistance) {\n        closest = feature as ClosestFeature & Feature;\n        closestDistance = distance;\n      } else if (distance === closestDistance && closest != null &&  closest.geometry.type !== 'Point') {\n        closest = feature as ClosestFeature & Feature;\n        closestDistance = distance;\n      }\n      features.push(feature);\n    }\n    if (closest) {\n      closest.gp_table = table;\n      closest.gp_name = this.name;\n      closest.distance = closestDistance;\n    }\n    return closest;\n  }\n\n  static determineDistance(point: Point, feature: Feature | FeatureCollection): number {\n    if (feature.type === 'FeatureCollection') {\n      feature.features.forEach(feature => {\n        GeoPackage.determineDistance(point, feature);\n      });\n    } else {\n      const geometry: Geometry = feature.geometry;\n      if (geometry.type === 'Point') {\n        return pointDistance(point, geometry);\n      }\n      if (geometry.type === 'LineString') {\n        return this.determineDistanceFromLine(point, geometry);\n      }\n      if (geometry.type === 'MultiLineString') {\n        let distance = Number.MAX_SAFE_INTEGER;\n        geometry.coordinates.forEach(lineStringCoordinate => {\n          const lineString: Feature = helpers.lineString(lineStringCoordinate);\n          distance = Math.min(distance, GeoPackage.determineDistance(point, lineString));\n        });\n        return distance;\n      }\n      if (geometry.type === 'Polygon') {\n        return GeoPackage.determineDistanceFromPolygon(point, geometry);\n      }\n      if (geometry.type === 'MultiPolygon') {\n        return GeoPackage.determineDistanceFromPolygon(point, geometry);\n      }\n      return Number.MAX_SAFE_INTEGER;\n    }\n  }\n\n  static determineDistanceFromLine(point: Point, lineString: LineString): number {\n    return pointToLineDistance(point, lineString);\n  }\n\n  static determineDistanceFromPolygon(point: Point, polygon: Polygon | MultiPolygon): number {\n    if (booleanPointInPolygon(point, polygon)) {\n      return 0;\n    }\n    return GeoPackage.determineDistance(point, polygonToLine(polygon));\n  }\n\n  /**\n   * Create the Data Columns table if it does not already exist\n   */\n  createDataColumns(): boolean {\n    if (this.dataColumnsDao.isTableExists()) {\n      return true;\n    }\n    return this.tableCreator.createDataColumns();\n  }\n  /**\n   * Create the Data Column Constraints table if it does not already exist\n   */\n  createDataColumnConstraintsTable(): boolean {\n    if (this.dataColumnConstraintsDao.isTableExists()) {\n      return true;\n    }\n    return this.tableCreator.createDataColumnConstraints();\n  }\n  createMetadataTable(): boolean {\n    if (this.metadataDao.isTableExists()) {\n      return true;\n    }\n    return this.tableCreator.createMetadata();\n  }\n  createMetadataReferenceTable(): boolean {\n    if (this.metadataReferenceDao.isTableExists()) {\n      return true;\n    }\n    return this.tableCreator.createMetadataReference();\n  }\n  createExtensionTable(): boolean {\n    if (this.extensionDao.isTableExists()) {\n      return true;\n    }\n    return this.tableCreator.createExtensions();\n  }\n  createTableIndexTable(): boolean {\n    if (this.tableIndexDao.isTableExists()) {\n      return true;\n    }\n    return this.tableCreator.createTableIndex();\n  }\n  createGeometryIndexTable(): boolean {\n    const dao = this.getGeometryIndexDao(null);\n    if (dao.isTableExists()) {\n      return true;\n    }\n    return this.tableCreator.createGeometryIndex();\n  }\n  createStyleMappingTable(\n    tableName: string,\n    columns?: UserColumn[],\n    dataColumns?: DataColumns[],\n  ): boolean {\n    const attributeTable = new StyleMappingTable(tableName, columns, null);\n    this.tableCreator.createUserTable(attributeTable);\n    const contents = new Contents();\n    contents.table_name = tableName;\n    contents.data_type = ContentsDataType.ATTRIBUTES;\n    contents.identifier = tableName;\n    contents.last_change = new Date().toISOString();\n    this.contentsDao.create(contents);\n    if (dataColumns) {\n      this.createDataColumns();\n      const dataColumnsDao = this.dataColumnsDao;\n      dataColumns.forEach(function(dataColumn) {\n        dataColumnsDao.create(dataColumn);\n      });\n    }\n    return true;\n  }\n  /**\n   * Get the application id of the GeoPackage\n   * @returns {string} application id\n   */\n  getApplicationId(): string {\n    return this.database.getApplicationId();\n  }\n\n  static createDataColumnMap(featureDao: FeatureDao<FeatureRow>): ColumnMap {\n    const columnMap: Record<string, any> = {};\n    const dcd = new DataColumnsDao(featureDao.geoPackage);\n    featureDao.table.getUserColumns().getColumns().forEach(\n      function(column: UserColumn): void {\n        const dataColumn = dcd.getDataColumns(featureDao.table.getTableName(), column.name);\n        columnMap[column.name] = {\n          index: column.index,\n          name: column.name,\n          max: column.max,\n          min: column.min,\n          notNull: column.notNull,\n          primaryKey: column.primaryKey,\n          dataType: column.dataType ? GeoPackageDataType.nameFromType(column.dataType) : '',\n          displayName: dataColumn && dataColumn.name ? dataColumn.name : column.name,\n          dataColumn: dataColumn,\n        };\n      }.bind(this),\n    );\n    return columnMap;\n  }\n\n  iterateGeoJSONFeatures(\n    tableName: string,\n    boundingBox?: BoundingBox,\n  ): IterableIterator<Feature> & { srs: SpatialReferenceSystem; featureDao: FeatureDao<FeatureRow> } {\n    const featureDao = this.getFeatureDao(tableName);\n    return featureDao.queryForGeoJSONIndexedFeaturesWithBoundingBox(boundingBox);\n  }\n\n  /**\n   * Gets a GeoJSON feature from the table by id\n   * @param  {module:geoPackage~GeoPackage}   geopackage open GeoPackage object\n   * @param  {string}   table      name of the table to get the feature from\n   * @param  {Number}   featureId  ID of the feature\n   */\n  getFeature(table: string, featureId: number): Feature {\n    const featureDao = this.getFeatureDao(table);\n    const srs = featureDao.srs;\n    let feature = featureDao.queryForId(featureId) as FeatureRow;\n    if (!feature) {\n      let features = featureDao.queryForAllEq('_feature_id', featureId);\n      if (features.length) {\n        feature = featureDao.getRow(features[0]) as FeatureRow;\n      } else {\n        features = featureDao.queryForAllEq('_properties_id', featureId);\n        if (features.length) {\n          feature = featureDao.getRow(features[0]) as FeatureRow;\n        }\n      }\n    }\n    if (feature) {\n      return GeoPackage.parseFeatureRowIntoGeoJSON(feature, srs);\n    }\n  }\n\n  // eslint-disable-next-line complexity\n  static parseFeatureRowIntoGeoJSON(\n    featureRow: FeatureRow,\n    srs: SpatialReferenceSystem,\n    columnMap?: ColumnMap,\n  ): Feature {\n    const geoJson: Feature = {\n      type: 'Feature',\n      properties: {},\n      id: undefined,\n      geometry: undefined,\n    };\n    const geometry = featureRow.geometry;\n    if (geometry && geometry.geometry) {\n      let geoJsonGeom = geometry.geometry.toGeoJSON() as Geometry;\n      if (\n        srs.definition &&\n        srs.definition !== 'undefined' &&\n        srs.organization.toUpperCase() + ':' + srs.organization_coordsys_id !== ProjectionConstants.EPSG_4326\n      ) {\n        geoJsonGeom = reproject.reproject(geoJsonGeom, srs.projection, ProjectionConstants.EPSG_4326);\n      }\n      geoJson.geometry = geoJsonGeom;\n    }\n\n    for (const key in featureRow.values) {\n      if (\n        Object.prototype.hasOwnProperty.call(featureRow.values, key) &&\n        key !== featureRow.geometryColumn.name &&\n        key !== 'id'\n      ) {\n        if (key.toLowerCase() === '_feature_id') {\n          geoJson.id = featureRow.values[key] as string | number;\n        } else if (key.toLowerCase() === '_properties_id') {\n          geoJson.properties[key.substring(12)] = featureRow.values[key];\n        } else if (columnMap && columnMap[key]) {\n          geoJson.properties[columnMap[key].displayName] = featureRow.values[key];\n        } else {\n          geoJson.properties[key] = featureRow.values[key];\n        }\n      } else if (featureRow.geometryColumn.name === key) {\n        // geoJson.properties[key] = geometry && !geometry.geometryError ? 'Valid' : geometry.geometryError;\n      }\n    }\n    geoJson.id = geoJson.id || featureRow.id;\n    return geoJson;\n  }\n\n  /**\n   * Gets the features in the EPSG:3857 tile\n   * @param  {string}   table      name of the feature table\n   * @param  {Number}   x       x tile number\n   * @param  {Number}   y       y tile number\n   * @param  {Number}   z      z tile number\n   * @param  {Boolean}   [skipVerification]      skip the extra verification to determine if the feature really is within the tile\n   */\n  async getGeoJSONFeaturesInTile(\n    table: string,\n    x: number,\n    y: number,\n    z: number,\n    skipVerification = false,\n  ): Promise<Feature[]> {\n    const webMercatorBoundingBox = TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(x, y, z);\n    const bb = webMercatorBoundingBox.projectBoundingBox(ProjectionConstants.EPSG_3857, ProjectionConstants.EPSG_4326);\n    await this.indexFeatureTable(table);\n    const featureDao = this.getFeatureDao(table);\n    if (!featureDao) return;\n    const features = [];\n    const iterator = featureDao.queryForGeoJSONIndexedFeaturesWithBoundingBox(bb, skipVerification);\n    for (const feature of iterator) {\n      features.push(feature);\n    }\n    return features;\n  }\n\n  /**\n   * Gets the features in the EPSG:4326 bounding box\n   * @param  {string}   table      name of the feature table\n   * @param  {Number}   west       EPSG:4326 western boundary\n   * @param  {Number}   east       EPSG:4326 eastern boundary\n   * @param  {Number}   south      EPSG:4326 southern boundary\n   * @param  {Number}   north      EPSG:4326 northern boundary\n   */\n  async getFeaturesInBoundingBox(\n    table: string,\n    west: number,\n    east: number,\n    south: number,\n    north: number,\n  ): Promise<IterableIterator<FeatureRow>> {\n    await this.indexFeatureTable(table);\n    const featureDao = this.getFeatureDao(table);\n    if (!featureDao) throw new Error('Unable to find table ' + table);\n    const bb = new BoundingBox(west, east, south, north);\n    const iterator = featureDao.queryIndexedFeaturesWithBoundingBox(bb);\n    return iterator;\n  }\n\n  /**\n   * Get the standard 3857 XYZ tile from the GeoPackage.  If a canvas is provided, the tile will be drawn in the canvas\n   * @param  {string}   table      name of the table containing the tiles\n   * @param  {Number}   x          x index of the tile\n   * @param  {Number}   y          y index of the tile\n   * @param  {Number}   z          zoom level of the tile\n   * @param  {Number}   width      width of the resulting tile\n   * @param  {Number}   height     height of the resulting tile\n   * @param  {any}   canvas     canvas element to draw the tile into\n   */\n  async xyzTile(table: string, x: number, y: number, z: number, width = 256, height = 256, canvas?: any): Promise<any> {\n    width = Number(width);\n    height = Number(height);\n    const tileDao = this.getTileDao(table);\n    const retriever = new GeoPackageTileRetriever(tileDao, width, height);\n    if (this.getTileScalingExtension(table).has()) {\n      const tileScaling = this.getTileScalingExtension(table).dao.queryForTableName(table);\n      if (tileScaling) {\n        retriever.setScaling(tileScaling);\n      }\n    }\n    if (!canvas) {\n      return retriever.getTile(x, y, z);\n    } else {\n      return retriever.drawTileIn(x, y, z, canvas);\n    }\n  }\n\n  /**\n   * Get the standard 3857 XYZ tile from the GeoPackage.  If a canvas is provided, the tile will be drawn in the canvas\n   * @param  {string}   table      name of the table containing the tiles\n   * @param  {Number}   x          x index of the tile\n   * @param  {Number}   y          y index of the tile\n   * @param  {Number}   z          zoom level of the tile\n   * @param  {Number}   width      width of the resulting tile\n   * @param  {Number}   height     height of the resulting tile\n   * @param  {any}   canvas     canvas element to draw the tile into\n   */\n  async xyzTileScaled(\n    table: string,\n    x: number,\n    y: number,\n    z: number,\n    width = 256,\n    height = 256,\n    canvas?: any,\n    zoomIn?: 2,\n    zoomOut?: 2,\n  ): Promise<any> {\n    width = Number(width);\n    height = Number(height);\n    const tileDao = this.getTileDao(table);\n    const retriever = new GeoPackageTileRetriever(tileDao, width, height);\n    await this.getTileScalingExtension(table).getOrCreateExtension();\n    const tileScaling = this.getTileScalingExtension(table).dao.queryForTableName(table);\n    if (tileScaling) {\n      retriever.setScaling(tileScaling);\n    } else {\n      // } else {\n      const tileScaling = new TileScaling();\n      tileScaling.zoom_in = zoomIn;\n      tileScaling.zoom_out = zoomOut;\n      tileScaling.table_name = table;\n      tileScaling.scaling_type = TileScalingType.CLOSEST_IN_OUT;\n      const tileScalingExtension = this.getTileScalingExtension(table);\n      // await tileScalingExtension.getOrCreateExtension();\n      tileScalingExtension.createOrUpdate(tileScaling);\n\n      retriever.setScaling(tileScaling);\n    }\n    if (!canvas) {\n      return retriever.getTile(x, y, z);\n    } else {\n      return retriever.drawTileIn(x, y, z, canvas);\n    }\n  }\n\n  /**\n   * Draws a tile projected into the specified projection, bounded by the specified by the bounds in EPSG:4326 into the canvas or the image is returned if no canvas is passed in.\n   * @param  {string}   table      name of the table containing the tiles\n   * @param  {Number}   minLat     minimum latitude bounds of tile\n   * @param  {Number}   minLon     minimum longitude bounds of tile\n   * @param  {Number}   maxLat     maximum latitude bounds of tile\n   * @param  {Number}   maxLon     maximum longitude bounds of tile\n   * @param  {Number}   z          zoom level of the tile\n   * @param  {string}   projection project from tile's projection to this one.\n   * @param  {Number}   width      width of the resulting tile\n   * @param  {Number}   height     height of the resulting tile\n   * @param  {any}   canvas     canvas element to draw the tile into\n   */\n  async projectedTile(\n    table: string,\n    minLat: number,\n    minLon: number,\n    maxLat: number,\n    maxLon: number,\n    z: number,\n    projection: string = ProjectionConstants.EPSG_4326,\n    width = 256,\n    height = 256,\n    canvas?: any,\n  ): Promise<any> {\n    const tileDao = this.getTileDao(table);\n    const retriever = new GeoPackageTileRetriever(tileDao, width, height);\n    const bounds = new BoundingBox(minLon, maxLon, minLat, maxLat);\n    return retriever.getTileWithWgs84BoundsInProjection(bounds, z, projection, canvas);\n  }\n\n  getInfoForTable(tableDao: TileDao<TileRow> | FeatureDao<FeatureRow>): any {\n    const info = {\n      tableName: tableDao.table_name,\n      tableType: tableDao.table.tableType,\n      count: tableDao.getCount(),\n      geometryColumns: undefined as {\n        tableName: string;\n        geometryColumn: string;\n        geometryTypeName: string;\n        z?: number;\n        m?: number;\n      },\n      minZoom: undefined as number,\n      maxZoom: undefined as number,\n      minWebMapZoom: undefined as number,\n      maxWebMapZoom: undefined as number,\n      zoomLevels: undefined as number,\n      tileMatrixSet: undefined as {\n        srsId: number;\n        minX: number;\n        maxX: number;\n        minY: number;\n        maxY: number;\n      },\n      contents: undefined as {\n        tableName: string;\n        dataType: string;\n        identifier: string;\n        description: string;\n        lastChange: string;\n        minX: number;\n        maxX: number;\n        minY: number;\n        maxY: number;\n        srs: {\n          name: string;\n          id: number;\n          organization: string;\n          organization_coordsys_id: number;\n          definition: string;\n          description: string;\n        };\n      },\n      srs: undefined as {\n        name: string;\n        id: number;\n        organization: string;\n        organization_coordsys_id: number;\n        definition: string;\n        description: string;\n      },\n      columns: undefined as {\n        index: number;\n        name: string;\n        max?: number;\n        min?: number;\n        notNull?: boolean;\n        primaryKey?: boolean;\n        dataType?: GeoPackageDataType;\n        displayName: string;\n        dataColumn?: DataColumns;\n      }[],\n      columnMap: undefined as ColumnMap,\n    };\n    if (tableDao instanceof FeatureDao) {\n      info.geometryColumns = {\n        tableName: tableDao.geometryColumns.table_name,\n        geometryColumn: tableDao.geometryColumns.column_name,\n        geometryTypeName: tableDao.geometryColumns.geometry_type_name,\n        z: tableDao.geometryColumns.z,\n        m: tableDao.geometryColumns.m,\n      };\n    }\n    if (tableDao instanceof TileDao) {\n      info.minZoom = tableDao.minZoom;\n      info.maxZoom = tableDao.maxZoom;\n      info.minWebMapZoom = tableDao.minWebMapZoom;\n      info.maxWebMapZoom = tableDao.maxWebMapZoom;\n      info.zoomLevels = tableDao.tileMatrices.length;\n    }\n    let contents: Contents;\n    if (tableDao instanceof FeatureDao) {\n      contents = this.geometryColumnsDao.getContents(tableDao.geometryColumns);\n    } else if (tableDao instanceof TileDao) {\n      contents = this.tileMatrixSetDao.getContents(tableDao.tileMatrixSet);\n      info.tileMatrixSet = {\n        srsId: tableDao.tileMatrixSet.srs_id,\n        minX: tableDao.tileMatrixSet.min_x,\n        maxX: tableDao.tileMatrixSet.max_x,\n        minY: tableDao.tileMatrixSet.min_y,\n        maxY: tableDao.tileMatrixSet.max_y,\n      };\n    }\n\n    const contentsSrs = this.contentsDao.getSrs(contents);\n    info.contents = {\n      tableName: contents.table_name,\n      dataType: contents.data_type,\n      identifier: contents.identifier,\n      description: contents.description,\n      lastChange: contents.last_change,\n      minX: contents.min_x,\n      maxX: contents.max_x,\n      minY: contents.min_y,\n      maxY: contents.max_y,\n      srs: {\n        name: contentsSrs.srs_name,\n        id: contentsSrs.srs_id,\n        organization: contentsSrs.organization,\n        organization_coordsys_id: contentsSrs.organization_coordsys_id,\n        definition: contentsSrs.definition,\n        description: contentsSrs.description,\n      },\n    };\n    info.contents.srs = {\n      name: contentsSrs.srs_name,\n      id: contentsSrs.srs_id,\n      organization: contentsSrs.organization,\n      organization_coordsys_id: contentsSrs.organization_coordsys_id,\n      definition: contentsSrs.definition,\n      description: contentsSrs.description,\n    };\n    const srs = tableDao.srs;\n    info.srs = {\n      name: srs.srs_name,\n      id: srs.srs_id,\n      organization: srs.organization,\n      organization_coordsys_id: srs.organization_coordsys_id,\n      definition: srs.definition,\n      description: srs.description,\n    };\n    info.columns = [];\n    info.columnMap = {};\n    const dcd = this.dataColumnsDao;\n    tableDao.table.getUserColumns().getColumns().forEach(\n      function(column: UserColumn): any {\n        const dataColumn = dcd.getDataColumns(tableDao.table.getTableName(), column.name);\n        info.columns.push({\n          index: column.index,\n          name: column.name,\n          max: column.max,\n          min: column.min,\n          notNull: column.notNull,\n          primaryKey: column.primaryKey,\n          dataType: column.dataType,\n          displayName: dataColumn && dataColumn.name ? dataColumn.name : column.name,\n          dataColumn: dataColumn,\n        });\n        info.columnMap[column.name] = info.columns[info.columns.length - 1];\n      }.bind(this),\n    );\n    return info;\n  }\n\n  static addProjection(name: string, definition: string): void {\n    if (!name || !definition) throw new Error('Invalid projection name/definition');\n    proj4.defs(name, definition);\n  }\n  static hasProjection(name: string): proj4.ProjectionDefinition {\n    return proj4.defs(name);\n  }\n\n  renameTable (tableName, newTableName) {\n    const tableDataType = this.getTableDataType(tableName);\n    if (tableDataType !== null && tableDataType !== undefined) {\n      this.copyTableAndExtensions(tableName, newTableName);\n      this.deleteTable(tableName);\n    } else {\n      AlterTable.renameTable(this.connection, tableName, newTableName)\n    }\n  }\n\n  copyTableAndExtensions (tableName, newTableName) {\n    this.copyTable(tableName, newTableName, true, true);\n  }\n\n  copyTableNoExtensions (tableName, newTableName) {\n    this.copyTable(tableName, newTableName, true, false);\n  }\n\n  copyTableAsEmpty (tableName, newTableName) {\n    this.copyTable(tableName, newTableName, false, false)\n  }\n\n  getTableDataType (tableName) {\n    let tableType = null;\n    const contentsDao = this.contentsDao;\n    const contents = contentsDao.queryForId(tableName);\n    if (contents !== null && contents !== undefined) {\n      tableType = contents.data_type;\n    }\n    return tableType;\n  }\n\n  /**\n   * Copy the table\n   * @param tableName table name\n   * @param newTableName new table name\n   * @param transferContent transfer content flag\n   * @param extensions extensions copy flag\n   */\n  copyTable (tableName, newTableName, transferContent, extensions) {\n    const dataType = this.getTableDataType(tableName);\n    if (dataType !== null && dataType !== undefined) {\n      switch (dataType) {\n        case ContentsDataType.ATTRIBUTES:\n          this.copyAttributeTable(tableName, newTableName, transferContent);\n          break;\n        case ContentsDataType.FEATURES:\n          this.copyFeatureTable(tableName, newTableName, transferContent);\n          break;\n        case ContentsDataType.TILES:\n          this.copyTileTable(tableName, newTableName, transferContent);\n          break;\n        default:\n          throw new Error('Unsupported data type: ' + dataType);\n      }\n    } else {\n      this.copyUserTable(tableName, newTableName, transferContent, false);\n    }\n\n    // Copy extensions\n    if (extensions) {\n      GeoPackageExtensions.copyTableExtensions(this, tableName, newTableName)\n    }\n  }\n\n  /**\n   * Copy the attribute table\n   * @param tableName table name\n   * @param newTableName new table name\n   * @param transferContent transfer content flag\n   */\n  copyAttributeTable (tableName, newTableName, transferContent) {\n    this.copyUserTable(tableName, newTableName, transferContent);\n  }\n\n  /**\n   * Copy the feature table\n   * @param tableName table name\n   * @param newTableName new table name\n   * @param transferContent transfer content flag\n   */\n  copyFeatureTable (tableName, newTableName, transferContent) {\n    const geometryColumnsDao = this.geometryColumnsDao;\n    let geometryColumns = null;\n    try {\n      geometryColumns = geometryColumnsDao.queryForTableName(tableName);\n    } catch (e) {\n      throw new Error('Failed to retrieve table geometry columns: ' + tableName)\n    }\n    if (geometryColumns === null || geometryColumns === undefined) {\n      throw new Error('No geometry columns for table: ' + tableName);\n    }\n    const contents = this.copyUserTable(tableName, newTableName, transferContent);\n    geometryColumns.setContents(contents);\n    try {\n      geometryColumnsDao.create(geometryColumns);\n    } catch (e) {\n      throw new Error('Failed to create geometry columns for feature table: ' + newTableName);\n    }\n  }\n\n  /**\n   * Copy the tile table\n   * @param tableName table name\n   * @param newTableName new table name\n   * @param transferContent transfer content flag\n   */\n  copyTileTable(tableName, newTableName, transferContent) {\n    const tileMatrixSetDao = this.tileMatrixSetDao;\n    let tileMatrixSet: TileMatrixSet = null;\n    try {\n      tileMatrixSet = tileMatrixSetDao.queryForId(tableName);\n    } catch (e) {\n      throw new Error('Failed to retrieve table tile matrix set: ' + tableName);\n    }\n    if (tileMatrixSet === null || tileMatrixSet === undefined) {\n      throw new Error('No tile matrix set for table: ' + tableName);\n    }\n    const tileMatrixDao = this.tileMatrixDao;\n    let tileMatrices: TileMatrix[] = null;\n    try {\n      tileMatrices = tileMatrixDao.queryForAllEq(TileMatrixDao.COLUMN_TABLE_NAME, tableName).map(results => tileMatrixDao.createObject(results));\n    } catch (e) {\n      throw new Error('Failed to retrieve table tile matrices: ' + tableName);\n    }\n    let contents = this.copyUserTable(tableName, newTableName, transferContent);\n    tileMatrixSet.contents = contents;\n    try {\n      tileMatrixSetDao.create(tileMatrixSet);\n    } catch (e) {\n      throw new Error('Failed to create tile matrix set for tile table: ' + newTableName);\n    }\n\n    tileMatrices.forEach(tileMatrix => {\n      tileMatrix.contents = contents;\n      try {\n        tileMatrixDao.create(tileMatrix);\n      } catch (e) {\n        throw new Error('Failed to create tile matrix for tile table: ' + newTableName);\n      }\n    });\n  }\n\n  /**\n   * Copy the user table\n   *\n   * @param tableName table name\n   * @param newTableName new table name\n   * @param transferContent  transfer user table content flag\n   * @param validateContents true to validate a contents was copied\n   * @return copied contents\n   * @since 3.3.0\n   */\n  copyUserTable(tableName, newTableName, transferContent, validateContents = true) {\n    AlterTable.copyTableWithName(this.database, tableName, newTableName, transferContent);\n    let contents = this.copyContents(tableName, newTableName);\n    if ((contents === null || contents === undefined) && validateContents) {\n      throw new Error('No table contents found for table: ' + tableName);\n    }\n    return contents;\n  }\n\n/**\n * Copy the contents\n * @param tableName table name\n * @param newTableName new table name\n * @return copied contents\n */\n  copyContents(tableName: string, newTableName: string): Contents {\n    let contents = this.getTableContents(tableName);\n\n    if (contents !== null && contents !== undefined) {\n      contents.table_name = newTableName;\n      contents.identifier = newTableName;\n      try {\n        this.contentsDao.create(contents);\n      } catch (e) {\n        throw new Error('Failed to create contents for table: ' + newTableName + ', copied from table: ' + tableName);\n      }\n    }\n\n    return contents;\n  }\n}\n","/**\n * GeoPackage Constants module.\n * @module dao/geoPackageConstants\n */\n\nexport class GeoPackageConstants {\n  /** @constant {string} GEOPACKAGE_EXTENSION Extension to GeoPackage files */\n  public static readonly GEOPACKAGE_EXTENSION: string = 'gpkg';\n  /** @constant {string} GEOPACKAGE_EXTENDED_EXTENSION Extension to GeoPackage extension files */\n  public static readonly GEOPACKAGE_EXTENDED_EXTENSION: string = 'gpkx';\n  /** @constant {string} APPLICATION_ID GeoPackage application id */\n  public static readonly APPLICATION_ID: string = 'GPKG';\n  /** @constant {string} USER_VERSION GeoPackage user version */\n  public static readonly USER_VERSION: string = '10200';\n  /** @constant {string} GEOPACKAGE_EXTENSION_AUTHOR GeoPackage author */\n  public static readonly GEOPACKAGE_EXTENSION_AUTHOR: string = GeoPackageConstants.GEOPACKAGE_EXTENSION;\n  /** @constant {string} GEOMETRY_EXTENSION_PREFIX Geometry extension prefix */\n  public static readonly GEOMETRY_EXTENSION_PREFIX: string = 'geom';\n  /** @constant {string} GEOPACKAGE_GEOMETRY_MAGIC_NUMBER Expected magic number */\n  public static readonly GEOPACKAGE_GEOMETRY_MAGIC_NUMBER: string = 'GP';\n  /** @constant {string} GEOPACKAGE_GEOMETRY_VERSION_1 Expected version 1 value */\n  public static readonly GEOPACKAGE_GEOMETRY_VERSION_1: number = 0;\n  /** @constant {string} SQLITE_HEADER_PREFIX SQLite header string prefix */\n  public static readonly SQLITE_HEADER_PREFIX: string = 'SQLite format 3';\n}\n","export class Envelope {\n  minX: number;\n\n  maxX: number;\n\n  minY: number;\n\n  maxY: number;\n\n  hasZ?: boolean;\n\n  minZ?: number;\n\n  maxZ?: number;\n\n  hasM?: boolean;\n\n  minM?: number;\n\n  maxM?: number;\n}\n","import turfBbox from '@turf/bbox';\nimport wkx from 'wkx';\nimport { Envelope } from './envelope';\n\nexport class EnvelopeBuilder {\n  static buildEnvelopeWithGeometry(wkbGeometry: wkx.Geometry): Envelope {\n    const geoJson = wkbGeometry.toGeoJSON();\n    const bbox = turfBbox(geoJson);\n    return {\n      minX: bbox[0],\n      minY: bbox[1],\n      maxX: bbox[2],\n      maxY: bbox[3],\n    };\n  }\n}\n","/**\n * GeometryData module.\n * @module geom/geometryData\n */\n\nimport wkx from 'wkx';\nimport { GeoPackageConstants } from '../geoPackageConstants';\nimport { Envelope } from './envelope';\nimport { Feature } from 'geojson';\n\n/**\n * GeoPackage Geometry Data\n */\nexport class GeometryData {\n  static readonly BIG_ENDIAN = 0;\n  static readonly LITTLE_ENDIAN = 1;\n  empty: boolean;\n  byteOrder: number;\n  srsId: number;\n  geometry: wkx.Geometry;\n  envelope: Envelope;\n  buffer: Buffer;\n  geometryError: string;\n  extended: boolean;\n  constructor(buffer?: Buffer | Uint8Array) {\n    this.empty = true;\n    this.byteOrder = GeometryData.BIG_ENDIAN;\n    if (buffer) {\n      this.fromData(buffer);\n    }\n  }\n  setSrsId(srsId: number): void {\n    this.srsId = srsId;\n  }\n  setGeometry(wkbGeometry: wkx.Geometry): void {\n    this.empty = false;\n    this.geometry = wkbGeometry;\n  }\n  setEnvelope(envelope: Envelope): void {\n    this.envelope = envelope;\n  }\n  toGeoJSON(): Feature {\n    return this.geometry.toGeoJSON() as Feature;\n  }\n  fromData(bufferOrArray: Buffer | Uint8Array): void {\n    if (bufferOrArray instanceof Uint8Array) {\n      this.buffer = bufferOrArray = Buffer.from(bufferOrArray);\n    } else {\n      this.buffer = bufferOrArray;\n    }\n    const magicString = this.buffer.toString('ascii', 0, 2);\n    if (magicString !== GeoPackageConstants.GEOPACKAGE_GEOMETRY_MAGIC_NUMBER) {\n      throw new Error(\n        'Unexpected GeoPackage Geometry magic number: ' +\n          magicString +\n          ', Expected: ' +\n          GeoPackageConstants.GEOPACKAGE_GEOMETRY_MAGIC_NUMBER,\n      );\n    }\n    const version = this.buffer.readUInt8(2);\n    if (version !== GeoPackageConstants.GEOPACKAGE_GEOMETRY_VERSION_1) {\n      throw new Error(\n        'Unexpected GeoPackage Geometry version ' +\n          version +\n          ', Expected: ' +\n          GeoPackageConstants.GEOPACKAGE_GEOMETRY_VERSION_1,\n      );\n    }\n    const flags = this.buffer.readUInt8(3);\n    const envelopeIndicator = this.readFlags(flags);\n    this.srsId = this.buffer[this.byteOrder ? 'readUInt32LE' : 'readUInt32BE'](4);\n    const envelopeAndOffset = this.readEnvelope(envelopeIndicator, this.buffer);\n    this.envelope = envelopeAndOffset.envelope;\n    const offset = envelopeAndOffset.offset;\n    const wkbBuffer = this.buffer.slice(offset);\n    try {\n      this.geometry = wkx.Geometry.parse(wkbBuffer);\n      this.geometryError = undefined;\n    } catch (error) {\n      this.geometryError = error.message;\n      console.log('Error parsing geometry');\n    }\n  }\n  toData(): Buffer {\n    const header = Buffer.alloc(8);\n    // Write GP as the 2 byte magic number\n    header.write(GeoPackageConstants.GEOPACKAGE_GEOMETRY_MAGIC_NUMBER);\n    // Write a byte as the version value of 0 = version 1\n    header.writeUInt8(GeoPackageConstants.GEOPACKAGE_GEOMETRY_VERSION_1, 2);\n    // Build and write a flags byte\n    const flags = this.buildFlagsByte();\n    header.writeUInt8(flags, 3);\n    // write the 4 byte srs id\n    header[this.byteOrder ? 'writeUInt32LE' : 'writeUInt32BE'](this.srsId, 4);\n    const envelopeBuffer = this.writeEnvelope();\n    const concatArray = [header, envelopeBuffer];\n    try {\n      concatArray.push(this.geometry.toWkb());\n      this.geometryError = undefined;\n    } catch (error) {\n      this.geometryError = error.message;\n    }\n    this.buffer = Buffer.concat(concatArray);\n    return this.buffer;\n  }\n  writeEnvelope(): Buffer {\n    if (!this.envelope) return Buffer.alloc(0);\n    let length = 32;\n    if (this.envelope.hasZ) {\n      length += 16;\n    }\n    if (this.envelope.hasM) {\n      length += 16;\n    }\n    const envelopeBuffer = Buffer.alloc(length);\n    let writeDoubleMethod: Function;\n    if (this.byteOrder) {\n      writeDoubleMethod = envelopeBuffer.writeDoubleLE.bind(envelopeBuffer);\n    } else {\n      writeDoubleMethod = envelopeBuffer.writeDoubleBE.bind(envelopeBuffer);\n    }\n    writeDoubleMethod(this.envelope.minX, 0);\n    writeDoubleMethod(this.envelope.maxX, 8);\n    writeDoubleMethod(this.envelope.minY, 16);\n    writeDoubleMethod(this.envelope.maxY, 24);\n    let position = 32;\n    if (this.envelope.hasZ) {\n      writeDoubleMethod(this.envelope.minZ, position);\n      writeDoubleMethod(this.envelope.maxZ, position + 8);\n      position = 48;\n    }\n    if (this.envelope.hasM) {\n      writeDoubleMethod(this.envelope.minM, position);\n      writeDoubleMethod(this.envelope.maxM, position + 8);\n    }\n    return envelopeBuffer;\n  }\n  buildFlagsByte(): number {\n    let flag = 0;\n    // Add the binary type to bit 5, 0 for standard and 1 for extended\n    const binaryType = this.extended ? 1 : 0;\n    flag += binaryType << 5;\n    // Add the empty geometry flag to bit 4, 0 for non-empty and 1 for empty\n    const emptyValue = this.empty ? 1 : 0;\n    flag += emptyValue << 4;\n    // Add the envelope contents indicator code (3-bit unsigned integer to bits 3, 2, and 1)\n    const envelopeIndicator = !this.envelope ? 0 : this.getIndicatorWithEnvelope(this.envelope);\n    flag += envelopeIndicator << 1;\n    // Add the byte order to bit 0, 0 for Big Endian and 1 for Little Endian\n    const byteOrderValue = this.byteOrder === GeometryData.BIG_ENDIAN ? 0 : 1;\n    flag += byteOrderValue;\n    return flag;\n  }\n  getIndicatorWithEnvelope(envelope: Envelope): number {\n    let indicator = 1;\n    if (envelope.hasZ) {\n      indicator++;\n    }\n    if (envelope.hasM) {\n      indicator += 2;\n    }\n    return indicator;\n  }\n  readFlags(flagsInt: number): number {\n    // Verify the reserved bits at 7 and 6 are 0\n    const reserved7 = (flagsInt >> 7) & 1;\n    const reserved6 = (flagsInt >> 6) & 1;\n    if (reserved7 !== 0 || reserved6 !== 0) {\n      throw new Error(\n        'Unexpected GeoPackage Geometry flags. Flag bit 7 and 6 should both be 0, 7=' + reserved7 + ', 6=' + reserved6,\n      );\n    }\n    // Get the binary type from bit 5, 0 for standard and 1 for extended\n    const binaryType = (flagsInt >> 5) & 1;\n    this.extended = binaryType === 1;\n    // Get the empty geometry flag from bit 4, 0 for non-empty and 1 for\n    // empty\n    const emptyValue = (flagsInt >> 4) & 1;\n    this.empty = emptyValue === 1;\n    // Get the envelope contents indicator code (3-bit unsigned integer from\n    // bits 3, 2, and 1)\n    const envelopeIndicator = (flagsInt >> 1) & 7;\n    if (envelopeIndicator > 4) {\n      throw new Error(\n        'Unexpected GeoPackage Geometry flags. Envelope contents indicator must be between 0 and 4. Actual: ' +\n          envelopeIndicator,\n      );\n    }\n    // Get the byte order from bit 0, 0 for Big Endian and 1 for Little Endian\n    const byteOrderValue = flagsInt & 1;\n    this.byteOrder = byteOrderValue;\n    return envelopeIndicator;\n  }\n  readEnvelope(envelopeIndicator: number, buffer: Buffer): { envelope: Envelope; offset: number } {\n    let readDoubleMethod: Function;\n    if (this.byteOrder) {\n      readDoubleMethod = buffer.readDoubleLE.bind(buffer);\n    } else {\n      readDoubleMethod = buffer.readDoubleBE.bind(buffer);\n    }\n    const envelopeByteOffset = 8;\n    let reads = 0;\n    const envelopeAndOffset = {\n      envelope: undefined,\n      offset: envelopeByteOffset,\n    } as { envelope: Envelope; offset: number };\n    if (envelopeIndicator <= 0) {\n      return envelopeAndOffset;\n    }\n    const envelope = new Envelope();\n    // Read x and y values and create envelope\n    envelope.minX = readDoubleMethod(envelopeByteOffset + 8 * reads++);\n    envelope.maxX = readDoubleMethod(envelopeByteOffset + 8 * reads++);\n    envelope.minY = readDoubleMethod(envelopeByteOffset + 8 * reads++);\n    envelope.maxY = readDoubleMethod(envelopeByteOffset + 8 * reads++);\n    envelope.hasZ = false;\n    envelope.hasM = false;\n    // Read z values\n    if (envelopeIndicator === 2 || envelopeIndicator === 4) {\n      envelope.hasZ = true;\n      envelope.minZ = readDoubleMethod(envelopeByteOffset + 8 * reads++);\n      envelope.maxZ = readDoubleMethod(envelopeByteOffset + 8 * reads++);\n    }\n    // Read m values\n    if (envelopeIndicator === 3 || envelopeIndicator === 4) {\n      envelope.hasM = true;\n      envelope.minM = readDoubleMethod(envelopeByteOffset + 8 * reads++);\n      envelope.maxM = readDoubleMethod(envelopeByteOffset + 8 * reads++);\n    }\n    envelopeAndOffset.envelope = envelope;\n    envelopeAndOffset.offset = envelopeByteOffset + 8 * reads;\n    return envelopeAndOffset;\n  }\n}\n","/**\n * Contains metadata in MIME encodings structured in accordance with any\n * authoritative metadata specification\n * @class Metadata\n */\nexport class Metadata {\n  public static readonly UNDEFINED: string = 'undefined';\n  public static readonly FIELD_SESSION: string = 'fieldSession';\n  public static readonly COLLECTION_SESSION: string = 'collectionSession';\n  public static readonly SERIES: string = 'series';\n  public static readonly DATASET: string = 'dataset';\n  public static readonly FEATURE_TYPE: string = 'featureType';\n  public static readonly FEATURE: string = 'feature';\n  public static readonly ATTRIBUTE_TYPE: string = 'attributeType';\n  public static readonly ATTRIBUTE: string = 'attribute';\n  public static readonly TILE: string = 'tile';\n  public static readonly MODEL: string = 'model';\n  public static readonly CATALOG: string = 'catalog';\n  public static readonly SCHEMA: string = 'schema';\n  public static readonly TAXONOMY: string = 'taxonomy';\n  public static readonly SOFTWARE: string = 'software';\n  public static readonly SERVICE: string = 'service';\n  public static readonly COLLECTION_HARDWARE: string = 'collectionHardware';\n  public static readonly NON_GEOGRAPHIC_DATASET: string = 'nonGeographicDataset';\n  public static readonly DIMENSION_GROUP: string = 'dimensionGroup';\n\n  /**\n   * Metadata primary key\n   * @member {Number}\n   */\n  id: number;\n  /**\n   * Case sensitive name of the data scope to which this metadata applies; see Metadata Scopes below\n   * @member {string}\n   */\n  md_scope: string;\n  /**\n   * URI reference to the metadata structure definition authority\n   * @member {string}\n   */\n  md_standard_uri: string;\n  /**\n   * MIME encoding of metadata\n   * @member {string}\n   */\n  mime_type: string;\n  /**\n   * metadata\n   * @member {string}\n   */\n  metadata: string;\n\n  // eslint-disable-next-line complexity\n  getScopeInformation(type: string): { name: string; code: string; definition: string } {\n    switch (type) {\n      case Metadata.UNDEFINED:\n        return {\n          name: Metadata.UNDEFINED,\n          code: 'NA',\n          definition: 'Metadata information scope is undefined',\n        };\n      case Metadata.FIELD_SESSION:\n        return {\n          name: Metadata.FIELD_SESSION,\n          code: '012',\n          definition: 'Information applies to the field session',\n        };\n      case Metadata.COLLECTION_SESSION:\n        return {\n          name: Metadata.COLLECTION_SESSION,\n          code: '004',\n          definition: 'Information applies to the collection session',\n        };\n      case Metadata.SERIES:\n        return {\n          name: Metadata.SERIES,\n          code: '006',\n          definition: 'Information applies to the (dataset) series',\n        };\n      case Metadata.DATASET:\n        return {\n          name: Metadata.DATASET,\n          code: '005',\n          definition: 'Information applies to the (geographic feature) dataset',\n        };\n      case Metadata.FEATURE_TYPE:\n        return {\n          name: Metadata.FEATURE_TYPE,\n          code: '010',\n          definition: 'Information applies to a feature type (class)',\n        };\n      case Metadata.FEATURE:\n        return {\n          name: Metadata.FEATURE,\n          code: '009',\n          definition: 'Information applies to a feature (instance)',\n        };\n      case Metadata.ATTRIBUTE_TYPE:\n        return {\n          name: Metadata.ATTRIBUTE_TYPE,\n          code: '002',\n          definition: 'Information applies to the attribute class',\n        };\n      case Metadata.ATTRIBUTE:\n        return {\n          name: Metadata.ATTRIBUTE,\n          code: '001',\n          definition: 'Information applies to the characteristic of a feature (instance)',\n        };\n      case Metadata.TILE:\n        return {\n          name: Metadata.TILE,\n          code: '016',\n          definition: 'Information applies to a tile, a spatial subset of geographic data',\n        };\n      case Metadata.MODEL:\n        return {\n          name: Metadata.MODEL,\n          code: '015',\n          definition: 'Information applies to a copy or imitation of an existing or hypothetical object',\n        };\n      case Metadata.CATALOG:\n        return {\n          name: Metadata.CATALOG,\n          code: 'NA',\n          definition: 'Metadata applies to a feature catalog',\n        };\n      case Metadata.SCHEMA:\n        return {\n          name: Metadata.SCHEMA,\n          code: 'NA',\n          definition: 'Metadata applies to an application schema',\n        };\n      case Metadata.TAXONOMY:\n        return {\n          name: Metadata.TAXONOMY,\n          code: 'NA',\n          definition: 'Metadata applies to a taxonomy or knowledge system',\n        };\n      case Metadata.SOFTWARE:\n        return {\n          name: Metadata.SOFTWARE,\n          code: '013',\n          definition: 'Information applies to a computer program or routine',\n        };\n      case Metadata.SERVICE:\n        return {\n          name: Metadata.SERVICE,\n          code: '014',\n          definition:\n            'Information applies to a capability which a service provider entity makes available to a service user entity through a set of interfaces that define a behaviour, such as a use case',\n        };\n      case Metadata.COLLECTION_HARDWARE:\n        return {\n          name: Metadata.COLLECTION_HARDWARE,\n          code: '003',\n          definition: 'Information applies to the collection hardware class',\n        };\n      case Metadata.NON_GEOGRAPHIC_DATASET:\n        return {\n          name: Metadata.NON_GEOGRAPHIC_DATASET,\n          code: '007',\n          definition: 'Information applies to non-geographic data',\n        };\n      case Metadata.DIMENSION_GROUP:\n        return {\n          name: Metadata.DIMENSION_GROUP,\n          code: '008',\n          definition: 'Information applies to a dimension group',\n        };\n    }\n  }\n}\n","/**\n * Metadata module.\n * @module metadata\n * @see module:dao/dao\n */\nimport { Dao } from '../dao/dao';\n\nimport { Metadata } from './metadata';\nimport { DBValue } from '../db/dbAdapter';\n\n/**\n * Metadata Data Access Object\n * @class\n * @extends Dao\n */\nexport class MetadataDao extends Dao<Metadata> {\n  public static readonly TABLE_NAME: string = 'gpkg_metadata';\n  public static readonly COLUMN_ID: string = 'id';\n  public static readonly COLUMN_MD_SCOPE: string = 'md_scope';\n  public static readonly COLUMN_MD_STANDARD_URI: string = 'md_standard_uri';\n  public static readonly COLUMN_MIME_TYPE: string = 'mime_type';\n  public static readonly COLUMN_METADATA: string = 'metadata';\n\n  readonly gpkgTableName: string = MetadataDao.TABLE_NAME;\n  readonly idColumns: string[] = [MetadataDao.COLUMN_ID];\n\n  createObject(results?: Record<string, DBValue>): Metadata {\n    const m = new Metadata();\n    if (results) {\n      m.id = results.id as number;\n      m.md_scope = results.md_scope as string;\n      m.md_standard_uri = results.md_standard_uri as string;\n      m.mime_type = results.mime_type as string;\n      m.metadata = results.metadata as string;\n    }\n    return m;\n  }\n}\n","/**\n * MetadataReference module.\n * @module metadata/reference\n * @see module:dao/dao\n */\nimport { Metadata } from '../metadata';\nimport { DBValue } from '../../db/dbAdapter';\n\ntype MetadataReferenceKeys =\n  | 'reference_scope'\n  | 'table_name'\n  | 'column_name'\n  | 'row_id_value'\n  | 'timestamp'\n  | 'md_file_id'\n  | 'md_parent_id';\n/**\n * Links metadata in the gpkg_metadata table to data in the feature, and tiles tables\n * @class MetadataReference\n */\nexport class MetadataReference {\n  public static readonly GEOPACKAGE: string = 'geopackage';\n  public static readonly TABLE: string = 'table';\n  public static readonly COLUMN: string = 'column';\n  public static readonly ROW: string = 'row';\n  public static readonly ROW_COL: string = 'row/col';\n\n  /**\n   * Lowercase metadata reference scope; one of geopackage, table, column, row, row/col\n   * @member {string}\n   */\n  reference_scope: string;\n  /**\n   * Name of the table to which this metadata reference applies, or NULL for reference_scope of geopackage.\n   * @member {string}\n   */\n  table_name: string;\n  /**\n   * Name of the column to which this metadata reference applies; NULL for\n   * reference_scope of geopackage,table or row, or the name of a column\n   * in the table_name table for reference_scope of column or row/col\n   * @member {string}\n   */\n  column_name: string;\n  /**\n   * NULL for reference_scope of geopackage, table or column, or the\n   * rowed of a row record in the table_name table for reference_scope of\n   * row or row/col\n   * @member {Number}\n   */\n  row_id_value: number;\n  /**\n   * timestamp value in ISO 8601 format as defined by the strftime function\n   * '%Y-%m-%dT%H:%M:%fZ' format string applied to the current time\n   * @member {Date}\n   */\n  timestamp: Date;\n  /**\n   * gpkg_metadata table id column value for the metadata to which this\n   * gpkg_metadata_reference applies\n   * @member {Number}\n   */\n  md_file_id: number;\n  /**\n   * gpkg_metadata table id column value for the hierarchical parent\n   * gpkg_metadata for the gpkg_metadata to which this gpkg_metadata_reference\n   * applies, or NULL if md_file_id forms the root of a metadata hierarchy\n   * @member {Number}\n   */\n  md_parent_id: number;\n  /**\n   * @param {string} columnName\n   */\n  toDatabaseValue(columnName: MetadataReferenceKeys): DBValue {\n    if (columnName === 'timestamp') {\n      return this.timestamp.toISOString();\n    }\n    return this[columnName];\n  }\n  /**\n   * Set the metadata\n   * @param  {Metadata} [metadata] metadata\n   */\n  setMetadata(metadata?: Metadata): void {\n    if (metadata) {\n      this.md_file_id = metadata.id;\n    } else {\n      this.md_file_id = -1;\n    }\n  }\n  /**\n   * Set the parent metadata\n   * @param  {Metadata} [metadata] parent metadata\n   */\n  setParentMetadata(metadata?: Metadata): void {\n    if (metadata) {\n      this.md_parent_id = metadata.id;\n    } else {\n      this.md_parent_id = -1;\n    }\n  }\n  setReferenceScopeType(referenceScopeType: string): void {\n    this.reference_scope = referenceScopeType;\n    switch (referenceScopeType) {\n      case MetadataReference.GEOPACKAGE:\n        this.table_name = undefined;\n        this.column_name = undefined;\n        this.row_id_value = undefined;\n        break;\n      case MetadataReference.TABLE:\n        this.column_name = undefined;\n        this.row_id_value = undefined;\n        break;\n      case MetadataReference.ROW:\n        this.column_name = undefined;\n        break;\n      case MetadataReference.COLUMN:\n        this.row_id_value = undefined;\n        break;\n    }\n  }\n}\n","import { Dao } from '../../dao/dao';\n\nimport { ColumnValues } from '../../dao/columnValues';\nimport { MetadataReference } from './metadataReference';\nimport { DBValue } from '../../db/dbAdapter';\n/**\n * Metadata Reference Data Access Object\n * @class\n * @extends Dao\n */\nexport class MetadataReferenceDao extends Dao<MetadataReference> {\n  public static readonly TABLE_NAME: string = 'gpkg_metadata_reference';\n  public static readonly COLUMN_REFERENCE_SCOPE: string = 'reference_scope';\n  public static readonly COLUMN_TABLE_NAME: string = 'table_name';\n  public static readonly COLUMN_COLUMN_NAME: string = 'column_name';\n  public static readonly COLUMN_ROW_ID: string = 'row_id_value';\n  public static readonly COLUMN_TIMESTAMP: string = 'timestamp';\n  public static readonly COLUMN_MD_FILE_ID: string = 'md_file_id';\n  public static readonly COLUMN_MD_PARENT_ID: string = 'md_parent_id';\n\n  readonly gpkgTableName: string = MetadataReferenceDao.TABLE_NAME;\n  readonly idColumns: string[] = [MetadataReferenceDao.COLUMN_MD_FILE_ID, MetadataReferenceDao.COLUMN_MD_PARENT_ID];\n\n  createObject(results?: Record<string, DBValue>): MetadataReference {\n    const mr = new MetadataReference();\n    if (results) {\n      mr.reference_scope = results.reference_scope as string;\n      mr.table_name = results.table_name as string;\n      mr.column_name = results.column_name as string;\n      mr.row_id_value = results.row_id_value as number;\n      mr.timestamp = new Date(results.timestamp as string);\n      mr.md_file_id = results.md_file_id as number;\n      mr.md_parent_id = results.md_parent_id as number;\n    }\n    return mr;\n  }\n  /**\n   * @param {Number} parentId\n   * @return {Number} number of rows updated\n   */\n  removeMetadataParent(parentId: number): number {\n    const values: Record<string, DBValue> = {};\n    values[MetadataReferenceDao.COLUMN_MD_PARENT_ID] = null;\n    const where = this.buildWhereWithFieldAndValue(MetadataReferenceDao.COLUMN_MD_PARENT_ID, parentId);\n    const whereArgs = this.buildWhereArgs(parentId);\n    return this.updateWithValues(values, where, whereArgs).changes;\n  }\n  /**\n   * @param {Number} fileId\n   * @param {Number} parentId\n   * @return {Iterable.<Object>}\n   */\n  queryByMetadataAndParent(fileId: number, parentId: number): IterableIterator<any> {\n    const columnValues = new ColumnValues();\n    columnValues.addColumn(MetadataReferenceDao.COLUMN_MD_FILE_ID, fileId);\n    columnValues.addColumn(MetadataReferenceDao.COLUMN_MD_PARENT_ID, parentId);\n    return this.queryForFieldValues(columnValues);\n  }\n  /**\n   * @param {Number} fileId\n   * @return {Iterable.<Object>}\n   */\n  queryByMetadata(fileId: number): IterableIterator<any> {\n    const columnValues = new ColumnValues();\n    columnValues.addColumn(MetadataReferenceDao.COLUMN_MD_FILE_ID, fileId);\n    return this.queryForFieldValues(columnValues);\n  }\n  /**\n   * @param {Number} parentId\n   * @return {Iterable.<Object>}\n   */\n  queryByMetadataParent(parentId: number): IterableIterator<any> {\n    const columnValues = new ColumnValues();\n    columnValues.addColumn(MetadataReferenceDao.COLUMN_MD_PARENT_ID, parentId);\n    return this.queryForFieldValues(columnValues);\n  }\n\n\n  deleteByTableName(table: string): number {\n    let where = '';\n    where += this.buildWhereWithFieldAndValue(MetadataReferenceDao.COLUMN_TABLE_NAME, table);\n    const whereArgs = this.buildWhereArgs(table);\n    return this.deleteWhere(where, whereArgs);\n  }\n}\n","export class OptionBuilder {\n  static build(optionList: string[]): any {\n    const optionBuilder = {} as any;\n    optionList.forEach(function(option) {\n      optionBuilder['set' + option.slice(0, 1).toUpperCase() + option.slice(1)] = function(param: any): OptionBuilder {\n        this[option] = param;\n        return this;\n      };\n      optionBuilder['get' + option.slice(0, 1).toUpperCase() + option.slice(1)] = function(): any {\n        return this[option];\n      };\n    });\n    return optionBuilder;\n  }\n}\n","import proj4 from 'proj4';\nimport isEqual from 'lodash/isEqual';\nimport { ProjectionConstants } from './projectionConstants';\n\nexport class Projection {\n  static loadProjection(name: string, definition: string | proj4.ProjectionDefinition): void {\n    if (!name || !definition) {\n      throw new Error('Invalid projection name/definition');\n    }\n    if (proj4.defs(name) == null) {\n      proj4.defs(name, definition);\n    }\n  }\n\n  static loadProjections(items: { name: string; definition: string | proj4.ProjectionDefinition }[]): void {\n    if (!items) throw new Error('Invalid array of projections');\n    for (let i = 0; i < items.length; i++) {\n      if (!items[i] || !items[i].name || !items[i].definition) {\n        throw new Error('Invalid projection in array. Valid projection {name: string, definition: string}.');\n      }\n      Projection.loadProjection(items[i].name, items[i].definition);\n    }\n  }\n\n  static isConverter(x: proj4.Converter | string): x is proj4.Converter {\n    return (x as proj4.Converter).forward !== undefined;\n  }\n\n  static hasProjection(name: string): proj4.ProjectionDefinition {\n    return proj4.defs(name);\n  }\n\n  /**\n   * Get proj4.Converter\n   * @param from - name of from projection\n   * @param to - name of to projection\n   * @return proj4.Converter\n   */\n  static getConverter(from: string, to?: string): proj4.Converter {\n    if (from != null && proj4(from) == null) {\n      throw new Error('Projection ' + from + ' has not been defined.');\n    }\n    if (to != null && proj4(to) == null) {\n      throw new Error('Projection ' + to + ' has not been defined.');\n    }\n    return proj4(from, to);\n  }\n\n  /**\n   * Convert coordinates\n   * @param from - name of from projection\n   * @param to - name of to projection\n   * @param coordinates - coordinates\n   * @return proj4.Converter\n   */\n  static convertCoordinates(from: string, to: string, coordinates: any): proj4.Converter {\n    if (from != null && proj4(from) == null) {\n      throw new Error('Projection ' + from + ' has not been defined.');\n    }\n    if (to != null && proj4(to) == null) {\n      throw new Error('Projection ' + to + ' has not been defined.');\n    }\n    return proj4(from, to, coordinates);\n  }\n\n  static getEPSGConverter(epsgId: number): proj4.Converter {\n    return proj4(ProjectionConstants.EPSG_PREFIX + epsgId);\n  }\n\n  static getWebMercatorToWGS84Converter(): proj4.Converter {\n    return proj4(ProjectionConstants.EPSG_3857);\n  }\n\n  static isWebMercator(proj: string | proj4.Converter): boolean {\n    if (typeof proj === 'string') {\n      return proj.toUpperCase() === ProjectionConstants.EPSG_3857;\n    } else {\n      return this.convertersMatch(this.getEPSGConverter(ProjectionConstants.EPSG_CODE_3857), proj);\n    }\n  }\n\n  static isWGS84(proj: string | proj4.Converter): boolean {\n    if (typeof proj === 'string') {\n      return proj.toUpperCase() === ProjectionConstants.EPSG_4326;\n    } else {\n      return this.convertersMatch(this.getEPSGConverter(ProjectionConstants.EPSG_CODE_4326), proj);\n    }\n  }\n\n  static convertersMatch(converterA: any, converterB: any): boolean {\n    return isEqual(converterA.oProj, converterB.oProj);\n  }\n\n  static getConverterFromConverters(from: any, to?: any): proj4.Converter {\n    return proj4(from, to);\n  }\n}\n","/**\n * projectionConstants module.\n * @module projection/projectionConstants\n */\n\nexport class ProjectionConstants {\n  public static readonly EPSG: string = 'EPSG';\n  public static readonly EPSG_PREFIX: string = 'EPSG:';\n  public static readonly EPSG_CODE_3857: number = 3857;\n  public static readonly EPSG_CODE_4326: number = 4326;\n  public static readonly EPSG_CODE_900913: number = 900913;\n  public static readonly EPSG_CODE_102113: number = 102113;\n  public static readonly EPSG_3857: string = ProjectionConstants.EPSG_PREFIX + ProjectionConstants.EPSG_CODE_3857;\n  public static readonly EPSG_4326: string = ProjectionConstants.EPSG_PREFIX + ProjectionConstants.EPSG_CODE_4326;\n  public static readonly EPSG_900913: string = ProjectionConstants.EPSG_PREFIX + ProjectionConstants.EPSG_CODE_900913;\n  public static readonly EPSG_102113: string = ProjectionConstants.EPSG_PREFIX + ProjectionConstants.EPSG_CODE_102113;\n  public static readonly WEB_MERCATOR_MAX_LAT_RANGE: number = 85.0511287798066;\n  public static readonly WEB_MERCATOR_MIN_LAT_RANGE: number = -85.05112877980659;\n  public static readonly WEB_MERCATOR_MAX_LON_RANGE: number = 180.0;\n  public static readonly WEB_MERCATOR_MIN_LON_RANGE: number = -180.0;\n  public static readonly WEB_MERCATOR_HALF_WORLD_WIDTH: number = 20037508.342789244;\n  public static readonly WGS84_HALF_WORLD_LON_WIDTH: number = 180.0;\n  public static readonly WGS84_HALF_WORLD_LAT_HEIGHT: number = 90.0;\n}\n","import * as fileType from 'file-type';\nimport proj4 from 'proj4';\nimport ProjectTile from './projectTile';\n\nimport { TileBoundingBoxUtils } from '../tileBoundingBoxUtils';\nimport { TileMatrix } from '../matrix/tileMatrix';\nimport { TileMatrixSet } from '../matrixset/tileMatrixSet';\nimport { SpatialReferenceSystem } from '../../core/srs/spatialReferenceSystem';\nimport { BoundingBox } from '../../boundingBox';\nimport { Canvas } from '../../canvas/canvas';\nimport { ImageUtils } from '../imageUtils';\nimport { TileUtilities } from './tileUtilities';\nimport { Projection } from '../../projection/projection';\nimport { ProjectionConstants } from '../../projection/projectionConstants';\n\nexport class TileCreator {\n  dispose: boolean = false;\n  canvas: any = null;\n  ctx: any;\n  image: any;\n  tileCanvas: any;\n  tileContext: any;\n  imageData: any;\n  pixelsAdded: boolean = false;\n  width: number;\n  height: number;\n  tileMatrix: TileMatrix;\n  projectionFrom: string;\n  projectionFromDefinition: string;\n  projectionTo: string;\n  projectionToDefinition: string | proj4.ProjectionDefinition;\n  tileBoundingBox: BoundingBox;\n  tileMatrixSet: TileMatrixSet;\n  chunks: any[];\n  tileHeightUnitsPerPixel: number;\n  tileWidthUnitsPerPixel: number;\n  sameProjection: boolean;\n\n  constructor (\n    width: number,\n    height: number,\n    tileMatrix: TileMatrix,\n    tileMatrixSet: TileMatrixSet,\n    tileBoundingBox: BoundingBox,\n    srs: SpatialReferenceSystem,\n    projectionTo: string,\n    projectionToDefinition: string | proj4.ProjectionDefinition,\n    canvas: any,\n  ) {\n    this.width = width;\n    this.height = height;\n    this.tileMatrix = tileMatrix;\n    this.projectionFrom = srs.organization.toUpperCase() + ':' + srs.organization_coordsys_id;\n    this.projectionFromDefinition = srs.definition;\n    this.projectionTo = projectionTo.toUpperCase();\n    this.projectionToDefinition = projectionToDefinition\n    this.tileBoundingBox = tileBoundingBox;\n    this.tileMatrixSet = tileMatrixSet;\n    this.chunks = [];\n    this.tileHeightUnitsPerPixel = (tileBoundingBox.height) / height;\n    this.tileWidthUnitsPerPixel = (tileBoundingBox.width) / width;\n    // use this as a quick check if the projections are equal.  If they are we can shortcut some math\n    // special cases 'EPSG:900913' =='EPSG:3857' == 'EPSG:102113'\n    this.sameProjection =\n      this.projectionFrom === this.projectionTo ||\n      (this.projectionTo === ProjectionConstants.EPSG_3857 &&\n        (this.projectionFrom === ProjectionConstants.EPSG_900913 || this.projectionFrom === ProjectionConstants.EPSG_102113));\n\n    this.canvas = canvas;\n  }\n\n  /**\n   * Factory method to generate a TileCreator instance\n   * @param width\n   * @param height\n   * @param tileMatrix\n   * @param tileMatrixSet\n   * @param tileBoundingBox\n   * @param srs\n   * @param projectionTo\n   * @param projectionToDefinition\n   * @param canvas\n   */\n  static async create(\n    width: number,\n    height: number,\n    tileMatrix: TileMatrix,\n    tileMatrixSet: TileMatrixSet,\n    tileBoundingBox: BoundingBox,\n    srs: SpatialReferenceSystem,\n    projectionTo: string,\n    projectionToDefinition: string | proj4.ProjectionDefinition,\n    canvas: any,\n  ): Promise<TileCreator> {\n    const creator = new TileCreator(\n      width,\n      height,\n      tileMatrix,\n      tileMatrixSet,\n      tileBoundingBox,\n      srs,\n      projectionTo,\n      projectionToDefinition,\n      canvas,\n    );\n    await creator.initialize();\n    return creator;\n  }\n\n  /**\n   * Initialize the TileCreator\n   */\n  async initialize(): Promise<TileCreator> {\n    await Canvas.initializeAdapter();\n    if (this.canvas == null) {\n      this.canvas = Canvas.create(this.width, this.height);\n      this.dispose = true;\n    }\n    this.ctx = this.canvas.getContext('2d');\n    this.tileCanvas = Canvas.create(this.tileMatrix.tile_width, this.tileMatrix.tile_height);\n    this.tileContext = this.tileCanvas.getContext('2d');\n    this.imageData = Canvas.createImageData(this.width, this.height);\n    return this;\n  }\n\n  /**\n   * Adds a single pixel from one image to another\n   * @param targetX\n   * @param targetY\n   * @param sourceX\n   * @param sourceY\n   */\n  addPixel(targetX: number, targetY: number, sourceX: number, sourceY: number): void {\n    const color = this.tileContext.getImageData(sourceX, sourceY, 1, 1);\n    this.imageData.data.set(color.data, targetY * this.width * 4 + targetX * 4);\n    this.pixelsAdded = true\n  }\n\n  /**\n   * Adds a tile and reprojects it if necessary before drawing it into the target canvas\n   * @param tileData a `string` file path or `Buffer` containing image data\n   * @param gridColumn `number`\n   * @param gridRow `number`\n   */\n  async addTile(tileData: any, gridColumn: number, gridRow: number): Promise<void> {\n    const type = await (typeof tileData === 'string' ? fileType.fromFile(tileData) : fileType.fromBuffer(tileData));\n    const tile = await ImageUtils.getImage(tileData, type.mime);\n    this.tileContext.clearRect(0, 0, this.tileMatrix.tile_width, this.tileMatrix.tile_height);\n    this.tileContext.drawImage(tile.image, 0, 0);\n    this.chunks = [];\n    await this.projectTile(tileData, gridColumn, gridRow);\n    if (this.pixelsAdded) {\n      this.ctx.putImageData(this.imageData, 0, 0);\n    }\n    if (this.chunks && this.chunks.length) {\n      for (let i = 0; i < this.chunks.length; i++) {\n        const p = this.chunks[i].position;\n        this.ctx.drawImage(tile.image, p.sx, p.sy, p.sWidth, p.sHeight, p.dx, p.dy, p.dWidth, p.dHeight);\n      }\n    }\n    Canvas.disposeImage(tile);\n  }\n\n  /**\n   * Projects the tile into the target projection and renders into the target canvas\n   * @param tileData\n   * @param gridColumn\n   * @param gridRow\n   */\n  async projectTile(tileData: any, gridColumn: number, gridRow: number): Promise<any> {\n    const bb = TileBoundingBoxUtils.getTileBoundingBox(\n      this.tileMatrixSet.boundingBox,\n      this.tileMatrix,\n      gridColumn,\n      gridRow,\n    );\n    if (!this.sameProjection) {\n      return this.reproject(tileData, bb);\n    } else {\n      return this.cutAndScale(tileData, bb);\n    }\n  }\n\n  /**\n   * Cuts and scales tile data to fit the specified bounding box\n   * @param tileData\n   * @param tilePieceBoundingBox\n   */\n  cutAndScale(tileData: any, tilePieceBoundingBox: BoundingBox): void {\n    const position = TileBoundingBoxUtils.determinePositionAndScale(\n      tilePieceBoundingBox,\n      this.tileMatrix.tile_height,\n      this.tileMatrix.tile_width,\n      this.tileBoundingBox,\n      this.height,\n      this.width,\n    );\n    if (position.xPositionInFinalTileStart >= this.width || position.yPositionInFinalTileStart >= this.height) {\n      // this tile doesn't belong just skip it\n    } else {\n      this.addChunk(tileData, position);\n    }\n  }\n\n  /**\n   * Adds chunks to the chunk list.\n   * @param chunk\n   * @param position\n   */\n  addChunk(chunk: any, position: any): void {\n    this.chunks.push({\n      chunk: chunk,\n      position: position,\n    });\n  }\n\n  /**\n   * Reprojection tile data into target\n   * @param tileData\n   * @param tilePieceBoundingBox\n   */\n  async reproject(tileData: any, tilePieceBoundingBox: BoundingBox): Promise<void> {\n    // if web workers are available, execute the reprojection in a web worker\n    if (typeof window !== 'undefined' && window.Worker) {\n      TileUtilities.getPiecePosition(\n        tilePieceBoundingBox,\n        this.tileBoundingBox,\n        this.height,\n        this.width,\n        this.projectionTo,\n        this.projectionToDefinition,\n        this.projectionFrom,\n        this.projectionFromDefinition,\n        this.tileHeightUnitsPerPixel,\n        this.tileWidthUnitsPerPixel,\n        this.tileMatrix.pixel_x_size,\n        this.tileMatrix.pixel_y_size,\n      );\n      const job = {\n        sourceImageData: this.tileContext.getImageData(0, 0, this.tileMatrix.tile_width, this.tileMatrix.tile_height).data.buffer,\n        height: this.height,\n        width: this.width,\n        projectionTo: this.projectionTo,\n        projectionToDefinition: this.projectionToDefinition,\n        projectionFrom: this.projectionFrom,\n        projectionFromDefinition: this.projectionFromDefinition,\n        maxLatitude: this.tileBoundingBox.maxLatitude,\n        minLongitude: this.tileBoundingBox.minLongitude,\n        tileWidthUnitsPerPixel: this.tileWidthUnitsPerPixel,\n        tileHeightUnitsPerPixel: this.tileHeightUnitsPerPixel,\n        tilePieceBoundingBox: JSON.stringify(tilePieceBoundingBox),\n        tileBoundingBox: JSON.stringify(this.tileBoundingBox),\n        pixel_y_size: this.tileMatrix.pixel_y_size,\n        pixel_x_size: this.tileMatrix.pixel_x_size,\n        tile_width: this.tileMatrix.tile_width,\n        tile_height: this.tileMatrix.tile_height,\n      };\n      return new Promise(resolve => {\n        try {\n          const work = require('webworkify');\n          const worker = work(require('./tileWorker.js'));\n          worker.onmessage = (e: { data: any }): void => {\n            this.canvas.getContext('2d').putImageData(new ImageData(new Uint8ClampedArray(e.data), this.height, this.width), 0, 0);\n            resolve();\n          };\n          worker.postMessage(job, [\n            this.tileContext.getImageData(0, 0, this.tileMatrix.tile_width, this.tileMatrix.tile_height).data.buffer,\n          ]);\n        } catch (e) {\n          const worker = ProjectTile;\n          const data = worker(job);\n          this.canvas.getContext('2d').putImageData(new ImageData(new Uint8ClampedArray(data), this.height, this.width), 0, 0);\n          resolve();\n        }\n      });\n    } else {\n      const height = this.height;\n      const width = this.width;\n      const tileHeight = this.tileMatrix.tile_height;\n      const tileWidth = this.tileMatrix.tile_width;\n      let conversion;\n      try {\n        if (Projection.hasProjection(this.projectionTo) == null) {\n          Projection.loadProjection(this.projectionTo, this.projectionToDefinition)\n        }\n        if (Projection.hasProjection(this.projectionFrom) == null) {\n          Projection.loadProjection(this.projectionFrom, this.projectionFromDefinition)\n        }\n        conversion = proj4(this.projectionTo, this.projectionFrom);\n      } catch (e) {}\n      let latitude;\n      for (let row = 0; row < height; row++) {\n        latitude = this.tileBoundingBox.maxLatitude - row * this.tileHeightUnitsPerPixel;\n        for (let column = 0; column < width; column++) {\n          const longitude = this.tileBoundingBox.minLongitude + column * this.tileWidthUnitsPerPixel;\n          const projected = conversion.forward([longitude, latitude]);\n          const xPixel = tileWidth - Math.round((tilePieceBoundingBox.maxLongitude - projected[0]) / this.tileMatrix.pixel_x_size);\n          const yPixel = Math.round((tilePieceBoundingBox.maxLatitude - projected[1]) / this.tileMatrix.pixel_y_size);\n          if (xPixel >= 0 && xPixel < tileWidth && yPixel >= 0 && yPixel < tileHeight) {\n            this.addPixel(column, row, xPixel, yPixel);\n          }\n        }\n      }\n      this.canvas.getContext('2d').putImageData(this.imageData, 0, 0);\n    }\n  }\n\n  /**\n   * Gets the complete tile as a base64 encoded data url\n   * @param format\n   */\n  async getCompleteTile(format?: string): Promise<any> {\n    return Canvas.toDataURL(this.canvas, format);\n  }\n\n  /**\n   * Cleans up any canvases that may have been created\n   */\n  cleanup () {\n    if (this.dispose) {\n      Canvas.disposeCanvas(this.canvas);\n    }\n    Canvas.disposeCanvas(this.tileCanvas);\n  }\n}\n","/**\n * CustomFeaturesTile module.\n * @module tiles/features/custom\n */\n/**\n * Custom Feature Tile\n * @constructor\n */\nexport abstract class CustomFeaturesTile {\n  tileBorderStrokeWidth: number;\n  tileBorderColor: string;\n  tileFillColor: string;\n  compressFormat: string;\n  drawUnindexedTiles: boolean;\n\n  constructor() {\n    this.compressFormat = 'png';\n    this.tileBorderStrokeWidth = 2;\n    this.tileBorderColor = 'rgba(0, 0, 0, 1.0)';\n    this.tileFillColor = 'rgba(0, 0, 0, 0.0625)';\n    this.drawUnindexedTiles = true;\n  }\n\n  /**\n   * Draw a tile with the provided text label in the middle\n   * @param {Number} tileWidth\n   * @param {Number} tileHeight\n   * @param {String} text\n   * @param canvas optional canvas\n   * @return {Promise<String|Buffer>}\n   */\n  abstract drawTile(\n    tileWidth: number,\n    tileHeight: number,\n    text: string,\n    canvas?: any,\n  ): Promise<string | Buffer | Uint8Array>;\n  /**\n   * Draw a tile with the provided text label in the middle\n   * @param {Number} tileWidth\n   * @param {Number} tileHeight\n   * @param canvas optional canvas\n   * @return {Promise<String|Buffer>}\n   */\n  abstract drawUnindexedTile(\n    tileWidth: number,\n    tileHeight: number,\n    canvas?: any,\n  ): Promise<string | Buffer | Uint8Array>;\n}\n","import { Canvas } from '../../../canvas/canvas';\nimport { CustomFeaturesTile } from './customFeaturesTile';\n\n/**\n * Draws a tile indicating the number of features that exist within the tile,\n * visible when zoomed in closer. The number is drawn in the center of the tile\n * and by default is surrounded by a colored circle with border. By default a\n * tile border is drawn and the tile is colored (transparently most likely). The\n * paint objects for each draw type can be modified to or set to null (except\n * for the text paint object).\n */\nexport class NumberFeaturesTile extends CustomFeaturesTile {\n  textSize: number;\n  textFont: string;\n  textColor: string;\n  circleStrokeWidth: number;\n  circleBorderColor: string;\n  circleFillColor: string;\n  circlePaddingPercentage: number;\n  defaultFontRegistered: boolean;\n  constructor() {\n    super();\n    this.textSize = 18;\n    this.textFont = 'Noto Mono';\n    this.textColor = 'rgba(255, 255, 255, 1.0)';\n    this.circleStrokeWidth = 3;\n    this.circleBorderColor = 'rgba(0, 0, 0, 0.25)';\n    this.circleFillColor = 'rgba(0, 0, 0, 1.0)';\n    this.circlePaddingPercentage = 0.25;\n    this.defaultFontRegistered = false;\n  }\n\n  /**\n   * Get the text size\n   * @return {Number} text size\n   */\n  getTextSize(): number {\n    return this.textSize;\n  }\n  /**\n   * Set the text size\n   * @param {Number} textSize text size\n   */\n  setTextSize(textSize: number): void {\n    this.textSize = textSize;\n  }\n  /**\n   * Get the text color\n   * @return {String} text color\n   */\n  getTextColor(): string {\n    return this.textColor;\n  }\n  /**\n   * Set the text color\n   * @param {String} textColor text color\n   */\n  setTextColor(textColor: string): void {\n    this.textColor = textColor;\n  }\n  /**\n   * Get the circle stroke width\n   * @return {Number} circle stroke width\n   */\n  getCircleStrokeWidth(): number {\n    return this.circleStrokeWidth;\n  }\n  /**\n   * Set the circle stroke width\n   * @param {Number} circleStrokeWidth circle stroke width\n   */\n  setCircleStrokeWidth(circleStrokeWidth: number): void {\n    this.circleStrokeWidth = circleStrokeWidth;\n  }\n  /**\n   * Get the circle color\n   * @return {String} circle color\n   */\n  getCircleColor(): string {\n    return this.circleBorderColor;\n  }\n  /**\n   * Set the circle color\n   * @param {String} circleBorderColor circle color\n   */\n  setCircleColor(circleBorderColor: string): void {\n    this.circleBorderColor = circleBorderColor;\n  }\n  /**\n   * Get the circle fill color\n   * @return {String} circle fill color\n   */\n  getCircleFillColor(): string {\n    return this.circleFillColor;\n  }\n  /**\n   * Set the circle fill color\n   * @param {String} circleFillColor circle fill color\n   */\n  setCircleFillColor(circleFillColor: string): void {\n    this.circleFillColor = circleFillColor;\n  }\n  /**\n   * Get the circle padding percentage around the text\n   * @return {Number} circle padding percentage, 0.0 to 1.0\n   */\n  getCirclePaddingPercentage(): number {\n    return this.circlePaddingPercentage;\n  }\n  /**\n   * Set the circle padding percentage to pad around the text, value between\n   * 0.0 and 1.0\n   * @param {Number} circlePaddingPercentage circle padding percentage\n   */\n  setCirclePaddingPercentage(circlePaddingPercentage: number): void {\n    if (circlePaddingPercentage < 0.0 || circlePaddingPercentage > 1.0) {\n      throw new Error('Circle padding percentage must be between 0.0 and 1.0: ' + circlePaddingPercentage);\n    }\n    this.circlePaddingPercentage = circlePaddingPercentage;\n  }\n  /**\n   * Get the tile border stroke width\n   * @return {Number} tile border stroke width\n   */\n  getTileBorderStrokeWidth(): number {\n    return this.tileBorderStrokeWidth;\n  }\n  /**\n   * Set the tile border stroke width\n   *\n   * @param {Number} tileBorderStrokeWidth tile border stroke width\n   */\n  setTileBorderStrokeWidth(tileBorderStrokeWidth: number): void {\n    this.tileBorderStrokeWidth = tileBorderStrokeWidth;\n  }\n  /**\n   * Get the tile border color\n   * @return {String} tile border color\n   */\n  getTileBorderColor(): string {\n    return this.tileBorderColor;\n  }\n  /**\n   * Set the tile border color\n   * @param {String} tileBorderColor tile border color\n   */\n  setTileBorderColor(tileBorderColor: string): void {\n    this.tileBorderColor = tileBorderColor;\n  }\n  /**\n   * Get the tile fill color\n   * @return {String} tile fill color\n   */\n  getTileFillColor(): string {\n    return this.tileFillColor;\n  }\n  /**\n   * Set the tile fill color\n   * @param {String} tileFillColor tile fill color\n   */\n  setTileFillColor(tileFillColor: string): void {\n    this.tileFillColor = tileFillColor;\n  }\n  /**\n   * Is the draw unindexed tiles option enabled\n   * @return {Boolean} true if drawing unindexed tiles\n   */\n  isDrawUnindexedTiles(): boolean {\n    return this.drawUnindexedTiles;\n  }\n  /**\n   * Set the draw unindexed tiles option\n   * @param {Boolean} drawUnindexedTiles draw unindexed tiles flag\n   */\n  setDrawUnindexedTiles(drawUnindexedTiles: boolean): void {\n    this.drawUnindexedTiles = drawUnindexedTiles;\n  }\n  /**\n   * Get the compression format\n   * @return {String} the compression format (either png or jpeg)\n   */\n  getCompressFormat(): string {\n    return this.compressFormat;\n  }\n  /**\n   * Set the compression format\n   * @param {String} compressFormat either 'png' or 'jpeg'\n   */\n  setCompressFormat(compressFormat: string): void {\n    this.compressFormat = compressFormat;\n  }\n  /**\n   * Draw unindexed tile\n   * @param tileWidth\n   * @param tileHeight\n   * @param canvas\n   * @returns {Promise<String|Buffer>}\n   */\n  async drawUnindexedTile(\n    tileWidth: number,\n    tileHeight: number,\n    canvas: any = null,\n  ): Promise<string | Buffer | Uint8Array> {\n    let image = null;\n    if (this.drawUnindexedTiles) {\n      // Draw a tile indicating we have no idea if there are features\n      // inside.\n      // The table is not indexed and more features exist than the max\n      // feature count set.\n      image = this.drawTile(tileWidth, tileHeight, '?', canvas);\n    }\n    return image;\n  }\n  /**\n   * Draw a tile with the provided text label in the middle\n   * @param {Number} tileWidth\n   * @param {Number} tileHeight\n   * @param {String} text\n   * @param tileCanvas\n   * @return {Promise<String|Buffer>}\n   */\n  async drawTile(\n    tileWidth: number,\n    tileHeight: number,\n    text: string,\n    tileCanvas: null,\n  ): Promise<string | Buffer | Uint8Array> {\n    // eslint-disable-next-line complexity\n    await Canvas.initializeAdapter();\n    return new Promise(resolve => {\n      let canvas;\n      let dispose = false;\n      if (tileCanvas !== undefined && tileCanvas !== null) {\n        canvas = tileCanvas;\n      } else {\n        canvas = Canvas.create(tileWidth, tileHeight);\n        dispose = true;\n      }\n      const context = canvas.getContext('2d');\n      context.clearRect(0, 0, tileWidth, tileHeight);\n      // Draw the tile border\n      if (this.tileFillColor !== null) {\n        context.fillStyle = this.tileFillColor;\n        context.fillRect(0, 0, tileWidth, tileHeight);\n      }\n      // Draw the tile border\n      if (this.tileBorderColor !== null) {\n        context.strokeStyle = this.tileBorderColor;\n        context.lineWidth = this.tileBorderStrokeWidth;\n        context.strokeRect(0, 0, tileWidth, tileHeight);\n      }\n      const textWidth = Canvas.measureText(context, this.textFont, this.textSize, text);\n      const textHeight = this.textSize;\n      // Determine the center of the tile\n      const centerX = Math.round(tileWidth / 2.0);\n      const centerY = Math.round(tileHeight / 2.0);\n      // Draw the circle\n      if (this.circleBorderColor != null || this.circleFillColor != null) {\n        const diameter = Math.max(textWidth, textHeight);\n        let radius = Math.round(diameter / 2.0);\n        radius = Math.round(radius + diameter * this.circlePaddingPercentage);\n        // Draw the circle\n        if (this.circleFillColor != null) {\n          context.fillStyle = this.circleFillColor;\n          context.beginPath();\n          context.arc(centerX, centerY, radius, 0, 2 * Math.PI, true);\n          context.closePath();\n          context.fill();\n        }\n        // Draw the circle border\n        if (this.circleBorderColor != null) {\n          context.strokeStyle = this.circleBorderColor;\n          context.lineWidth = this.circleStrokeWidth;\n          context.beginPath();\n          context.arc(centerX, centerY, radius, 0, 2 * Math.PI, true);\n          context.closePath();\n          context.stroke();\n        }\n      }\n\n      Canvas.drawText(context, text, [centerX, centerY], this.textFont, this.textSize, this.textColor);\n\n      Canvas.toDataURL(canvas, 'image/' + this.compressFormat).then(result => {\n        if (dispose) {\n          Canvas.disposeCanvas(canvas);\n        }\n        resolve(result);\n      });\n    });\n  }\n}\n","import { Canvas } from '../../../canvas/canvas';\nimport { CustomFeaturesTile } from './customFeaturesTile';\n\n/**\n * Draws a tile which is shaded to indicate too many features. By default a\n * tile border is drawn and the tile is filled with 6.25% transparent black. The\n * paint objects for each draw type can be modified to or set to null (except\n * for the text paint object).\n */\nexport class ShadedFeaturesTile extends CustomFeaturesTile {\n  constructor() {\n    super();\n  }\n  /**\n   * Get the tile border stroke width\n   * @return {Number} tile border stroke width\n   */\n  getTileBorderStrokeWidth(): number {\n    return this.tileBorderStrokeWidth;\n  }\n  /**\n   * Set the tile border stroke width\n   *\n   * @param {Number} tileBorderStrokeWidth tile border stroke width\n   */\n  setTileBorderStrokeWidth(tileBorderStrokeWidth: number): void {\n    this.tileBorderStrokeWidth = tileBorderStrokeWidth;\n  }\n  /**\n   * Get the tile border color\n   * @return {String} tile border color\n   */\n  getTileBorderColor(): string {\n    return this.tileBorderColor;\n  }\n  /**\n   * Set the tile border color\n   * @param {String} tileBorderColor tile border color\n   */\n  setTileBorderColor(tileBorderColor: string): void {\n    this.tileBorderColor = tileBorderColor;\n  }\n  /**\n   * Get the tile fill color\n   * @return {String} tile fill color\n   */\n  getTileFillColor(): string {\n    return this.tileFillColor;\n  }\n  /**\n   * Set the tile fill color\n   * @param {String} tileFillColor tile fill color\n   */\n  setTileFillColor(tileFillColor: string): void {\n    this.tileFillColor = tileFillColor;\n  }\n  /**\n   * Is the draw unindexed tiles option enabled\n   * @return {Boolean} true if drawing unindexed tiles\n   */\n  isDrawUnindexedTiles(): boolean {\n    return this.drawUnindexedTiles;\n  }\n  /**\n   * Set the draw unindexed tiles option\n   * @param {Boolean} drawUnindexedTiles draw unindexed tiles flag\n   */\n  setDrawUnindexedTiles(drawUnindexedTiles: boolean): void {\n    this.drawUnindexedTiles = drawUnindexedTiles;\n  }\n  /**\n   * Get the compression format\n   * @return {String} the compression format (either png or jpeg)\n   */\n  getCompressFormat(): string {\n    return this.compressFormat;\n  }\n  /**\n   * Set the compression format\n   * @param {String} compressFormat either 'png' or 'jpeg'\n   */\n  setCompressFormat(compressFormat: string): void {\n    this.compressFormat = compressFormat;\n  }\n  /**\n   * Draw unindexed tile\n   * @param tileWidth\n   * @param tileHeight\n   * @param canvas\n   * @returns {Promise<String|Buffer>}\n   */\n  async drawUnindexedTile(\n    tileWidth: number,\n    tileHeight: number,\n    canvas: any = null,\n  ): Promise<string | Buffer | Uint8Array> {\n    let image = null;\n    if (this.drawUnindexedTiles) {\n      // Draw a tile indicating we have no idea if there are features\n      // inside.\n      // The table is not indexed and more features exist than the max\n      // feature count set.\n      image = this.drawTile(tileWidth, tileHeight, '?', canvas);\n    }\n    return image;\n  }\n  /**\n   * Draw a tile with the provided text label in the middle\n   * @param {Number} tileWidth\n   * @param {Number} tileHeight\n   * @param {String} text\n   * @param tileCanvas\n   * @return {Promise<String|Buffer>}\n   */\n  async drawTile(\n    tileWidth: number,\n    tileHeight: number,\n    text: string,\n    tileCanvas: null,\n  ): Promise<string | Buffer | Uint8Array> {\n    await Canvas.initializeAdapter();\n    return new Promise(resolve => {\n      let canvas;\n      let dispose = false;\n      if (tileCanvas !== undefined && tileCanvas !== null) {\n        canvas = tileCanvas;\n      } else {\n        canvas = Canvas.create(tileWidth, tileHeight);\n        dispose = true;\n      }\n      const context = canvas.getContext('2d');\n      context.clearRect(0, 0, tileWidth, tileHeight);\n      // Draw the tile border\n      if (this.tileFillColor !== null) {\n        context.fillStyle = this.tileFillColor;\n        context.fillRect(0, 0, tileWidth, tileHeight);\n      }\n      // Draw the tile border\n      if (this.tileBorderColor !== null) {\n        context.strokeStyle = this.tileBorderColor;\n        context.lineWidth = this.tileBorderStrokeWidth;\n        context.strokeRect(0, 0, tileWidth, tileHeight);\n      }\n      Canvas.toDataURL(canvas, 'image/' + this.compressFormat).then(result => {\n        if (dispose) {\n          Canvas.disposeCanvas(canvas);\n        }\n        resolve(result);\n      });\n    });\n  }\n}\n","export enum FeatureDrawType {\n  /**\n   * Circle for a point\n   */\n  CIRCLE = 'CIRCLE',\n  /**\n   * Stroke for a line of polygon\n   */\n  STROKE = 'STROKE',\n  /**\n   * Fill for a polygon\n   */\n  FILL = 'FILL',\n}\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace FeatureDrawType {\n  export function nameFromType(type: FeatureDrawType): string {\n    return FeatureDrawType[type];\n  }\n\n  export function fromName(type: string): FeatureDrawType {\n    switch (type) {\n      case 'CIRCLE':\n        return FeatureDrawType.CIRCLE;\n      case 'STROKE':\n        return FeatureDrawType.STROKE;\n      case 'FILL':\n        return FeatureDrawType.FILL;\n    }\n  }\n}\n","import { FeatureDrawType } from './featureDrawType';\nimport { Paint } from './paint';\n\n/**\n * FeaturePaint module.\n * @module tiles/features\n */\nexport class FeaturePaint {\n  featurePaints: { [key: string]: Paint } = {};\n  /**\n   * Get the feature paint for the featureDrawType\n   * @param {module:tiles/features~FeatureDrawType} featureDrawType\n   * @return {module:tiles/features~FeaturePaint} paint\n   */\n  getPaint(featureDrawType: FeatureDrawType): Paint {\n    return this.featurePaints[featureDrawType];\n  }\n  /**\n   * Set the feature paint for the featureDrawType\n   * @param {module:tiles/features~FeatureDrawType} featureDrawType\n   * @param {module:tiles/features~Paint} paint\n   */\n  setPaint(featureDrawType: FeatureDrawType, paint: Paint): void {\n    this.featurePaints[featureDrawType] = paint;\n  }\n}\n","import { StyleRow } from '../../extension/style/styleRow';\nimport { FeaturePaint } from './featurePaint';\nimport { FeatureDrawType } from './featureDrawType';\nimport { Paint } from './paint';\n/**\n * Constructor, created with cache size of {@link #DEFAULT_CACHE_SIZE}\n * @constructor\n */\nexport class FeaturePaintCache {\n  static DEFAULT_STYLE_PAINT_CACHE_SIZE = 100;\n  paintCache: { [key: number]: FeaturePaint } = {};\n  accessHistory: number[] = [];\n  /**\n   * @param {Number} size size of the cache\n   */\n  constructor(public cacheSize = FeaturePaintCache.DEFAULT_STYLE_PAINT_CACHE_SIZE) {}\n  /**\n   * Get the cached featurePaint for the style row or null if not cached\n   * @param {module:extension/style~StyleRow} styleRow style row\n   * @return {module:tiles/features~FeaturePaint} feature paint or null\n   */\n  getFeaturePaintForStyleRow(styleRow: StyleRow): FeaturePaint {\n    return this.getFeaturePaint(styleRow.id);\n  }\n  /**\n   * Get the cached featurePaint for the style row id or null if not cached\n   * @param {Number} styleRowId style row id\n   * @return {module:tiles/features~FeaturePaint} feature paint or null\n   */\n  getFeaturePaint(styleRowId: number): FeaturePaint {\n    const featurePaint = this.paintCache[styleRowId];\n    if (featurePaint) {\n      const index = this.accessHistory.indexOf(styleRowId);\n      if (index > -1) {\n        this.accessHistory.splice(index, 1);\n      }\n      this.accessHistory.push(styleRowId);\n    }\n    return featurePaint;\n  }\n  /**\n   * Get the paint for the style row and draw type\n   * @param {module:extension/style~StyleRow} styleRow style row\n   * @param {module:tiles/features~FeatureDrawType} type feature draw type\n   * @return {module:tiles/features~Paint} paint\n   */\n  getPaintForStyleRow(styleRow: StyleRow, type: FeatureDrawType): Paint {\n    return this.getPaint(styleRow.id, type);\n  }\n  /**\n   * Get the paint for the style row id and draw type\n   * @param {Number} styleId  style row id\n   * @param {String} type feature draw type\n   * @return {module:tiles/features~Paint} paint\n   */\n  getPaint(styleId: number, type: FeatureDrawType): Paint {\n    let paint = null;\n    const featurePaint = this.getFeaturePaint(styleId);\n    if (featurePaint !== undefined && featurePaint !== null) {\n      paint = featurePaint.getPaint(type);\n    }\n    return paint;\n  }\n  /**\n   * Cache the featurePaint for the style row\n   * @param {module:extension/style~StyleRow} styleRow style row\n   * @param {module:tiles/features~FeatureDrawType} type feature draw type\n   * @param {module:tiles/features~Paint} paint paint\n   */\n  setPaintForStyleRow(styleRow: StyleRow, type: FeatureDrawType, paint: Paint): void {\n    this.setPaint(styleRow.id, type, paint);\n  }\n  /**\n   * Cache the featurePaint for the style row id\n   * @param {Number} styleRowId style row id\n   * @param {module:tiles/features~FeatureDrawType} type feature draw type\n   * @param {module:tiles/features~Paint} paint paint\n   */\n  setPaint(styleRowId: number, type: FeatureDrawType, paint: Paint): void {\n    let featurePaint = this.paintCache[styleRowId];\n    if (!featurePaint) {\n      featurePaint = new FeaturePaint();\n    } else {\n      const index = this.accessHistory.indexOf(styleRowId);\n      if (index > -1) {\n        this.accessHistory.splice(index, 1);\n      }\n    }\n    featurePaint.setPaint(type, paint);\n    this.paintCache[styleRowId] = featurePaint;\n    this.accessHistory.push(styleRowId);\n    if (Object.keys(this.paintCache).length > this.cacheSize) {\n      const styleId = this.accessHistory.shift();\n      if (styleId) {\n        delete this.paintCache[styleId];\n      }\n    }\n  }\n  /**\n   * Remove the cached featurePaint for the style row id\n   * @param {Number} styleRowId style row id\n   * @return {module:tiles/features~FeaturePaint} removed feature paint or null\n   */\n  remove(styleRowId: number): FeaturePaint {\n    const removed = this.paintCache[styleRowId];\n    delete this.paintCache[styleRowId];\n    if (removed) {\n      const index = this.accessHistory.indexOf(styleRowId);\n      if (index > -1) {\n        this.accessHistory.splice(index, 1);\n      }\n    }\n    return removed;\n  }\n  /**\n   * Clear the cache\n   */\n  clear(): void {\n    this.paintCache = {};\n    this.accessHistory = [];\n  }\n  /**\n   * Resize the cache\n   * @param {Number} maxSize max size\n   */\n  resize(maxSize: number): void {\n    this.cacheSize = maxSize;\n    const keys = Object.keys(this.paintCache);\n    if (keys.length > maxSize) {\n      const numberToRemove = keys.length - maxSize;\n      for (let i = 0; i < numberToRemove; i++) {\n        const styleRowId = this.accessHistory.shift();\n        if (styleRowId) {\n          delete this.paintCache[styleRowId];\n        }\n      }\n    }\n  }\n}\n","import { FeatureRow } from '../../features/user/featureRow';\nimport { Geometry } from 'geojson';\nimport { CrsGeometry } from '../../types/CrsGeometry';\n\n/**\n * Feature Paint Cache.\n * @module tiles/features\n */\n\n/**\n * Constructor, created with cache size of {@link #DEFAULT_GEOMETRY_CACHE_SIZE}\n * @constructor\n */\nexport class GeometryCache {\n  public static readonly DEFAULT_GEOMETRY_CACHE_SIZE = 100;\n  geometryCache: Record<number, Geometry & CrsGeometry>;\n  accessHistory: number[];\n\n  constructor(public cacheSize: number = GeometryCache.DEFAULT_GEOMETRY_CACHE_SIZE) {\n    // this.cacheSize = size !== null ? size : GeometryCache.DEFAULT_GEOMETRY_CACHE_SIZE;\n    this.geometryCache = {};\n    this.accessHistory = [];\n  }\n\n  /**\n   * Get the cached geometry for the feature row\n   * @param featureRow\n   * @returns {module:tiles/features~Geometry}\n   */\n  getGeometryForFeatureRow(featureRow: FeatureRow): Geometry & CrsGeometry {\n    return this.getGeometry(featureRow.id);\n  }\n\n  /**\n   * Get the cached geometry for the feature row id or null if not cached\n   * @param {Number} featureRowId feature row id\n   * @return {module:tiles/features~Geometry} geometry or null\n   */\n  getGeometry(featureRowId: number): Geometry & CrsGeometry {\n    const Geometry = this.geometryCache[featureRowId];\n    if (!!Geometry) {\n      const index = this.accessHistory.indexOf(featureRowId);\n      if (index > -1) {\n        this.accessHistory.splice(index, 1);\n      }\n      this.accessHistory.push(featureRowId);\n    }\n    return Geometry;\n  }\n\n  /**\n   * Cache the Geometry for the feature row id\n   * @param {Number} featureRowId feature row id\n   * @param {Object} geometry geometry\n   */\n  setGeometry(featureRowId: number, geometry: Geometry & CrsGeometry): void {\n    const index = this.accessHistory.indexOf(featureRowId);\n    if (index > -1) {\n      this.accessHistory.splice(index, 1);\n    }\n    this.geometryCache[featureRowId] = geometry;\n    this.accessHistory.push(featureRowId);\n    if (Object.keys(this.geometryCache).length > this.cacheSize) {\n      const featureId = this.accessHistory.shift();\n      if (featureId) {\n        delete this.geometryCache[featureId];\n      }\n    }\n  }\n\n  /**\n   * Remove the cached Geometry for the style row id\n   * @param {Number} featureRowId style row id\n   * @return {module:tiles/features~Geometry} removed feature paint or null\n   */\n  remove(featureRowId: number): Geometry & CrsGeometry {\n    const removed = this.geometryCache[featureRowId];\n    delete this.geometryCache[featureRowId];\n    if (!!removed) {\n      const index = this.accessHistory.indexOf(featureRowId);\n      if (index > -1) {\n        this.accessHistory.splice(index, 1);\n      }\n    }\n    return removed;\n  }\n\n  /**\n   * Clear the cache\n   */\n  clear(): void {\n    this.geometryCache = {};\n    this.accessHistory = [];\n  }\n\n  /**\n   * Resize the cache\n   * @param {Number} maxSize max size\n   */\n  resize(maxSize: number): void {\n    this.cacheSize = maxSize;\n    const keys = Object.keys(this.geometryCache);\n    if (keys.length > maxSize) {\n      const numberToRemove = keys.length - maxSize;\n      for (let i = 0; i < numberToRemove; i++) {\n        const featureRowId = this.accessHistory.shift();\n        if (!!featureRowId) {\n          delete this.geometryCache[featureRowId];\n        }\n      }\n    }\n  }\n}\n","// eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n// @ts-ignore\nimport PolyToLine from '@turf/polygon-to-line';\nimport booleanClockwise from '@turf/boolean-clockwise';\nimport simplify from 'simplify-js';\nimport proj4 from 'proj4';\nimport { Geometry } from 'geojson';\n\nimport { FeatureDao } from '../../features/user/featureDao';\nimport { TileBoundingBoxUtils } from '../tileBoundingBoxUtils';\nimport { BoundingBox } from '../../boundingBox';\nimport { IconCache } from '../../extension/style/iconCache';\nimport { GeometryCache } from './geometryCache';\nimport { FeatureDrawType } from './featureDrawType';\nimport { FeaturePaintCache } from './featurePaintCache';\nimport { Paint } from './paint';\nimport { FeatureTableStyles } from '../../extension/style/featureTableStyles';\nimport { GeoPackage } from '../../geoPackage';\nimport { FeatureRow } from '../../features/user/featureRow';\nimport { StyleRow } from '../../extension/style/styleRow';\nimport { FeatureTilePointIcon } from './featureTilePointIcon';\nimport { CustomFeaturesTile } from './custom/customFeaturesTile';\nimport { FeatureStyle } from '../../extension/style/featureStyle';\nimport { IconRow } from '../../extension/style/iconRow';\nimport { CrsGeometry } from '../../types/CrsGeometry';\nimport { Canvas } from '../../canvas/canvas';\nimport { Projection } from '../../projection/projection';\nimport { ProjectionConstants } from '../../projection/projectionConstants';\n\n/**\n * FeatureTiles module.\n * @module tiles/features\n */\n\n/**\n *  Tiles drawn from or linked to features. Used to query features and optionally draw tiles\n *  from those features.\n */\nexport class FeatureTiles {\n  projection: proj4.Converter = null;\n  webMercatorProjection: proj4.Converter = null;\n  public simplifyGeometries = true;\n  public simplifyToleranceInPixels = 1;\n  public compressFormat = 'png';\n  public pointRadius = 4.0;\n  pointPaint: Paint = new Paint();\n  public pointIcon: FeatureTilePointIcon = null;\n  linePaint: Paint = new Paint();\n  private _lineStrokeWidth = 2.0;\n  polygonPaint: Paint = new Paint();\n  private _polygonStrokeWidth = 2.0;\n  public fillPolygon = true;\n  polygonFillPaint: Paint = new Paint();\n  featurePaintCache: FeaturePaintCache = new FeaturePaintCache();\n  geometryCache: GeometryCache = new GeometryCache();\n  public cacheGeometries = true;\n  iconCache: IconCache = new IconCache();\n  private _scale = 1.0;\n  geoPackage: GeoPackage;\n  public featureTableStyles: FeatureTableStyles;\n  public maxFeaturesPerTile: number = null;\n  public maxFeaturesTileDraw: CustomFeaturesTile = null;\n  widthOverlap: number;\n  heightOverlap: number;\n  constructor(\n    public featureDao: FeatureDao<FeatureRow>,\n    public tileWidth: number = 256,\n    public tileHeight: number = 256,\n  ) {\n    this.projection = this.featureDao.projection;\n    this.linePaint.strokeWidth = 2.0;\n    this.polygonPaint.strokeWidth = 2.0;\n    this.polygonFillPaint.color = '#00000011';\n    this.geoPackage = this.featureDao.geoPackage;\n    if (this.geoPackage != null) {\n      this.featureTableStyles = new FeatureTableStyles(this.geoPackage, featureDao.table);\n      if (!this.featureTableStyles.has()) {\n        this.featureTableStyles = null;\n      }\n    }\n    this.webMercatorProjection = Projection.getWebMercatorToWGS84Converter();\n    this.calculateDrawOverlap();\n  }\n\n  /**\n   * Will handle disposing any saved icons\n   */\n  cleanup(): void {\n    this.clearIconCache();\n    if (this.pointIcon) {\n      Canvas.disposeImage(this.pointIcon.getIcon());\n      this.pointIcon = null;\n    }\n  }\n\n  /**\n   * Manually set the width and height draw overlap\n   * @param {Number} pixels pixels\n   */\n  set drawOverlap(pixels: number) {\n    this.widthDrawOverlap = pixels;\n    this.heightDrawOverlap = pixels;\n  }\n  /**\n   * Get the simplify tolerance in pixels\n   * @return {Number} width draw overlap\n   */\n  get simplifyTolerance(): number {\n    return this.simplifyToleranceInPixels;\n  }\n  /**\n   * Set the tolerance in pixels used for simplifying rendered geometries\n   * @param {Number} pixels pixels\n   */\n  set simplifyTolerance(pixels: number) {\n    this.simplifyToleranceInPixels = pixels;\n  }\n  /**\n   * Get the width draw overlap\n   * @return {Number} width draw overlap\n   */\n  get widthDrawOverlap(): number {\n    return this.widthOverlap;\n  }\n  /**\n   * Manually set the width draw overlap\n   * @param {Number} pixels pixels\n   */\n  set widthDrawOverlap(pixels: number) {\n    this.widthOverlap = pixels;\n  }\n  /**\n   * Get the height draw overlap\n   * @return {Number} height draw overlap\n   */\n  get heightDrawOverlap(): number {\n    return this.heightOverlap;\n  }\n  /**\n   * Manually set the height draw overlap\n   * @param {Number} pixels pixels\n   */\n  set heightDrawOverlap(pixels: number) {\n    this.heightOverlap = pixels;\n  }\n  /**\n   * Ignore the feature table styles within the GeoPackage\n   */\n  ignoreFeatureTableStyles(): void {\n    this.featureTableStyles = null;\n    this.calculateDrawOverlap();\n  }\n  /**\n   * Clear all caches\n   */\n  clearCache(): void {\n    this.clearStylePaintCache();\n    this.clearIconCache();\n  }\n  /**\n   * Clear the style paint cache\n   */\n  clearStylePaintCache(): void {\n    this.featurePaintCache.clear();\n  }\n  /**\n   * Set / resize the style paint cache size\n   *\n   * @param {Number} size\n   * @since 3.3.0\n   */\n  set stylePaintCacheSize(size: number) {\n    this.featurePaintCache.resize(size);\n  }\n  /**\n   * Clear the icon cache\n   */\n  clearIconCache(): void {\n    this.iconCache.clear();\n  }\n  /**\n   * Set / resize the icon cache size\n   * @param {Number} size new size\n   */\n  set iconCacheSize(size: number) {\n    this.iconCache.resize(size);\n  }\n  /**\n   * Set the scale\n   *\n   * @param {Number} scale scale factor\n   */\n  set scale(scale: number) {\n    this._scale = scale;\n    this.linePaint.strokeWidth = scale * this.lineStrokeWidth;\n    this.polygonPaint.strokeWidth = scale * this.polygonStrokeWidth;\n    this.featurePaintCache.clear();\n  }\n  get scale(): number {\n    return this._scale;\n  }\n\n  /**\n   * Set geometry cache's max size\n   * @param {Number} maxSize\n   */\n  set geometryCacheMaxSize(maxSize: number) {\n    this.geometryCache.resize(maxSize);\n  }\n\n  calculateDrawOverlap(): void {\n    if (this.pointIcon) {\n      this.heightOverlap = this.scale * this.pointIcon.getHeight();\n      this.widthOverlap = this.scale * this.pointIcon.getWidth();\n    } else {\n      this.heightOverlap = this.scale * this.pointRadius;\n      this.widthOverlap = this.scale * this.pointRadius;\n    }\n    const lineHalfStroke = (this.scale * this.lineStrokeWidth) / 2.0;\n    this.heightOverlap = Math.max(this.heightOverlap, lineHalfStroke);\n    this.widthOverlap = Math.max(this.widthOverlap, lineHalfStroke);\n    const polygonHalfStroke = (this.scale * this.polygonStrokeWidth) / 2.0;\n    this.heightOverlap = Math.max(this.heightOverlap, polygonHalfStroke);\n    this.widthOverlap = Math.max(this.widthOverlap, polygonHalfStroke);\n    if (this.featureTableStyles != null && this.featureTableStyles.has()) {\n      let styleRowIds: number[] = [];\n      const tableStyleIds = this.featureTableStyles.getAllTableStyleIds();\n      if (tableStyleIds != null) {\n        styleRowIds = styleRowIds.concat(tableStyleIds);\n      }\n      const styleIds = this.featureTableStyles.getAllStyleIds();\n      if (styleIds != null) {\n        styleRowIds = styleRowIds.concat(styleIds.filter(id => styleRowIds.indexOf(id) === -1));\n      }\n      const styleDao = this.featureTableStyles.getStyleDao();\n      for (let i = 0; i < styleRowIds.length; i++) {\n        const styleRowId = styleRowIds[i];\n        const styleRow = styleDao.queryForId(styleRowId) as StyleRow;\n        const styleHalfWidth = this.scale * (styleRow.getWidthOrDefault() / 2.0);\n        this.widthOverlap = Math.max(this.widthOverlap, styleHalfWidth);\n        this.heightOverlap = Math.max(this.heightOverlap, styleHalfWidth);\n      }\n      let iconRowIds: number[] = [];\n      const tableIconIds = this.featureTableStyles.getAllTableIconIds();\n      if (tableIconIds != null) {\n        iconRowIds = iconRowIds.concat(tableIconIds);\n      }\n      const iconIds = this.featureTableStyles.getAllIconIds();\n      if (iconIds != null) {\n        iconRowIds = iconRowIds.concat(iconIds.filter(id => iconRowIds.indexOf(id) === -1));\n      }\n      const iconDao = this.featureTableStyles.getIconDao();\n      for (let i = 0; i < iconRowIds.length; i++) {\n        const iconRowId = iconRowIds[i];\n        const iconRow = iconDao.queryForId(iconRowId) as IconRow;\n        const iconDimensions = iconRow.derivedDimensions;\n        const iconWidth = this.scale * Math.ceil(iconDimensions[0]);\n        const iconHeight = this.scale * Math.ceil(iconDimensions[1]);\n        this.widthOverlap = Math.max(this.widthOverlap, iconWidth);\n        this.heightOverlap = Math.max(this.heightOverlap, iconHeight);\n      }\n    }\n  }\n  set drawOverlapsWithPixels(pixels: number) {\n    this.widthOverlap = pixels;\n    this.heightOverlap = pixels;\n  }\n  getFeatureStyle(featureRow: FeatureRow): FeatureStyle {\n    let featureStyle = null;\n    if (this.featureTableStyles != null) {\n      featureStyle = this.featureTableStyles.getFeatureStyleForFeatureRow(featureRow);\n    }\n    return featureStyle;\n  }\n  /**\n   * Get the point paint for the feature style, or return the default paint\n   * @param featureStyle feature style\n   * @return paint\n   */\n  getPointPaint(featureStyle: FeatureStyle): Paint {\n    let paint = this.getFeatureStylePaint(featureStyle, FeatureDrawType.CIRCLE);\n    if (paint == null) {\n      paint = this.pointPaint;\n    }\n    return paint;\n  }\n  /**\n   * Get the line paint for the feature style, or return the default paint\n   * @param featureStyle feature style\n   * @return paint\n   */\n  getLinePaint(featureStyle: FeatureStyle): Paint {\n    let paint = this.getFeatureStylePaint(featureStyle, FeatureDrawType.STROKE);\n    if (paint == null) {\n      paint = this.linePaint;\n    }\n    return paint;\n  }\n  /**\n   * Get the polygon paint for the feature style, or return the default paint\n   * @param featureStyle feature style\n   * @return paint\n   */\n  getPolygonPaint(featureStyle: FeatureStyle): Paint {\n    let paint = this.getFeatureStylePaint(featureStyle, FeatureDrawType.STROKE);\n    if (paint == null) {\n      paint = this.polygonPaint;\n    }\n    return paint;\n  }\n  /**\n   * Get the polygon fill paint for the feature style, or return the default\n   * paint\n   * @param featureStyle feature style\n   * @return paint\n   */\n  getPolygonFillPaint(featureStyle: FeatureStyle): Paint {\n    let paint = null;\n    let hasStyleColor = false;\n    if (featureStyle != null) {\n      const style = featureStyle.style;\n      if (style != null) {\n        if (style.hasFillColor()) {\n          paint = this.getStylePaint(style, FeatureDrawType.FILL);\n        } else {\n          hasStyleColor = style.hasColor();\n        }\n      }\n    }\n    if (paint === null && !hasStyleColor && this.fillPolygon) {\n      paint = this.polygonFillPaint;\n    }\n    return paint;\n  }\n  /**\n   * Get the feature style paint from cache, or create and cache it\n   * @param featureStyle feature style\n   * @param drawType draw type\n   * @return feature style paint\n   */\n  getFeatureStylePaint(featureStyle: FeatureStyle, drawType: FeatureDrawType): Paint {\n    let paint = null;\n    if (featureStyle != null) {\n      const style = featureStyle.style;\n      if (style != null && style.hasColor()) {\n        paint = this.getStylePaint(style, drawType);\n      }\n    }\n    return paint;\n  }\n  /**\n   * Get the style paint from cache, or create and cache it\n   * @param style style row\n   * @param drawType draw type\n   * @return {Paint} paint\n   */\n  getStylePaint(style: StyleRow, drawType: FeatureDrawType): Paint {\n    let paint = this.featurePaintCache.getPaintForStyleRow(style, drawType);\n    if (paint === undefined || paint === null) {\n      let color = null;\n      let strokeWidth = null;\n      if (drawType === FeatureDrawType.CIRCLE) {\n        color = style.getColor();\n      } else if (drawType === FeatureDrawType.STROKE) {\n        color = style.getColor();\n        strokeWidth = this.scale * style.getWidthOrDefault();\n      } else if (drawType === FeatureDrawType.FILL) {\n        color = style.getFillColor();\n        strokeWidth = this.scale * style.getWidthOrDefault();\n      } else {\n        throw new Error('Unsupported Draw Type: ' + drawType);\n      }\n      const stylePaint = new Paint();\n      stylePaint.color = color;\n      if (strokeWidth != null) {\n        stylePaint.strokeWidth = strokeWidth;\n      }\n      paint = this.featurePaintCache.getPaintForStyleRow(style, drawType);\n      if (paint === undefined || paint === null) {\n        this.featurePaintCache.setPaintForStyleRow(style, drawType, stylePaint);\n        paint = stylePaint;\n      }\n    }\n    return paint;\n  }\n  /**\n   * Get point color\n   * @return {String} color\n   */\n  get pointColor(): string {\n    return this.pointPaint.color;\n  }\n  /**\n   * Set point color\n   * @param {String} pointColor point color\n   */\n  set pointColor(pointColor: string) {\n    this.pointPaint.color = pointColor;\n  }\n  /**\n   * Get line stroke width\n   * @return {Number} width\n   */\n  get lineStrokeWidth(): number {\n    return this._lineStrokeWidth;\n  }\n  /**\n   * Set line stroke width\n   * @param {Number} lineStrokeWidth line stroke width\n   */\n  set lineStrokeWidth(lineStrokeWidth: number) {\n    this._lineStrokeWidth = lineStrokeWidth;\n    this.linePaint.strokeWidth = this.scale * this.lineStrokeWidth;\n  }\n  /**\n   * Get line color\n   * @return {String} color\n   */\n  get lineColor(): string {\n    return this.linePaint.color;\n  }\n  /**\n   * Set line color\n   * @param {String} lineColor line color\n   */\n  set lineColor(lineColor: string) {\n    this.linePaint.color = lineColor;\n  }\n  /**\n   * Get polygon stroke width\n   * @return {Number} width\n   */\n  get polygonStrokeWidth(): number {\n    return this._polygonStrokeWidth;\n  }\n  /**\n   * Set polygon stroke width\n   * @param {Number} polygonStrokeWidth polygon stroke width\n   */\n  set polygonStrokeWidth(polygonStrokeWidth: number) {\n    this._polygonStrokeWidth = polygonStrokeWidth;\n    this.polygonPaint.strokeWidth = this.scale * polygonStrokeWidth;\n  }\n  /**\n   * Get polygon color\n   * @return {String} color\n   */\n  get polygonColor(): string {\n    return this.polygonPaint.color;\n  }\n  /**\n   * Set polygon color\n   * @param {String} polygonColor polygon color\n   */\n  set polygonColor(polygonColor: string) {\n    this.polygonPaint.color = polygonColor;\n  }\n  /**\n   * Get polygon fill color\n   * @return {String} color\n   */\n  get polygonFillColor(): string {\n    return this.polygonFillPaint.color;\n  }\n  /**\n   * Set polygon fill color\n   * @param {String} polygonFillColor polygon fill color\n   */\n  set polygonFillColor(polygonFillColor: string) {\n    this.polygonFillPaint.color = polygonFillColor;\n  }\n\n  getFeatureCountXYZ(x: number, y: number, z: number): number {\n    let boundingBox = TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(x, y, z);\n    boundingBox = this.expandBoundingBox(boundingBox, ProjectionConstants.EPSG_3857);\n    return this.featureDao.countWebMercatorBoundingBox(boundingBox);\n  }\n\n  /**\n   * Renders the web mercator (EPSG:3857) xyz tile\n   * @param x\n   * @param y\n   * @param z\n   * @param canvas\n   */\n  async drawTile(x: number, y: number, z: number, canvas: any = null): Promise<any> {\n    return this.draw3857Tile(x, y, z, canvas);\n  }\n\n  /**\n   * Renders the web mercator (EPSG:3857) xyz tile\n   * @param x\n   * @param y\n   * @param z\n   * @param canvas\n   */\n  async draw3857Tile(x: number, y: number, z: number, canvas: any = null): Promise<any> {\n    if (this.featureDao.isIndexed()) {\n      return this.drawTileQueryIndex(x, y, z, ProjectionConstants.EPSG_3857, canvas);\n    } else {\n      return this.drawTileQueryAll(x, y, z, ProjectionConstants.EPSG_3857, canvas);\n    }\n  }\n\n  /**\n   * Renders the wgs84 (EPSG:4326) xyz tile\n   * @param x\n   * @param y\n   * @param z\n   * @param canvas\n   */\n  async draw4326Tile(x: number, y: number, z: number, canvas: any = null): Promise<any> {\n    if (this.featureDao.isIndexed()) {\n      return this.drawTileQueryIndex(x, y, z, ProjectionConstants.EPSG_4326, canvas);\n    } else {\n      return this.drawTileQueryAll(x, y, z, ProjectionConstants.EPSG_4326, canvas);\n    }\n  }\n\n  async drawTileQueryAll(x: number, y: number, zoom: number, tileProjection: string, canvas?: any): Promise<any> {\n    const boundingBox: BoundingBox =\n      tileProjection === ProjectionConstants.EPSG_3857\n        ? TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(x, y, zoom)\n        : TileBoundingBoxUtils.getWGS84BoundingBoxFromXYZ(x, y, zoom);\n    const count = this.featureDao.getCount();\n    if (this.maxFeaturesPerTile === null || count <= this.maxFeaturesPerTile) {\n      return this.drawTileWithBoundingBox(boundingBox, zoom, tileProjection, canvas);\n    } else if (this.maxFeaturesTileDraw != null) {\n      return this.maxFeaturesTileDraw.drawUnindexedTile(this.tileWidth, this.tileHeight, canvas);\n    }\n  }\n\n  /**\n   * Handles the generation of a function for transforming coordinates from the source projection into the target tile's\n   * projection. These coordinates are then converted into pixel coordinates.\n   * @param targetProjection\n   */\n  getTransformFunction(targetProjection): Function {\n    const projection = Projection.getConverter(targetProjection);\n    if (Projection.convertersMatch(projection, this.projection)) {\n      // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n      return coordinate => coordinate;\n    } else if (Projection.isWebMercator(projection) && Projection.isWGS84(this.projection)) {\n      // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n      return coordinate => {\n        return Projection.getConverterFromConverters(this.projection, targetProjection).forward([\n          Math.max(\n            ProjectionConstants.WEB_MERCATOR_MIN_LON_RANGE,\n            Math.min(ProjectionConstants.WEB_MERCATOR_MAX_LON_RANGE, coordinate[0]),\n          ),\n          Math.max(\n            ProjectionConstants.WEB_MERCATOR_MIN_LAT_RANGE,\n            Math.min(ProjectionConstants.WEB_MERCATOR_MAX_LAT_RANGE, coordinate[1]),\n          ),\n        ]);\n      };\n    } else {\n      return Projection.getConverterFromConverters(this.projection, targetProjection).forward;\n    }\n  }\n\n  async drawTileQueryIndex(x: number, y: number, z: number, tileProjection, tileCanvas?: any): Promise<any> {\n    let canvas: any;\n    let context: any;\n    let dispose = false;\n    let image;\n    const boundingBox =\n      tileProjection === ProjectionConstants.EPSG_3857\n        ? TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(x, y, z)\n        : TileBoundingBoxUtils.getWGS84BoundingBoxFromXYZ(x, y, z);\n    const expandedBoundingBox = this.expandBoundingBox(boundingBox, tileProjection);\n\n    const width = this.tileWidth;\n    const height = this.tileHeight;\n    await Canvas.initializeAdapter();\n    // create Canvas if user does not provide canvas.\n    if (tileCanvas != null) {\n      canvas = tileCanvas;\n      context = canvas.getContext('2d');\n      context.clearRect(0, 0, width, height);\n    } else {\n      canvas = Canvas.create(width, height);\n      context = canvas.getContext('2d');\n      dispose = true;\n    }\n\n    // get number of features that could intercept this bounding box\n    const featureCount = this.featureDao.countInBoundingBox(expandedBoundingBox, tileProjection);\n    if (featureCount > 0) {\n      if (this.maxFeaturesPerTile == null || featureCount <= this.maxFeaturesPerTile) {\n        const transform = this.getTransformFunction(tileProjection);\n        const iterator = this.featureDao.fastQueryBoundingBox(expandedBoundingBox, tileProjection);\n        for (const featureRow of iterator) {\n          if (featureRow.geometry != null) {\n            let geojson = null;\n            if (this.cacheGeometries) {\n              geojson = this.geometryCache.getGeometry(featureRow.id);\n            }\n            if (geojson == null) {\n              geojson = featureRow.geometry.geometry.toGeoJSON() as Geometry & CrsGeometry;\n              this.geometryCache.setGeometry(featureRow.id, geojson);\n            }\n            const style = this.getFeatureStyle(featureRow);\n            try {\n              await this.drawGeometry(geojson, context, boundingBox, style, transform);\n            } catch (e) {\n              console.error(\n                'Failed to draw feature in tile. Id: ' + featureRow.id + ', Table: ' + this.featureDao.table_name,\n              );\n            }\n          }\n        }\n        image = await Canvas.toDataURL(canvas, 'image/' + this.compressFormat);\n      } else if (this.maxFeaturesTileDraw != null) {\n        // Draw the max features tile\n        image = await this.maxFeaturesTileDraw.drawTile(width, height, featureCount.toString(), canvas);\n      }\n    } else {\n      image = await Canvas.toDataURL(canvas, 'image/' + this.compressFormat);\n    }\n    if (dispose) {\n      Canvas.disposeCanvas(canvas);\n    }\n    return image;\n  }\n\n  async drawTileWithBoundingBox(\n    boundingBox: BoundingBox,\n    zoom: number,\n    tileProjection: string,\n    tileCanvas?: any,\n  ): Promise<any> {\n    const width = this.tileWidth;\n    const height = this.tileHeight;\n    let canvas: any;\n    let dispose = false;\n    await Canvas.initializeAdapter();\n    if (tileCanvas != null) {\n      canvas = tileCanvas;\n    } else {\n      canvas = Canvas.create(width, height);\n      dispose = true;\n    }\n    const context = canvas.getContext('2d');\n    context.clearRect(0, 0, width, height);\n    const featureDao = this.featureDao;\n    const each = featureDao.queryForEach(undefined, undefined, undefined, undefined, undefined, [\n      featureDao.table.getIdColumn().getName(),\n      featureDao.table.getGeometryColumn().getName(),\n    ]);\n    const transform = this.getTransformFunction(tileProjection);\n    for (const row of each) {\n      const fr = featureDao.getRow(row);\n      if (fr.geometry != null) {\n        let gj: Geometry & CrsGeometry = null;\n        if (this.cacheGeometries) {\n          gj = this.geometryCache.getGeometryForFeatureRow(fr);\n        }\n        if (gj == null) {\n          gj = fr.geometry.geometry.toGeoJSON() as Geometry & CrsGeometry;\n          this.geometryCache.setGeometry(fr.id, gj);\n        }\n        if (gj != null) {\n          const style = this.getFeatureStyle(fr);\n          try {\n            await this.drawGeometry(gj, context, boundingBox, style, transform);\n          } catch (e) {\n            console.error('Failed to draw feature in tile. Id: ' + fr.id + ', Table: ' + this.featureDao.table_name);\n          }\n        }\n      }\n    }\n    const image = await Canvas.toDataURL(canvas, 'image/' + this.compressFormat);\n    if (dispose) {\n      Canvas.disposeCanvas(canvas);\n    }\n    return image;\n  }\n  /**\n   * Draw a point in the context\n   * @param geoJson\n   * @param context\n   * @param boundingBox\n   * @param featureStyle\n   * @param transform\n   */\n  async drawPoint(\n    geoJson: any,\n    context: any,\n    boundingBox: BoundingBox,\n    featureStyle: FeatureStyle,\n    transform: Function,\n  ): Promise<void> {\n    let width: number;\n    let height: number;\n    let iconX: number;\n    let iconY: number;\n    const coordinate = transform(geoJson.coordinates);\n    const x = TileBoundingBoxUtils.getXPixel(this.tileWidth, boundingBox, coordinate[0]);\n    const y = TileBoundingBoxUtils.getYPixel(this.tileHeight, boundingBox, coordinate[1]);\n    if (featureStyle != null && featureStyle.useIcon()) {\n      const iconRow = featureStyle.icon;\n      const image = await this.iconCache.createIcon(iconRow);\n      width = Math.round(this.scale * image.width);\n      height = Math.round(this.scale * image.height);\n      if (x >= 0 - width && x <= this.tileWidth + width && y >= 0 - height && y <= this.tileHeight + height) {\n        iconX = Math.round(x - iconRow.anchorUOrDefault * width);\n        iconY = Math.round(y - iconRow.anchorVOrDefault * height);\n        context.drawImage(image.image, iconX, iconY, width, height);\n      }\n    } else if (this.pointIcon != null) {\n      width = Math.round(this.scale * this.pointIcon.getWidth());\n      height = Math.round(this.scale * this.pointIcon.getHeight());\n      if (x >= 0 - width && x <= this.tileWidth + width && y >= 0 - height && y <= this.tileHeight + height) {\n        iconX = Math.round(x - this.scale * this.pointIcon.getXOffset());\n        iconY = Math.round(y - this.scale * this.pointIcon.getYOffset());\n        try {\n          context.drawImage(this.pointIcon.getIcon().image, iconX, iconY, width, height);\n        } catch (e) {\n          // ignore error\n        }\n      }\n    } else {\n      context.save();\n      let radius = null;\n      if (featureStyle != null) {\n        const styleRow = featureStyle.style;\n        if (styleRow != null) {\n          radius = this.scale * (styleRow.getWidthOrDefault() / 2.0);\n        }\n      }\n      if (radius == null) {\n        radius = this.scale * this.pointRadius;\n      }\n      const pointPaint = this.getPointPaint(featureStyle);\n      if (x >= 0 - radius && x <= this.tileWidth + radius && y >= 0 - radius && y <= this.tileHeight + radius) {\n        const circleX = Math.round(x);\n        const circleY = Math.round(y);\n        context.beginPath();\n        context.arc(circleX, circleY, radius, 0, 2 * Math.PI, true);\n        context.closePath();\n        context.fillStyle = pointPaint.colorRGBA;\n        context.fill();\n      }\n      context.restore();\n    }\n  }\n\n  /**\n   * Simplify x,y tile coordinates by 1 pixel\n   * @param coordinatesArray GeoJSON with coordinates in pixels\n   * @param isPolygon determines if the first and last point need to stay connected\n   * @return simplified GeoJSON\n   * @since 2.0.0\n   */\n  simplifyPoints(coordinatesArray: any, isPolygon = false): any | null {\n    return simplify(\n      coordinatesArray.map(coordinate => {\n        return { x: coordinate[0], y: coordinate[1] };\n      }),\n      this.simplifyToleranceInPixels,\n      false,\n    ).map(point => [point.x, point.y]);\n  }\n\n  /**\n   * Get the path of the line string\n   * @param lineString\n   * @param context\n   * @param boundingBox\n   * @param isPolygon if this was a polygon\n   * @param transform\n   */\n  getPath(lineString: any, context: any, boundingBox: BoundingBox, isPolygon = false, transform: Function): void {\n    const line = lineString.coordinates.map(coordinate => {\n      const transformedCoordinate = transform(coordinate.slice());\n      return [\n        TileBoundingBoxUtils.getXPixel(this.tileWidth, boundingBox, transformedCoordinate[0]),\n        TileBoundingBoxUtils.getYPixel(this.tileHeight, boundingBox, transformedCoordinate[1]),\n      ];\n    });\n    const simplifiedLineString = this.simplifyGeometries ? this.simplifyPoints(line, isPolygon) : line;\n    if (simplifiedLineString.length > 1) {\n      context.moveTo(simplifiedLineString[0][0], simplifiedLineString[0][1]);\n      for (let i = 1; i < simplifiedLineString.length; i++) {\n        context.lineTo(simplifiedLineString[i][0], simplifiedLineString[i][1]);\n      }\n    }\n  }\n  /**\n   * Draw a line in the context\n   * @param geoJson\n   * @param context\n   * @param featureStyle\n   * @param boundingBox\n   * @param transform\n   */\n  drawLine(\n    geoJson: any,\n    context: any,\n    featureStyle: FeatureStyle,\n    boundingBox: BoundingBox,\n    transform: Function,\n  ): void {\n    context.save();\n    context.beginPath();\n    const paint = this.getLinePaint(featureStyle);\n    context.strokeStyle = paint.colorRGBA;\n    context.lineWidth = paint.strokeWidth;\n    this.getPath(geoJson, context, boundingBox, false, transform);\n    context.stroke();\n    context.closePath();\n    context.restore();\n  }\n  /**\n   * Draw a polygon in the context\n   * @param externalRing\n   * @param internalRings\n   * @param context\n   * @param featureStyle\n   * @param boundingBox\n   * @param transform\n   * @param fill\n   */\n  drawPolygon(\n    externalRing: any,\n    internalRings: any[],\n    context: any,\n    featureStyle: FeatureStyle,\n    boundingBox: BoundingBox,\n    transform: Function,\n    fill = true,\n  ): void {\n    // get paint\n    context.save();\n    context.beginPath();\n    if (!booleanClockwise(externalRing.coordinates)) {\n      externalRing.coordinates = externalRing.coordinates.reverse();\n    }\n    this.getPath(externalRing, context, boundingBox, true, transform);\n    context.closePath();\n    for (let i = 0; i < internalRings.length; i++) {\n      if (booleanClockwise(internalRings[i].coordinates)) {\n        internalRings[i].coordinates = internalRings[i].coordinates.reverse();\n      }\n      this.getPath(internalRings[i], context, boundingBox, true, transform);\n      context.closePath();\n    }\n    const fillPaint = this.getPolygonFillPaint(featureStyle);\n    if (fill && fillPaint !== undefined && fillPaint != null) {\n      context.fillStyle = fillPaint.colorRGBA;\n      context.fill();\n    }\n    const paint = this.getPolygonPaint(featureStyle);\n    context.strokeStyle = paint.colorRGBA;\n    context.lineWidth = paint.strokeWidth;\n    context.stroke();\n    context.restore();\n  }\n  /**\n   * Add a feature to the batch\n   * @param geoJson\n   * @param context\n   * @param boundingBox\n   * @param featureStyle\n   * @param transform\n   */\n  async drawGeometry(\n    geoJson: Geometry,\n    context: any,\n    boundingBox: BoundingBox,\n    featureStyle: FeatureStyle,\n    transform: Function,\n  ): Promise<void> {\n    let i;\n    if (geoJson.type === 'Point') {\n      await this.drawPoint(geoJson, context, boundingBox, featureStyle, transform);\n    } else if (geoJson.type === 'LineString') {\n      this.drawLine(geoJson, context, featureStyle, boundingBox, transform);\n    } else if (geoJson.type === 'Polygon') {\n      const converted = PolyToLine(geoJson);\n      if (converted.type === 'Feature') {\n        if (converted.geometry.type === 'LineString') {\n          this.drawPolygon(converted.geometry, [], context, featureStyle, boundingBox, transform);\n        } else if (converted.geometry.type === 'MultiLineString') {\n          // internal rings\n          // draw internal rings without fill\n          const externalRing = { type: 'LineString', coordinates: converted.geometry.coordinates[0] };\n          const internalRings = converted.geometry.coordinates.slice(1).map(coords => {\n            return {\n              type: 'LineString',\n              coordinates: coords,\n            };\n          });\n          this.drawPolygon(externalRing, internalRings, context, featureStyle, boundingBox, transform);\n        }\n      } else {\n        converted.features.forEach(feature => {\n          if (feature.geometry.type === 'LineString') {\n            this.drawPolygon(feature.geometry, [], context, featureStyle, boundingBox, transform);\n          } else if (feature.geometry.type === 'MultiLineString') {\n            const externalRing = { type: 'LineString', coordinates: feature.geometry.coordinates[0] };\n            const internalRings = feature.geometry.coordinates.slice(1).map(coords => {\n              return {\n                type: 'LineString',\n                coordinates: coords,\n              };\n            });\n            this.drawPolygon(externalRing, internalRings, context, featureStyle, boundingBox, transform);\n          }\n        });\n      }\n    } else if (geoJson.type === 'MultiPoint') {\n      for (i = 0; i < geoJson.coordinates.length; i++) {\n        await this.drawPoint(\n          {\n            type: 'Point',\n            coordinates: geoJson.coordinates[i],\n          },\n          context,\n          boundingBox,\n          featureStyle,\n          transform,\n        );\n      }\n    } else if (geoJson.type === 'MultiLineString') {\n      for (i = 0; i < geoJson.coordinates.length; i++) {\n        this.drawLine(\n          {\n            type: 'LineString',\n            coordinates: geoJson.coordinates[i],\n          },\n          context,\n          featureStyle,\n          boundingBox,\n          transform,\n        );\n      }\n    } else if (geoJson.type === 'MultiPolygon') {\n      for (i = 0; i < geoJson.coordinates.length; i++) {\n        await this.drawGeometry(\n          {\n            type: 'Polygon',\n            coordinates: geoJson.coordinates[i],\n          },\n          context,\n          boundingBox,\n          featureStyle,\n          transform,\n        );\n      }\n    } else if (geoJson.type === 'GeometryCollection') {\n      for (i = 0; i < geoJson.geometries.length; i++) {\n        await this.drawGeometry(geoJson.geometries[i], context, boundingBox, featureStyle, transform);\n      }\n    }\n  }\n\n  /**\n   * Create an expanded bounding box to handle features outside the tile that overlap\n   * @param boundingBox bounding box\n   * @param tileProjection projection - only EPSG:3857 and EPSG:4326 are supported\n   * @return {BoundingBox} bounding box\n   */\n  expandBoundingBox(boundingBox: BoundingBox, tileProjection: string): BoundingBox {\n    // Create an expanded bounding box to handle features outside the tile that overlap\n    let minLongitude = TileBoundingBoxUtils.getLongitudeFromPixel(\n      this.tileWidth,\n      boundingBox,\n      boundingBox,\n      0 - this.widthOverlap,\n    );\n    let maxLongitude = TileBoundingBoxUtils.getLongitudeFromPixel(\n      this.tileWidth,\n      boundingBox,\n      boundingBox,\n      this.tileWidth + this.widthOverlap,\n    );\n    let maxLatitude = TileBoundingBoxUtils.getLatitudeFromPixel(\n      this.tileHeight,\n      boundingBox,\n      boundingBox,\n      0 - this.heightOverlap,\n    );\n    let minLatitude = TileBoundingBoxUtils.getLatitudeFromPixel(\n      this.tileHeight,\n      boundingBox,\n      boundingBox,\n      this.tileHeight + this.heightOverlap,\n    );\n    // Choose the most expanded longitudes and latitudes\n    minLongitude = Math.min(minLongitude, boundingBox.minLongitude);\n    maxLongitude = Math.max(maxLongitude, boundingBox.maxLongitude);\n    minLatitude = Math.min(minLatitude, boundingBox.minLatitude);\n    maxLatitude = Math.max(maxLatitude, boundingBox.maxLatitude);\n\n    // Bound with limits\n    if (tileProjection === ProjectionConstants.EPSG_3857) {\n      minLongitude = Math.max(minLongitude, -1 * ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH);\n      maxLongitude = Math.min(maxLongitude, ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH);\n      minLatitude = Math.max(minLatitude, -1 * ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH);\n      maxLatitude = Math.min(maxLatitude, ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH);\n    } else {\n      minLongitude = Math.max(minLongitude, -1 * ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH);\n      maxLongitude = Math.min(maxLongitude, ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH);\n      minLatitude = Math.max(minLatitude, -1 * ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT);\n      maxLatitude = Math.min(maxLatitude, ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT);\n    }\n    return new BoundingBox(minLongitude, maxLongitude, minLatitude, maxLatitude);\n  }\n}\n","/**\n * Paint module.\n * @module tiles/features\n */\nexport class Paint {\n  _color = '#000000FF';\n  _strokeWidth = 1.0;\n\n  /**\n   * Get the color\n   * @returns {String} color String color in the format #RRGGBB or #RRGGBBAA\n   */\n  get color(): string {\n    return this._color;\n  }\n  /**\n   * Set the color\n   * @param {String} color String color in the format #RRGGBB or #RRGGBBAA\n   */\n  set color(color: string) {\n    this._color = color;\n  }\n  /**\n   * Get the color\n   * @returns {String} color\n   */\n  get colorRGBA(): string {\n    // assumes color is in the format #RRGGBB or #RRGGBBAA\n    const red = parseInt(this.color.substr(1, 2), 16);\n    const green = parseInt(this.color.substr(3, 2), 16);\n    const blue = parseInt(this.color.substr(5, 2), 16);\n    let alpha = 1.0;\n    if (this.color.length > 7) {\n      alpha = parseInt(this.color.substr(7, 2), 16) / 255;\n    }\n    return 'rgba(' + red + ',' + green + ',' + blue + ',' + alpha + ')';\n  }\n  /**\n   * Get the stroke width\n   * @returns {Number} strokeWidth width in pixels\n   */\n  get strokeWidth(): number {\n    return this._strokeWidth;\n  }\n  /**\n   * Set the stroke width\n   * @param {Number} strokeWidth width in pixels\n   */\n  set strokeWidth(strokeWidth: number) {\n    this._strokeWidth = strokeWidth;\n  }\n}\n","import sizeOf from 'image-size';\nimport { ISizeCalculationResult } from 'image-size/dist/types/interface';\nimport { Canvas } from '../canvas/canvas';\n\nexport class ImageUtils {\n\n  /**\n   * Get image for data\n   * @param {Buffer|String} data file data or file path\n   * @returns {Object}\n   */\n  public static getImageSize(data: Buffer | string): ISizeCalculationResult {\n    return sizeOf.imageSize(data);\n  }\n\n  /**\n   * Get image for data\n   * @param {Buffer|String} data file data or file path\n   * @param {String} contentType\n   * @returns {Promise<any>}\n   */\n  public static async getImage(data: Buffer | string, contentType = 'image/png'): Promise<{image: any, width: number, height: number}> {\n    return new Promise(resolve => {\n      Canvas.initializeAdapter().then(() => {\n        Canvas.createImage(data, contentType).then(image => {\n          resolve(image);\n        }).catch(e => {\n          console.error(e);\n          resolve(null);\n        });\n      }).catch(e => {\n        console.error(e);\n        resolve(null);\n      });\n    });\n  }\n\n  /**\n   * Get a scaled image\n   * @param {Buffer} data\n   * @param {Number} scale\n   * @returns {Promise<any>}\n   */\n  public static async getScaledImage(data: Buffer | string, scale: number): Promise<{image: any, width: number, height: number}> {\n    return new Promise((resolve) => {\n      ImageUtils.getImage(data).then(image => {\n        if (scale === 1.0) {\n          resolve(image);\n        } else {\n          Canvas.scaleImage(image, scale).then(scaledImage => {\n            Canvas.disposeImage(image);\n            resolve(scaledImage)\n          }).catch((e) => {\n            Canvas.disposeImage(image);\n            console.error(e);\n            resolve(null);\n          })\n        }\n      }).catch(e => {\n        console.error(e);\n        resolve(null);\n      });\n    });\n  }\n\n  /**\n   * Get a scaled image\n   * @param {any} image\n   * @param {Number} scaledWidth\n   * @param {Number} scaledHeight\n   * @returns {Promise<any>}\n   */\n  public static async scaleImage(image: any, scaledWidth: number, scaledHeight: number): Promise<{image: any, width: number, height: number}> {\n    return new Promise((resolve) => {\n      Canvas.scaleImageToDimensions(image, scaledWidth, scaledHeight).then(scaledImage => {\n        Canvas.disposeImage(image);\n        resolve(scaledImage)\n      }).catch((e) => {\n        Canvas.disposeImage(image);\n        console.error(e);\n        resolve(null);\n      })\n    });\n  }\n}\n","import { Contents } from '../../core/contents/contents';\n\n/**\n * Tile Matrix object. Documents the structure of the tile matrix at each zoom\n * level in each tiles table. It allows GeoPackages to contain rectangular as\n * well as square tiles (e.g. for better representation of polar regions). It\n * allows tile pyramids with zoom levels that differ in resolution by factors of\n * 2, irregular intervals, or regular intervals other than factors of 2.\n * @class TileMatrix\n */\nexport class TileMatrix {\n  public static readonly TABLE_NAME: string = 'tableName';\n  public static readonly ZOOM_LEVEL: string = 'zoomLevel';\n  public static readonly MATRIX_WIDTH: string = 'matrixWidth';\n  public static readonly MATRIX_HEIGHT: string = 'matrixHeight';\n  public static readonly TILE_WIDTH: string = 'tileWidth';\n  public static readonly TILE_HEIGHT: string = 'tileHeight';\n  public static readonly PIXEL_X_SIZE: string = 'pixelXSize';\n  public static readonly PIXEL_Y_SIZE: string = 'pixelYSize';\n\n  /**\n   * Tile Pyramid User Data Table Name\n   * @member {string}\n   */\n  table_name: string;\n  /**\n   * 0  zoom_level  max_level for table_name\n   * @member {Number}\n   */\n  zoom_level: number;\n  /**\n   * Number of columns (>= 1) in tile matrix at this zoom level\n   * @member {Number}\n   */\n  matrix_width: number;\n  /**\n   * Number of rows (>= 1) in tile matrix at this zoom level\n   * @member {Number}\n   */\n  matrix_height: number;\n  /**\n   * Tile width in pixels (>= 1)for this zoom level\n   * @member {Number}\n   */\n  tile_width: number;\n  /**\n   * Tile height in pixels (>= 1)for this zoom level\n   * @member {Number}\n   */\n  tile_height: number;\n  /**\n   * In t_table_name srid units or default meters for srid 0 (>0)\n   * @member {Number}\n   */\n  pixel_x_size: number;\n  /**\n   * In t_table_name srid units or default meters for srid 0 (>0)\n   * @member {Number}\n   */\n  pixel_y_size: number;\n\n  set contents(contents: Contents) {\n    if (contents && contents.data_type === 'tiles') {\n      this.table_name = contents.table_name;\n    }\n  }\n}\n","/**\n * @module tiles/matrix\n * @see module:dao/dao\n */\nimport { Dao } from '../../dao/dao';\n\nimport { TileMatrix } from './tileMatrix';\nimport { Contents } from '../../core/contents/contents';\nimport { TileMatrixSet } from '../matrixset/tileMatrixSet';\nimport { DBValue } from '../../db/dbAdapter';\nimport { SqliteQueryBuilder } from '../../db/sqliteQueryBuilder';\nimport { TileColumn } from '../user/tileColumn';\n\n/**\n * Tile Matrix Set Data Access Object\n * @class TileMatrixDao\n * @extends Dao\n */\nexport class TileMatrixDao extends Dao<TileMatrix> {\n  public static readonly TABLE_NAME: string = 'gpkg_tile_matrix';\n  public static readonly COLUMN_PK1: string = 'table_name';\n  public static readonly COLUMN_PK2: string = 'zoom_level';\n  public static readonly COLUMN_TABLE_NAME: string = 'table_name';\n  public static readonly COLUMN_ZOOM_LEVEL: string = 'zoom_level';\n  public static readonly COLUMN_MATRIX_WIDTH: string = 'matrix_width';\n  public static readonly COLUMN_MATRIX_HEIGHT: string = 'matrix_height';\n  public static readonly COLUMN_TILE_WIDTH: string = 'tile_width';\n  public static readonly COLUMN_TILE_HEIGHT: string = 'tile_height';\n  public static readonly COLUMN_PIXEL_X_SIZE: string = 'pixel_x_size';\n  public static readonly COLUMN_PIXEL_Y_SIZE: string = 'pixel_y_size';\n\n  readonly gpkgTableName: string = 'gpkg_tile_matrix';\n  readonly idColumns: string[] = [TileMatrixDao.COLUMN_PK1, TileMatrixDao.COLUMN_PK2];\n  readonly columns: string[] = [\n    TileMatrixDao.COLUMN_TABLE_NAME,\n    TileMatrixDao.COLUMN_ZOOM_LEVEL,\n    TileMatrixDao.COLUMN_MATRIX_WIDTH,\n    TileMatrixDao.COLUMN_MATRIX_HEIGHT,\n    TileMatrixDao.COLUMN_TILE_WIDTH,\n    TileMatrixDao.COLUMN_TILE_HEIGHT,\n    TileMatrixDao.COLUMN_PIXEL_X_SIZE,\n    TileMatrixDao.COLUMN_PIXEL_Y_SIZE,\n  ];\n\n  createObject(results?: Record<string, DBValue>): TileMatrix {\n    const tm = new TileMatrix();\n    if (results) {\n      tm.table_name = results.table_name as string;\n      tm.zoom_level = results.zoom_level as number;\n      tm.matrix_width = results.matrix_width as number;\n      tm.matrix_height = results.matrix_height as number;\n      tm.tile_width = results.tile_width as number;\n      tm.tile_height = results.tile_height as number;\n      tm.pixel_x_size = results.pixel_x_size as number;\n      tm.pixel_y_size = results.pixel_y_size as number;\n    }\n    return tm;\n  }\n  /**\n   * get the Contents of the Tile matrix\n   * @param  {TileMatrix} tileMatrix the tile matrix\n   */\n  getContents(tileMatrix: TileMatrix): Contents {\n    return this.geoPackage.contentsDao.queryForId(tileMatrix.table_name);\n  }\n  getTileMatrixSet(tileMatrix: TileMatrix): TileMatrixSet {\n    return this.geoPackage.tileMatrixSetDao.queryForId(tileMatrix.table_name);\n  }\n  tileCount(tileMatrix: TileMatrix): number {\n    const where = this.buildWhereWithFieldAndValue(TileColumn.COLUMN_ZOOM_LEVEL, tileMatrix.zoom_level);\n    const whereArgs = this.buildWhereArgs([tileMatrix.zoom_level]);\n    const query = SqliteQueryBuilder.buildCount(\"'\" + tileMatrix.table_name + \"'\", where);\n    const result = this.connection.get(query, whereArgs);\n    return result?.count;\n  }\n  hasTiles(tileMatrix: TileMatrix): boolean {\n    const where = this.buildWhereWithFieldAndValue(TileColumn.COLUMN_ZOOM_LEVEL, tileMatrix.zoom_level);\n    const whereArgs = this.buildWhereArgs([tileMatrix.zoom_level]);\n    const query = SqliteQueryBuilder.buildQuery(false, \"'\" + tileMatrix.table_name + \"'\", undefined, where);\n    return this.connection.get(query, whereArgs) != null;\n  }\n}\n","/**\n * @module tiles/matrixset\n * @see module:dao/dao\n */\nimport { BoundingBox } from '../../boundingBox';\nimport { Contents } from '../../core/contents/contents';\n\n/**\n * `TileMatrixSet` models the [`gpkg_tile_matrix_set`](https://www.geopackage.org/spec121/index.html#_tile_matrix_set)\n * table.  A row in this table defines the minimum bounding box (min_x, min_y,\n * max_x, max_y) and spatial reference system (srs_id) for all tiles in a\n * [tile pyramid](https://www.geopackage.org/spec121/index.html#tiles_user_tables)\n * user data table.  While the parent [Contents]{@link module:core/contents~Contents}\n * row/object also defines a bounding box, the tile matrix set bounding box is\n * used as the reference for calculating tile column/row matrix coordinates, so\n * (min_x, max_y) in SRS coordinates would be the upper-left corner of the tile\n * at tile matrix coordinate (0, 0).  The parent `Contents` bounding box may be\n * smaller or larger than the `TileMatrixSet` bounding box, and its purpose is\n * to guide a user-facing application to the target region of the tile pyramid.\n * The [`srs_id`]{@link module:tiles/matrixset~TileMatrixSet#srs_id} of the `TileMatrixSet`, on the other hand, must\n * match that of the parent [`Contents`]{@link module:core/contents~Contents#srs_id}.\n *\n * @class TileMatrixSet\n */\nexport class TileMatrixSet {\n  public static readonly TABLE_NAME: string = 'tableName';\n  public static readonly MIN_X: string = 'minX';\n  public static readonly MIN_Y: string = 'minY';\n  public static readonly MAX_X: string = 'maxX';\n  public static readonly MAX_Y: string = 'maxY';\n  public static readonly SRS_ID: string = 'srsId';\n\n  /**\n   * Name of the [tile pyramid user data table](https://www.geopackage.org/spec121/index.html#tiles_user_tables)\n   * that stores the tiles\n   * @member {string}\n   */\n  table_name: string;\n  /**\n   * Unique identifier for each Spatial Reference System within a GeoPackage\n   * @member {SRSRef}\n   */\n  srs_id: number;\n  /**\n   * Bounding box minimum easting or longitude for all content in table_name\n   * @member {Number}\n   */\n  min_x: number;\n  /**\n   * Bounding box minimum northing or latitude for all content in table_name\n   * @member {Number}\n   */\n  min_y: number;\n  /**\n   * Bounding box maximum easting or longitude for all content in table_name\n   * @member {Number}\n   */\n  max_x: number;\n  /**\n   * Bounding box maximum northing or latitude for all content in table_name\n   * @member {Number}\n   */\n  max_y: number;\n\n  set boundingBox(boundingBox: BoundingBox) {\n    this.min_x = boundingBox.minLongitude;\n    this.max_x = boundingBox.maxLongitude;\n    this.min_y = boundingBox.minLatitude;\n    this.max_y = boundingBox.maxLatitude;\n  }\n  get boundingBox(): BoundingBox {\n    return new BoundingBox(this.min_x, this.max_x, this.min_y, this.max_y);\n  }\n  set contents(contents: Contents) {\n    if (contents && contents.data_type === 'tiles') {\n      this.table_name = contents.table_name;\n    }\n  }\n}\n","import { Dao } from '../../dao/dao';\nimport { GeoPackage } from '../../geoPackage';\n\nimport { TileMatrixSet } from './tileMatrixSet';\nimport { Contents } from '../../core/contents/contents';\nimport { SpatialReferenceSystem } from '../../core/srs/spatialReferenceSystem';\nimport { DBValue } from '../../db/dbAdapter';\n\n/**\n * Tile Matrix Set Data Access Object\n * @class TileMatrixSetDao\n * @extends Dao\n */\nexport class TileMatrixSetDao extends Dao<TileMatrixSet> {\n  public static readonly TABLE_NAME: string = 'gpkg_tile_matrix_set';\n  public static readonly COLUMN_PK: string = 'table_name';\n  public static readonly COLUMN_TABLE_NAME: string = 'table_name';\n  public static readonly COLUMN_SRS_ID: string = 'srs_id';\n  public static readonly COLUMN_MIN_X: string = 'min_x';\n  public static readonly COLUMN_MIN_Y: string = 'min_y';\n  public static readonly COLUMN_MAX_X: string = 'max_x';\n  public static readonly COLUMN_MAX_Y: string = 'max_y';\n\n  readonly gpkgTableName: string = 'gpkg_tile_matrix_set';\n  readonly idColumns: string[] = [TileMatrixSetDao.COLUMN_PK];\n  readonly columns: string[] = [\n    TileMatrixSetDao.COLUMN_TABLE_NAME,\n    TileMatrixSetDao.COLUMN_SRS_ID,\n    TileMatrixSetDao.COLUMN_MIN_X,\n    TileMatrixSetDao.COLUMN_MIN_Y,\n    TileMatrixSetDao.COLUMN_MAX_X,\n    TileMatrixSetDao.COLUMN_MAX_Y,\n  ];\n\n  columnToPropertyMap: { [key: string]: string } = {};\n\n  constructor(geoPackage: GeoPackage) {\n    super(geoPackage);\n    this.columnToPropertyMap[TileMatrixSetDao.COLUMN_TABLE_NAME] = TileMatrixSet.TABLE_NAME;\n    this.columnToPropertyMap[TileMatrixSetDao.COLUMN_SRS_ID] = TileMatrixSet.SRS_ID;\n    this.columnToPropertyMap[TileMatrixSetDao.COLUMN_MIN_X] = TileMatrixSet.MIN_X;\n    this.columnToPropertyMap[TileMatrixSetDao.COLUMN_MIN_Y] = TileMatrixSet.MIN_Y;\n    this.columnToPropertyMap[TileMatrixSetDao.COLUMN_MAX_X] = TileMatrixSet.MAX_X;\n    this.columnToPropertyMap[TileMatrixSetDao.COLUMN_MAX_Y] = TileMatrixSet.MAX_Y;\n  }\n\n  createObject(results?: Record<string, DBValue>): TileMatrixSet {\n    const tms = new TileMatrixSet();\n    if (results) {\n      tms.table_name = results.table_name as string;\n      tms.srs_id = results.srs_id as number;\n      tms.min_y = results.min_y as number;\n      tms.min_x = results.min_x as number;\n      tms.max_y = results.max_y as number;\n      tms.max_x = results.max_x as number;\n    }\n    return tms;\n  }\n  /**\n   * Get the tile table names\n   * @returns {string[]} tile table names\n   */\n  getTileTables(): string[] {\n    const tableNames = [];\n    for (const result of this.connection.each(\n      'select ' + TileMatrixSetDao.COLUMN_TABLE_NAME + ' from ' + TileMatrixSetDao.TABLE_NAME,\n    )) {\n      tableNames.push(result[TileMatrixSetDao.COLUMN_TABLE_NAME]);\n    }\n    return tableNames;\n  }\n  getProjection(tileMatrixSet: TileMatrixSet): proj4.Converter {\n    const srs = this.getSrs(tileMatrixSet);\n    if (!srs) return;\n    return this.geoPackage.spatialReferenceSystemDao.getProjection(srs);\n  }\n  /**\n   * Get the Spatial Reference System of the Tile Matrix set\n   * @param  {TileMatrixSet}   tileMatrixSet tile matrix set\n   */\n  getSrs(tileMatrixSet: TileMatrixSet): SpatialReferenceSystem {\n    return this.geoPackage.spatialReferenceSystemDao.queryForId(tileMatrixSet.srs_id);\n  }\n  /**\n   * @param {TileMatrixSet} tileMatrixSet\n   */\n  getContents(tileMatrixSet: TileMatrixSet): Contents {\n    return this.geoPackage.contentsDao.queryForId(tileMatrixSet.table_name);\n  }\n}\n","import { TileDao } from '../user/tileDao';\nimport { TileMatrix } from '../matrix/tileMatrix';\nimport { TileBoundingBoxUtils } from '../tileBoundingBoxUtils';\nimport { BoundingBox } from '../../boundingBox';\nimport { TileCreator } from '../creator/tileCreator';\nimport { TileRow } from '../user/tileRow';\nimport { TileScaling } from '../../extension/scale/tileScaling';\nimport { TileScalingType } from '../../extension/scale/tileScalingType';\nimport { Projection } from '../../projection/projection';\nimport { ProjectionConstants } from '../../projection/projectionConstants';\n\nexport class GeoPackageTileRetriever {\n  tileDao: TileDao<TileRow>;\n  width: number;\n  height: number;\n  setWebMercatorBoundingBox: BoundingBox;\n  setProjectionBoundingBox: BoundingBox;\n  scaling: TileScaling;\n  constructor(tileDao: TileDao<TileRow>, width: number, height: number) {\n    this.tileDao = tileDao;\n    this.tileDao.adjustTileMatrixLengths();\n    this.width = width;\n    this.height = height;\n    this.scaling = null;\n  }\n  setScaling(scaling: TileScaling): void {\n    this.scaling = scaling;\n  }\n  getWebMercatorBoundingBox(): BoundingBox {\n    if (this.setWebMercatorBoundingBox == null) {\n      this.setWebMercatorBoundingBox = this.tileDao.tileMatrixSet.boundingBox.projectBoundingBox(\n        this.tileDao.projection,\n        ProjectionConstants.EPSG_3857,\n      );\n    }\n    return this.setWebMercatorBoundingBox;\n  }\n\n  /**\n   * Determine the web mercator bounding box from xyz and see if there is a tile for the bounding box.\n   * @param x\n   * @param y\n   * @param zoom\n   */\n  hasTile(x: number, y: number, zoom: number): boolean {\n    let hasTile = false;\n    if (x >= 0 && y >= 0 && zoom >= 0) {\n      const tilesBoundingBox = TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(x, y, zoom);\n      hasTile = this.hasTileForBoundingBox(tilesBoundingBox, ProjectionConstants.EPSG_3857);\n    }\n    return hasTile;\n  }\n\n  hasTileForBoundingBox(tilesBoundingBox: BoundingBox, targetProjection: string): boolean {\n    const projectedBoundingBox = tilesBoundingBox.projectBoundingBox(targetProjection, this.tileDao.projection);\n\n    const tileMatrices = this.getTileMatrices(projectedBoundingBox);\n    let hasTile = false;\n    for (let i = 0; !hasTile && i < tileMatrices.length; i++) {\n      const tileMatrix = tileMatrices[i];\n      const tileGrid = TileBoundingBoxUtils.getTileGridWithTotalBoundingBox(\n        this.tileDao.tileMatrixSet.boundingBox,\n        tileMatrix.matrix_width,\n        tileMatrix.matrix_height,\n        projectedBoundingBox,\n      );\n      hasTile = this.tileDao.countByTileGrid(tileGrid, tileMatrix.zoom_level) > 0;\n    }\n    return hasTile;\n  }\n\n  async getTile(x: number, y: number, zoom: number): Promise<any> {\n    const webMercatorBoundingBox = TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(x, y, zoom);\n    return this.getTileWithBounds(webMercatorBoundingBox, ProjectionConstants.EPSG_3857);\n  }\n\n  async getWebMercatorTile(x: number, y: number, zoom: number): Promise<any> {\n    // need to determine the geoPackage zoom level from the web mercator zoom level\n    const webMercatorBoundingBox = TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(x, y, zoom);\n    return this.getTileWithBounds(webMercatorBoundingBox, ProjectionConstants.EPSG_3857);\n  }\n\n  async drawTileIn(x: number, y: number, zoom: number, canvas?: any): Promise<any> {\n    const webMercatorBoundingBox = TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(x, y, zoom);\n    return this.getTileWithBounds(webMercatorBoundingBox, ProjectionConstants.EPSG_3857, canvas);\n  }\n\n  async getTileWithWgs84Bounds(wgs84BoundingBox: BoundingBox, canvas?: any): Promise<any> {\n    const webMercatorBoundingBox = wgs84BoundingBox.projectBoundingBox(ProjectionConstants.EPSG_4326, ProjectionConstants.EPSG_3857);\n    return this.getTileWithBounds(webMercatorBoundingBox, ProjectionConstants.EPSG_3857, canvas);\n  }\n\n  async getTileWithWgs84BoundsInProjection(\n    wgs84BoundingBox: BoundingBox,\n    zoom: number,\n    targetProjection: string,\n    canvas?: any,\n  ): Promise<any> {\n    const targetBoundingBox = wgs84BoundingBox.projectBoundingBox(ProjectionConstants.EPSG_4326, targetProjection);\n    return this.getTileWithBounds(targetBoundingBox, targetProjection, canvas);\n  }\n\n  async getTileWithBounds(targetBoundingBox: BoundingBox, targetProjection: string, canvas?: any): Promise<any> {\n    const targetProjectionDefinition = Projection.hasProjection(targetProjection);\n    if (targetProjectionDefinition == null) {\n      throw new Error('Projection ' + targetProjection + ' is not loaded.');\n    }\n    const projectedBoundingBox = targetBoundingBox.projectBoundingBox(targetProjection, this.tileDao.projection);\n\n    const tileMatrices = this.getTileMatrices(projectedBoundingBox);\n    let tileFound = false;\n    let tile = null;\n    for (let i = 0; !tileFound && i < tileMatrices.length; i++) {\n      const tileMatrix = tileMatrices[i];\n      const tileWidth = tileMatrix.tile_width;\n      const tileHeight = tileMatrix.tile_height;\n      const creator = await TileCreator.create(\n        this.width || tileWidth,\n        this.height || tileHeight,\n        tileMatrix,\n        this.tileDao.tileMatrixSet,\n        targetBoundingBox,\n        this.tileDao.srs,\n        targetProjection,\n        targetProjectionDefinition,\n        canvas,\n      );\n      const iterator = this.retrieveTileResults(projectedBoundingBox, tileMatrix);\n      for (const tile of iterator) {\n        // Get the bounding box of the tile\n        const tileBoundingBox = TileBoundingBoxUtils.getTileBoundingBox(\n          this.tileDao.tileMatrixSet.boundingBox,\n          tileMatrix,\n          tile.tileColumn,\n          tile.row,\n        );\n        const overlap = TileBoundingBoxUtils.intersection(projectedBoundingBox, tileBoundingBox);\n        if (overlap != null) {\n          const src = TileBoundingBoxUtils.getFloatRoundedRectangle(\n            tileMatrix.tile_width,\n            tileMatrix.tile_height,\n            tileBoundingBox,\n            overlap,\n          );\n          const dest = TileBoundingBoxUtils.getFloatRoundedRectangle(\n            this.width,\n            this.height,\n            projectedBoundingBox,\n            overlap,\n          );\n          if (src.isValid && dest.isValid) {\n            await creator.addTile(tile.tileData, tile.tileColumn, tile.row);\n            tileFound = true;\n          }\n        }\n      }\n      if (!canvas && tileFound) {\n        tile = creator.getCompleteTile();\n      }\n      creator.cleanup();\n    }\n    return tile;\n  }\n\n  retrieveTileResults(\n    tileMatrixProjectionBoundingBox: BoundingBox,\n    tileMatrix?: TileMatrix,\n  ): IterableIterator<TileRow> {\n    if (tileMatrix) {\n      const tileGrid = TileBoundingBoxUtils.getTileGridWithTotalBoundingBox(\n        this.tileDao.tileMatrixSet.boundingBox,\n        tileMatrix.matrix_width,\n        tileMatrix.matrix_height,\n        tileMatrixProjectionBoundingBox,\n      );\n      return this.tileDao.queryByTileGrid(tileGrid, tileMatrix.zoom_level);\n    }\n  }\n\n  /**\n   * Get the tile matrices that may contain the tiles for the bounding box,\n   * matches against the bounding box and zoom level options\n   * @param projectedRequestBoundingBox bounding box projected to the tiles\n   * @return tile matrices\n   */\n  getTileMatrices(projectedRequestBoundingBox: BoundingBox): TileMatrix[] {\n    const tileMatrices: TileMatrix[] = [];\n    // Check if the request overlaps the tile matrix set\n    if (\n      this.tileDao.tileMatrices.length !== 0 &&\n      TileBoundingBoxUtils.intersects(projectedRequestBoundingBox, this.tileDao.tileMatrixSet.boundingBox)\n    ) {\n      // Get the tile distance\n      const distanceWidth = projectedRequestBoundingBox.maxLongitude - projectedRequestBoundingBox.minLongitude;\n      const distanceHeight = projectedRequestBoundingBox.maxLatitude - projectedRequestBoundingBox.minLatitude;\n\n      // Get the zoom level to request based upon the tile size\n      let requestZoomLevel;\n      if (this.scaling != null) {\n        // When options are provided, get the approximate zoom level regardless of whether a tile level exists\n        requestZoomLevel = this.tileDao.getApproximateZoomLevelForWidthAndHeight(distanceWidth, distanceHeight);\n      } else {\n        // Get the closest existing zoom level\n        requestZoomLevel = this.tileDao.getZoomLevelForWidthAndHeight(distanceWidth, distanceHeight);\n      }\n      // If there is a matching zoom level\n      if (requestZoomLevel != null) {\n        let zoomLevels: number[] = [];\n        // If options are configured, build the possible zoom levels in\n        // order to request\n        if (this.scaling != null && this.scaling.scaling_type != null) {\n          // Find zoom in levels\n          const zoomInLevels: number[] = [];\n          if (this.scaling.isZoomIn()) {\n            const zoomIn =\n              this.scaling.zoom_in != null ? requestZoomLevel + this.scaling.zoom_in : this.tileDao.maxZoom;\n            for (let zoomLevel = requestZoomLevel + 1; zoomLevel <= zoomIn; zoomLevel++) {\n              zoomInLevels.push(zoomLevel);\n            }\n          }\n          // Find zoom out levels\n          const zoomOutLevels = [];\n          if (this.scaling.isZoomOut()) {\n            const zoomOut =\n              this.scaling.zoom_out != null ? requestZoomLevel - this.scaling.zoom_out : this.tileDao.minZoom;\n            for (let zoomLevel = requestZoomLevel - 1; zoomLevel >= zoomOut; zoomLevel--) {\n              zoomOutLevels.push(zoomLevel);\n            }\n          }\n          if (zoomInLevels.length == 0) {\n            // Only zooming out\n            zoomLevels = zoomOutLevels;\n          } else if (zoomOutLevels.length == 0) {\n            // Only zooming in\n            zoomLevels = zoomInLevels;\n          } else {\n            // Determine how to order the zoom in and zoom out\n            // levels\n            const type = this.scaling.scaling_type;\n            switch (type) {\n              case TileScalingType.IN:\n              case TileScalingType.IN_OUT:\n                // Order zoom in levels before zoom out levels\n                zoomLevels = zoomInLevels.concat(zoomOutLevels);\n                break;\n              case TileScalingType.OUT:\n              case TileScalingType.OUT_IN:\n                // Order zoom out levels before zoom in levels\n                zoomLevels = zoomOutLevels.concat(zoomInLevels);\n                break;\n              case TileScalingType.CLOSEST_IN_OUT:\n              case TileScalingType.CLOSEST_OUT_IN:\n                // Alternate the zoom in and out levels\n                let firstLevels;\n                let secondLevels;\n                if (type == TileScalingType.CLOSEST_IN_OUT) {\n                  // Alternate starting with zoom in\n                  firstLevels = zoomInLevels;\n                  secondLevels = zoomOutLevels;\n                } else {\n                  // Alternate starting with zoom out\n                  firstLevels = zoomOutLevels;\n                  secondLevels = zoomInLevels;\n                }\n\n                zoomLevels = [];\n                const maxLevels = Math.max(firstLevels.length, secondLevels.length);\n                for (let i = 0; i < maxLevels; i++) {\n                  if (i < firstLevels.length) {\n                    zoomLevels.push(firstLevels[i]);\n                  }\n                  if (i < secondLevels.length) {\n                    zoomLevels.push(secondLevels[i]);\n                  }\n                }\n                break;\n              default:\n                throw new Error('Unsupported TileScalingType: ' + type);\n            }\n          }\n        } else {\n          zoomLevels = [];\n        }\n\n        // Always check the request zoom level first\n        zoomLevels.unshift(requestZoomLevel);\n\n        // Build a list of tile matrices that exist for the zoom levels\n        zoomLevels.forEach(zoomLevel => {\n          const tileMatrix = this.tileDao.getTileMatrixWithZoomLevel(zoomLevel);\n          if (tileMatrix != null) {\n            tileMatrices.push(tileMatrix);\n          }\n        });\n      }\n    }\n\n    return tileMatrices;\n  }\n}\n","import { ProjectionConstants } from '../projection/projectionConstants';\nimport { TileGrid } from './tileGrid';\nimport { BoundingBox } from '../boundingBox';\nimport { TileMatrix } from './matrix/tileMatrix';\n\n/**\n * This module exports utility functions for [slippy map (XYZ)](https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames)\n * tile calculations.\n *\n * @module tiles/tileBoundingBoxUtils\n */\n\nexport class TileBoundingBoxUtils {\n  /**\n   * Calculate the bounds in tile coordinates that covers the given bounding box\n   * at the given zoom level.  The result object contains the keys `minX`, `maxX`,\n   * `minY`, and `maxY`, which are tile column and row values in the XYZ tile\n   * scheme.\n   *\n   * @param {BoundingBox} webMercatorBoundingBox bounds in EPSG:3857 coordinates (meters)\n   * @param {number} zoom the integral zoom level\n   * @returns {{minX: number, maxX: number, minY: number, maxY: number}} bounds in tile column and row coordinates\n   */\n  static webMercatorTileBox(webMercatorBoundingBox: BoundingBox, zoom: number): BoundingBox {\n    const tilesPerSide = TileBoundingBoxUtils.tilesPerSideWithZoom(zoom);\n    const tileSize = TileBoundingBoxUtils.tileSizeWithTilesPerSide(tilesPerSide);\n\n    const minLonClip = Math.max(\n      -ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH,\n      webMercatorBoundingBox.minLongitude,\n    );\n    const maxLonClip = Math.min(ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH, webMercatorBoundingBox.maxLongitude);\n    const minLatClip = Math.max(-ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH, webMercatorBoundingBox.minLatitude);\n    const maxLatClip = Math.min(ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH, webMercatorBoundingBox.maxLatitude);\n\n    const minX = Math.floor((minLonClip + ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH) / tileSize);\n    const maxX = Math.max(\n      0,\n      Math.ceil((maxLonClip + ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH) / tileSize) - 1,\n    );\n    const minY = Math.floor((ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH - maxLatClip) / tileSize);\n    const maxY = Math.max(\n      0,\n      Math.ceil((ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH - minLatClip) / tileSize) - 1,\n    );\n    return new BoundingBox(minX, maxX, minY, maxY);\n  }\n\n  /**\n   * Calculate the bounds in tile coordinates that covers the given bounding box\n   * at the given zoom level.  The result object contains the keys `minX`, `maxX`,\n   * `minY`, and `maxY`, which are tile column and row values in the XYZ tile\n   * scheme.\n   *\n   * @param {BoundingBox} wgs84BoundingBox bounds in EPSG:4326 coordinates (meters)\n   * @param {number} zoom the integral zoom level\n   * @returns {{minX: number, maxX: number, minY: number, maxY: number}} bounds in tile column and row coordinates\n   */\n  static wgs84TileBox(wgs84BoundingBox: BoundingBox, zoom: number): BoundingBox {\n    const tilesPerSideLat = TileBoundingBoxUtils.tilesPerWGS84LatSide(zoom);\n    const tilesPerSideLon = TileBoundingBoxUtils.tilesPerWGS84LonSide(zoom);\n    const tileSizeLat = TileBoundingBoxUtils.tileSizeLatPerWGS84Side(tilesPerSideLat);\n    const tileSizeLon = TileBoundingBoxUtils.tileSizeLonPerWGS84Side(tilesPerSideLon);\n    const minLonClip = Math.max(-ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH, wgs84BoundingBox.minLongitude);\n    const maxLonClip = Math.min(ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH, wgs84BoundingBox.maxLongitude);\n    const minLatClip = Math.max(-ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT, wgs84BoundingBox.minLatitude);\n    const maxLatClip = Math.min(ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT, wgs84BoundingBox.maxLatitude);\n    const minX = Math.floor((minLonClip + ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH) / tileSizeLon);\n    const maxX = Math.max(\n      0,\n      Math.ceil((maxLonClip + ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH) / tileSizeLon) - 1,\n    );\n    const minY = Math.floor((ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT - maxLatClip) / tileSizeLat);\n    const maxY = Math.max(\n      0,\n      Math.ceil((ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT - minLatClip) / tileSizeLat) - 1,\n    );\n    return new BoundingBox(minX, maxX, minY, maxY);\n  }\n\n  static determinePositionAndScale(\n    geoPackageTileBoundingBox: BoundingBox,\n    tileHeight: number,\n    tileWidth: number,\n    totalBoundingBox: BoundingBox,\n    totalHeight: number,\n    totalWidth: number,\n  ): {\n    yPositionInFinalTileStart: number;\n    xPositionInFinalTileStart: number;\n    dx: number;\n    dy: number;\n    sx: number;\n    sy: number;\n    dWidth: number;\n    dHeight: number;\n    sWidth: number;\n    sHeight: number;\n  } {\n    const p = {} as {\n      yPositionInFinalTileStart: number;\n      xPositionInFinalTileStart: number;\n      dx: number;\n      dy: number;\n      sx: number;\n      sy: number;\n      dWidth: number;\n      dHeight: number;\n      sWidth: number;\n      sHeight: number;\n    };\n\n    const finalTileWidth = totalBoundingBox.maxLongitude - totalBoundingBox.minLongitude;\n    const xoffsetMin = geoPackageTileBoundingBox.minLongitude - totalBoundingBox.minLongitude;\n    const xpercentageMin = xoffsetMin / finalTileWidth;\n\n    const finalTileHeight = totalBoundingBox.maxLatitude - totalBoundingBox.minLatitude;\n    const yoffsetMax = totalBoundingBox.maxLatitude - geoPackageTileBoundingBox.maxLatitude;\n    const ypercentageMax = yoffsetMax / finalTileHeight;\n\n    const finalTilePixelsPerUnitWidth = totalWidth / finalTileWidth;\n    const widthInFinalTileUnits =\n      (geoPackageTileBoundingBox.maxLongitude - geoPackageTileBoundingBox.minLongitude) * finalTilePixelsPerUnitWidth;\n    const finalTilePixelsPerUnitHeight = totalHeight / finalTileHeight;\n    const heightInFinalTileUnits =\n      (geoPackageTileBoundingBox.maxLatitude - geoPackageTileBoundingBox.minLatitude) * finalTilePixelsPerUnitHeight;\n\n    p.yPositionInFinalTileStart = ypercentageMax * totalHeight;\n    p.xPositionInFinalTileStart = xpercentageMin * totalWidth;\n    p.dx = p.xPositionInFinalTileStart;\n    p.dy = p.yPositionInFinalTileStart;\n    p.sx = 0;\n    p.sy = 0;\n    p.dWidth = widthInFinalTileUnits;\n    p.dHeight = heightInFinalTileUnits;\n    p.sWidth = tileWidth;\n    p.sHeight = tileHeight;\n\n    return p;\n  }\n\n  /**\n   * Calculate the bounds in EPSG:3857 coordinates of the tile at the given XYZ\n   * coordinates coordinates and zoom level.\n   *\n   *  @param {number} x tile column\n   *  @param {number} y tile row\n   *  @param {number} zoom zoom level\n   *  @param {*} [options] options object\n   *  @return {BoundingBox} a bounding box in EPSG:3857 meters\n   */\n  static getWebMercatorBoundingBoxFromXYZ(\n    x: number,\n    y: number,\n    zoom: number,\n    options?: { tileSize?: number; buffer?: number },\n  ): BoundingBox {\n    const tilesPerSide = TileBoundingBoxUtils.tilesPerSideWithZoom(zoom);\n    const tileSize = TileBoundingBoxUtils.tileSizeWithTilesPerSide(tilesPerSide);\n\n    // correct the x number to be between 0 and tilesPerSide\n    while (x < 0) {\n      x = x + tilesPerSide;\n    }\n    while (x >= tilesPerSide) {\n      x = x - tilesPerSide;\n    }\n\n    let meterBuffer = 0;\n    if (options && options.buffer && options.tileSize) {\n      const pixelBuffer = options.buffer;\n      const metersPerPixel = tileSize / options.tileSize;\n      meterBuffer = metersPerPixel * pixelBuffer;\n    }\n\n    let minLon = -1 * ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH + x * tileSize - meterBuffer;\n    let maxLon = -1 * ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH + (x + 1) * tileSize + meterBuffer;\n    let minLat = ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH - (y + 1) * tileSize - meterBuffer;\n    let maxLat = ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH - y * tileSize + meterBuffer;\n\n    minLon = Math.max(-1 * ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH, minLon);\n    maxLon = Math.min(ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH, maxLon);\n    minLat = Math.max(-1 * ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH, minLat);\n    maxLat = Math.min(ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH, maxLat);\n\n    return new BoundingBox(minLon, maxLon, minLat, maxLat);\n  }\n\n  static getWGS84BoundingBoxFromXYZ(x: number, y: number, zoom: number): BoundingBox {\n    const tilesPerLat = TileBoundingBoxUtils.tilesPerWGS84LatSide(zoom);\n    const tilesPerLon = TileBoundingBoxUtils.tilesPerWGS84LonSide(zoom);\n    const tileSizeLat = TileBoundingBoxUtils.tileSizeLatPerWGS84Side(tilesPerLat);\n    const tileSizeLon = TileBoundingBoxUtils.tileSizeLonPerWGS84Side(tilesPerLon);\n    const minLon = -1 * ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH + x * tileSizeLon;\n    const maxLon = -1 * ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH + (x + 1) * tileSizeLon;\n    const minLat = ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT - (y + 1) * tileSizeLat;\n    const maxLat = ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT - y * tileSizeLat;\n    return new BoundingBox(minLon, maxLon, minLat, maxLat);\n  }\n\n  /**\n   *  Get the tile size in meters\n   *\n   *  @param tilesPerSide tiles per side\n   *\n   *  @return meters\n   */\n  static tileSizeWithTilesPerSide(tilesPerSide: number): number {\n    return (2 * ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH) / tilesPerSide;\n  }\n\n  static intersects(boundingBoxA: BoundingBox, boundingBoxB: BoundingBox): boolean {\n    return TileBoundingBoxUtils.intersection(boundingBoxA, boundingBoxB) != null;\n  }\n\n  static intersection(boundingBoxA: BoundingBox, boundingBoxB: BoundingBox): BoundingBox {\n    const x1 = Math.max(boundingBoxA.minLongitude, boundingBoxB.minLongitude);\n    const y1 = Math.max(boundingBoxA.minLatitude, boundingBoxB.minLatitude);\n    const x2 = Math.min(boundingBoxA.maxLongitude, boundingBoxB.maxLongitude);\n    const y2 = Math.min(boundingBoxA.maxLatitude, boundingBoxB.maxLatitude);\n    if (x1 > x2 || y1 > y2) {\n      return null;\n    }\n    return new BoundingBox(x1, x2, y1, y2);\n  }\n\n  /**\n   *  Get the tiles per side, width and height, at the zoom level\n   *\n   *  @param zoom zoom level\n   *\n   *  @return tiles per side\n   */\n  static tilesPerSideWithZoom(zoom: number): number {\n    return 1 << zoom;\n  }\n\n  /**\n   * Get the tiles per latitude side at the zoom level\n   * @param zoom zoom level\n   * @return tiles per latitude side\n   * @since 1.2.0\n   */\n  static tilesPerWGS84LatSide(zoom: number): number {\n    return TileBoundingBoxUtils.tilesPerSide(zoom);\n  }\n\n  /**\n   * Get the tiles per longitude side at the zoom level\n   * @param zoom zoom level\n   * @return tiles per longitude side\n   * @since 1.2.0\n   */\n  static tilesPerWGS84LonSide(zoom: number): number {\n    return 2 * TileBoundingBoxUtils.tilesPerSide(zoom);\n  }\n\n  /**\n   * Get the tile height in degrees latitude\n   *\n   * @param tilesPerLat\n   *            tiles per latitude side\n   *\n   * @return degrees\n   * @since 1.2.0\n   */\n  static tileSizeLatPerWGS84Side(tilesPerLat: number): number {\n    return (2 * ProjectionConstants.WGS84_HALF_WORLD_LAT_HEIGHT) / tilesPerLat;\n  }\n\n  /**\n   * Get the tile height in degrees longitude\n   *\n   * @param tilesPerLon\n   *            tiles per longitude side\n   *\n   * @return degrees\n   * @since 1.2.0\n   */\n  static tileSizeLonPerWGS84Side(tilesPerLon: number): number {\n    return (2 * ProjectionConstants.WGS84_HALF_WORLD_LON_WIDTH) / tilesPerLon;\n  }\n\n  /**\n   *  Get the tile grid\n   *  @param {BoundingBox} totalBoundingBox    web mercator total bounding box\n   *  @param {Number} matrixWidth            matrix width\n   *  @param {Number} matrixHeight           matrix height\n   *  @param {BoundingBox} boundingBox            bounding box\n   *\n   *  @return tile grid\n   */\n  static getTileGridWithTotalBoundingBox(\n    totalBoundingBox: BoundingBox,\n    matrixWidth: number,\n    matrixHeight: number,\n    boundingBox: BoundingBox,\n  ): TileGrid {\n    let minColumn = TileBoundingBoxUtils.getTileColumnWithTotalBoundingBox(\n      totalBoundingBox,\n      matrixWidth,\n      boundingBox.minLongitude,\n    );\n    let maxColumn = TileBoundingBoxUtils.getTileColumnWithTotalBoundingBox(\n      totalBoundingBox,\n      matrixWidth,\n      boundingBox.maxLongitude,\n    );\n    if (minColumn < matrixWidth && maxColumn >= 0) {\n      if (minColumn < 0) {\n        minColumn = 0;\n      }\n      if (maxColumn >= matrixWidth) {\n        maxColumn = matrixWidth - 1;\n      }\n    }\n\n    let maxRow = TileBoundingBoxUtils.getRowWithTotalBoundingBox(\n      totalBoundingBox,\n      matrixHeight,\n      boundingBox.minLatitude,\n    );\n    let minRow = TileBoundingBoxUtils.getRowWithTotalBoundingBox(\n      totalBoundingBox,\n      matrixHeight,\n      boundingBox.maxLatitude,\n    );\n\n    if (minRow < matrixHeight && maxRow >= 0) {\n      if (minRow < 0) {\n        minRow = 0;\n      }\n      if (maxRow >= matrixHeight) {\n        maxRow = matrixHeight - 1;\n      }\n    }\n\n    return new TileGrid(minColumn, maxColumn, minRow, maxRow);\n  }\n\n  /**\n   *  Get the tile column of the longitude in degrees\n   *\n   *  @param {BoundingBox} webMercatorTotalBox web mercator total bounding box\n   *  @param {Number} matrixWidth         matrix width\n   *  @param {Number} longitude           longitude\n   *  @param {Boolean} [max]\n   *\n   *  @return tile column\n   */\n  static getTileColumnWithTotalBoundingBox(\n    webMercatorTotalBox: BoundingBox,\n    matrixWidth: number,\n    longitude: number,\n  ): number {\n    const minX = webMercatorTotalBox.minLongitude;\n    const maxX = webMercatorTotalBox.maxLongitude;\n    let tileId;\n    if (longitude < minX) {\n      tileId = -1;\n    } else if (longitude >= maxX) {\n      tileId = matrixWidth;\n    } else {\n      const matrixWidthMeters = maxX - minX;\n      const tileWidth = matrixWidthMeters / matrixWidth;\n      const tileIdDouble = (longitude - minX) / tileWidth;\n      tileId = ~~tileIdDouble;\n    }\n    return tileId;\n  }\n\n  /**\n   *  Get the tile row of the latitude in degrees\n   *\n   *  @param {BoundingBox} webMercatorTotalBox web mercator total bounding box\n   *  @param {Number} matrixHeight        matrix height\n   *  @param {Number} latitude            latitude\n   *  @param {Boolean} [max]\n   *  @return tile row\n   */\n  static getRowWithTotalBoundingBox(webMercatorTotalBox: BoundingBox, matrixHeight: number, latitude: number): number {\n    const minY = webMercatorTotalBox.minLatitude;\n    const maxY = webMercatorTotalBox.maxLatitude;\n\n    let tileId;\n    if (latitude < minY) {\n      tileId = matrixHeight;\n    } else if (latitude >= maxY) {\n      tileId = -1;\n    } else {\n      const matrixHeightMeters = maxY - minY;\n      const tileHeight = matrixHeightMeters / matrixHeight;\n      const tileIdDouble = (maxY - latitude) / tileHeight;\n      tileId = ~~tileIdDouble;\n    }\n    return tileId;\n  }\n\n  /**\n   *  Get the web mercator bounding box of the tile column and row in the tile\n   *  matrix using the total bounding box\n   *\n   *  @param {BoundingBox} box web mercator total bounding box\n   *  @param {TileMatrix} tileMatrix          tile matrix\n   *  @param {Number} tileColumn          tile column\n   *  @param {Number} tileRow             tile row\n   *\n   *  @return web mercator bounding box\n   */\n  static getTileBoundingBox(\n    box: BoundingBox,\n    tileMatrix: TileMatrix,\n    tileColumn: number,\n    tileRow: number,\n  ): BoundingBox {\n    const tileMatrixWidth = tileMatrix.matrix_width;\n    const tileMatrixHeight = tileMatrix.matrix_height;\n    const tileGrid = new TileGrid(tileColumn, tileColumn, tileRow, tileRow);\n    const matrixMinX = box.minLongitude;\n    const matrixMaxX = box.maxLongitude;\n    const matrixWidth = matrixMaxX - matrixMinX;\n    const tileWidth = matrixWidth / tileMatrixWidth;\n\n    // Find the longitude range\n    const minLon = matrixMinX + tileWidth * tileGrid.min_x;\n    const maxLon = minLon + tileWidth * (tileGrid.max_x + 1 - tileGrid.min_x);\n\n    // Get the tile height\n    const matrixMinY = box.minLatitude;\n    const matrixMaxY = box.maxLatitude;\n    const matrixHeight = matrixMaxY - matrixMinY;\n    const tileHeight = matrixHeight / tileMatrixHeight;\n\n    // Find the latitude range\n    const maxLat = matrixMaxY - tileHeight * tileGrid.min_y;\n    const minLat = maxLat - tileHeight * (tileGrid.max_y + 1 - tileGrid.min_y);\n\n    return new BoundingBox(minLon, maxLon, minLat, maxLat);\n  }\n\n  static getTileGridBoundingBox(\n    matrixSetBoundingBox: BoundingBox,\n    tileMatrixWidth: number,\n    tileMatrixHeight: number,\n    tileGrid: TileGrid,\n  ): BoundingBox {\n    // Get the tile width\n    const matrixMinX = matrixSetBoundingBox.minLongitude;\n    const matrixWidth = matrixSetBoundingBox.width;\n    const tileWidth = matrixWidth / tileMatrixWidth;\n\n    // Find the longitude range\n    const minLon = matrixMinX + tileWidth * tileGrid.min_x;\n    const maxLon = minLon + tileWidth * (tileGrid.max_x + 1 - tileGrid.min_x);\n\n    // Get the tile height\n    const matrixMaxY = matrixSetBoundingBox.maxLatitude;\n    const matrixHeight = matrixSetBoundingBox.height;\n    const tileHeight = matrixHeight / tileMatrixHeight;\n\n    // Find the latitude range\n    const maxLat = matrixMaxY - tileHeight * tileGrid.min_y;\n    const minLat = maxLat - tileHeight * (tileGrid.max_y + 1 - tileGrid.min_y);\n\n    return new BoundingBox(minLon, maxLon, minLat, maxLat);\n  }\n\n  static getXPixel(width: number, boundingBox: BoundingBox, longitude: number): number {\n    return ((longitude - boundingBox.minLongitude) / boundingBox.width) * width;\n  }\n\n  static getLongitudeFromPixel(\n    width: number,\n    boundingBox: BoundingBox,\n    tileBoundingBox: BoundingBox,\n    pixel: number,\n  ): number {\n    return (pixel / width) * tileBoundingBox.width + boundingBox.minLongitude;\n  }\n\n  static getYPixel(height: number, boundingBox: BoundingBox, latitude: number): number {\n    return ((boundingBox.maxLatitude - latitude) / boundingBox.height) * height;\n  }\n\n  static getLatitudeFromPixel(\n    height: number,\n    boundingBox: BoundingBox,\n    tileBoundingBox: BoundingBox,\n    pixel: number,\n  ): number {\n    return boundingBox.maxLatitude - (pixel / height) * tileBoundingBox.height;\n  }\n\n  /**\n   * Get the tile size in meters\n   * @param tilesPerSide tiles per side\n   * @return {Number} tile size\n   */\n  static tileSize(tilesPerSide: number): number {\n    return (2 * ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH) / tilesPerSide;\n  }\n\n  /**\n   * Get the zoom level from the tile size in meters\n   * @param tileSize tile size in meters\n   * @return {Number} zoom level\n   * @since 1.2.0\n   */\n  static zoomLevelOfTileSize(tileSize: number): number {\n    const tilesPerSide = (2 * ProjectionConstants.WEB_MERCATOR_HALF_WORLD_WIDTH) / tileSize;\n    return Math.log(tilesPerSide) / Math.log(2);\n  }\n\n  /**\n   * Get the tile width in degrees\n   * @param tilesPerSide tiles per side\n   * @return {Number} tile width degrees\n   */\n  static tileWidthDegrees(tilesPerSide: number): number {\n    return 360.0 / tilesPerSide;\n  }\n\n  /**\n   * Get the tile height in degrees\n   * @param tilesPerSide tiles per side\n   * @return {Number} tile height degrees\n   */\n  statictileHeightDegrees(tilesPerSide: number): number {\n    return 180.0 / tilesPerSide;\n  }\n\n  /**\n   * Get the tiles per side, width and height, at the zoom level\n   * @param zoom zoom level\n   * @return {Number} tiles per side\n   */\n  static tilesPerSide(zoom: number): number {\n    return Math.pow(2, zoom);\n  }\n\n  /**\n   * Get the tile size in meters at the zoom level\n   * @param zoom zoom level\n   * @return {Number} tile size in meters\n   * @since 2.0.0\n   */\n  static tileSizeWithZoom(zoom: number): number {\n    const tilesPerSide = this.tilesPerSide(zoom);\n    return this.tileSize(tilesPerSide);\n  }\n\n  /**\n   * Get the tolerance distance in meters for the zoom level and pixels length\n   * @param zoom zoom level\n   * @param pixels pixel length\n   * @return {Number} tolerance distance in meters\n   * @since 2.0.0\n   */\n  static toleranceDistance(zoom: number, pixels: number): number {\n    const tileSize = this.tileSizeWithZoom(zoom);\n    return tileSize / pixels;\n  }\n\n  /**\n   * Get the tolerance distance in meters for the zoom level and pixels length\n   * @param zoom zoom level\n   * @param pixelWidth pixel width\n   * @param pixelHeight pixel height\n   * @return {Number} tolerance distance in meters\n   * @since 2.0.0\n   */\n  static toleranceDistanceWidthAndHeight(zoom: number, pixelWidth: number, pixelHeight: number): number {\n    return this.toleranceDistance(zoom, Math.max(pixelWidth, pixelHeight));\n  }\n\n  static getFloatRoundedRectangle(width: number, height: number, boundingBox: BoundingBox, boundingBoxSection: any) {\n    const left = Math.round(TileBoundingBoxUtils.getXPixel(width, boundingBox, boundingBoxSection.minLongitude));\n    const right = Math.round(TileBoundingBoxUtils.getXPixel(width, boundingBox, boundingBoxSection.maxLongitude));\n    const top = Math.round(TileBoundingBoxUtils.getYPixel(height, boundingBox, boundingBoxSection.maxLatitude));\n    const bottom = Math.round(TileBoundingBoxUtils.getYPixel(height, boundingBox, boundingBoxSection.minLatitude));\n    const isValid = left < right && top < bottom;\n    return { left, right, bottom, top, isValid };\n  }\n}\n","/**\n * Tile grid with x and y ranges\n * @module tiles/tileGrid\n * @class\n */\nexport class TileGrid {\n  constructor(public min_x: number, public max_x: number, public min_y: number, public max_y: number) {}\n  count(): number {\n    return (this.max_x + 1 - this.min_x) * (this.max_y + 1 - this.min_y);\n  }\n  equals(tileGrid: TileGrid): boolean {\n    if (!tileGrid) return false;\n    return (\n      this.min_x === tileGrid.min_x &&\n      this.max_x === tileGrid.max_x &&\n      this.min_y === tileGrid.min_y &&\n      this.max_y === tileGrid.max_y\n    );\n  }\n}\n","/**\n * @module tiles/user/tileColumn\n */\n\nimport { UserColumn } from '../../user/userColumn';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\nimport { DBValue } from '../../db/dbAdapter';\nimport { UserTableDefaults } from '../../user/userTableDefaults';\n\n/**\n * `TileColumn` models columns in [user tile pyramid tables]{@link module:tiles/user/tileTable~TileTable}.\n *\n * @class\n * @extends UserColumn\n */\nexport class TileColumn extends UserColumn {\n  public static readonly COLUMN_ID: string = 'id';\n  public static readonly COLUMN_ZOOM_LEVEL: string = 'zoom_level';\n  public static readonly COLUMN_TILE_COLUMN: string = 'tile_column';\n  public static readonly COLUMN_TILE_ROW: string = 'tile_row';\n  public static readonly COLUMN_TILE_DATA: string = 'tile_data';\n\n  constructor(\n    index: number,\n    name: string,\n    dataType: GeoPackageDataType,\n    max?: number,\n    notNull?: boolean,\n    defaultValue?: DBValue,\n    primaryKey?: boolean,\n    autoincrement?: boolean,\n  ) {\n    super(index, name, dataType, max, notNull, defaultValue, primaryKey, autoincrement);\n  }\n  /**\n   * Create an id column\n   * @param  {number} index Index\n   * @param  {boolean} autoincrement Autoincrement\n   */\n  static createIdColumn(index: number, autoincrement: boolean = UserTableDefaults.DEFAULT_AUTOINCREMENT): TileColumn {\n    return new TileColumn(index, TileColumn.COLUMN_ID, GeoPackageDataType.INTEGER, null, false, null, true, autoincrement);\n  }\n  /**\n   * Create a zoom level column\n   * @param  {number} index Index\n   */\n  static createZoomLevelColumn(index: number): TileColumn {\n    return new TileColumn(index, TileColumn.COLUMN_ZOOM_LEVEL, GeoPackageDataType.INTEGER, null, true, null, false, false);\n  }\n  /**\n   *  Create a tile column column\n   *\n   *  @param {number} index column index\n   */\n  static createTileColumnColumn(index: number): TileColumn {\n    return new TileColumn(index, TileColumn.COLUMN_TILE_COLUMN, GeoPackageDataType.INTEGER, null, true, null, false, false);\n  }\n  /**\n   *  Create a tile row column\n   *\n   *  @param {number} index column index\n   *\n   */\n  static createTileRowColumn(index: number): TileColumn {\n    return new TileColumn(index, TileColumn.COLUMN_TILE_ROW, GeoPackageDataType.INTEGER, null, true, null, false, false);\n  }\n  /**\n   *  Create a tile data column\n   *\n   *  @param {number} index column index\n   */\n  static createTileDataColumn(index: number): TileColumn {\n    return new TileColumn(index, TileColumn.COLUMN_TILE_DATA, GeoPackageDataType.BLOB, null, true, null, false, false);\n  }\n\n  /**\n   * Create a new column\n   * @param index\n   * @param name\n   * @param type\n   * @param notNull\n   * @param defaultValue\n   * @param max\n   * @param autoincrement\n   */\n  static createColumn(\n    index: number,\n    name: string,\n    type: GeoPackageDataType,\n    notNull = false,\n    defaultValue?: DBValue,\n    max?: number,\n    autoincrement?: boolean,\n  ): TileColumn {\n    return new TileColumn(index, name, type, max, notNull, defaultValue, false, autoincrement);\n  }\n}\n","/**\n * @module tiles/user/tileColumn\n */\n\nimport { UserColumn } from '../../user/userColumn';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\nimport { TileColumn } from './tileColumn';\nimport { UserColumns } from '../../user/userColumns';\n\n/**\n * `TileColumn` models columns in [user tile pyramid tables]{@link module:tiles/user/tileTable~TileTable}.\n *\n * @class\n * @extends UserColumn\n */\nexport class TileColumns extends UserColumns<TileColumn> {\n  /**\n   * Id column name, Requirement 52\n   */\n  static ID: string = 'id';\n\n  /**\n   * Zoom level column name, Requirement 53\n   */\n  static ZOOM_LEVEL: string = 'zoom_level';\n\n  /**\n   * Tile column column name, Requirement 54\n   */\n  static TILE_COLUMN: string = 'tile_column';\n\n  /**\n   * Tile row column name, Requirement 55\n   */\n  static TILE_ROW: string = 'tile_row';\n\n  /**\n   * Tile ID column name, implied requirement\n   */\n  static TILE_DATA: string = 'tile_data';\n\n  /**\n   * Zoom level column index\n   */\n  zoomLevelIndex: number = -1;\n\n  /**\n   * Tile column column index\n   */\n  tileColumnIndex: number = -1;\n\n  /**\n   * Tile row column index\n   */\n  tileRowIndex: number = -1;\n\n  /**\n   * Tile data column index\n   */\n  tileDataIndex: number = -1;\n\n  /**\n   * Constructor\n   * @param tableName table name\n   * @param columns columns\n   * @param custom custom column specification\n   */\n  constructor(tableName: string, columns: TileColumn[], custom: boolean) {\n    super(tableName, columns, custom);\n    this.updateColumns();\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  copy(): TileColumns {\n    let tileColumns = new TileColumns(this._tableName, this._columns, this._custom);\n    tileColumns.zoomLevelIndex = this.zoomLevelIndex;\n    tileColumns.tileColumnIndex = this.tileColumnIndex;\n    tileColumns.tileRowIndex = this.tileRowIndex;\n    tileColumns.tileDataIndex = this.tileDataIndex;\n    return tileColumns;\n\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  updateColumns() {\n    super.updateColumns();\n\n    // Find the required columns\n    let zoomLevel = this.getColumnIndex(TileColumns.ZOOM_LEVEL, false);\n    if (!this.isCustom()) {\n      this.missingCheck(zoomLevel, TileColumns.ZOOM_LEVEL);\n    }\n    if (zoomLevel !== null) {\n      this.typeCheck(GeoPackageDataType.INTEGER, this.getColumnForIndex(zoomLevel));\n      this.zoomLevelIndex = zoomLevel;\n    }\n\n    let tileColumn = this.getColumnIndex(TileColumns.TILE_COLUMN, false);\n    if (!this.isCustom()) {\n      this.missingCheck(tileColumn, TileColumns.TILE_COLUMN);\n    }\n    if (tileColumn != null) {\n      this.typeCheck(GeoPackageDataType.INTEGER, this.getColumnForIndex(tileColumn));\n      this.tileColumnIndex = tileColumn;\n    }\n\n    let tileRow = this.getColumnIndex(TileColumns.TILE_ROW, false);\n    if (!this.isCustom()) {\n      this.missingCheck(tileRow, TileColumns.TILE_ROW);\n    }\n    if (tileRow != null) {\n      this.typeCheck(GeoPackageDataType.INTEGER, this.getColumnForIndex(tileRow));\n      this.tileRowIndex = tileRow;\n    }\n\n    let tileData = this.getColumnIndex(TileColumns.TILE_DATA, false);\n    if (!this.isCustom()) {\n      this.missingCheck(tileData, TileColumns.TILE_DATA);\n    }\n    if (tileData != null) {\n      this.typeCheck(GeoPackageDataType.BLOB, this.getColumnForIndex(tileData));\n      this.tileDataIndex = tileData;\n    }\n\n  }\n\n  /**\n   * Get the zoom level index\n   * @return zoom level index\n   */\n  getZoomLevelIndex(): number {\n    return this.zoomLevelIndex;\n  }\n\n  /**\n   * Set the zoom level index\n   * @param zoomLevelIndex zoom level index\n   */\n  setZoomLevelIndex(zoomLevelIndex: number) {\n    this.zoomLevelIndex = zoomLevelIndex;\n  }\n\n  /**\n   * Check if has a zoom level column\n   * @return true if has a zoom level column\n   */\n  hasZoomLevelColumn(): boolean {\n    return this.zoomLevelIndex >= 0;\n  }\n\n  /**\n   * Get the zoom level column\n   * @return zoom level column\n   */\n  getZoomLevelColumn(): TileColumn {\n    let column = null;\n    if (this.hasZoomLevelColumn()) {\n      column = this.getColumnForIndex(this.zoomLevelIndex);\n    }\n    return column;\n  }\n\n  /**\n   * Get the tile column index\n   * @return tile column index\n   */\n  getTileColumnIndex(): number {\n    return this.tileColumnIndex;\n  }\n\n  /**\n   * Set the tile column index\n   *\n   * @param tileColumnIndex\n   *            tile column index\n   */\n  setTileColumnIndex(tileColumnIndex: number) {\n    this.tileColumnIndex = tileColumnIndex;\n  }\n\n  /**\n   * Check if has a tile column column\n   * @return true if has a tile column column\n   */\n  hasTileColumnColumn(): boolean {\n    return this.tileColumnIndex >= 0;\n  }\n\n  /**\n   * Get the tile column column\n   * @return tile column column\n   */\n  getTileColumnColumn(): TileColumn {\n    let column = null;\n    if (this.hasTileColumnColumn()) {\n      column = this.getColumnForIndex(this.tileColumnIndex);\n    }\n    return column;\n  }\n\n  /**\n   * Get the tile row index\n   * @return tile row index\n   */\n  getTileRowIndex(): number {\n    return this.tileRowIndex;\n  }\n\n  /**\n   * Set the tile row index\n   * @param tileRowIndex tile row index\n   */\n  setTileRowIndex(tileRowIndex: number) {\n    this.tileRowIndex = tileRowIndex;\n  }\n\n  /**\n   * Check if has a tile row column\n   * @return true if has a tile row column\n   */\n  hasTileRowColumn(): boolean {\n    return this.tileRowIndex >= 0;\n  }\n\n  /**\n   * Get the tile row column\n   * @return tile row column\n   */\n  getTileRowColumn(): TileColumn {\n    let column = null;\n    if (this.hasTileRowColumn()) {\n      column = this.getColumnForIndex(this.tileRowIndex);\n    }\n    return column;\n  }\n\n  /**\n   * Get the tile data index\n   * @return tile data index\n   */\n  getTileDataIndex(): number {\n    return this.tileDataIndex;\n  }\n\n  /**\n   * Set the tile data index\n   * @param tileDataIndex tile data index\n   */\n  setTileDataIndex(tileDataIndex: number) {\n    this.tileDataIndex = tileDataIndex;\n  }\n\n  /**\n   * Check if has a tile data column\n   * @return true if has a tile data column\n   */\n  hasTileDataColumn(): boolean {\n    return this.tileDataIndex >= 0;\n  }\n\n  /**\n   * Get the tile data column\n   *\n   * @return tile data column\n   */\n  getTileDataColumn(): TileColumn {\n    let column = null;\n    if (this.hasTileDataColumn()) {\n      column = this.getColumnForIndex(this.tileDataIndex);\n    }\n    return column;\n  }\n}\n","import proj4 from 'proj4';\nimport { UserDao } from '../../user/userDao';\nimport { TileMatrixDao } from '../matrix/tileMatrixDao';\nimport { TileMatrixSetDao } from '../matrixset/tileMatrixSetDao';\nimport { TileRow } from './tileRow';\nimport { TileColumn } from './tileColumn';\nimport { TileGrid } from '../tileGrid';\nimport { ColumnValues } from '../../dao/columnValues';\nimport { TileMatrix } from '../matrix/tileMatrix';\nimport { TileBoundingBoxUtils } from '../tileBoundingBoxUtils';\nimport { BoundingBox } from '../../boundingBox';\nimport { SpatialReferenceSystem } from '../../core/srs/spatialReferenceSystem';\nimport { TileMatrixSet } from '../matrixset/tileMatrixSet';\nimport { GeoPackage } from '../../geoPackage';\nimport { TileTable } from './tileTable';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\nimport { DBValue } from '../../db/dbAdapter';\nimport { TileDaoUtils } from './tileDaoUtils';\nimport { Projection } from '../../projection/projection';\nimport { ProjectionConstants } from '../../projection/projectionConstants';\n\n/**\n * `TileDao` is a {@link module:dao/dao~Dao} subclass for reading\n * [user tile tables]{@link module:tiles/user/tileTable~TileTable}.\n *\n * @class TileDao\n * @extends UserDao\n * @param  {GeoPackageConnection} connection\n * @param  {TileTable} table\n * @param  {TileMatrixSet} tileMatrixSet\n * @param  {TileMatrix[]} tileMatrices\n */\nexport class TileDao<T extends TileRow> extends UserDao<TileRow> {\n  zoomLevelToTileMatrix: TileMatrix[];\n  widths: number[];\n  heights: number[];\n  minZoom: number;\n  maxZoom: number;\n  srs: SpatialReferenceSystem;\n  projection: string;\n  minWebMapZoom: number;\n  maxWebMapZoom: number;\n  webZoomToGeoPackageZooms: Record<number, number>;\n  constructor(\n    geoPackage: GeoPackage,\n    table: TileTable,\n    public tileMatrixSet: TileMatrixSet,\n    public tileMatrices: TileMatrix[],\n  ) {\n    super(geoPackage, table);\n    this.zoomLevelToTileMatrix = [];\n    this.widths = [];\n    this.heights = [];\n    if (tileMatrices.length === 0) {\n      this.minZoom = 0;\n      this.maxZoom = 0;\n    } else {\n      this.minZoom = this.tileMatrices[0].zoom_level;\n      this.maxZoom = this.tileMatrices[this.tileMatrices.length - 1].zoom_level;\n    }\n    // Populate the zoom level to tile matrix and the sorted tile widths and heights\n    for (let i = this.tileMatrices.length - 1; i >= 0; i--) {\n      const tileMatrix = this.tileMatrices[i];\n      this.zoomLevelToTileMatrix[tileMatrix.zoom_level] = tileMatrix;\n    }\n    this.initialize();\n  }\n  initialize(): void {\n    const tileMatrixSetDao = this.geoPackage.tileMatrixSetDao;\n    this.srs = tileMatrixSetDao.getSrs(this.tileMatrixSet);\n    this.projection = [this.srs.organization.toUpperCase(), this.srs.organization_coordsys_id].join(':');\n    Projection.loadProjection(this.projection, this.srs.definition);\n\n    // Populate the zoom level to tile matrix and the sorted tile widths and heights\n    for (let i = this.tileMatrices.length - 1; i >= 0; i--) {\n      const tileMatrix = this.tileMatrices[i];\n      let width = tileMatrix.pixel_x_size * tileMatrix.tile_width;\n      let height = tileMatrix.pixel_y_size * tileMatrix.tile_height;\n      const proj4Projection: proj4.Converter & { to_meter?: number } = Projection.getConverter(this.projection);\n      if (proj4Projection.to_meter) {\n        width = proj4Projection.to_meter * tileMatrix.pixel_x_size * tileMatrix.tile_width;\n        height = proj4Projection.to_meter * tileMatrix.pixel_y_size * tileMatrix.tile_height;\n      }\n      this.widths.push(width);\n      this.heights.push(height);\n    }\n    this.setWebMapZoomLevels();\n  }\n  webZoomToGeoPackageZoom(webZoom: number): number {\n    const webMercatorBoundingBox = TileBoundingBoxUtils.getWebMercatorBoundingBoxFromXYZ(0, 0, webZoom);\n    return this.determineGeoPackageZoomLevel(webMercatorBoundingBox, webZoom);\n  }\n  setWebMapZoomLevels(): void {\n    this.minWebMapZoom = 20;\n    this.maxWebMapZoom = 0;\n    this.webZoomToGeoPackageZooms = {};\n    const totalTileWidth = this.tileMatrixSet.max_x - this.tileMatrixSet.min_x;\n    const totalTileHeight = this.tileMatrixSet.max_y - this.tileMatrixSet.min_y;\n    for (let i = 0; i < this.tileMatrices.length; i++) {\n      const tileMatrix = this.tileMatrices[i];\n      const singleTileWidth = totalTileWidth / tileMatrix.matrix_width;\n      const singleTileHeight = totalTileHeight / tileMatrix.matrix_height;\n      const tileBox = new BoundingBox(\n        this.tileMatrixSet.min_x,\n        this.tileMatrixSet.min_x + singleTileWidth,\n        this.tileMatrixSet.min_y,\n        this.tileMatrixSet.min_y + singleTileHeight,\n      );\n      const proj4Projection = Projection.getConverter(this.projection, ProjectionConstants.EPSG_4326);\n      const ne = proj4Projection.forward([tileBox.maxLongitude, tileBox.maxLatitude]);\n      const sw = proj4Projection.forward([tileBox.minLongitude, tileBox.minLatitude]);\n      const width = ne[0] - sw[0];\n      const zoom = Math.ceil(Math.log2(360 / width));\n      if (this.minWebMapZoom > zoom) {\n        this.minWebMapZoom = zoom;\n      }\n      if (this.maxWebMapZoom < zoom) {\n        this.maxWebMapZoom = zoom;\n      }\n      this.webZoomToGeoPackageZooms[zoom] = tileMatrix.zoom_level;\n    }\n  }\n  determineGeoPackageZoomLevel(webMercatorBoundingBox: BoundingBox, zoom: number): number {\n    return this.webZoomToGeoPackageZooms[zoom];\n  }\n  /**\n   * Get the bounding box of tiles at the zoom level\n   * @param  {Number} zoomLevel zoom level\n   * @return {BoundingBox}           bounding box of the zoom level, or null if no tiles\n   */\n  getBoundingBoxWithZoomLevel(zoomLevel: number): BoundingBox {\n    let boundingBox;\n    const tileMatrix = this.getTileMatrixWithZoomLevel(zoomLevel);\n    if (tileMatrix) {\n      const tileGrid = this.queryForTileGridWithZoomLevel(zoomLevel);\n      if (tileGrid) {\n        const matrixSetBoundingBox = this.boundingBox;\n        boundingBox = TileBoundingBoxUtils.getTileGridBoundingBox(\n          matrixSetBoundingBox,\n          tileMatrix.matrix_width,\n          tileMatrix.matrix_height,\n          tileGrid,\n        );\n      }\n    }\n    return boundingBox;\n  }\n  get boundingBox(): BoundingBox {\n    return this.tileMatrixSet.boundingBox;\n  }\n  queryForTileGridWithZoomLevel(zoomLevel: number): TileGrid {\n    const where = this.buildWhereWithFieldAndValue(TileColumn.COLUMN_ZOOM_LEVEL, zoomLevel);\n    const whereArgs = this.buildWhereArgs(zoomLevel);\n    const minX = this.minOfColumn(TileColumn.COLUMN_TILE_COLUMN, where, whereArgs);\n    const maxX = this.maxOfColumn(TileColumn.COLUMN_TILE_COLUMN, where, whereArgs);\n    const minY = this.minOfColumn(TileColumn.COLUMN_TILE_ROW, where, whereArgs);\n    const maxY = this.maxOfColumn(TileColumn.COLUMN_TILE_ROW, where, whereArgs);\n    let tileGrid;\n    if (minX != null && minY != null && maxX != null && maxY != null) {\n      tileGrid = new TileGrid(minX, maxX, minY, maxY);\n    }\n    return tileGrid;\n  }\n  /**\n   * Get the tile grid of the zoom level\n   * @param  {Number} zoomLevel zoom level\n   * @return {TileGrid}           tile grid at zoom level, null if no tile matrix at zoom level\n   */\n  getTileGridWithZoomLevel(zoomLevel: number): TileGrid {\n    let tileGrid;\n    const tileMatrix = this.getTileMatrixWithZoomLevel(zoomLevel);\n    if (tileMatrix) {\n      tileGrid = new TileGrid(0, ~~tileMatrix.matrix_width - 1, 0, ~~tileMatrix.matrix_height - 1);\n    }\n    return tileGrid;\n  }\n  /**\n   * get the tile table\n   * @return {TileTable} tile table\n   */\n  get table(): TileTable {\n    return this._table as TileTable;\n  }\n  /**\n   * Create a new tile row with the column types and values\n   * @param  {Array} columnTypes column types\n   * @param  {Array} values      values\n   * @return {TileRow}             tile row\n   */\n  newRow(columnTypes?: { [key: string]: GeoPackageDataType }, values?: Record<string, DBValue>): TileRow {\n    return new TileRow(this.table, columnTypes, values);\n  }\n  /**\n   * Adjust the tile matrix lengths if needed. Check if the tile matrix width\n   * and height need to expand to account for pixel * number of pixels fitting\n   * into the tile matrix lengths\n   */\n  adjustTileMatrixLengths(): void {\n    const tileMatrixWidth = this.tileMatrixSet.max_x - this.tileMatrixSet.min_x;\n    const tileMatrixHeight = this.tileMatrixSet.max_y - this.tileMatrixSet.min_y;\n    for (let i = 0; i < this.tileMatrices.length; i++) {\n      const tileMatrix = this.tileMatrices[i];\n      const tempMatrixWidth = ~~(tileMatrixWidth / (tileMatrix.pixel_x_size * ~~tileMatrix.tile_width));\n      const tempMatrixHeight = ~~(tileMatrixHeight / (tileMatrix.pixel_y_size * ~~tileMatrix.tile_height));\n      if (tempMatrixWidth > ~~tileMatrix.matrix_width) {\n        tileMatrix.matrix_width = ~~tempMatrixWidth;\n      }\n      if (tempMatrixHeight > ~~tileMatrix.matrix_height) {\n        tileMatrix.matrix_height = ~~tempMatrixHeight;\n      }\n    }\n  }\n  /**\n   * Get the tile matrix at the zoom level\n   * @param  {Number} zoomLevel zoom level\n   * @returns {TileMatrix}           tile matrix\n   */\n  getTileMatrixWithZoomLevel(zoomLevel: number): TileMatrix {\n    return this.zoomLevelToTileMatrix[zoomLevel];\n  }\n\n\n  /**\n   * Get the zoom level for the provided width and height in the default units\n   * @param length in default units\n   * @return zoom level\n   */\n  getZoomLevelForLength(length: number): number {\n    return TileDaoUtils.getZoomLevelForLength(this.widths, this.heights, this.tileMatrices, length);\n  }\n\n  /**\n   * Get the zoom level for the provided width and height in the default units\n   * @param width in default units\n   * @param height in default units\n   * @return zoom level\n   * @since 1.2.1\n   */\n  getZoomLevelForWidthAndHeight(width: number, height: number): number {\n    return TileDaoUtils.getZoomLevelForWidthAndHeight(this.widths, this.heights, this.tileMatrices, width, height);\n  }\n\n  /**\n   * Get the closest zoom level for the provided width and height in the\n   * default units\n   * @param length in default units\n   * @return zoom level\n   * @since 1.2.1\n   */\n  getClosestZoomLevelForLength(length: number): number {\n    return TileDaoUtils.getClosestZoomLevelForLength(this.widths, this.heights, this.tileMatrices, length);\n  }\n\n  /**\n   * Get the closest zoom level for the provided width and height in the\n   * default units\n   * @param width in default units\n   * @param height in default units\n   * @return zoom level\n   * @since 1.2.1\n   */\n  getClosestZoomLevelForWidthAndHeight(width: number, height: number): number {\n    return TileDaoUtils.getClosestZoomLevelForWidthAndHeight(this.widths, this.heights, this.tileMatrices, width, height);\n  }\n\n  /**\n   * Get the approximate zoom level for the provided length in the default\n   * units. Tiles may or may not exist for the returned zoom level. The\n   * approximate zoom level is determined using a factor of 2 from the zoom\n   * levels with tiles.\n   * @param length length in default units\n   * @return approximate zoom level\n   * @since 2.0.2\n   */\n  getApproximateZoomLevelForLength(length: number): number {\n    return TileDaoUtils.getApproximateZoomLevelForLength(this.widths, this.heights, this.tileMatrices, length);\n  }\n\n  /**\n   * Get the approximate zoom level for the provided width and height in the\n   * default units. Tiles may or may not exist for the returned zoom level.\n   * The approximate zoom level is determined using a factor of 2 from the\n   * zoom levels with tiles.\n   * @param width width in default units\n   * @param height height in default units\n   * @return approximate zoom level\n   * @since 2.0.2\n   */\n  getApproximateZoomLevelForWidthAndHeight(width: number, height: number): number {\n    return TileDaoUtils.getApproximateZoomLevelForWidthAndHeight(this.widths, this.heights, this.tileMatrices, width, height);\n  }\n\n  /**\n   * Get the max length in default units that contains tiles\n   * @return max distance length with tiles\n   * @since 1.2.0\n   */\n  getMaxLength(): number {\n    return TileDaoUtils.getMaxLengthForTileWidthsAndHeights(this.widths, this.heights);\n  }\n\n  /**\n   * Get the min length in default units that contains tiles\n   * @return min distance length with tiles\n   * @since 1.2.0\n   */\n  getMinLength(): number {\n    return TileDaoUtils.getMinLengthForTileWidthsAndHeights(this.widths, this.heights);\n  }\n\n  /**\n   * Query for a tile\n   * @param  {Number} column    column\n   * @param  {Number} row       row\n   * @param  {Number} zoomLevel zoom level\n   */\n  queryForTile(column: number, row: number, zoomLevel: number): TileRow {\n    const fieldValues = new ColumnValues();\n    fieldValues.addColumn(TileColumn.COLUMN_TILE_COLUMN, column);\n    fieldValues.addColumn(TileColumn.COLUMN_TILE_ROW, row);\n    fieldValues.addColumn(TileColumn.COLUMN_ZOOM_LEVEL, zoomLevel);\n    let tileRow;\n    for (const rawRow of this.queryForFieldValues(fieldValues)) {\n      tileRow = this.getRow(rawRow) as TileRow;\n    }\n    return tileRow;\n  }\n  queryForTilesWithZoomLevel(zoomLevel: number): IterableIterator<TileRow> {\n    const iterator = this.queryForEach(TileColumn.COLUMN_ZOOM_LEVEL, zoomLevel);\n    return {\n      [Symbol.iterator](): IterableIterator<TileRow> {\n        return this;\n      },\n      next: (): IteratorResult<TileRow> => {\n        const nextRow = iterator.next();\n        if (!nextRow.done) {\n          return {\n            value: this.getRow(nextRow.value) as TileRow,\n            done: false,\n          };\n        }\n        return {\n          value: undefined,\n          done: true,\n        };\n      },\n    };\n  }\n  /**\n   * Query for Tiles at a zoom level in descending row and column order\n   * @param  {Number} zoomLevel    zoom level\n   * @returns {IterableIterator<TileRow>}\n   */\n  queryForTilesDescending(zoomLevel: number): IterableIterator<TileRow> {\n    const iterator = this.queryForEach(\n      TileColumn.COLUMN_ZOOM_LEVEL,\n      zoomLevel,\n      undefined,\n      undefined,\n      TileColumn.COLUMN_TILE_COLUMN + ' DESC, ' + TileColumn.COLUMN_TILE_ROW + ' DESC',\n    );\n    return {\n      [Symbol.iterator](): IterableIterator<TileRow> {\n        return this;\n      },\n      next: (): IteratorResult<TileRow> => {\n        const nextRow = iterator.next();\n        if (!nextRow.done) {\n          return {\n            value: this.getRow(nextRow.value) as TileRow,\n            done: false,\n          };\n        }\n        return {\n          value: undefined,\n          done: true,\n        };\n      },\n    };\n  }\n  /**\n   * Query for tiles at a zoom level and column\n   * @param  {Number} column       column\n   * @param  {Number} zoomLevel    zoom level\n   * @returns {IterableIterator<TileRow>}\n   */\n  queryForTilesInColumn(column: number, zoomLevel: number): IterableIterator<TileRow> {\n    const fieldValues = new ColumnValues();\n    fieldValues.addColumn(TileColumn.COLUMN_TILE_COLUMN, column);\n    fieldValues.addColumn(TileColumn.COLUMN_ZOOM_LEVEL, zoomLevel);\n    const iterator = this.queryForFieldValues(fieldValues);\n    return {\n      [Symbol.iterator](): IterableIterator<TileRow> {\n        return this;\n      },\n      next: (): IteratorResult<TileRow> => {\n        const nextRow = iterator.next();\n        if (!nextRow.done) {\n          const tileRow = this.getRow(nextRow.value) as TileRow;\n          return {\n            value: tileRow,\n            done: false,\n          };\n        } else {\n          return {\n            value: undefined,\n            done: true,\n          };\n        }\n      },\n    };\n  }\n  /**\n   * Query for tiles at a zoom level and row\n   * @param  {Number} row       row\n   * @param  {Number} zoomLevel    zoom level\n   */\n  queryForTilesInRow(row: number, zoomLevel: number): IterableIterator<TileRow> {\n    const fieldValues = new ColumnValues();\n    fieldValues.addColumn(TileColumn.COLUMN_TILE_ROW, row);\n    fieldValues.addColumn(TileColumn.COLUMN_ZOOM_LEVEL, zoomLevel);\n    const iterator = this.queryForFieldValues(fieldValues);\n    return {\n      [Symbol.iterator](): IterableIterator<TileRow> {\n        return this;\n      },\n      next: (): IteratorResult<TileRow> => {\n        const nextRow = iterator.next();\n        if (!nextRow.done) {\n          const tileRow = this.getRow(nextRow.value) as TileRow;\n          return {\n            value: tileRow,\n            done: false,\n          };\n        } else {\n          return {\n            value: undefined,\n            done: true,\n          };\n        }\n      },\n    };\n  }\n  /**\n   * Query by tile grid and zoom level\n   * @param  {TileGrid} tileGrid  tile grid\n   * @param  {Number} zoomLevel zoom level\n   * @returns {IterableIterator<any>}\n   */\n  queryByTileGrid(tileGrid: TileGrid, zoomLevel: number): IterableIterator<TileRow> {\n    if (!tileGrid) return;\n    let where = '';\n    where += this.buildWhereWithFieldAndValue(TileColumn.COLUMN_ZOOM_LEVEL, zoomLevel);\n    where += ' and ';\n    where += this.buildWhereWithFieldAndValue(TileColumn.COLUMN_TILE_COLUMN, tileGrid.min_x, '>=');\n    where += ' and ';\n    where += this.buildWhereWithFieldAndValue(TileColumn.COLUMN_TILE_COLUMN, tileGrid.max_x, '<=');\n    where += ' and ';\n    where += this.buildWhereWithFieldAndValue(TileColumn.COLUMN_TILE_ROW, tileGrid.min_y, '>=');\n    where += ' and ';\n    where += this.buildWhereWithFieldAndValue(TileColumn.COLUMN_TILE_ROW, tileGrid.max_y, '<=');\n    const whereArgs = this.buildWhereArgs([zoomLevel, tileGrid.min_x, tileGrid.max_x, tileGrid.min_y, tileGrid.max_y]);\n    const iterator = this.queryWhereWithArgsDistinct(where, whereArgs);\n    return {\n      [Symbol.iterator](): IterableIterator<TileRow> {\n        return this;\n      },\n      next: (): IteratorResult<TileRow> => {\n        const nextRow = iterator.next();\n        if (!nextRow.done) {\n          const tileRow = this.getRow(nextRow.value) as TileRow;\n          return {\n            value: tileRow,\n            done: false,\n          };\n        } else {\n          return {\n            value: undefined,\n            done: true,\n          };\n        }\n      },\n    };\n  }\n  /**\n   * count by tile grid and zoom level\n   * @param  {TileGrid} tileGrid  tile grid\n   * @param  {Number} zoomLevel zoom level\n   * @returns {Number} count of tiles\n   */\n  countByTileGrid(tileGrid: TileGrid, zoomLevel: number): number {\n    if (!tileGrid) return;\n    let where = '';\n    where += this.buildWhereWithFieldAndValue(TileColumn.COLUMN_ZOOM_LEVEL, zoomLevel);\n    where += ' and ';\n    where += this.buildWhereWithFieldAndValue(TileColumn.COLUMN_TILE_COLUMN, tileGrid.min_x, '>=');\n    where += ' and ';\n    where += this.buildWhereWithFieldAndValue(TileColumn.COLUMN_TILE_COLUMN, tileGrid.max_x, '<=');\n    where += ' and ';\n    where += this.buildWhereWithFieldAndValue(TileColumn.COLUMN_TILE_ROW, tileGrid.min_y, '>=');\n    where += ' and ';\n    where += this.buildWhereWithFieldAndValue(TileColumn.COLUMN_TILE_ROW, tileGrid.max_y, '<=');\n    const whereArgs = this.buildWhereArgs([zoomLevel, tileGrid.min_x, tileGrid.max_x, tileGrid.min_y, tileGrid.max_y]);\n    return this.countWhere(where, whereArgs);\n  }\n\n  deleteTile(column: number, row: number, zoomLevel: number): number {\n    let where = '';\n    where += this.buildWhereWithFieldAndValue(TileColumn.COLUMN_ZOOM_LEVEL, zoomLevel);\n    where += ' and ';\n    where += this.buildWhereWithFieldAndValue(TileColumn.COLUMN_TILE_COLUMN, column);\n    where += ' and ';\n    where += this.buildWhereWithFieldAndValue(TileColumn.COLUMN_TILE_ROW, row);\n    const whereArgs = this.buildWhereArgs([zoomLevel, column, row]);\n    return this.deleteWhere(where, whereArgs);\n  }\n  dropTable(): boolean {\n    const tileMatrixDao = this.geoPackage.tileMatrixDao;\n    const dropResult = UserDao.prototype.dropTable.call(this);\n    const tileMatrixSetDao = this.geoPackage.tileMatrixSetDao;\n    tileMatrixSetDao.delete(this.tileMatrixSet);\n    for (let i = this.tileMatrices.length - 1; i >= 0; i--) {\n      const tileMatrix = this.tileMatrices[i];\n      tileMatrixDao.delete(tileMatrix);\n    }\n    const dao = this.geoPackage.contentsDao;\n    dao.deleteById(this.gpkgTableName);\n    return dropResult;\n  }\n  rename(newName: string): void {\n    super.rename(newName);\n    const oldName = this.tileMatrixSet.table_name;\n    const values: Record<string, DBValue> = {};\n    values[TileMatrixSetDao.COLUMN_TABLE_NAME] = newName;\n    const where = this.buildWhereWithFieldAndValue(TileMatrixSetDao.COLUMN_TABLE_NAME, oldName);\n    const whereArgs = this.buildWhereArgs([oldName]);\n    const contentsDao = this.geoPackage.contentsDao;\n    const contents = contentsDao.queryForId(oldName);\n    contents.table_name = newName;\n    contents.identifier = newName;\n    contentsDao.create(contents);\n    const tileMatrixSetDao = this.geoPackage.tileMatrixSetDao;\n    tileMatrixSetDao.updateWithValues(values, where, whereArgs);\n    const tileMatrixDao = this.geoPackage.tileMatrixDao;\n    const tileMatrixUpdate: Record<string, DBValue> = {};\n    tileMatrixUpdate[TileMatrixDao.COLUMN_TABLE_NAME] = newName;\n    const tileMatrixWhere = this.buildWhereWithFieldAndValue(TileMatrixDao.COLUMN_TABLE_NAME, oldName);\n    tileMatrixDao.updateWithValues(tileMatrixUpdate, tileMatrixWhere, whereArgs);\n    contentsDao.deleteById(oldName);\n  }\n\n  static readTable(geoPackage: GeoPackage, tableName: string): TileDao<TileRow> {\n    return geoPackage.getTileDao(tableName);\n  }\n}\n","import sortedIndexOf from 'lodash/sortedIndexOf';\nimport sortedIndex from 'lodash/sortedIndex';\nimport { TileMatrix } from '../matrix/tileMatrix';\nimport { TileMatrixSet } from '../matrixset/tileMatrixSet';\n\nexport class TileDaoUtils {\n  /**\n   * Adjust the tile matrix lengths if needed. Check if the tile matrix width\n   * and height need to expand to account for pixel * number of pixels fitting\n   * into the tile matrix lengths\n   * @param tileMatrixSet tile matrix set\n   * @param tileMatrices tile matrices\n   */\n  public static adjustTileMatrixLengths(tileMatrixSet: TileMatrixSet, tileMatrices: TileMatrix[]): void {\n    const tileMatrixWidth = tileMatrixSet.max_x - tileMatrixSet.min_x;\n    const tileMatrixHeight = tileMatrixSet.max_y - tileMatrixSet.min_y;\n    tileMatrices.forEach(tileMatrix => {\n      const tempMatrixWidth = Math.floor(tileMatrixWidth / (tileMatrix.pixel_x_size * tileMatrix.tile_width));\n      const tempMatrixHeight = Math.floor(tileMatrixHeight / (tileMatrix.pixel_y_size * tileMatrix.tile_height));\n      if (tempMatrixWidth > tileMatrix.matrix_width) {\n        tileMatrix.matrix_width = tempMatrixWidth;\n      }\n      if (tempMatrixHeight > tileMatrix.matrix_height) {\n        tileMatrix.matrix_height = tempMatrixHeight;\n      }\n    });\n  }\n\n  /**\n   * Get the zoom level for the provided width and height in the default units\n   * @param widths sorted widths\n   * @param heights sorted heights\n   * @param tileMatrices tile matrices\n   * @param length in default units\n   * @return tile matrix zoom level\n   */\n  public static getZoomLevelForLength(\n    widths: number[],\n    heights: number[],\n    tileMatrices: TileMatrix[],\n    length: number,\n  ): number {\n    return TileDaoUtils._getZoomLevelForLength(widths, heights, tileMatrices, length, true);\n  }\n\n  /**\n   * Get the zoom level for the provided width and height in the default units\n   * @param widths sorted widths\n   * @param heights sorted heights\n   * @param tileMatrices tile matrices\n   * @param width in default units\n   * @param height in default units\n   * @return tile matrix zoom level\n   * @since 1.2.1\n   */\n  public static getZoomLevelForWidthAndHeight(\n    widths: number[],\n    heights: number[],\n    tileMatrices: TileMatrix[],\n    width: number,\n    height: number,\n  ): number {\n    return TileDaoUtils._getZoomLevelForWidthAndHeight(widths, heights, tileMatrices, width, height, true);\n  }\n\n  /**\n   * Get the closest zoom level for the provided width and height in the\n   * default units\n   * @param widths sorted widths\n   * @param heights sorted heights\n   * @param tileMatrices tile matrices\n   * @param length in default units\n   * @return tile matrix zoom level\n   * @since 1.2.1\n   */\n  public static getClosestZoomLevelForLength(\n    widths: number[],\n    heights: number[],\n    tileMatrices: TileMatrix[],\n    length: number,\n  ): number {\n    return TileDaoUtils._getZoomLevelForLength(widths, heights, tileMatrices, length, false);\n  }\n\n  /**\n   * Get the closest zoom level for the provided width and height in the\n   * default units\n   * @param widths sorted widths\n   * @param heights sorted heights\n   * @param tileMatrices tile matrices\n   * @param width in default units\n   * @param height in default units\n   * @return tile matrix zoom level\n   * @since 1.2.1\n   */\n  public static getClosestZoomLevelForWidthAndHeight(\n    widths: number[],\n    heights: number[],\n    tileMatrices: TileMatrix[],\n    width: number,\n    height: number,\n  ): number {\n    return TileDaoUtils._getZoomLevelForWidthAndHeight(widths, heights, tileMatrices, width, height, false);\n  }\n\n  /**\n   * Get the zoom level for the provided width and height in the default units\n   * @param widths sorted widths\n   * @param heights sorted heights\n   * @param tileMatrices tile matrices\n   * @param length in default units\n   * @param lengthChecks perform length checks for values too far away from the zoom level\n   * @return tile matrix zoom level\n   */\n  private static _getZoomLevelForLength(\n    widths: number[],\n    heights: number[],\n    tileMatrices: TileMatrix[],\n    length: number,\n    lengthChecks: boolean,\n  ): number {\n    return TileDaoUtils._getZoomLevelForWidthAndHeight(widths, heights, tileMatrices, length, length, lengthChecks);\n  }\n\n  /**\n   * Get the zoom level for the provided width and height in the default units\n   * @param widths sorted widths\n   * @param heights sorted heights\n   * @param tileMatrices tile matrices\n   * @param width width in default units\n   * @param height height in default units\n   * @param lengthChecks perform length checks for values too far away from the zoom level\n   * @return tile matrix zoom level\n   * @since 1.2.1\n   */\n  private static _getZoomLevelForWidthAndHeight(\n    widths: number[],\n    heights: number[],\n    tileMatrices: TileMatrix[],\n    width: number,\n    height: number,\n    lengthChecks: boolean,\n  ): number {\n    let zoomLevel = null;\n    let widthIndex = sortedIndexOf(widths, width);\n    if (widthIndex === -1) {\n      widthIndex = sortedIndex(widths, width);\n    }\n    if (widthIndex < 0) {\n      widthIndex = (widthIndex + 1) * -1;\n    }\n\n    let heightIndex = sortedIndexOf(heights, height);\n    if (heightIndex === -1) {\n      heightIndex = sortedIndex(heights, height);\n    }\n\n    if (heightIndex < 0) {\n      heightIndex = (heightIndex + 1) * -1;\n    }\n\n    if (widthIndex == 0) {\n      if (lengthChecks && width < TileDaoUtils.getMinLength(widths)) {\n        widthIndex = -1;\n      }\n    } else if (widthIndex == widths.length) {\n      if (lengthChecks && width >= TileDaoUtils.getMaxLength(widths)) {\n        widthIndex = -1;\n      } else {\n        --widthIndex;\n      }\n    } else if (TileDaoUtils.closerToZoomIn(widths, width, widthIndex)) {\n      --widthIndex;\n    }\n\n    if (heightIndex == 0) {\n      if (lengthChecks && height < TileDaoUtils.getMinLength(heights)) {\n        heightIndex = -1;\n      }\n    } else if (heightIndex == heights.length) {\n      if (lengthChecks && height >= TileDaoUtils.getMaxLength(heights)) {\n        heightIndex = -1;\n      } else {\n        --heightIndex;\n      }\n    } else if (TileDaoUtils.closerToZoomIn(heights, height, heightIndex)) {\n      --heightIndex;\n    }\n\n    if (widthIndex >= 0 || heightIndex >= 0) {\n      let index;\n      if (widthIndex < 0) {\n        index = heightIndex;\n      } else if (heightIndex < 0) {\n        index = widthIndex;\n      } else {\n        index = Math.min(widthIndex, heightIndex);\n      }\n      zoomLevel = TileDaoUtils.getTileMatrixAtLengthIndex(tileMatrices, index).zoom_level;\n    }\n    return zoomLevel;\n  }\n\n  /**\n   * Determine if the length at the index is closer by a factor of two to the\n   * next zoomed in level / lower index\n   * @param lengths sorted lengths\n   * @param length current length\n   * @param lengthIndex length index\n   * @return true if closer to zoomed in length\n   */\n  private static closerToZoomIn(lengths: number[], length: number, lengthIndex: number): boolean {\n    // Zoom level distance to the zoomed in length\n    const zoomInDistance = Math.log(length / lengths[lengthIndex - 1]) / Math.log(2);\n    // Zoom level distance to the zoomed out length\n    const zoomOutDistance = Math.log(length / lengths[lengthIndex]) / Math.log(0.5);\n    return zoomInDistance < zoomOutDistance;\n  }\n\n  /**\n   * Get the tile matrix represented by the current length index\n   * @param tileMatrices tile matrices\n   * @param index index location in sorted lengths\n   * @return tile matrix\n   */\n  static getTileMatrixAtLengthIndex(tileMatrices: TileMatrix[], index: number): TileMatrix {\n    return tileMatrices[tileMatrices.length - index - 1];\n  }\n\n  /**\n   * Get the approximate zoom level for the provided length in the default\n   * units. Tiles may or may not exist for the returned zoom level. The\n   * approximate zoom level is determined using a factor of 2 from the zoom\n   * levels with tiles.\n   *\n   * @param widths sorted widths\n   * @param heights sorted heights\n   * @param tileMatrices tile matrices\n   * @param length length in default units\n   * @return actual or approximate tile matrix zoom level\n   * @since 2.0.2\n   */\n  static getApproximateZoomLevelForLength(\n    widths: number[],\n    heights: number[],\n    tileMatrices: TileMatrix[],\n    length: number,\n  ): number {\n    return TileDaoUtils.getApproximateZoomLevelForWidthAndHeight(widths, heights, tileMatrices, length, length);\n  }\n\n  /**\n   * Get the approximate zoom level for the provided width and height in the\n   * default units. Tiles may or may not exist for the returned zoom level.\n   * The approximate zoom level is determined using a factor of 2 from the\n   * zoom levels with tiles.\n   *\n   * @param widths sorted widths\n   * @param heights sorted heights\n   * @param tileMatrices tile matrices\n   * @param width width in default units\n   * @param height height in default units\n   * @return actual or approximate tile matrix zoom level\n   * @since 2.0.2\n   */\n  static getApproximateZoomLevelForWidthAndHeight(\n    widths: number[],\n    heights: number[],\n    tileMatrices: TileMatrix[],\n    width: number,\n    height: number,\n  ): number {\n    const widthZoomLevel = TileDaoUtils.getApproximateZoomLevel(widths, tileMatrices, width);\n    const heightZoomLevel = TileDaoUtils.getApproximateZoomLevel(heights, tileMatrices, height);\n\n    let expectedZoomLevel;\n    if (widthZoomLevel == null) {\n      expectedZoomLevel = heightZoomLevel;\n    } else if (heightZoomLevel == null) {\n      expectedZoomLevel = widthZoomLevel;\n    } else {\n      expectedZoomLevel = Math.max(widthZoomLevel, heightZoomLevel);\n    }\n\n    return expectedZoomLevel;\n  }\n\n  /**\n   * Get the approximate zoom level for length using the factor of 2 rule\n   * between zoom levels\n   * @param lengths sorted lengths\n   * @param tileMatrices tile matrices\n   * @param length length in default units\n   * @return approximate zoom level\n   */\n  static getApproximateZoomLevel(lengths: number[], tileMatrices: TileMatrix[], length: number): number {\n    let lengthZoomLevel;\n\n    const minLength = lengths[0];\n    const maxLength = lengths[lengths.length - 1];\n\n    // Length is zoomed in further than available tiles\n    if (length < minLength) {\n      const levelsIn = Math.log(length / minLength) / Math.log(0.5);\n      const zoomAbove = Math.floor(levelsIn);\n      const zoomBelow = Math.ceil(levelsIn);\n      const lengthAbove = minLength * Math.pow(0.5, zoomAbove);\n      const lengthBelow = minLength * Math.pow(0.5, zoomBelow);\n      lengthZoomLevel = tileMatrices[tileMatrices.length - 1].zoom_level;\n      if (lengthAbove - length <= length - lengthBelow) {\n        lengthZoomLevel += zoomAbove;\n      } else {\n        lengthZoomLevel += zoomBelow;\n      }\n    }\n    // Length is zoomed out further than available tiles\n    else if (length > maxLength) {\n      const levelsOut = Math.log(length / maxLength) / Math.log(2);\n      const zoomAbove = Math.ceil(levelsOut);\n      const zoomBelow = Math.floor(levelsOut);\n      const lengthAbove = maxLength * Math.pow(2, zoomAbove);\n      const lengthBelow = maxLength * Math.pow(2, zoomBelow);\n      lengthZoomLevel = tileMatrices[0].zoom_level;\n      if (length - lengthBelow <= lengthAbove - length) {\n        lengthZoomLevel -= zoomBelow;\n      } else {\n        lengthZoomLevel -= zoomAbove;\n      }\n    }\n    // Length is between the available tiles\n    else {\n      let lengthIndex = sortedIndexOf(lengths, length);\n      if (lengthIndex < 0) {\n        lengthIndex = (lengthIndex + 1) * -1;\n      }\n      const zoomDistance = Math.log(length / lengths[lengthIndex]) / Math.log(0.5);\n      let zoomLevelAbove = TileDaoUtils.getTileMatrixAtLengthIndex(tileMatrices, lengthIndex).zoom_level;\n      zoomLevelAbove += Math.round(zoomDistance);\n      lengthZoomLevel = zoomLevelAbove;\n    }\n\n    return lengthZoomLevel;\n  }\n\n  /**\n   * Get the max distance length that matches the tile widths and heights\n   * @param widths sorted tile matrix widths\n   * @param heights sorted tile matrix heights\n   * @return max length\n   * @since 1.2.0\n   */\n  static getMaxLengthForTileWidthsAndHeights(widths: number[], heights: number[]): number {\n    const maxWidth = TileDaoUtils.getMaxLength(widths);\n    const maxHeight = TileDaoUtils.getMaxLength(heights);\n    return Math.min(maxWidth, maxHeight);\n  }\n  /**\n   * Get the min distance length that matches the tile widths and heights\n   * @param widths sorted tile matrix widths\n   * @param heights sorted tile matrix heights\n   * @return min length\n   * @since 1.2.0\n   */\n  static getMinLengthForTileWidthsAndHeights(widths: number[], heights: number[]): number {\n    const maxWidth = TileDaoUtils.getMinLength(widths);\n    const maxHeight = TileDaoUtils.getMinLength(heights);\n    return Math.max(maxWidth, maxHeight);\n  }\n  /**\n   * Get the max length distance value from the sorted array of lengths\n   * @param lengths sorted tile matrix lengths\n   * @return max length\n   */\n  static getMaxLength(lengths: number[]): number {\n    return lengths[lengths.length - 1] / 0.51;\n  }\n  /**\n   * Get the min length distance value from the sorted array of lengths\n   * @param lengths sorted tile matrix lengths\n   * @return min length\n   */\n  static getMinLength(lengths: number[]): number {\n    return lengths[0] * 0.51;\n  }\n}\n","import { TileTable } from './tileTable';\nimport { UserRow } from '../../user/userRow';\nimport { TileColumn } from './tileColumn';\nimport { DBValue } from '../../db/dbAdapter';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\n/**\n * tileRow module.\n * @module tiles/user/tileRow\n */\n\n/**\n * Tile Row containing the values from a single result set row\n * @class\n * @extends UserRow\n * @param  {TileTable} tileTable tile table\n * @param  {Array} columnTypes  column types\n * @param  {Array} values       values\n */\nexport class TileRow extends UserRow {\n  tileTable: TileTable;\n  constructor(tileTable: TileTable, columnTypes?: { [key: string]: GeoPackageDataType }, values?: Record<string, DBValue>) {\n    super(tileTable, columnTypes, values);\n    this.tileTable = tileTable;\n  }\n  /**\n   * Get the zoom level column index\n   * @return {Number} zoom level column index\n   */\n  get zoomLevelColumnIndex(): number {\n    return this.tileTable.getZoomLevelColumnIndex();\n  }\n  /**\n   * Get the zoom level column\n   * @return {TileColumn} zoom level column\n   */\n  get zoomLevelColumn(): TileColumn {\n    return this.tileTable.getZoomLevelColumn();\n  }\n  /**\n   * Get the zoom level\n   * @return {Number} zoom level\n   */\n  get zoomLevel(): number {\n    return this.getValueWithColumnName(this.zoomLevelColumn.name);\n  }\n  /**\n   * Set the zoom level\n   * @param {Number} zoomLevel zoom level\n   */\n  set zoomLevel(zoomLevel: number) {\n    this.setValueWithIndex(this.zoomLevelColumnIndex, zoomLevel);\n  }\n  /**\n   * Get the tile column column Index\n   * @return {number} tile column column index\n   */\n  get tileColumnColumnIndex(): number {\n    return this.tileTable.getTileColumnColumnIndex();\n  }\n  /**\n   * Get the tile column column\n   * @return {TileColumn} tile column column\n   */\n  get tileColumnColumn(): TileColumn {\n    return this.tileTable.getTileColumnColumn();\n  }\n  /**\n   * Get the tile column\n   * @return {Number} tile column\n   */\n  get tileColumn(): number {\n    return this.getValueWithColumnName(this.tileColumnColumn.name);\n  }\n  /**\n   * Set the tile column\n   * @param {number} tileColumn tile column\n   */\n  set tileColumn(tileColumn: number) {\n    this.setValueWithColumnName(this.tileColumnColumn.name, tileColumn);\n  }\n  /**\n   * Get the tile row column index\n   * @return {Number} tile row column index\n   */\n  get rowColumnIndex(): number {\n    return this.tileTable.getTileRowColumnIndex();\n  }\n  /**\n   * Get the tile row column\n   * @return {TileColumn} tile row column\n   */\n  get rowColumn(): TileColumn {\n    return this.tileTable.getTileRowColumn();\n  }\n  /**\n   * Get the tile row\n   * @return {Number} tile row\n   */\n  get row(): number {\n    return this.getValueWithColumnName(this.rowColumn.name);\n  }\n  /**\n   * Set the tile row\n   * @param {Number} tileRow tile row\n   */\n  set tileRow(tileRow: number) {\n    this.setValueWithColumnName(this.rowColumn.name, tileRow);\n  }\n  /**\n   * Get the tile data column index\n   * @return {Number} tile data column index\n   */\n  get tileDataColumnIndex(): number {\n    return this.tileTable.getTileDataColumnIndex();\n  }\n  /**\n   * Get the tile data column\n   * @return {TileColumn} tile data column\n   */\n  get tileDataColumn(): TileColumn {\n    return this.tileTable.getTileDataColumn();\n  }\n  /**\n   * Get the tile data\n   * @return {Buffer} tile data\n   */\n  get tileData(): Buffer {\n    return this.getValueWithColumnName(this.tileDataColumn.name);\n  }\n  /**\n   * Set the tile data\n   * @param {Buffer} tileData tile data\n   */\n  set tileData(tileData: Buffer) {\n    this.setValueWithColumnName(this.tileDataColumn.name, tileData);\n  }\n  /**\n   * Get the tile data as an image\n   * @return {*} tile image\n   */\n  get tileDataImage(): void {\n    return null;\n  }\n}\n","/**\n * @module tiles/user/tileTable\n */\n\nimport { UserTable } from '../../user/userTable';\nimport { TileColumn } from './tileColumn';\nimport { TileColumns } from './tileColumns';\nimport { UniqueConstraint } from '../../db/table/uniqueConstraint';\nimport { ContentsDataType } from '../../core/contents/contentsDataType';\nimport { Contents } from '../../core/contents/contents';\n\n/**\n * `TileTable` models [tile pyramid user tables](https://www.geopackage.org/spec121/index.html#tiles_user_tables).\n *\n * @class\n * @param {string} tableName\n * @param {module:tiles/user/tileColumn~TileColumn[]} columns\n */\nexport class TileTable extends UserTable<TileColumn> {\n  /**\n   * Id column name, Requirement 52\n   */\n  static COLUMN_ID = TileColumns.ID;\n\n  /**\n   * Zoom level column name, Requirement 53\n   */\n  static COLUMN_ZOOM_LEVEL = TileColumns.ZOOM_LEVEL;\n\n  /**\n   * Tile column column name, Requirement 54\n   */\n  static COLUMN_TILE_COLUMN = TileColumns.TILE_COLUMN;\n\n  /**\n   * Tile row column name, Requirement 55\n   */\n  static COLUMN_TILE_ROW = TileColumns.TILE_ROW;\n\n  /**\n   * Tile ID column name, implied requirement\n   */\n  static COLUMN_TILE_DATA = TileColumns.TILE_DATA;\n\n  /**\n   * Constructor\n   * @param tableName  table name\n   * @param columns columns\n   */\n  constructor(tableName: string, columns: TileColumn[]) {\n    super(new TileColumns(tableName, columns, false));\n\n    // Build a unique constraint on zoom level, tile column, and tile data\n    let uniqueConstraint = new UniqueConstraint();\n    uniqueConstraint.add(this.getUserColumns().getZoomLevelColumn());\n    uniqueConstraint.add(this.getUserColumns().getTileColumnColumn());\n    uniqueConstraint.add(this.getUserColumns().getTileRowColumn());\n\n    // Add the unique constraint\n    this.addConstraint(uniqueConstraint);\n\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  copy(): TileTable {\n    return new TileTable(this.getTableName(), this.columns._columns);\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  getDataType(): string {\n    return ContentsDataType.TILES;\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  getUserColumns(): TileColumns {\n    return super.getUserColumns() as TileColumns;\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  createUserColumns(columns: TileColumn[]): TileColumns {\n    return new TileColumns(this.getTableName(), columns, true);\n  }\n\n  /**\n   * Get the zoom level column index\n   * @return zoom level index\n   */\n  getZoomLevelColumnIndex(): number {\n    return this.getUserColumns().getZoomLevelIndex();\n  }\n\n  /**\n   * Get the zoom level column\n   * @return tile column\n   */\n  getZoomLevelColumn(): TileColumn {\n    return this.getUserColumns().getZoomLevelColumn();\n  }\n\n  /**\n   * Get the tile column column index\n   * @return tile column index\n   */\n  getTileColumnColumnIndex(): number {\n    return this.getUserColumns().getTileColumnIndex();\n  }\n\n  /**\n   * Get the tile column column\n   * @return tile column\n   */\n  getTileColumnColumn(): TileColumn {\n    return this.getUserColumns().getTileColumnColumn();\n  }\n\n  /**\n   * Get the tile row column index\n   * @return tile row index\n   */\n  getTileRowColumnIndex(): number {\n    return this.getUserColumns().getTileRowIndex();\n  }\n\n  /**\n   * Get the tile row column\n   * @return tile column\n   */\n  getTileRowColumn(): TileColumn {\n    return this.getUserColumns().getTileRowColumn();\n  }\n\n  /**\n   * Get the tile data column index\n   * @return tile data index\n   */\n  getTileDataColumnIndex(): number {\n    return this.getUserColumns().getTileDataIndex();\n  }\n\n  /**\n   * Get the tile data column\n   * @return tile column\n   */\n  getTileDataColumn(): TileColumn {\n    return this.getUserColumns().getTileDataColumn();\n  }\n\n  /**\n   * Create the required table columns, starting at the provided index\n   * @param startingIndex starting index\n   * @return tile columns\n   */\n  static createRequiredColumns(startingIndex: number = 0): TileColumn[]{\n    let columns: TileColumn[] = [];\n    columns.push(TileColumn.createIdColumn(startingIndex++));\n    columns.push(TileColumn.createZoomLevelColumn(startingIndex++));\n    columns.push(TileColumn.createTileColumnColumn(startingIndex++));\n    columns.push(TileColumn.createTileRowColumn(startingIndex++));\n    columns.push(TileColumn.createTileDataColumn(startingIndex));\n    return columns;\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  validateContents(contents: Contents) {\n    // Verify the Contents have a tiles data type\n    let dataType = contents.data_type;\n    if (dataType === null || dataType === undefined || dataType !== ContentsDataType.TILES) {\n      throw new Error('The Contents of a TileTable must have a data type of tiles');\n    }\n  }\n}\n","/**\n * tileTableReader module.\n * @module tiles/user/tileTableReader\n */\nimport { UserTableReader } from '../../user/userTableReader';\nimport { TileTable } from './tileTable';\nimport { TileColumn } from './tileColumn';\nimport { TileMatrixSet } from '../matrixset/tileMatrixSet';\nimport { GeoPackage } from '../../geoPackage';\nimport { TableColumn } from '../../db/table/tableColumn';\n\n/**\n * Reads the metadata from an existing tile table\n * @class TileTableReader\n */\nexport class TileTableReader extends UserTableReader<TileColumn, TileTable> {\n  constructor(public tileMatrixSet: TileMatrixSet) {\n    super(tileMatrixSet.table_name);\n  }\n\n  readTileTable(geoPackage: GeoPackage): TileTable {\n    return this.readTable(geoPackage.database) as TileTable;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  createTable(tableName: string, columns: TileColumn[]): TileTable {\n    return new TileTable(tableName, columns);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  createColumn(tableColumn: TableColumn): TileColumn {\n    return new TileColumn(tableColumn.index, tableColumn.name, tableColumn.dataType, tableColumn.max, tableColumn.notNull, tableColumn.defaultValue, tableColumn.primaryKey, tableColumn.autoincrement);\n  }\n}\n","/**\n * @module user/custom\n */\n\nimport { UserColumn } from '../userColumn';\nimport { GeoPackageDataType } from '../../db/geoPackageDataType';\nimport { DBValue } from '../../db/dbAdapter';\nimport { UserTableDefaults } from '../userTableDefaults';\n\n/**\n * Create a new user custom columnd\n *  @param {Number} index        column index\n *  @param {string} name         column name\n *  @param {module:db/geoPackageDataType~GPKGDataType} dataType  data type\n *  @param {Number} max max value\n *  @param {Boolean} notNull      not null\n *  @param {Object} defaultValue default value or nil\n *  @param {Boolean} primaryKey primary key\n *  @param {Boolean} autoincrement autoincrement\n */\nexport class UserCustomColumn extends UserColumn {\n  constructor(\n    index: number,\n    name: string,\n    dataType: GeoPackageDataType,\n    max?: number,\n    notNull?: boolean,\n    defaultValue?: DBValue,\n    primaryKey?: boolean,\n    autoincrement?: boolean,\n  ) {\n    super(index, name, dataType, max, notNull, defaultValue, primaryKey, autoincrement);\n    // eslint-disable-next-line eqeqeq\n    if (dataType == null) {\n      throw new Error('Data type is required to create column: ' + name);\n    }\n  }\n  /**\n   *  Create a new column\n   *\n   *  @param {Number} index        column index\n   *  @param {string} name         column name\n   *  @param {GeoPackageDataType} type data type\n   *  @param {Number} [max] max value\n   *  @param {Boolean} [notNull]      not null\n   *  @param {Object} [defaultValue] default value or nil\n   *  @param {Object} [max] max value or nil\n   *  @param {Boolean} [autoincrement] autoincrement or nil\n   *\n   *  @return {UserCustomColumn} created column\n   */\n  static createColumn(\n    index: number,\n    name: string,\n    type: GeoPackageDataType,\n    notNull = false,\n    defaultValue?: DBValue,\n    max?: number,\n    autoincrement?: boolean,\n  ): UserCustomColumn {\n    return new UserCustomColumn(index, name, type, max, notNull, defaultValue, false, autoincrement);\n  }\n\n  /**\n   * Create a new primary key column\n   * @param index\n   * @param name\n   * @param autoincrement\n   */\n  static createPrimaryKeyColumn(\n    index: number,\n    name: string,\n    autoincrement: boolean = UserTableDefaults.DEFAULT_AUTOINCREMENT,\n  ): UserCustomColumn {\n    return new UserCustomColumn(index, name, GeoPackageDataType.INTEGER, undefined, undefined, undefined, true, autoincrement);\n  }\n}\n","/**\n * @module user/custom\n */\nimport { UserCustomColumn } from './userCustomColumn';\nimport { UserColumns } from '../userColumns';\n\n/**\n * UserCustomColumns\n */\nexport class UserCustomColumns extends UserColumns<UserCustomColumn> {\n  /**\n   * Required columns\n   */\n  requiredColumns: string[];\n\n  constructor(tableName: string, columns: UserCustomColumn[], requiredColumns: string[], custom: boolean) {\n    super(tableName, columns, custom);\n    this.requiredColumns = requiredColumns === null || requiredColumns === undefined ? [] : requiredColumns.slice();\n    this.updateColumns();\n  }\n\n  copy(): UserCustomColumns {\n    return new UserCustomColumns(this.getTableName(), this.getColumns(), this.getRequiredColumns(), this.isCustom());\n  }\n\n  /**\n   * Get the required columns\n   * @return required columns\n   */\n  getRequiredColumns(): string[] {\n    return this.requiredColumns;\n  }\n\n  /**\n   * Set the required columns\n   * @param requiredColumns required columns\n   */\n  setRequiredColumns(requiredColumns: string[] = []) {\n    this.requiredColumns = requiredColumns.slice();\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  updateColumns() {\n    super.updateColumns();\n\n    if (!this.isCustom() && this.requiredColumns !== null && this.requiredColumns.length !== 0) {\n      let search = new Set<string>(this.requiredColumns);\n      let found = {};\n      // Find the required columns\n      this.getColumns().forEach(column => {\n        let columnName = column.getName();\n        let columnIndex = column.getIndex();\n        if (search.has(columnName)) {\n          let previousIndex = found[columnName];\n          this.duplicateCheck(columnIndex, previousIndex, columnName);\n          found[columnName] = columnIndex;\n        }\n      });\n\n      // Verify the required columns were found\n      search.forEach(requiredColumn => {\n        this.missingCheck(found[requiredColumn], requiredColumn);\n      });\n    }\n  }\n}\n","/**\n * @module user/custom\n */\nimport { UserDao } from '../userDao';\nimport { GeoPackage } from '../../geoPackage';\nimport { UserCustomTableReader } from './userCustomTableReader';\nimport { UserRow } from '../userRow';\nimport { UserCustomTable } from './userCustomTable';\n\n/**\n * User Custom Dao\n * @class\n * @extends UserDao\n * @param  {module:geoPackage~GeoPackage} geoPackage      geopackage object\n * @param  {module:user/custom~UserCustomTable} userCustomTable user custom table\n */\nexport class UserCustomDao<T extends UserRow> extends UserDao<UserRow> {\n  constructor(geoPackage: GeoPackage, table: UserCustomTable) {\n    super(geoPackage, table);\n  }\n  createObject(results: any): UserRow {\n    return this.getRow(results);\n  }\n  /**\n   * Reads the table specified from the geopackage\n   * @param  {module:geoPackage~GeoPackage} geoPackage      geopackage object\n   * @param  {string} tableName       table name\n   * @return {module:user/custom~UserCustomDao}\n   */\n  static readTable(geoPackage: GeoPackage, tableName: string): UserCustomDao<UserRow> {\n    const reader = new UserCustomTableReader(tableName);\n    const userCustomTable = reader.readTable(geoPackage.database);\n    return new UserCustomDao(geoPackage, userCustomTable);\n  }\n}\n","/**\n * @module user/custom\n */\nimport { UserTable } from '../userTable';\nimport { UserColumn } from '../userColumn';\nimport { UserCustomColumn } from './userCustomColumn';\nimport { UserCustomColumns } from './userCustomColumns';\n\n/**\n * Create a new user custom table\n * @class\n * @param  {string} tableName       table name\n * @param  {module:user/userColumn~UserColumn[]} columns         user columns\n * @param  {string[]} requiredColumns required columns\n */\nexport class UserCustomTable extends UserTable<UserCustomColumn> {\n  constructor(tableName: string, columns: UserColumn[], requiredColumns: string[] = []) {\n    super(new UserCustomColumns(tableName, columns, requiredColumns, true));\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  copy(): UserCustomTable {\n    return new UserCustomTable(this.getTableName(), this.getUserColumns().getColumns(), this.getUserColumns().getRequiredColumns());\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  getDataType(): string {\n    return null;\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  getUserColumns(): UserCustomColumns {\n    return super.getUserColumns() as UserCustomColumns;\n  }\n\n  /**\n   * Get the required columns\n   *\n   * @return required columns\n   */\n  public getRequiredColumns(): string[] {\n    return this.getUserColumns().getRequiredColumns();\n  }\n}\n","/**\n * @module user/custom\n */\nimport { UserCustomTable } from './userCustomTable';\nimport { UserTableReader } from '../userTableReader';\nimport { UserCustomColumn } from './userCustomColumn';\nimport { GeoPackage } from '../../geoPackage';\nimport { TableColumn } from '../../db/table/tableColumn';\n\n/**\n * User custom table reader\n * @class\n * @param  {string} tableName       table name\n * @param  {string[]} requiredColumns required columns\n */\nexport class UserCustomTableReader extends UserTableReader<UserCustomColumn, UserCustomTable> {\n  constructor(table_name: string) {\n    super(table_name);\n  }\n\n  readUserCustomTable(geoPackage: GeoPackage): UserCustomTable {\n    return this.readTable(geoPackage.database) as UserCustomTable;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  createTable(tableName: string, columns: UserCustomColumn[]): UserCustomTable {\n    return new UserCustomTable(tableName, columns, null);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  createColumn(tableColumn: TableColumn): UserCustomColumn {\n    return new UserCustomColumn(tableColumn.index, tableColumn.name, tableColumn.dataType, tableColumn.max, tableColumn.notNull, tableColumn.defaultValue, tableColumn.primaryKey, tableColumn.autoincrement);\n  }\n}\n","/**\n * @module user/userColumn\n */\nimport isEqual from 'lodash/isEqual';\nimport { GeoPackageDataType } from '../db/geoPackageDataType';\nimport { DBValue } from '../db/dbAdapter';\nimport { Constraint } from '../db/table/constraint';\nimport { RawConstraint } from '../db/table/rawConstraint';\nimport { ConstraintParser } from '../db/table/constraintParser';\nimport { ColumnConstraints } from '../db/table/columnConstraints';\nimport { ConstraintType } from '../db/table/constraintType';\nimport { UserTableDefaults } from './userTableDefaults';\nimport { Constraints } from '../db/table/constraints';\n\n/**\n * A `UserColumn` is meta-data about a single column from a {@link module:/user/userTable~UserTable}.\n *\n * @class\n * @param {Number} index column index\n * @param {string} name column name\n * @param {module:db/geoPackageDataType~GPKGDataType} dataType data type of the column\n * @param {?Number} max max value\n * @param {Boolean} notNull not null\n * @param {?Object} defaultValue default value or null\n * @param {Boolean} primaryKey `true` if this column is part of the table's primary key\n */\nexport class UserColumn {\n  static readonly NO_INDEX = -1;\n  /**\n   * Not Null Constraint Order\n   */\n  static readonly NOT_NULL_CONSTRAINT_ORDER = 1;\n\n  /**\n   * Default Value Constraint Order\n   */\n  static readonly DEFAULT_VALUE_CONSTRAINT_ORDER = 2;\n\n  /**\n   * Primary Key Constraint Order\n   */\n  static readonly PRIMARY_KEY_CONSTRAINT_ORDER = 3;\n\n  /**\n   * Autoincrement Constraint Order\n   */\n  static readonly AUTOINCREMENT_CONSTRAINT_ORDER = 4;\n\n  /**\n   * Unique Constraint Order\n   */\n  static readonly UNIQUE_CONSTRAINT_ORDER = 5;\n\n  constraints: Constraints = new Constraints();\n  type: string;\n  min: number;\n  constructor(\n    public index: number,\n    public name: string,\n    public dataType: GeoPackageDataType,\n    public max?: number,\n    public notNull?: boolean,\n    public defaultValue?: DBValue,\n    public primaryKey?: boolean,\n    public autoincrement?: boolean,\n    public unique?: boolean,\n  ) {\n    this.validateMax();\n    this.type = this.getTypeName(name, dataType);\n    this.addDefaultConstraints();\n  }\n\n  /**\n   * Validate the data type\n   * @param name column name\n   * @param dataType  data type\n   */\n  static validateDataType(name: string, dataType: GeoPackageDataType) {\n    if (dataType === null || dataType === undefined) {\n      throw new Error('Data Type is required to create column: ' + name);\n    }\n  }\n\n  /**\n   * Copy the column\n   * @return copied column\n   */\n  copy(): UserColumn {\n    const userColumnCopy = new UserColumn(this.index, this.name, this.dataType, this.max, this.notNull, this.defaultValue, this.primaryKey, this.unique);\n    userColumnCopy.min = this.min;\n    userColumnCopy.constraints = this.constraints.copy();\n    return userColumnCopy;\n  }\n\n  /**\n   * Clears the constraints\n   */\n  clearConstraints() {\n    return this.constraints.clear();\n  }\n\n  getConstraints() {\n    return this.constraints;\n  }\n\n  setIndex(index: number) {\n    if (this.hasIndex()) {\n      if (!isEqual(index, this.index)) {\n        throw new Error('User Column with a valid index may not be changed. Column Name: ' + this.name + ', Index: ' + this.index + ', Attempted Index: ' + this.index);\n      }\n    } else {\n      this.index = index;\n    }\n  }\n\n  /**\n   * Check if the column has a valid index\n   * @return true if has a valid index\n   */\n  hasIndex(): boolean {\n    return this.index > UserColumn.NO_INDEX;\n  }\n\n  /**\n   * Reset the column index\n   */\n  resetIndex() {\n    this.index = UserColumn.NO_INDEX;\n  }\n\n  /**\n   * Get the index\n   *\n   * @return index\n   */\n  getIndex(): number {\n    return this.index;\n  }\n\n  /**\n   * Set the name\n   * @param name column name\n   */\n  setName(name: string) {\n    this.name = name;\n  }\n\n  /**\n   * Get the name\n   * @return name\n   */\n  getName(): string {\n    return this.name;\n  }\n\n  /**\n   * Determine if this column is named the provided name\n   * @param name column name\n   * @return true if named the provided name\n   */\n  isNamed(name: string): boolean {\n    return this.name === name;\n  }\n\n  /**\n   * Determine if the column has a max value\n   * @return true if has max value\n   */\n  hasMax(): boolean {\n    return this.max != null;\n  }\n\n  /**\n   * Set the max\n   * @param max max\n   */\n  setMax(max: number) {\n    this.max = max;\n  }\n\n  /**\n   * Get the max\n   * @return max\n   */\n  getMax(): number {\n    return this.max;\n  }\n\n  /**\n   * Set the not null flag\n   * @param notNull not null flag\n   */\n  setNotNull(notNull: boolean) {\n    if (this.notNull !== notNull) {\n      if (notNull) {\n        this.addNotNullConstraint();\n      } else {\n        this.removeConstraintByType(ConstraintType.NOT_NULL);\n      }\n    }\n    this.notNull = notNull;\n  }\n\n  /**\n   * Get the is not null flag\n   * @return not null flag\n   */\n  isNotNull(): boolean {\n    return this.notNull;\n  }\n\n  /**\n   * Determine if the column has a default value\n   * @return true if has default value\n   */\n  hasDefaultValue(): boolean {\n    return this.defaultValue !== null && this.defaultValue !== undefined;\n  }\n\n  /**\n   * Set the default value\n   * @param defaultValue default value\n   */\n  setDefaultValue(defaultValue: any) {\n    this.removeConstraintByType(ConstraintType.DEFAULT);\n    if (defaultValue !== null && defaultValue !== undefined) {\n      this.addDefaultValueConstraint(defaultValue);\n    }\n    this.defaultValue = defaultValue;\n  }\n\n  /**\n   * Get the default value\n   * @return default value\n   */\n  getDefaultValue(): any {\n    return this.defaultValue;\n  }\n\n  /**\n   * Set the primary key flag\n   * @param primaryKey primary key flag\n   */\n  setPrimaryKey(primaryKey: boolean) {\n    if (this.primaryKey !== primaryKey) {\n      if (primaryKey) {\n        this.addPrimaryKeyConstraint();\n      } else {\n        this.autoincrement = false;\n        this.removeConstraintByType(ConstraintType.AUTOINCREMENT);\n        this.removeConstraintByType(ConstraintType.PRIMARY_KEY);\n      }\n    }\n    this.primaryKey = primaryKey;\n  }\n\n  /**\n   * Get the primary key flag\n   * @return primary key flag\n   */\n  isPrimaryKey() {\n    return this.primaryKey;\n  }\n\n  /**\n   * Set the autoincrement flag\n   * @param autoincrement autoincrement flag\n   */\n  setAutoincrement(autoincrement: boolean) {\n    if (this.autoincrement !== autoincrement) {\n      if (autoincrement) {\n        this.addAutoincrementConstraint();\n      } else {\n        this.removeConstraintByType(ConstraintType.AUTOINCREMENT);\n      }\n    }\n    this.autoincrement = autoincrement;\n  }\n\n  /**\n   * Get the autoincrement flag\n   * @return autoincrement flag\n   */\n  isAutoincrement(): boolean {\n    return this.autoincrement;\n  }\n\n\n  /**\n   * Set the unique flag\n   * @param unique autoincrement flag\n   */\n  protected setUnique(unique: boolean) {\n    if (this.unique !== unique) {\n      if (unique) {\n        this.addUniqueConstraint();\n      } else {\n        this.removeConstraintByType(ConstraintType.UNIQUE);\n      }\n    }\n    this.unique = unique;\n  }\n\n  /**\n   * Get the autoincrement flag\n   * @return autoincrement flag\n   */\n  isUnique(): boolean {\n    return this.unique;\n  }\n\n  /**\n   * Set the data type\n   * @param dataType data type\n   */\n  setDataType(dataType: GeoPackageDataType) {\n    this.dataType = dataType;\n  }\n\n  /**\n   * Get the data type\n   * @return data type\n   */\n  getDataType(): GeoPackageDataType {\n    return this.dataType;\n  }\n\n  getTypeName(name: string, dataType: GeoPackageDataType): string {\n    UserColumn.validateDataType(name, dataType);\n    return GeoPackageDataType.nameFromType(dataType);\n  }\n\n  /**\n   * Validate that if max is set, the data type is text or blob\n   */\n  validateMax(): boolean {\n    if (this.max && this.dataType !== GeoPackageDataType.TEXT && this.dataType !== GeoPackageDataType.BLOB) {\n      throw new Error(\n        'Column max is only supported for TEXT and BLOB columns. column: ' +\n          this.name +\n          ', max: ' +\n          this.max +\n          ', type: ' +\n          this.dataType,\n      );\n    }\n    return true;\n  }\n\n  /**\n   *  Create a new primary key column\n   *\n   *  @param {Number} index column index\n   *  @param {string} name  column name\n   *  @param {boolean} autoincrement column autoincrement\n   *\n   *  @return {UserColumn} created column\n   */\n  static createPrimaryKeyColumn(index: number, name: string, autoincrement: boolean = UserTableDefaults.DEFAULT_AUTOINCREMENT): UserColumn {\n    return new UserColumn(index, name, GeoPackageDataType.INTEGER, undefined, true, undefined, true, autoincrement);\n  }\n\n  /**\n   *  Create a new column\n   *\n   *  @param {Number} index        column index\n   *  @param {string} name         column name\n   *  @param {module:db/geoPackageDataType~GPKGDataType} type         data type\n   *  @param {Number} max max value\n   *  @param {Boolean} notNull      not null\n   *  @param {Object} defaultValue default value or nil\n   *\n   *  @return {module:user/userColumn~UserColumn} created column\n   */\n  static createColumn(\n    index: number,\n    name: string,\n    type: GeoPackageDataType,\n    notNull = false,\n    defaultValue?: DBValue,\n    max?: number,\n  ): UserColumn {\n    return new UserColumn(index, name, type, max, notNull, defaultValue, false);\n  }\n\n  /**\n   * Add the default constraints that are enabled (not null, default value,\n   * primary key, autoincrement) from the column properties\n   */\n  protected addDefaultConstraints() {\n    if (this.isNotNull()) {\n      this.addNotNullConstraint();\n    }\n    if (this.hasDefaultValue()) {\n      this.addDefaultValueConstraint(this.getDefaultValue());\n    }\n    if (this.isPrimaryKey()) {\n      this.addPrimaryKeyConstraint();\n      if (this.isAutoincrement()) {\n        this.addAutoincrementConstraint();\n      }\n    }\n    if (this.isUnique()) {\n      this.addUniqueConstraint();\n    }\n  }\n\n  /**\n   * Add a constraint\n   * @param constraint constraint\n   */\n  addConstraint(constraint: Constraint) {\n    if (constraint.order === null || constraint.order === undefined) {\n      this.setConstraintOrder(constraint);\n    }\n\n    this.constraints.add(constraint);\n  }\n\n  /**\n   * Set the constraint order by constraint type\n   * @param constraint constraint\n   */\n  setConstraintOrder(constraint: Constraint) {\n    let order = null;\n    switch (constraint.getType()) {\n      case ConstraintType.PRIMARY_KEY:\n        order = UserColumn.PRIMARY_KEY_CONSTRAINT_ORDER;\n        break;\n      case ConstraintType.UNIQUE:\n        order = UserColumn.UNIQUE_CONSTRAINT_ORDER;\n        break;\n      case ConstraintType.NOT_NULL:\n        order = UserColumn.NOT_NULL_CONSTRAINT_ORDER;\n        break;\n      case ConstraintType.DEFAULT:\n        order = UserColumn.DEFAULT_VALUE_CONSTRAINT_ORDER;\n        break;\n      case ConstraintType.AUTOINCREMENT:\n        order = UserColumn.AUTOINCREMENT_CONSTRAINT_ORDER;\n        break;\n      default:\n    }\n    constraint.order = order;\n  }\n\n  /**\n   * Add a constraint\n   * @param constraint constraint\n   */\n  addConstraintSql(constraint: string) {\n    const type = ConstraintParser.getType(constraint);\n    const name = ConstraintParser.getName(constraint);\n    this.constraints.add(new RawConstraint(type, name, constraint));\n  }\n\n  /**\n   * Add constraints\n   * @param constraints constraints\n   */\n  addConstraints(constraints: Constraints) {\n    this.constraints.addConstraints(constraints);\n  }\n\n  /**\n   * Add constraints\n   * @param constraints constraints\n   */\n  addColumnConstraints(constraints: ColumnConstraints) {\n    this.addConstraints(constraints.getConstraints());\n  }\n\n  /**\n   * Add a not null constraint\n   */\n  private addNotNullConstraint() {\n    this.addConstraint(new RawConstraint(ConstraintType.NOT_NULL, null, \"NOT NULL\", UserColumn.NOT_NULL_CONSTRAINT_ORDER));\n  }\n\n  /**\n   * Add a default value constraint\n   * @param defaultValue default value\n   */\n  private addDefaultValueConstraint(defaultValue: any) {\n    this.addConstraint(new RawConstraint(ConstraintType.DEFAULT, null, \"DEFAULT \" + GeoPackageDataType.columnDefaultValue(defaultValue, this.getDataType()), UserColumn.DEFAULT_VALUE_CONSTRAINT_ORDER));\n  }\n\n  /**\n   * Add a primary key constraint\n   */\n  private addPrimaryKeyConstraint() {\n    this.addConstraint(new RawConstraint(ConstraintType.PRIMARY_KEY, null, \"PRIMARY KEY\", UserColumn.PRIMARY_KEY_CONSTRAINT_ORDER));\n  }\n\n  /**\n   * Add an autoincrement constraint\n   */\n  private addAutoincrementConstraint() {\n    if (this.isPrimaryKey()) {\n      this.addConstraint(new RawConstraint(ConstraintType.AUTOINCREMENT, null, \"AUTOINCREMENT\", UserColumn.AUTOINCREMENT_CONSTRAINT_ORDER));\n    } else {\n      throw new Error('Autoincrement may only be set on a primary key column');\n    }\n  }\n\n  /**\n   * Add a unique constraint\n   */\n  private addUniqueConstraint() {\n    this.addConstraint(new RawConstraint(ConstraintType.UNIQUE, null, \"UNIQUE\", UserColumn.UNIQUE_CONSTRAINT_ORDER));\n  }\n\n  /**\n   * Removes constraints by type\n   */\n  removeConstraintByType(type: ConstraintType) {\n    this.constraints.clearConstraintsByType(type);\n  }\n\n  getType(): string {\n    return this.type;\n  }\n\n  hasConstraints() {\n    return this.constraints.has();\n  }\n\n  /**\n   * Build the SQL for the constraint\n   * @param constraint constraint\n   * @return SQL or null\n   */\n  buildConstraintSql(constraint: Constraint): string {\n    let sql = null;\n    if (UserTableDefaults.DEFAULT_PK_NOT_NULL || !this.isPrimaryKey() || constraint.getType() !== ConstraintType.NOT_NULL) {\n      sql = constraint.buildSql();\n    }\n    return sql;\n  }\n}\n","/**\n * Abstract collection of columns from a user table, representing a full set of\n * table columns or a subset from a query\n * @param <TColumn> column type\n */\nimport { UserColumn } from './userColumn';\nimport { GeoPackageDataType } from '../db/geoPackageDataType';\n\nexport class UserColumns<TColumn extends UserColumn> {\n\n  /**\n   * Table name, null when a pre-ordered subset of columns for a query\n   */\n  _tableName: string;\n\n  /**\n   * Array of column names\n   */\n  _columnNames: string[];\n\n  /**\n   * List of columns\n   */\n  _columns: TColumn[];\n\n  /**\n   * Custom column specification flag (subset of table columns or different\n   * ordering)\n   */\n  _custom: boolean;\n\n  /**\n   * Mapping between (lower cased) column names and their index\n   */\n  _nameToIndex: Map<string, number>;\n\n  /**\n   * Primary key column index\n   */\n  _pkIndex: number = -1;\n\n  /**\n   * Constructor\n   * @param tableName table name\n   * @param columns columns\n   * @param custom custom column specification\n   */\n  protected constructor(tableName: string, columns: TColumn[], custom: boolean = false) {\n    this._tableName = tableName;\n    this._columns = columns;\n    this._custom = custom;\n    this._nameToIndex = new Map<string, number>();\n    this._columnNames = [];\n  }\n\n  /**\n   * Copy the user columns\n   * @return copied user columns\n   */\n  copy(): UserColumns<TColumn> {\n    const columns = [];\n    this._columns.forEach(column => {\n      columns.push(column.copy());\n    });\n    const copy = new UserColumns<TColumn>(this._tableName, columns, this._custom);\n    copy._columnNames = Array.from(this._columnNames);\n    copy._nameToIndex = new Map<string, number>(this._nameToIndex);\n    copy._pkIndex = this._pkIndex;\n    return copy;\n  }\n\n  /**\n   * Update the table columns\n   */\n  updateColumns() {\n    this._nameToIndex.clear();\n    if (!this._custom) {\n      const indices = new Set<number>();\n\n      // Check for missing indices and duplicates\n      let needsIndex = [];\n      this._columns.forEach(column => {\n        if (column.hasIndex()) {\n          const index = column.getIndex();\n          if (indices.has(index)) {\n            throw new Error(\"Duplicate index: \" + index + \", Table Name: \" + this._tableName);\n          } else {\n            indices.add(index);\n          }\n        } else {\n          needsIndex.push(column);\n        }\n      });\n\n      // Update columns that need an index\n      let currentIndex = -1;\n      needsIndex.forEach(column => {\n        while (indices.has(++currentIndex)) {\n        }\n        column.setIndex(currentIndex);\n      });\n\n      // Sort the columns by index\n      this._columns.sort((a, b) => {\n        return a.index - b.index;\n      });\n    }\n\n    this._pkIndex = -1;\n    this._columnNames = [];\n\n    for (let index = 0; index < this._columns.length; index++) {\n      const column = this._columns[index];\n      const columnName = column.getName();\n      const lowerCaseColumnName = columnName.toLowerCase();\n\n      if (!this._custom) {\n        if (column.getIndex() != index) {\n          throw new Error(\"No column found at index: \"\n            + index + \", Table Name: \" + this._tableName);\n        }\n\n        if (this._nameToIndex.has(lowerCaseColumnName)) {\n          throw new Error(\n            'Duplicate column found at index: ' + index\n            + ', Table Name: ' + this._tableName + ', Name: '\n            + columnName);\n        }\n      }\n\n      if (column.isPrimaryKey()) {\n        if (this._pkIndex != -1) {\n          let error = 'More than one primary key column was found for ';\n          if (this._custom) {\n            error = error.concat('custom specified table columns');\n          } else {\n            error = error.concat('table');\n          }\n         error = error.concat('. table: ' + this._tableName + ', index1: '\n            + this._pkIndex + ', index2: ' + index);\n          if (this._custom) {\n            error = error.concat(', columns: ' + this._columnNames);\n          }\n          throw new Error(error);\n        }\n        this._pkIndex = index;\n      }\n\n      this._columnNames[index] = columnName;\n      this._nameToIndex.set(lowerCaseColumnName, index);\n    }\n  }\n\n  /**\n   * Check for duplicate column names\n   *\n   * @param index index\n   * @param previousIndex previous index\n   * @param column column\n   */\n  duplicateCheck(index: number, previousIndex: number, column: string) {\n    if (previousIndex !== null && previousIndex !== undefined) {\n      throw new Error('More than one ' + column + ' column was found for table \\'' + this._tableName + '\\'. Index ' + previousIndex + ' and ' + index);\n    }\n  }\n\n  /**\n   * Check for the expected data type\n   * @param expected expected data type\n   * @param column user column\n   */\n  typeCheck(expected: GeoPackageDataType, column: TColumn) {\n    const actual = column.getDataType();\n    if (actual === null || actual === undefined || actual !== expected) {\n      throw new Error('Unexpected ' + column.getName()\n        + ' column data type was found for table \\'' + this._tableName\n        + '\\', expected: ' + GeoPackageDataType.nameFromType(expected) + ', actual: '\n        + (actual !== null && actual !== undefined ? GeoPackageDataType.nameFromType(actual) : 'null'));\n    }\n  }\n\n  /**\n   * Check for missing columns\n   * @param index column index\n   * @param column user column\n   */\n  missingCheck(index: number, column: string) {\n    if (index === null || index === undefined) {\n      throw new Error('No ' + column + ' column was found for table \\'' + this._tableName + '\\'');\n    }\n  }\n\n  /**\n   * Get the column index of the column name\n   * @param columnName column name\n   * @return column index\n   */\n  getColumnIndexForColumnName(columnName: string): number {\n    return this.getColumnIndex(columnName, true);\n  }\n\n  /**\n   * Get the column index of the column name\n   * @param columnName column name\n   * @param required column existence is required\n   * @return column index\n   */\n  getColumnIndex(columnName: string, required: boolean): number {\n    let index = this._nameToIndex.get(columnName.toLowerCase());\n    if (required && (index === null  || index === undefined)) {\n      let error = 'Column does not exist in ';\n      if (this._custom) {\n        error = error.concat('custom specified table columns');\n      } else {\n        error = error.concat('table');\n      }\n      error = error.concat('. table: ' + this._tableName + ', column: ' + columnName);\n      if (this._custom) {\n        error = error.concat(', columns: ' + this._columnNames);\n      }\n      throw new Error(error);\n    }\n    return index;\n  }\n\n  /**\n   * Get the array of column names\n   * @return column names\n   */\n  getColumnNames(): string[] {\n    return this._columnNames;\n  }\n\n  /**\n   * Get the column name at the index\n   * @param index column index\n   * @return column name\n   */\n  getColumnName(index: number): string {\n    return this._columnNames[index];\n  }\n\n  /**\n   * Get the list of columns\n   * @return columns\n   */\n  getColumns(): TColumn[] {\n    return this._columns;\n  }\n\n  /**\n   * Get the column at the index\n   * @param index column index\n   * @return column\n   */\n  getColumnForIndex(index: number): TColumn {\n    return this._columns[index];\n  }\n\n  /**\n   * Get the column of the column name\n   * @param columnName column name\n   * @return column\n   */\n  getColumn(columnName: string): TColumn {\n    return this.getColumnForIndex(this.getColumnIndexForColumnName(columnName));\n  }\n\n  /**\n   * Check if the table has the column\n   * @param columnName column name\n   * @return true if has the column\n   */\n  hasColumn(columnName: string): boolean {\n    return this._nameToIndex.has(columnName.toLowerCase());\n  }\n\n  /**\n   * Get the column count\n   * @return column count\n   */\n  columnCount(): number {\n    return this._columns.length;\n  }\n\n  /**\n   * Get the table name\n   * @return table name\n   */\n  getTableName(): string {\n    return this._tableName;\n  }\n\n  /**\n   * Set the table name\n   * @param tableName table name\n   */\n  setTableName(tableName: string) {\n    this._tableName = tableName;\n  }\n\n  /**\n   * Is custom column specification (partial and/or ordering)\n   * @return custom flag\n   */\n  isCustom(): boolean {\n    return this._custom;\n  }\n\n  /**\n   * Set the custom column specification flag\n   * @param custom custom flag\n   */\n  setCustom(custom: boolean) {\n    this._custom = custom;\n  }\n\n  /**\n   * Check if the table has a primary key column\n   * @return true if has a primary key\n   */\n  hasPkColumn(): boolean {\n    return this._pkIndex >= 0;\n  }\n\n  /**\n   * Get the primary key column index\n   * @return primary key column index\n   */\n  getPkColumnIndex(): number {\n    return this._pkIndex;\n  }\n\n  /**\n   * Get the primary key column\n   * @return primary key column\n   */\n  getPkColumn(): TColumn {\n    let column = null;\n    if (this.hasPkColumn()) {\n      column = this._columns[this._pkIndex];\n    }\n    return column;\n  }\n\n  /**\n   * Get the primary key column name\n   * @return primary key column name\n   */\n  getPkColumnName(): string {\n    return this.getPkColumn().getName();\n  }\n\n  /**\n   * Get the columns with the provided data type\n   * @param type data type\n   * @return columns\n   */\n  columnsOfType(type: GeoPackageDataType): TColumn[] {\n    return this._columns.filter(column => column.getDataType() === type);\n  }\n\n  /**\n   * Add a new column\n   * @param column new column\n   */\n  addColumn(column: TColumn) {\n    this._columns.push(column);\n    this.updateColumns();\n  }\n\n  /**\n   * Rename a column\n   * @param column column\n   * @param newColumnName new column name\n   */\n  renameColumn(column: TColumn, newColumnName: string) {\n    this.renameColumnWithName(column.getName(), newColumnName);\n    column.setName(newColumnName);\n  }\n\n  /**\n   * Rename a column\n   * @param columnName column name\n   * @param newColumnName new column name\n   */\n  renameColumnWithName(columnName: string, newColumnName: string) {\n    this.renameColumnWithIndex(this.getColumnIndexForColumnName(columnName), newColumnName);\n  }\n\n  /**\n   * Rename a column\n   * @param index column index\n   * @param newColumnName new column name\n   */\n  renameColumnWithIndex(index: number, newColumnName: string) {\n    this._columns[index].setName(newColumnName);\n    this.updateColumns();\n  }\n\n  /**\n   * Drop a column\n   * @param column column to drop\n   */\n  dropColumn(column: TColumn) {\n    this.dropColumnWithIndex(column.getIndex());\n  }\n\n  /**\n   * Drop a column\n   * @param columnName column name\n   */\n  dropColumnWithName(columnName: string) {\n    this.dropColumnWithIndex(this.getColumnIndexForColumnName(columnName));\n  }\n\n  /**\n   * Drop a column\n   * @param index column index\n   */\n  dropColumnWithIndex(index: number) {\n    this._columns.splice(index, 1);\n    this._columns.forEach(column => column.resetIndex());\n    this.updateColumns();\n  }\n\n  /**\n   * Alter a column\n   * @param column altered column\n   */\n  alterColumn(column: TColumn) {\n    let existingColumn = this.getColumn(column.getName());\n    const index = existingColumn.getIndex();\n    column.setIndex(index);\n    this._columns[index] = column;\n  }\n\n}\n","import { Dao } from '../dao/dao';\nimport { GeoPackage } from '../geoPackage';\nimport { UserMappingTable } from '../extension/relatedTables/userMappingTable';\nimport { MediaTable } from '../extension/relatedTables/mediaTable';\nimport { SimpleAttributesTable } from '../extension/relatedTables/simpleAttributesTable';\nimport { UserRow } from './userRow';\nimport { RelationType } from '../extension/relatedTables/relationType';\nimport { UserTable } from './userTable';\nimport { MediaRow } from '../extension/relatedTables/mediaRow';\nimport { SimpleAttributesRow } from '../extension/relatedTables/simpleAttributesRow';\nimport { FeatureRow } from '../features/user/featureRow';\nimport { ExtendedRelation } from '../extension/relatedTables/extendedRelation';\nimport { DBValue } from '../db/dbAdapter';\nimport { GeoPackageDataType } from '../db/geoPackageDataType';\nimport { UserColumn } from './userColumn';\nimport { AlterTable } from '../db/alterTable';\nimport { CoreSQLUtils } from '../db/coreSQLUtils';\n\n/**\n * Abstract User DAO for reading user tables\n * @class UserDao\n * @extends Dao\n * @param  {module:db/geoPackageConnection~GeoPackageConnection} geoPackage        connection\n * @param  {string} table table name\n */\nexport class UserDao<T extends UserRow> extends Dao<UserRow> {\n  table_name: string;\n  columns: string[];\n  protected _table: UserTable<UserColumn>;\n  protected constructor(geoPackage: GeoPackage, table: UserTable<UserColumn>) {\n    super(geoPackage);\n    this._table = table;\n    this.table_name = table.getTableName();\n    this.gpkgTableName = table.getTableName();\n    if (table.getPkColumn()) {\n      this.idColumns = [table.getPkColumn().getName()];\n    } else {\n      this.idColumns = [];\n    }\n    this.columns = table.getUserColumns().getColumnNames();\n  }\n  /**\n   * Creates a UserRow\n   * @param  {Object} [results] results to create the row from if not specified, an empty row is created\n   * @return {module:user/userRow~UserRow}\n   */\n  createObject(results: Record<string, DBValue>): UserRow {\n    if (results) {\n      return this.getRow(results);\n    }\n    return this.newRow();\n  }\n  /**\n   * Sets the value in the row\n   * @param  {module:user/userRow~UserRow} object      user row\n   * @param  {Number} columnIndex index\n   * @param  {Object} value       value\n   */\n  setValueInObject(object: T, columnIndex: number, value: any): void {\n    object.setValueNoValidationWithIndex(columnIndex, value);\n  }\n  /**\n   * Get a user row from the current results\n   * @param  {Object} results result to create the row from\n   * @return {module:user/userRow~UserRow}         the user row\n   */\n  getRow(results: Record<string, DBValue>): UserRow {\n    if (results instanceof UserRow) {\n      return results;\n    }\n    if (!this.table) return undefined;\n    const columns = this.table.getColumnCount();\n    const columnTypes: { [key: string]: GeoPackageDataType } = {};\n    for (let i = 0; i < columns; i++) {\n      const column = this.table.getColumnWithIndex(i);\n      columnTypes[column.name] = column.dataType;\n    }\n    return this.newRow(columnTypes, results);\n  }\n  /**\n   * Get the table for this dao\n   * @return {module:user/userTable~UserTable}\n   */\n  get table(): UserTable<UserColumn> {\n    return this._table;\n  }\n  /**\n   * Create a user row\n   * @param  {module:db/geoPackageDataType[]} columnTypes  column types\n   * @param  {module:dao/columnValues~ColumnValues[]} values      values\n   * @return {module:user/userRow~UserRow}             user row\n   */\n  newRow(columnTypes?: { [key: string]: GeoPackageDataType }, values?: Record<string, DBValue>): UserRow {\n    return new UserRow(this.table, columnTypes, values);\n  }\n\n  /**\n   * Links related rows together\n   * @param  {module:user/userRow~UserRow} userRow             user row\n   * @param  {module:user/userRow~UserRow} relatedRow          related row\n   * @param  {string} relationType        relation type\n   * @param  {string|UserMappingTable} [mappingTable]        mapping table\n   * @param  {module:dao/columnValues~ColumnValues} [mappingColumnValues] column values\n   * @return {number}\n   */\n  linkRelatedRow(\n    userRow: UserRow,\n    relatedRow: UserRow,\n    relationType: RelationType,\n    mappingTable?: string | UserMappingTable,\n    mappingColumnValues?: Record<string, any>,\n  ): number {\n    const rte = this.geoPackage.relatedTablesExtension;\n    const baseTableName = userRow.table.getTableName();\n    const relatedTableName = relatedRow.table.getTableName();\n    const relationship = rte\n      .getRelationshipBuilder()\n      .setBaseTableName(baseTableName)\n      .setRelatedTableName(relatedTableName)\n      .setRelationType(relationType);\n    let mappingTableName: string;\n    if (!mappingTable || typeof mappingTable === 'string') {\n      mappingTable = mappingTable || baseTableName + '_' + relatedTableName;\n      relationship.setMappingTableName(mappingTable);\n      mappingTableName = mappingTable as string;\n    } else {\n      relationship.setUserMappingTable(mappingTable);\n      mappingTableName = mappingTable.getTableName();\n    }\n    rte.addRelationship(relationship);\n    const userMappingDao = rte.getMappingDao(mappingTableName);\n    const userMappingRow = userMappingDao.newRow();\n    userMappingRow.baseId = userRow.id;\n    userMappingRow.relatedId = relatedRow.id;\n    for (const column in mappingColumnValues) {\n      userMappingRow.setValueWithColumnName(column, mappingColumnValues[column]);\n    }\n    return userMappingDao.create(userMappingRow);\n  }\n  /**\n   * Links a user row to a feature row\n   * @param  {module:user/userRow~UserRow} userRow             user row\n   * @param  {module:features/user/featureRow~FeatureRow} featureRow          feature row\n   * @param  {string|UserMappingTable} [mappingTable]        mapping table\n   * @param  {module:dao/columnValues~ColumnValues} [mappingColumnValues] column values\n   * @return {number}\n   */\n  linkFeatureRow(\n    userRow: UserRow,\n    featureRow: FeatureRow,\n    mappingTable?: string | UserMappingTable,\n    mappingColumnValues?: Record<string, any>,\n  ): number {\n    return this.linkRelatedRow(userRow, featureRow, RelationType.FEATURES, mappingTable, mappingColumnValues);\n  }\n  /**\n   * Links a user row to a media row\n   * @param  {module:user/userRow~UserRow} userRow             user row\n   * @param  {module:extension/relatedTables~MediaRow} mediaRow          media row\n   * @param  {string|UserMappingTable} [mappingTable]        mapping table\n   * @param  {module:dao/columnValues~ColumnValues} [mappingColumnValues] column values\n   * @return {number}\n   */\n  linkMediaRow(\n    userRow: UserRow,\n    mediaRow: MediaRow,\n    mappingTable?: string | UserMappingTable,\n    mappingColumnValues?: Record<string, any>,\n  ): number {\n    return this.linkRelatedRow(userRow, mediaRow, RelationType.MEDIA, mappingTable, mappingColumnValues);\n  }\n  /**\n   * Links a user row to a simpleAttributes row\n   * @param  {module:user/userRow~UserRow} userRow             user row\n   * @param  {module:extension/relatedTables~SimpleAttributesRow} simpleAttributesRow          simple attributes row\n   * @param  {string|UserMappingTable} [mappingTable]        mapping table\n   * @param  {module:dao/columnValues~ColumnValues} [mappingColumnValues] column values\n   * @return {number}\n   */\n  linkSimpleAttributesRow(\n    userRow: UserRow,\n    simpleAttributesRow: SimpleAttributesRow,\n    mappingTable?: string | UserMappingTable,\n    mappingColumnValues?: Record<string, any>,\n  ): number {\n    return this.linkRelatedRow(\n      userRow,\n      simpleAttributesRow,\n      RelationType.SIMPLE_ATTRIBUTES,\n      mappingTable,\n      mappingColumnValues,\n    );\n  }\n  /**\n   * Get all media rows that are linked to this user row\n   * @param  {module:user/userRow~UserRow} userRow user row\n   * @return {module:extension/relatedTables~MediaRow[]}\n   */\n  getLinkedMedia(userRow: UserRow): MediaRow[] {\n    const mediaRelations = this.mediaRelations;\n    const rte = this.geoPackage.relatedTablesExtension;\n    const linkedMedia: MediaRow[] = [];\n    for (let i = 0; i < mediaRelations.length; i++) {\n      const mediaRelation = mediaRelations[i];\n      const mediaDao = rte.getMediaDao(mediaRelation);\n      const userMappingDao = rte.getMappingDao(mediaRelation.mapping_table_name);\n      const mappings = userMappingDao.queryByBaseId(userRow.id);\n      for (let m = 0; m < mappings.length; m++) {\n        const relatedId = mappings[m].related_id;\n        linkedMedia.push(mediaDao.queryForId(relatedId) as MediaRow);\n      }\n    }\n    return linkedMedia;\n  }\n  /**\n   * Get all simple attribute rows that are linked to this user row\n   * @param  {module:user/userRow~UserRow} userRow user row\n   * @return {module:extension/relatedTables~SimpleAttributeRow[]}\n   */\n  getLinkedSimpleAttributes(userRow: UserRow): SimpleAttributesRow[] {\n    const simpleRelations = this.simpleAttributesRelations;\n    const rte = this.geoPackage.relatedTablesExtension;\n    const linkedSimpleAttributes: SimpleAttributesRow[] = [];\n    for (let i = 0; i < simpleRelations.length; i++) {\n      const simpleRelation = simpleRelations[i];\n      const simpleDao = rte.getSimpleAttributesDao(simpleRelation);\n      const userMappingDao = rte.getMappingDao(simpleRelation.mapping_table_name);\n      const mappings = userMappingDao.queryByBaseId(userRow.id);\n      for (let m = 0; m < mappings.length; m++) {\n        const relatedId = mappings[m].related_id;\n        linkedSimpleAttributes.push(simpleDao.queryForId(relatedId) as SimpleAttributesRow);\n      }\n    }\n    return linkedSimpleAttributes;\n  }\n  /**\n   * Get all feature rows that are linked to this user row\n   * @param  {module:user/userRow~UserRow} userRow user row\n   * @return {module:features/user/featureRow~FeatureRow[]}\n   */\n  getLinkedFeatures(userRow: UserRow): FeatureRow[] {\n    const featureRelations = this.featureRelations;\n    const rte = this.geoPackage.relatedTablesExtension;\n    const linkedFeatures: FeatureRow[] = [];\n    for (let i = 0; i < featureRelations.length; i++) {\n      const featureRelation = featureRelations[i];\n      const featureDao = this.geoPackage.getFeatureDao(featureRelation.base_table_name);\n      const userMappingDao = rte.getMappingDao(featureRelation.mapping_table_name);\n      const mappings = userMappingDao.queryByBaseId(userRow.id);\n      for (let m = 0; m < mappings.length; m++) {\n        const relatedId = mappings[m].related_id;\n        linkedFeatures.push(featureDao.queryForId(relatedId) as FeatureRow);\n      }\n    }\n    return linkedFeatures;\n  }\n  /**\n   * Get all simple attribute relations to this table\n   * @return {Object[]}\n   */\n  get simpleAttributesRelations(): ExtendedRelation[] {\n    return this.getRelationsWithName(SimpleAttributesTable.RELATION_TYPE.name);\n  }\n  /**\n   * Get all feature relations to this table\n   * @return {Object[]}\n   */\n  get featureRelations(): ExtendedRelation[] {\n    return this.getRelationsWithName(RelationType.FEATURES.name);\n  }\n  /**\n   * Get all media relations to this table\n   * @return {Object[]}\n   */\n  get mediaRelations(): ExtendedRelation[] {\n    return this.getRelationsWithName(MediaTable.RELATION_TYPE.name);\n  }\n  /**\n   * Get all relations to this table with the specified name\n   * @param {string} name\n   * @return {Object[]}\n   */\n  getRelationsWithName(name: string): ExtendedRelation[] {\n    return this.geoPackage.extendedRelationDao.getBaseTableRelationsWithName(this.table_name, name);\n  }\n  /**\n   * Get all relations to this table\n   * @return {Object[]}\n   */\n  get relations(): ExtendedRelation[] {\n    return this.geoPackage.extendedRelationDao.getBaseTableRelations(this.table_name);\n  }\n  /**\n   * Gets the rows in this table by id\n   * @param  {Number[]} ids ids to query for\n   * @return {Object[]}\n   */\n  getRows(ids: number[]): T[] {\n    const rows: T[] = [];\n    for (let i = 0; i < ids.length; i++) {\n      const row = this.queryForId(ids[i]);\n      if (row) {\n        rows.push(row as T);\n      }\n    }\n    return rows;\n  }\n  /**\n   * Get count of all rows in this table\n   * @return {Number}\n   */\n  getCount(): number {\n    return this.connection.count(this.table_name);\n  }\n\n  getTableName(): string {\n    return this.table_name;\n  }\n\n  /**\n   * Rename column\n   * @param columnName column name\n   * @param newColumnName  new column name\n   */\n  renameColumn(columnName: string, newColumnName: string) {\n    AlterTable.renameColumn(this.connection, this.table_name, columnName, newColumnName);\n    this._table.renameColumnWithName(columnName, newColumnName);\n  }\n\n  /**\n   * Add a new column\n   * @param column new column\n   */\n  addColumn(column: UserColumn) {\n    AlterTable.addColumn(this.connection, this.table_name, column.getName(), CoreSQLUtils.columnDefinition(column));\n    this._table.addColumn(column);\n  }\n\n  /**\n   * Drop a colum\n   * @param index column index\n   */\n   dropColumnWithIndex(index: number) {\n    this.dropColumn(this._table.getColumnNameWithIndex(index));\n  }\n\n  /**\n   * Drop a column\n   * @param columnName column name\n   */\n   dropColumn(columnName: string) {\n    AlterTable.dropColumnForUserTable(this.connection, this.table, columnName);\n  }\n\n  /**\n   * Drop columns\n   * @param columns columns\n   */\n   dropColumns(columns: UserColumn[]) {\n    let columnNames = [];\n    columns.forEach(column => {\n      columnNames.push(column.getName());\n    });\n    this.dropColumnNames(columnNames);\n  }\n\n  /**\n   * Drop columns\n   * @param indices column indexes\n   */\n   dropColumnIndexes(indices: number[]) {\n    let columnNames = [];\n    indices.forEach(idx => {\n      columnNames.push(this._table.getColumnNameWithIndex(idx));\n    });\n    this.dropColumnNames(columnNames);\n  }\n\n  /**\n   * Drop columns\n   * @param columnNames column names\n   */\n   dropColumnNames(columnNames: string[]) {\n    AlterTable.dropColumnsForUserTable(this.connection, this.table, columnNames);\n  }\n\n  /**\n   * Alter a column\n   * @param column column\n   */\n   alterColumn(column: UserColumn) {\n    AlterTable.alterColumnForTable(this.connection, this.table, column);\n  }\n\n  /**\n   * Alter columns\n   * @param columns columns\n   */\n   alterColumns(columns: UserColumn[]) {\n    AlterTable.alterColumnsForTable(this.connection, this.table, columns);\n  }\n}\n","/**\n * UserRow module.\n * @module user/userRow\n */\n\nimport { UserTable } from './userTable';\nimport { GeoPackageDataType } from '../db/geoPackageDataType';\nimport { DBValue } from '../db/dbAdapter';\nimport { UserColumn } from './userColumn';\n\nexport class UserRow {\n  /**\n   * User Row containing the values from a single result row\n   * @param table User Table\n   * @param columnTypes Column types of this row, based upon the data values\n   * @param values Array of the row values\n   */\n  constructor(\n    public table: UserTable<UserColumn>,\n    public columnTypes?: { [key: string]: GeoPackageDataType },\n    public values?: Record<string, DBValue>,\n  ) {\n    if (!this.columnTypes) {\n      const columnCount = this.table.getColumnCount();\n      this.columnTypes = {};\n      this.values = {};\n      for (let i = 0; i < columnCount; i++) {\n        this.columnTypes[this.table.columns.getColumnName(i)] = this.table.columns.getColumnForIndex(i).dataType;\n        this.values[this.table.columns.getColumnName(i)] = this.table.columns.getColumnForIndex(i).defaultValue;\n      }\n    }\n  }\n\n  /**\n   * Gets the id column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  get idColumn(): UserColumn {\n    return this.table.getIdColumn();\n  }\n  /**\n   * Get the column count\n   * @return {number} column count\n   */\n  get columnCount(): number {\n    return this.table.getColumnCount();\n  }\n  /**\n   * Get the column names\n   * @return {Array} column names\n   */\n  get columnNames(): string[] {\n    return this.table.columns._columnNames;\n  }\n  /**\n   * Get the column name at the index\n   * @param  {Number} index index\n   * @return {string}       column name\n   */\n  getColumnNameWithIndex(index: number): string {\n    return this.table.getColumnNameWithIndex(index);\n  }\n  /**\n   * Get the column index of the column name\n   * @param  {string} columnName column name\n   * @return {Number}            column index\n   */\n  getColumnIndexWithColumnName(columnName: string): number {\n    return this.table.getColumnIndex(columnName);\n  }\n  /**\n   * Get the value at the index\n   * @param  {Number} index index\n   * @return {object}       value\n   */\n  getValueWithIndex(index: number): any {\n    let value = this.values[this.getColumnNameWithIndex(index)];\n    if (value !== undefined) {\n      value = this.toObjectValue(index, value);\n    }\n    return value;\n  }\n  /**\n   * Get the value of the column name\n   * @param  {string} columnName column name\n   * @return {Object}            value\n   */\n  getValueWithColumnName(columnName: string): any {\n    const value = this.values[columnName];\n    const dataType = this.getRowColumnTypeWithColumnName(columnName);\n    if (value === undefined || value === null) return value;\n    if (dataType === GeoPackageDataType.BOOLEAN) {\n      return value === 1 ? true : false;\n    } else if (dataType === GeoPackageDataType.BLOB) {\n      return Buffer.from(value as Uint8Array);\n    }\n    return value;\n  }\n  /**\n   * Get the value from the database as an object based on the column\n   * @param index column index\n   * @param value value from the database\n   */\n  toObjectValue(index: number, value: DBValue): any {\n    const objectValue = value;\n    const column = this.getColumnWithIndex(index);\n    if (column.dataType === GeoPackageDataType.BOOLEAN && value) {\n      return value === 1 ? true : false;\n    }\n    return objectValue;\n  }\n  /**\n   * Get the value which will be persisted to the database based on the column\n   * @param columnName name of the column\n   */\n  toDatabaseValue(columnName: string): DBValue {\n    const column = this.getColumnWithColumnName(columnName);\n    const value = this.getValueWithColumnName(columnName);\n    if (column.dataType === GeoPackageDataType.BOOLEAN) {\n      return value === true ? 1 : 0;\n    }\n    return value;\n  }\n  /**\n   * Get the row column type at the index\n   * @param  {Number} index index\n   * @return {Number}       row column type\n   */\n  getRowColumnTypeWithIndex(index: number): number {\n    return this.columnTypes[this.getColumnNameWithIndex(index)];\n  }\n  /**\n   * Get the row column type of the column name\n   * @param  {string} columnName column name\n   * @return {Number}            row column type\n   */\n  getRowColumnTypeWithColumnName(columnName: string): number {\n    return this.columnTypes[columnName];\n  }\n  /**\n   * Get the column at the index\n   * @param  {Number} index index\n   * @return {UserColumn}       column\n   */\n  getColumnWithIndex(index: number): UserColumn {\n    return this.table.getColumnWithIndex(index);\n  }\n  /**\n   * Get the column of the column name\n   * @param  {string} columnName column name\n   * @return {UserColumn}            column\n   */\n  getColumnWithColumnName(columnName: string): UserColumn {\n    return this.table.getColumnWithColumnName(columnName);\n  }\n  /**\n   * Get the id value, which is the value of the primary key\n   * @return {Number} id value\n   */\n  get id(): number {\n    let id = null;\n    if (this.pkColumn) {\n      id = this.getValueWithIndex(this.pkColumnIndex);\n    }\n    return id;\n  }\n  /**\n   * Set the primary key id value\n   * @param {Number} id id\n   */\n  set id(id: number) {\n    this.values[this.table.getPkColumnName()] = id;\n  }\n  /**\n   * Get the primary key column Index\n   * @return {Number} pk index\n   */\n  get pkColumnIndex(): number {\n    return this.table.getUserColumns().getPkColumnIndex();\n  }\n  /**\n   * Get the primary key column\n   * @return {UserColumn} pk column\n   */\n  get pkColumn(): UserColumn {\n    return this.table.getPkColumn();\n  }\n  /**\n   * Set the value at the index\n   * @param {Number} index index\n   * @param {object} value value\n   */\n  setValueWithIndex(index: number, value: any): void {\n    if (index === this.table.getUserColumns().getPkColumnIndex()) {\n      throw new Error(\n        'Cannot update the primary key of the row.  Table Name: ' +\n          this.table.getTableName() +\n          ', Index: ' +\n          index +\n          ', Name: ' +\n          this.table.getPkColumnName(),\n      );\n    }\n    this.setValueWithColumnName(this.getColumnNameWithIndex(index), value);\n  }\n  /**\n   * Set the value at the index without validation\n   * @param {Number} index index\n   * @param {Object} value value\n   */\n  setValueNoValidationWithIndex(index: number, value: any): void {\n    this.values[this.getColumnNameWithIndex(index)] = value;\n  }\n  /**\n   * Set the value of the column name\n   * @param {string} columnName column name\n   * @param {Object} value      value\n   */\n  setValueWithColumnName(columnName: string, value: any): void {\n    const dataType = this.getRowColumnTypeWithColumnName(columnName);\n    if (dataType === GeoPackageDataType.BOOLEAN) {\n      value === true ? (this.values[columnName] = 1) : (this.values[columnName] = 0);\n    } else if (dataType === GeoPackageDataType.DATE) {\n      this.values[columnName] = value.toISOString().slice(0, 10);\n    } else if (dataType === GeoPackageDataType.DATETIME) {\n      this.values[columnName] = value.toISOString();\n    } else {\n      this.values[columnName] = value;\n    }\n  }\n  hasIdColumn(): boolean {\n    return this.table.getUserColumns().getPkColumnIndex() !== undefined;\n  }\n  hasId(): boolean {\n    let hasId = false;\n    if (this.hasIdColumn()) {\n      const objectValue = this.getValueWithIndex(this.table.getUserColumns().getPkColumnIndex());\n      hasId = objectValue !== null && objectValue !== undefined && typeof objectValue === 'number';\n    }\n    return hasId;\n  }\n  /**\n   * Clears the id so the row can be used as part of an insert or create\n   */\n  resetId(): void {\n    this.values[this.table.getPkColumnName()] = undefined;\n  }\n}\n","import { UserColumn } from './userColumn';\nimport { GeoPackageDataType } from '../db/geoPackageDataType';\nimport { Constraint } from '../db/table/constraint';\nimport { ConstraintType } from '../db/table/constraintType';\nimport { Contents } from '../core/contents/contents';\nimport { UserColumns } from './userColumns';\nimport { Constraints } from '../db/table/constraints';\n\n/**\n * `UserTable` models optional [user data tables](https://www.geopackage.org/spec121/index.html#_options)\n * in a [GeoPackage]{@link module:geoPackage~GeoPackage}.\n *\n * @class\n * @param  {string} tableName table name\n * @param  {module:user/userColumn~UserColumn[]} columns user columns\n * @param  {string[]} [requiredColumns] required columns\n */\nexport class UserTable<TColumn extends UserColumn> {\n  /**\n   * Columns\n   */\n  columns: UserColumns<TColumn>;\n\n  /**\n   * Constraints\n   */\n  constraints: Constraints = new Constraints();\n\n  /**\n   * Foreign key to Contents\n   */\n  contents: Contents;\n\n  /**\n   *\n   * @param columns\n   */\n  constructor(columns: UserColumns<TColumn>) {\n    this.columns = columns;\n    this.constraints = new Constraints();\n  }\n\n  copy(): UserTable<TColumn> {\n    const userTableCopy = new UserTable<TColumn>(this.columns.copy());\n    userTableCopy.constraints.addConstraints(this.constraints);\n    if (this.contents !== null && this.contents !== undefined) {\n      userTableCopy.contents = this.contents.copy();\n    }\n    return userTableCopy;\n  }\n\n  getTableName(): string {\n    return this.columns.getTableName();\n  }\n\n  get tableType(): string {\n    return 'userTable';\n  }\n\n  /**\n   * Get the user columns\n   * @return user columns\n   */\n  getUserColumns(): UserColumns<TColumn> {\n    return this.columns;\n  }\n\n  /**\n   * Get the column index of the column name\n   * @param  {string} columnName column name\n   * @return {Number} the column index\n   * @throws Will throw an error if the column is not found in the table\n   */\n  getColumnIndex(columnName: string): number {\n    return this.columns.getColumnIndexForColumnName(columnName);\n  }\n  /**\n   * Check if the table has the column\n   * @param  {string} columnName name of the column\n   * @return {Boolean}            true if the column exists in the table\n   */\n  hasColumn(columnName: string): boolean {\n    try {\n      this.getColumnIndex(columnName);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n  /**\n   * Get the column name from the index\n   * @param  {Number} index index\n   * @return {string} the column name\n   */\n  getColumnNameWithIndex(index: number): string {\n    return this.columns.getColumnName(index);\n  }\n  /**\n   * Get the column from the index\n   * @param  {Number} index index\n   * @return {module:user/userColumn~UserColumn} column at the index\n   */\n  getColumnWithIndex(index: number): UserColumn {\n    return this.columns.getColumnForIndex(index);\n  }\n  /**\n   * Get column with the column name\n   * @param  {string} columnName column name\n   * @return {module:user/userColumn~UserColumn}            column at the index\n   */\n  getColumnWithColumnName(columnName: string): UserColumn {\n    return this.getColumnWithIndex(this.getColumnIndex(columnName));\n  }\n  /**\n   * Get the column count\n   * @return {Number} the count of the columns\n   */\n  getColumnCount(): number {\n    return this.columns.columnCount();\n  }\n  /**\n   * Get the primary key column\n   * @return {module:user/userColumn~UserColumn} the primary key column\n   */\n  getPkColumn(): UserColumn {\n    return this.columns.getPkColumn();\n  }\n\n  /**\n   * Get the primary key column name\n   * @return primary key column name\n   */\n  getPkColumnName(): string {\n    return this.columns.getPkColumnName();\n  }\n\n  /**\n   * Get the column index of the id column\n   * @return {Number}\n   */\n  getIdColumnIndex(): number {\n    return this.columns.getPkColumnIndex();\n  }\n  /**\n   * Get the primary key id column\n   * @return {module:user/userColumn~UserColumn}\n   */\n  getIdColumn(): UserColumn {\n    return this.getPkColumn();\n  }\n\n  /**\n   * Add constraint\n   * @param constraint constraint\n   */\n  addConstraint(constraint: Constraint) {\n    this.constraints.add(constraint);\n  }\n\n  /**\n   * Add constraints\n   * @param constraints constraints\n   */\n  addConstraints(constraints: Constraints) {\n    this.constraints.addConstraints(constraints);\n  }\n\n  /**\n   * Check if has constraints\n   * @return true if has constraints\n   */\n  hasConstraints(): boolean {\n    return this.constraints.has();\n  }\n\n  /**\n   * Get the constraints\n   * @return constraints\n   */\n  getConstraints(): Constraints {\n    return this.constraints;\n  }\n\n  /**\n   * Get the constraints of the provided type\n   * @param type  constraint type\n   * @return constraints\n   */\n  getConstraintsByType(type: ConstraintType): Constraint[] {\n    return this.constraints.getConstraintsForType(type);\n  }\n\n  /**\n   * Clear the constraints\n   * @return cleared constraints\n   */\n  clearConstraints(): Constraint[] {\n    return this.constraints.clear();\n  }\n\n  /**\n   * Get the columns with the provided data type\n   * @param type data type\n   * @return columns\n   */\n  columnsOfType(type: GeoPackageDataType): UserColumn[] {\n    return this.columns.columnsOfType(type);\n  }\n\n  /**\n   * Get the contents\n   * @return contents\n   */\n  getContents(): Contents {\n    return this.contents;\n  }\n\n  /**\n   * Set the contents\n   * @param contents contents\n   */\n  setContents(contents: Contents) {\n    this.contents = contents;\n    if (contents !== null && contents !== undefined) {\n      this.validateContents(contents);\n    }\n  }\n\n  /**\n   * Validate that the set contents are valid\n   * @param contents contents\n   */\n  validateContents(contents: Contents) {\n\n  }\n\n  /**\n   * Add a new column\n   * @param column new column\n   */\n  addColumn(column: TColumn) {\n    this.columns.addColumn(column);\n  }\n\n  /**\n   * Rename a column\n   * @param column column\n   * @param newColumnName new column name\n   */\n  renameColumn(column: TColumn, newColumnName: string) {\n    this.columns.renameColumn(column, newColumnName);\n  }\n\n  /**\n   * Rename a column\n   * @param columnName column name\n   * @param newColumnName new column name\n   */\n  renameColumnWithName(columnName: string, newColumnName: string) {\n    this.columns.renameColumnWithName(columnName, newColumnName);\n  }\n\n  /**\n   * Rename a column\n   * @param index column index\n   * @param newColumnName new column name\n   */\n  renameColumnAtIndex(index: number, newColumnName: string) {\n    this.columns.renameColumnWithIndex(index, newColumnName);\n  }\n\n  /**\n   * Drop a column\n   * @param column column to drop\n   */\n  dropColumn(column: TColumn) {\n    this.columns.dropColumn(column);\n  }\n\n  /**\n   * Drop a column\n   * @param columnName column name\n   */\n  dropColumnWithName(columnName: string) {\n    this.columns.dropColumnWithName(columnName);\n  }\n\n  /**\n   * Drop a column\n   * @param index column index\n   */\n  dropColumnWithIndex(index: number) {\n    this.columns.dropColumnWithIndex(index);\n  }\n\n  /**\n   * Alter a column\n   * @param column altered column\n   */\n  alterColumn(column: TColumn) {\n    this.columns.alterColumn(column);\n  }\n\n}\n","\nexport class UserTableDefaults {\n  /**\n   * Default id autoincrement setting\n   */\n  static DEFAULT_AUTOINCREMENT: boolean = true;\n\n  /**\n   * Default primary key not null setting\n   */\n  static DEFAULT_PK_NOT_NULL: boolean = true;\n}\n","/**\n * userTableReader module.\n * @module user/userTableReader\n */\nimport { UserTable } from './userTable';\nimport { UserColumn } from './userColumn';\nimport { GeoPackageConnection } from '../db/geoPackageConnection';\nimport { TableInfo } from '../db/table/tableInfo';\nimport { SQLiteMaster } from '../db/master/sqliteMaster';\nimport { TableColumn } from '../db/table/tableColumn';\n\n/**\n * @class\n */\nexport abstract class UserTableReader<TColumn extends UserColumn, TTable extends UserTable<TColumn>> {\n  /**\n   * @param table_name name of the table\n   */\n  protected constructor(public table_name: string) {}\n\n  /**\n   * Read the table\n   * @param db connection\n   * @return table\n   */\n  readTable(db: GeoPackageConnection): TTable {\n    const columnList: TColumn[] = [];\n\n    let tableInfo = TableInfo.info(db, this.table_name);\n    if (tableInfo === null || tableInfo === undefined) {\n      throw new Error(\"Table does not exist: \" + this.table_name);\n    }\n\n    let constraints = SQLiteMaster.queryForConstraints(db, this.table_name);\n\n    tableInfo.getColumns().forEach(tableColumn => {\n      if (tableColumn.getDataType() === null || tableColumn.getDataType() === undefined) {\n        throw new Error('Unsupported column data type ' + tableColumn.getType());\n      }\n      let column = this.createColumn(tableColumn);\n\n      let columnConstraints = constraints.getColumnConstraints(column.getName());\n      if (columnConstraints !== null && columnConstraints !== undefined && columnConstraints.hasConstraints()) {\n        column.clearConstraints();\n        column.addConstraints(columnConstraints.constraints);\n      }\n\n      columnList.push(column);\n    });\n\n    let table: TTable = this.createTable(this.table_name, columnList);\n    table.addConstraints(constraints.getTableConstraints());\n    return table;\n  }\n\n  /**\n   * Creates a user column\n   */\n  createColumn(tableColumn: TableColumn): TColumn {\n    return new UserColumn(tableColumn.index, tableColumn.name, tableColumn.dataType, tableColumn.max, tableColumn.notNull, tableColumn.defaultValue, tableColumn.primaryKey, tableColumn.autoincrement) as TColumn;\n  }\n\n  /**\n   * Creates a user column\n   */\n  abstract createTable(tableName: string, columnList: TColumn[]): TTable;\n}\n","import path from 'path';\nimport { GeoPackage } from '../geoPackage';\nimport { GeoPackageConstants } from '../geoPackageConstants';\n\nexport class GeoPackageValidationError {\n  constructor(public error: string, public fatal?: boolean) {}\n}\n\nexport class GeoPackageValidate {\n  /**\n   * Check the file extension to see if it is a GeoPackage\n   * @param  {string}   filePath Absolute path to the GeoPackage to create\n   * @return {boolean} true if GeoPackage extension\n   */\n  static hasGeoPackageExtension(filePath: string): boolean {\n    const extension = path.extname(filePath);\n    return (\n      extension &&\n      extension !== '' &&\n      (extension.toLowerCase() === '.' + GeoPackageConstants.GEOPACKAGE_EXTENSION.toLowerCase() ||\n        extension.toLowerCase() === '.' + GeoPackageConstants.GEOPACKAGE_EXTENDED_EXTENSION.toLowerCase())\n    );\n  }\n\n  /**\n   * Validate the extension file as a GeoPackage\n   * @param  {string}   filePath Absolute path to the GeoPackage to create\n   * @return {GeoPackageValidationError}    error if the extension is not valid\n   */\n  static validateGeoPackageExtension(filePath: string): GeoPackageValidationError {\n    if (!GeoPackageValidate.hasGeoPackageExtension(filePath)) {\n      return new GeoPackageValidationError(\n        \"GeoPackage database file '\" +\n          filePath +\n          \"' does not have a valid extension of '\" +\n          GeoPackageConstants.GEOPACKAGE_EXTENSION +\n          \"' or '\" +\n          GeoPackageConstants.GEOPACKAGE_EXTENDED_EXTENSION +\n          \"'\",\n        true,\n      );\n    }\n  }\n\n  static validateMinimumTables(geoPackage: GeoPackage): GeoPackageValidationError[] {\n    const errors: GeoPackageValidationError[] = [];\n    const srsExists = geoPackage.spatialReferenceSystemDao.isTableExists();\n    const contentsExists = geoPackage.contentsDao.isTableExists();\n    if (!srsExists) {\n      errors.push(new GeoPackageValidationError('gpkg_spatial_ref_sys table does not exist', true));\n    }\n    if (!contentsExists) {\n      errors.push(new GeoPackageValidationError('gpkg_contents table does not exist', true));\n    }\n    return errors;\n  }\n\n  /**\n   * Check the GeoPackage for the minimum required tables\n   * @param  {Object}   geoPackage GeoPackage to check\n   */\n  static hasMinimumTables(geoPackage: GeoPackage): boolean {\n    return this.validateMinimumTables(geoPackage).length == 0;\n  }\n}\n","/**\n * WKB module.\n * @module wkb\n */\n\ninterface WKTMap {\n  [key: string]: number;\n}\n\nexport class WKB {\n  public static readonly typeMap = {\n    wkt: {\n      Point: 'POINT',\n      LineString: 'LINESTRING',\n      Polygon: 'POLYGON',\n      MultiPoint: 'MULTIPOINT',\n      MultiLineString: 'MULTILINESTRING',\n      MultiPolygon: 'MULTIPOLYGON',\n      GeometryCollection: 'GEOMETRYCOLLECTION',\n    },\n    wkb: {\n      Point: 1,\n      LineString: 2,\n      Polygon: 3,\n      MultiPoint: 4,\n      MultiLineString: 5,\n      MultiPolygon: 6,\n      GeometryCollection: 7,\n    },\n  };\n\n  public static readonly wktToEnum: WKTMap = {\n    [WKB.typeMap.wkt.Point]: WKB.typeMap.wkb.Point,\n    [WKB.typeMap.wkt.LineString]: WKB.typeMap.wkb.LineString,\n    [WKB.typeMap.wkt.Polygon]: WKB.typeMap.wkb.Polygon,\n    [WKB.typeMap.wkt.MultiPoint]: WKB.typeMap.wkb.MultiPoint,\n    [WKB.typeMap.wkt.MultiLineString]: WKB.typeMap.wkb.MultiLineString,\n    [WKB.typeMap.wkt.MultiPolygon]: WKB.typeMap.wkb.MultiPolygon,\n    [WKB.typeMap.wkt.GeometryCollection]: WKB.typeMap.wkb.GeometryCollection,\n  };\n\n  /**\n   * number from name\n   * @param  {string} name name\n   * @return {Number}      number corresponding to the wkb name\n   */\n  static fromName(name: string): number {\n    name = name.toUpperCase();\n    if (name === 'GEOMETRY') {\n      return WKB.typeMap.wkb.GeometryCollection;\n    }\n    return WKB.wktToEnum[name];\n  }\n}\n","/*! https://mths.be/punycode v1.3.2 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.3.2',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","var bundleFn = arguments[3];\nvar sources = arguments[4];\nvar cache = arguments[5];\n\nvar stringify = JSON.stringify;\n\nmodule.exports = function (fn, options) {\n    var wkey;\n    var cacheKeys = Object.keys(cache);\n\n    for (var i = 0, l = cacheKeys.length; i < l; i++) {\n        var key = cacheKeys[i];\n        var exp = cache[key].exports;\n        // Using babel as a transpiler to use esmodule, the export will always\n        // be an object with the default export as a property of it. To ensure\n        // the existing api and babel esmodule exports are both supported we\n        // check for both\n        if (exp === fn || exp && exp.default === fn) {\n            wkey = key;\n            break;\n        }\n    }\n\n    if (!wkey) {\n        wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n        var wcache = {};\n        for (var i = 0, l = cacheKeys.length; i < l; i++) {\n            var key = cacheKeys[i];\n            wcache[key] = key;\n        }\n        sources[wkey] = [\n            'function(require,module,exports){' + fn + '(self); }',\n            wcache\n        ];\n    }\n    var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n\n    var scache = {}; scache[wkey] = wkey;\n    sources[skey] = [\n        'function(require,module,exports){' +\n            // try to call default if defined to also support babel esmodule exports\n            'var f = require(' + stringify(wkey) + ');' +\n            '(f.default ? f.default : f)(self);' +\n        '}',\n        scache\n    ];\n\n    var workerSources = {};\n    resolveSources(skey);\n\n    function resolveSources(key) {\n        workerSources[key] = true;\n\n        for (var depPath in sources[key][1]) {\n            var depKey = sources[key][1][depPath];\n            if (!workerSources[depKey]) {\n                resolveSources(depKey);\n            }\n        }\n    }\n\n    var src = '(' + bundleFn + ')({'\n        + Object.keys(workerSources).map(function (key) {\n            return stringify(key) + ':['\n                + sources[key][0]\n                + ',' + stringify(sources[key][1]) + ']'\n            ;\n        }).join(',')\n        + '},{},[' + stringify(skey) + '])'\n    ;\n\n    var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n    var blob = new Blob([src], { type: 'text/javascript' });\n    if (options && options.bare) { return blob; }\n    var workerUrl = URL.createObjectURL(blob);\n    var worker = new Worker(workerUrl);\n    worker.objectURL = workerUrl;\n    return worker;\n};\n","module.exports = BinaryReader;\r\n\r\nfunction BinaryReader(buffer, isBigEndian) {\r\n    this.buffer = buffer;\r\n    this.position = 0;\r\n    this.isBigEndian = isBigEndian || false;\r\n}\r\n\r\nfunction _read(readLE, readBE, size) {\r\n    return function () {\r\n        var value;\r\n\r\n        if (this.isBigEndian)\r\n            value = readBE.call(this.buffer, this.position);\r\n        else\r\n            value = readLE.call(this.buffer, this.position);\r\n\r\n        this.position += size;\r\n\r\n        return value;\r\n    };\r\n}\r\n\r\nBinaryReader.prototype.readUInt8 = _read(Buffer.prototype.readUInt8, Buffer.prototype.readUInt8, 1);\r\nBinaryReader.prototype.readUInt16 = _read(Buffer.prototype.readUInt16LE, Buffer.prototype.readUInt16BE, 2);\r\nBinaryReader.prototype.readUInt32 = _read(Buffer.prototype.readUInt32LE, Buffer.prototype.readUInt32BE, 4);\r\nBinaryReader.prototype.readInt8 = _read(Buffer.prototype.readInt8, Buffer.prototype.readInt8, 1);\r\nBinaryReader.prototype.readInt16 = _read(Buffer.prototype.readInt16LE, Buffer.prototype.readInt16BE, 2);\r\nBinaryReader.prototype.readInt32 = _read(Buffer.prototype.readInt32LE, Buffer.prototype.readInt32BE, 4);\r\nBinaryReader.prototype.readFloat = _read(Buffer.prototype.readFloatLE, Buffer.prototype.readFloatBE, 4);\r\nBinaryReader.prototype.readDouble = _read(Buffer.prototype.readDoubleLE, Buffer.prototype.readDoubleBE, 8);\r\n\r\nBinaryReader.prototype.readVarInt = function () {\r\n    var nextByte,\r\n        result = 0,\r\n        bytesRead = 0;\r\n\r\n    do {\r\n        nextByte = this.buffer[this.position + bytesRead];\r\n        result += (nextByte & 0x7F) << (7 * bytesRead);\r\n        bytesRead++;\r\n    } while (nextByte >= 0x80);\r\n\r\n    this.position += bytesRead;\r\n\r\n    return result;\r\n};\r\n","module.exports = BinaryWriter;\r\n\r\nfunction BinaryWriter(size, allowResize) {\r\n    this.buffer = new Buffer(size);\r\n    this.position = 0;\r\n    this.allowResize = allowResize;\r\n}\r\n\r\nfunction _write(write, size) {\r\n    return function (value, noAssert) {\r\n        this.ensureSize(size);\r\n\r\n        write.call(this.buffer, value, this.position, noAssert);\r\n        this.position += size;\r\n    };\r\n}\r\n\r\nBinaryWriter.prototype.writeUInt8 = _write(Buffer.prototype.writeUInt8, 1);\r\nBinaryWriter.prototype.writeUInt16LE = _write(Buffer.prototype.writeUInt16LE, 2);\r\nBinaryWriter.prototype.writeUInt16BE = _write(Buffer.prototype.writeUInt16BE, 2);\r\nBinaryWriter.prototype.writeUInt32LE = _write(Buffer.prototype.writeUInt32LE, 4);\r\nBinaryWriter.prototype.writeUInt32BE = _write(Buffer.prototype.writeUInt32BE, 4);\r\nBinaryWriter.prototype.writeInt8 = _write(Buffer.prototype.writeInt8, 1);\r\nBinaryWriter.prototype.writeInt16LE = _write(Buffer.prototype.writeInt16LE, 2);\r\nBinaryWriter.prototype.writeInt16BE = _write(Buffer.prototype.writeInt16BE, 2);\r\nBinaryWriter.prototype.writeInt32LE = _write(Buffer.prototype.writeInt32LE, 4);\r\nBinaryWriter.prototype.writeInt32BE = _write(Buffer.prototype.writeInt32BE, 4);\r\nBinaryWriter.prototype.writeFloatLE = _write(Buffer.prototype.writeFloatLE, 4);\r\nBinaryWriter.prototype.writeFloatBE = _write(Buffer.prototype.writeFloatBE, 4);\r\nBinaryWriter.prototype.writeDoubleLE = _write(Buffer.prototype.writeDoubleLE, 8);\r\nBinaryWriter.prototype.writeDoubleBE = _write(Buffer.prototype.writeDoubleBE, 8);\r\n\r\nBinaryWriter.prototype.writeBuffer = function (buffer) {\r\n    this.ensureSize(buffer.length);\r\n\r\n    buffer.copy(this.buffer, this.position, 0, buffer.length);\r\n    this.position += buffer.length;\r\n};\r\n\r\nBinaryWriter.prototype.writeVarInt = function (value) {\r\n    var length = 1;\r\n\r\n    while ((value & 0xFFFFFF80) !== 0) {\r\n        this.writeUInt8((value & 0x7F) | 0x80);\r\n        value >>>= 7;\r\n        length++;\r\n    }\r\n\r\n    this.writeUInt8(value & 0x7F);\r\n\r\n    return length;\r\n};\r\n\r\nBinaryWriter.prototype.ensureSize = function (size) {\r\n    if (this.buffer.length < this.position + size) {\r\n        if (this.allowResize) {\r\n            var tempBuffer = new Buffer(this.position + size);\r\n            this.buffer.copy(tempBuffer, 0, 0, this.buffer.length);\r\n            this.buffer = tempBuffer;\r\n        }\r\n        else {\r\n            throw new RangeError('index out of range');\r\n        }\r\n    }\r\n};\r\n","module.exports = Geometry;\r\n\r\nvar Types = require('./types');\r\nvar Point = require('./point');\r\nvar LineString = require('./linestring');\r\nvar Polygon = require('./polygon');\r\nvar MultiPoint = require('./multipoint');\r\nvar MultiLineString = require('./multilinestring');\r\nvar MultiPolygon = require('./multipolygon');\r\nvar GeometryCollection = require('./geometrycollection');\r\nvar BinaryReader = require('./binaryreader');\r\nvar BinaryWriter = require('./binarywriter');\r\nvar WktParser = require('./wktparser');\r\nvar ZigZag = require('./zigzag.js');\r\n\r\nfunction Geometry() {\r\n    this.srid = undefined;\r\n    this.hasZ = false;\r\n    this.hasM = false;\r\n}\r\n\r\nGeometry.parse = function (value, options) {\r\n    var valueType = typeof value;\r\n\r\n    if (valueType === 'string' || value instanceof WktParser)\r\n        return Geometry._parseWkt(value);\r\n    else if (Buffer.isBuffer(value) || value instanceof BinaryReader)\r\n        return Geometry._parseWkb(value, options);\r\n    else\r\n        throw new Error('first argument must be a string or Buffer');\r\n};\r\n\r\nGeometry._parseWkt = function (value) {\r\n    var wktParser,\r\n        srid;\r\n\r\n    if (value instanceof WktParser)\r\n        wktParser = value;\r\n    else\r\n        wktParser = new WktParser(value);\r\n\r\n    var match = wktParser.matchRegex([/^SRID=(\\d+);/]);\r\n    if (match)\r\n        srid = parseInt(match[1], 10);\r\n\r\n    var geometryType = wktParser.matchType();\r\n    var dimension = wktParser.matchDimension();\r\n\r\n    var options = {\r\n        srid: srid,\r\n        hasZ: dimension.hasZ,\r\n        hasM: dimension.hasM\r\n    };\r\n\r\n    switch (geometryType) {\r\n        case Types.wkt.Point:\r\n            return Point._parseWkt(wktParser, options);\r\n        case Types.wkt.LineString:\r\n            return LineString._parseWkt(wktParser, options);\r\n        case Types.wkt.Polygon:\r\n            return Polygon._parseWkt(wktParser, options);\r\n        case Types.wkt.MultiPoint:\r\n            return MultiPoint._parseWkt(wktParser, options);\r\n        case Types.wkt.MultiLineString:\r\n            return MultiLineString._parseWkt(wktParser, options);\r\n        case Types.wkt.MultiPolygon:\r\n            return MultiPolygon._parseWkt(wktParser, options);\r\n        case Types.wkt.GeometryCollection:\r\n            return GeometryCollection._parseWkt(wktParser, options);\r\n    }\r\n};\r\n\r\nGeometry._parseWkb = function (value, parentOptions) {\r\n    var binaryReader,\r\n        wkbType,\r\n        geometryType,\r\n        options = {};\r\n\r\n    if (value instanceof BinaryReader)\r\n        binaryReader = value;\r\n    else\r\n        binaryReader = new BinaryReader(value);\r\n\r\n    binaryReader.isBigEndian = !binaryReader.readInt8();\r\n\r\n    wkbType = binaryReader.readUInt32();\r\n\r\n    options.hasSrid = (wkbType & 0x20000000) === 0x20000000;\r\n    options.isEwkb = (wkbType & 0x20000000) || (wkbType & 0x40000000) || (wkbType & 0x80000000);\r\n\r\n    if (options.hasSrid)\r\n        options.srid = binaryReader.readUInt32();\r\n\r\n    options.hasZ = false;\r\n    options.hasM = false;\r\n\r\n    if (!options.isEwkb && (!parentOptions || !parentOptions.isEwkb)) {\r\n        if (wkbType >= 1000 && wkbType < 2000) {\r\n            options.hasZ = true;\r\n            geometryType = wkbType - 1000;\r\n        }\r\n        else if (wkbType >= 2000 && wkbType < 3000) {\r\n            options.hasM = true;\r\n            geometryType = wkbType - 2000;\r\n        }\r\n        else if (wkbType >= 3000 && wkbType < 4000) {\r\n            options.hasZ = true;\r\n            options.hasM = true;\r\n            geometryType = wkbType - 3000;\r\n        }\r\n        else {\r\n            geometryType = wkbType;\r\n        }\r\n    }\r\n    else {\r\n        if (wkbType & 0x80000000)\r\n            options.hasZ = true;\r\n        if (wkbType & 0x40000000)\r\n            options.hasM = true;\r\n\r\n        geometryType = wkbType & 0xF;\r\n    }\r\n\r\n    switch (geometryType) {\r\n        case Types.wkb.Point:\r\n            return Point._parseWkb(binaryReader, options);\r\n        case Types.wkb.LineString:\r\n            return LineString._parseWkb(binaryReader, options);\r\n        case Types.wkb.Polygon:\r\n            return Polygon._parseWkb(binaryReader, options);\r\n        case Types.wkb.MultiPoint:\r\n            return MultiPoint._parseWkb(binaryReader, options);\r\n        case Types.wkb.MultiLineString:\r\n            return MultiLineString._parseWkb(binaryReader, options);\r\n        case Types.wkb.MultiPolygon:\r\n            return MultiPolygon._parseWkb(binaryReader, options);\r\n        case Types.wkb.GeometryCollection:\r\n            return GeometryCollection._parseWkb(binaryReader, options);\r\n        default:\r\n            throw new Error('GeometryType ' + geometryType + ' not supported');\r\n    }\r\n};\r\n\r\nGeometry.parseTwkb = function (value) {\r\n    var binaryReader,\r\n        options = {};\r\n\r\n    if (value instanceof BinaryReader)\r\n        binaryReader = value;\r\n    else\r\n        binaryReader = new BinaryReader(value);\r\n\r\n    var type = binaryReader.readUInt8();\r\n    var metadataHeader = binaryReader.readUInt8();\r\n\r\n    var geometryType = type & 0x0F;\r\n    options.precision = ZigZag.decode(type >> 4);\r\n    options.precisionFactor = Math.pow(10, options.precision);\r\n\r\n    options.hasBoundingBox = metadataHeader >> 0 & 1;\r\n    options.hasSizeAttribute = metadataHeader >> 1 & 1;\r\n    options.hasIdList = metadataHeader >> 2 & 1;\r\n    options.hasExtendedPrecision = metadataHeader >> 3 & 1;\r\n    options.isEmpty = metadataHeader >> 4 & 1;\r\n\r\n    if (options.hasExtendedPrecision) {\r\n        var extendedPrecision = binaryReader.readUInt8();\r\n        options.hasZ = (extendedPrecision & 0x01) === 0x01;\r\n        options.hasM = (extendedPrecision & 0x02) === 0x02;\r\n\r\n        options.zPrecision = ZigZag.decode((extendedPrecision & 0x1C) >> 2);\r\n        options.zPrecisionFactor = Math.pow(10, options.zPrecision);\r\n\r\n        options.mPrecision = ZigZag.decode((extendedPrecision & 0xE0) >> 5);\r\n        options.mPrecisionFactor = Math.pow(10, options.mPrecision);\r\n    }\r\n    else {\r\n        options.hasZ = false;\r\n        options.hasM = false;\r\n    }\r\n\r\n    if (options.hasSizeAttribute)\r\n        binaryReader.readVarInt();\r\n    if (options.hasBoundingBox) {\r\n        var dimensions = 2;\r\n\r\n        if (options.hasZ)\r\n            dimensions++;\r\n        if (options.hasM)\r\n            dimensions++;\r\n\r\n        for (var i = 0; i < dimensions; i++) {\r\n            binaryReader.readVarInt();\r\n            binaryReader.readVarInt();\r\n        }\r\n    }\r\n\r\n    switch (geometryType) {\r\n        case Types.wkb.Point:\r\n            return Point._parseTwkb(binaryReader, options);\r\n        case Types.wkb.LineString:\r\n            return LineString._parseTwkb(binaryReader, options);\r\n        case Types.wkb.Polygon:\r\n            return Polygon._parseTwkb(binaryReader, options);\r\n        case Types.wkb.MultiPoint:\r\n            return MultiPoint._parseTwkb(binaryReader, options);\r\n        case Types.wkb.MultiLineString:\r\n            return MultiLineString._parseTwkb(binaryReader, options);\r\n        case Types.wkb.MultiPolygon:\r\n            return MultiPolygon._parseTwkb(binaryReader, options);\r\n        case Types.wkb.GeometryCollection:\r\n            return GeometryCollection._parseTwkb(binaryReader, options);\r\n        default:\r\n            throw new Error('GeometryType ' + geometryType + ' not supported');\r\n    }\r\n};\r\n\r\nGeometry.parseGeoJSON = function (value) {\r\n    return Geometry._parseGeoJSON(value);\r\n};\r\n\r\nGeometry._parseGeoJSON = function (value, isSubGeometry) {\r\n    var geometry;\r\n\r\n    switch (value.type) {\r\n        case Types.geoJSON.Point:\r\n            geometry = Point._parseGeoJSON(value); break;\r\n        case Types.geoJSON.LineString:\r\n            geometry = LineString._parseGeoJSON(value); break;\r\n        case Types.geoJSON.Polygon:\r\n            geometry = Polygon._parseGeoJSON(value); break;\r\n        case Types.geoJSON.MultiPoint:\r\n            geometry = MultiPoint._parseGeoJSON(value); break;\r\n        case Types.geoJSON.MultiLineString:\r\n            geometry = MultiLineString._parseGeoJSON(value); break;\r\n        case Types.geoJSON.MultiPolygon:\r\n            geometry = MultiPolygon._parseGeoJSON(value); break;\r\n        case Types.geoJSON.GeometryCollection:\r\n            geometry = GeometryCollection._parseGeoJSON(value); break;\r\n        default:\r\n            throw new Error('GeometryType ' + value.type + ' not supported');\r\n    }\r\n\r\n    if (value.crs && value.crs.type && value.crs.type === 'name' && value.crs.properties && value.crs.properties.name) {\r\n        var crs = value.crs.properties.name;\r\n\r\n        if (crs.indexOf('EPSG:') === 0)\r\n            geometry.srid = parseInt(crs.substring(5));\r\n        else if (crs.indexOf('urn:ogc:def:crs:EPSG::') === 0)\r\n            geometry.srid = parseInt(crs.substring(22));\r\n        else\r\n            throw new Error('Unsupported crs: ' + crs);\r\n    }\r\n    else if (!isSubGeometry) {\r\n        geometry.srid = 4326;\r\n    }\r\n\r\n    return geometry;\r\n};\r\n\r\nGeometry.prototype.toEwkt = function () {\r\n    return 'SRID=' + this.srid + ';' + this.toWkt();\r\n};\r\n\r\nGeometry.prototype.toEwkb = function () {\r\n    var ewkb = new BinaryWriter(this._getWkbSize() + 4);\r\n    var wkb = this.toWkb();\r\n\r\n    ewkb.writeInt8(1);\r\n    ewkb.writeUInt32LE((wkb.slice(1, 5).readUInt32LE(0) | 0x20000000) >>> 0, true);\r\n    ewkb.writeUInt32LE(this.srid);\r\n\r\n    ewkb.writeBuffer(wkb.slice(5));\r\n\r\n    return ewkb.buffer;\r\n};\r\n\r\nGeometry.prototype._getWktType = function (wktType, isEmpty) {\r\n    var wkt = wktType;\r\n\r\n    if (this.hasZ && this.hasM)\r\n        wkt += ' ZM ';\r\n    else if (this.hasZ)\r\n        wkt += ' Z ';\r\n    else if (this.hasM)\r\n        wkt += ' M ';\r\n\r\n    if (isEmpty && !this.hasZ && !this.hasM)\r\n        wkt += ' ';\r\n\r\n    if (isEmpty)\r\n        wkt += 'EMPTY';\r\n\r\n    return wkt;\r\n};\r\n\r\nGeometry.prototype._getWktCoordinate = function (point) {\r\n    var coordinates = point.x + ' ' + point.y;\r\n\r\n    if (this.hasZ)\r\n        coordinates += ' ' + point.z;\r\n    if (this.hasM)\r\n        coordinates += ' ' + point.m;\r\n\r\n    return coordinates;\r\n};\r\n\r\nGeometry.prototype._writeWkbType = function (wkb, geometryType, parentOptions) {\r\n    var dimensionType = 0;\r\n\r\n    if (typeof this.srid === 'undefined' && (!parentOptions || typeof parentOptions.srid === 'undefined')) {\r\n        if (this.hasZ && this.hasM)\r\n            dimensionType += 3000;\r\n        else if (this.hasZ)\r\n            dimensionType += 1000;\r\n        else if (this.hasM)\r\n            dimensionType += 2000;\r\n    }\r\n    else {\r\n        if (this.hasZ)\r\n            dimensionType |= 0x80000000;\r\n        if (this.hasM)\r\n            dimensionType |= 0x40000000;\r\n    }\r\n\r\n    wkb.writeUInt32LE((dimensionType + geometryType) >>> 0, true);\r\n};\r\n\r\nGeometry.getTwkbPrecision = function (xyPrecision, zPrecision, mPrecision) {\r\n    return {\r\n        xy: xyPrecision,\r\n        z: zPrecision,\r\n        m: mPrecision,\r\n        xyFactor: Math.pow(10, xyPrecision),\r\n        zFactor: Math.pow(10, zPrecision),\r\n        mFactor: Math.pow(10, mPrecision)\r\n    };\r\n};\r\n\r\nGeometry.prototype._writeTwkbHeader = function (twkb, geometryType, precision, isEmpty) {\r\n    var type = (ZigZag.encode(precision.xy) << 4) + geometryType;\r\n    var metadataHeader = (this.hasZ || this.hasM) << 3;\r\n    metadataHeader += isEmpty << 4;\r\n\r\n    twkb.writeUInt8(type);\r\n    twkb.writeUInt8(metadataHeader);\r\n\r\n    if (this.hasZ || this.hasM) {\r\n        var extendedPrecision = 0;\r\n        if (this.hasZ)\r\n            extendedPrecision |= 0x1;\r\n        if (this.hasM)\r\n            extendedPrecision |= 0x2;\r\n\r\n        twkb.writeUInt8(extendedPrecision);\r\n    }\r\n};\r\n\r\nGeometry.prototype.toGeoJSON = function (options) {\r\n    var geoJSON = {};\r\n\r\n    if (this.srid) {\r\n        if (options) {\r\n            if (options.shortCrs) {\r\n                geoJSON.crs = {\r\n                    type: 'name',\r\n                    properties: {\r\n                        name: 'EPSG:' + this.srid\r\n                    }\r\n                };\r\n            }\r\n            else if (options.longCrs) {\r\n                geoJSON.crs = {\r\n                    type: 'name',\r\n                    properties: {\r\n                        name: 'urn:ogc:def:crs:EPSG::' + this.srid\r\n                    }\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    return geoJSON;\r\n};\r\n","module.exports = GeometryCollection;\r\n\r\nvar util = require('util');\r\n\r\nvar Types = require('./types');\r\nvar Geometry = require('./geometry');\r\nvar BinaryWriter = require('./binarywriter');\r\n\r\nfunction GeometryCollection(geometries, srid) {\r\n    Geometry.call(this);\r\n\r\n    this.geometries = geometries || [];\r\n\tthis.srid = srid;\r\n\r\n    if (this.geometries.length > 0) {\r\n        this.hasZ = this.geometries[0].hasZ;\r\n        this.hasM = this.geometries[0].hasM;\r\n    }\r\n}\r\n\r\nutil.inherits(GeometryCollection, Geometry);\r\n\r\nGeometryCollection.Z = function (geometries, srid) {\r\n    var geometryCollection = new GeometryCollection(geometries, srid);\r\n    geometryCollection.hasZ = true;\r\n    return geometryCollection;\r\n};\r\n\r\nGeometryCollection.M = function (geometries, srid) {\r\n    var geometryCollection = new GeometryCollection(geometries, srid);\r\n    geometryCollection.hasM = true;\r\n    return geometryCollection;\r\n};\r\n\r\nGeometryCollection.ZM = function (geometries, srid) {\r\n    var geometryCollection = new GeometryCollection(geometries, srid);\r\n    geometryCollection.hasZ = true;\r\n    geometryCollection.hasM = true;\r\n    return geometryCollection;\r\n};\r\n\r\nGeometryCollection._parseWkt = function (value, options) {\r\n    var geometryCollection = new GeometryCollection();\r\n    geometryCollection.srid = options.srid;\r\n    geometryCollection.hasZ = options.hasZ;\r\n    geometryCollection.hasM = options.hasM;\r\n\r\n    if (value.isMatch(['EMPTY']))\r\n        return geometryCollection;\r\n\r\n    value.expectGroupStart();\r\n\r\n    do {\r\n        geometryCollection.geometries.push(Geometry.parse(value));\r\n    } while (value.isMatch([',']));\r\n\r\n    value.expectGroupEnd();\r\n\r\n    return geometryCollection;\r\n};\r\n\r\nGeometryCollection._parseWkb = function (value, options) {\r\n    var geometryCollection = new GeometryCollection();\r\n    geometryCollection.srid = options.srid;\r\n    geometryCollection.hasZ = options.hasZ;\r\n    geometryCollection.hasM = options.hasM;\r\n\r\n    var geometryCount = value.readUInt32();\r\n\r\n    for (var i = 0; i < geometryCount; i++)\r\n        geometryCollection.geometries.push(Geometry.parse(value, options));\r\n\r\n    return geometryCollection;\r\n};\r\n\r\nGeometryCollection._parseTwkb = function (value, options) {\r\n    var geometryCollection = new GeometryCollection();\r\n    geometryCollection.hasZ = options.hasZ;\r\n    geometryCollection.hasM = options.hasM;\r\n\r\n    if (options.isEmpty)\r\n        return geometryCollection;\r\n\r\n    var geometryCount = value.readVarInt();\r\n\r\n    for (var i = 0; i < geometryCount; i++)\r\n        geometryCollection.geometries.push(Geometry.parseTwkb(value));\r\n\r\n    return geometryCollection;\r\n};\r\n\r\nGeometryCollection._parseGeoJSON = function (value) {\r\n    var geometryCollection = new GeometryCollection();\r\n\r\n    for (var i = 0; i < value.geometries.length; i++)\r\n        geometryCollection.geometries.push(Geometry._parseGeoJSON(value.geometries[i], true));\r\n\r\n    if (geometryCollection.geometries.length > 0)\r\n        geometryCollection.hasZ = geometryCollection.geometries[0].hasZ;\r\n\r\n    return geometryCollection;\r\n};\r\n\r\nGeometryCollection.prototype.toWkt = function () {\r\n    if (this.geometries.length === 0)\r\n        return this._getWktType(Types.wkt.GeometryCollection, true);\r\n\r\n    var wkt = this._getWktType(Types.wkt.GeometryCollection, false) + '(';\r\n\r\n    for (var i = 0; i < this.geometries.length; i++)\r\n        wkt += this.geometries[i].toWkt() + ',';\r\n\r\n    wkt = wkt.slice(0, -1);\r\n    wkt += ')';\r\n\r\n    return wkt;\r\n};\r\n\r\nGeometryCollection.prototype.toWkb = function () {\r\n    var wkb = new BinaryWriter(this._getWkbSize());\r\n\r\n    wkb.writeInt8(1);\r\n\r\n    this._writeWkbType(wkb, Types.wkb.GeometryCollection);\r\n    wkb.writeUInt32LE(this.geometries.length);\r\n\r\n    for (var i = 0; i < this.geometries.length; i++)\r\n        wkb.writeBuffer(this.geometries[i].toWkb({ srid: this.srid }));\r\n\r\n    return wkb.buffer;\r\n};\r\n\r\nGeometryCollection.prototype.toTwkb = function () {\r\n    var twkb = new BinaryWriter(0, true);\r\n\r\n    var precision = Geometry.getTwkbPrecision(5, 0, 0);\r\n    var isEmpty = this.geometries.length === 0;\r\n\r\n    this._writeTwkbHeader(twkb, Types.wkb.GeometryCollection, precision, isEmpty);\r\n\r\n    if (this.geometries.length > 0) {\r\n        twkb.writeVarInt(this.geometries.length);\r\n\r\n        for (var i = 0; i < this.geometries.length; i++)\r\n            twkb.writeBuffer(this.geometries[i].toTwkb());\r\n    }\r\n\r\n    return twkb.buffer;\r\n};\r\n\r\nGeometryCollection.prototype._getWkbSize = function () {\r\n    var size = 1 + 4 + 4;\r\n\r\n    for (var i = 0; i < this.geometries.length; i++)\r\n        size += this.geometries[i]._getWkbSize();\r\n\r\n    return size;\r\n};\r\n\r\nGeometryCollection.prototype.toGeoJSON = function (options) {\r\n    var geoJSON = Geometry.prototype.toGeoJSON.call(this, options);\r\n    geoJSON.type = Types.geoJSON.GeometryCollection;\r\n    geoJSON.geometries = [];\r\n\r\n    for (var i = 0; i < this.geometries.length; i++)\r\n        geoJSON.geometries.push(this.geometries[i].toGeoJSON());\r\n\r\n    return geoJSON;\r\n};\r\n","module.exports = LineString;\r\n\r\nvar util = require('util');\r\n\r\nvar Geometry = require('./geometry');\r\nvar Types = require('./types');\r\nvar Point = require('./point');\r\nvar BinaryWriter = require('./binarywriter');\r\n\r\nfunction LineString(points, srid) {\r\n    Geometry.call(this);\r\n\r\n    this.points = points || [];\r\n\tthis.srid = srid;\r\n\r\n    if (this.points.length > 0) {\r\n        this.hasZ = this.points[0].hasZ;\r\n        this.hasM = this.points[0].hasM;\r\n    }\r\n}\r\n\r\nutil.inherits(LineString, Geometry);\r\n\r\nLineString.Z = function (points, srid) {\r\n    var lineString = new LineString(points, srid);\r\n    lineString.hasZ = true;\r\n    return lineString;\r\n};\r\n\r\nLineString.M = function (points, srid) {\r\n    var lineString = new LineString(points, srid);\r\n    lineString.hasM = true;\r\n    return lineString;\r\n};\r\n\r\nLineString.ZM = function (points, srid) {\r\n    var lineString = new LineString(points, srid);\r\n    lineString.hasZ = true;\r\n    lineString.hasM = true;\r\n    return lineString;\r\n};\r\n\r\nLineString._parseWkt = function (value, options) {\r\n    var lineString = new LineString();\r\n    lineString.srid = options.srid;\r\n    lineString.hasZ = options.hasZ;\r\n    lineString.hasM = options.hasM;\r\n\r\n    if (value.isMatch(['EMPTY']))\r\n        return lineString;\r\n\r\n    value.expectGroupStart();\r\n    lineString.points.push.apply(lineString.points, value.matchCoordinates(options));\r\n    value.expectGroupEnd();\r\n\r\n    return lineString;\r\n};\r\n\r\nLineString._parseWkb = function (value, options) {\r\n    var lineString = new LineString();\r\n    lineString.srid = options.srid;\r\n    lineString.hasZ = options.hasZ;\r\n    lineString.hasM = options.hasM;\r\n\r\n    var pointCount = value.readUInt32();\r\n\r\n    for (var i = 0; i < pointCount; i++)\r\n        lineString.points.push(Point._readWkbPoint(value, options));\r\n\r\n    return lineString;\r\n};\r\n\r\nLineString._parseTwkb = function (value, options) {\r\n    var lineString = new LineString();\r\n    lineString.hasZ = options.hasZ;\r\n    lineString.hasM = options.hasM;\r\n\r\n    if (options.isEmpty)\r\n        return lineString;\r\n\r\n    var previousPoint = new Point(0, 0, options.hasZ ? 0 : undefined, options.hasM ? 0 : undefined);\r\n    var pointCount = value.readVarInt();\r\n\r\n    for (var i = 0; i < pointCount; i++)\r\n        lineString.points.push(Point._readTwkbPoint(value, options, previousPoint));\r\n\r\n    return lineString;\r\n};\r\n\r\nLineString._parseGeoJSON = function (value) {\r\n    var lineString = new LineString();\r\n\r\n    if (value.coordinates.length > 0)\r\n        lineString.hasZ = value.coordinates[0].length > 2;\r\n\r\n    for (var i = 0; i < value.coordinates.length; i++)\r\n        lineString.points.push(Point._readGeoJSONPoint(value.coordinates[i]));\r\n\r\n    return lineString;\r\n};\r\n\r\nLineString.prototype.toWkt = function () {\r\n    if (this.points.length === 0)\r\n        return this._getWktType(Types.wkt.LineString, true);\r\n\r\n    return this._getWktType(Types.wkt.LineString, false) + this._toInnerWkt();\r\n};\r\n\r\nLineString.prototype._toInnerWkt = function () {\r\n    var innerWkt = '(';\r\n\r\n    for (var i = 0; i < this.points.length; i++)\r\n        innerWkt += this._getWktCoordinate(this.points[i]) + ',';\r\n\r\n    innerWkt = innerWkt.slice(0, -1);\r\n    innerWkt += ')';\r\n\r\n    return innerWkt;\r\n};\r\n\r\nLineString.prototype.toWkb = function (parentOptions) {\r\n    var wkb = new BinaryWriter(this._getWkbSize());\r\n\r\n    wkb.writeInt8(1);\r\n\r\n    this._writeWkbType(wkb, Types.wkb.LineString, parentOptions);\r\n    wkb.writeUInt32LE(this.points.length);\r\n\r\n    for (var i = 0; i < this.points.length; i++)\r\n        this.points[i]._writeWkbPoint(wkb);\r\n\r\n    return wkb.buffer;\r\n};\r\n\r\nLineString.prototype.toTwkb = function () {\r\n    var twkb = new BinaryWriter(0, true);\r\n\r\n    var precision = Geometry.getTwkbPrecision(5, 0, 0);\r\n    var isEmpty = this.points.length === 0;\r\n\r\n    this._writeTwkbHeader(twkb, Types.wkb.LineString, precision, isEmpty);\r\n\r\n    if (this.points.length > 0) {\r\n        twkb.writeVarInt(this.points.length);\r\n\r\n        var previousPoint = new Point(0, 0, 0, 0);\r\n        for (var i = 0; i < this.points.length; i++)\r\n            this.points[i]._writeTwkbPoint(twkb, precision, previousPoint);\r\n    }\r\n\r\n    return twkb.buffer;\r\n};\r\n\r\nLineString.prototype._getWkbSize = function () {\r\n    var coordinateSize = 16;\r\n\r\n    if (this.hasZ)\r\n        coordinateSize += 8;\r\n    if (this.hasM)\r\n        coordinateSize += 8;\r\n\r\n    return 1 + 4 + 4 + (this.points.length * coordinateSize);\r\n};\r\n\r\nLineString.prototype.toGeoJSON = function (options) {\r\n    var geoJSON = Geometry.prototype.toGeoJSON.call(this, options);\r\n    geoJSON.type = Types.geoJSON.LineString;\r\n    geoJSON.coordinates = [];\r\n\r\n    for (var i = 0; i < this.points.length; i++) {\r\n        if (this.hasZ)\r\n            geoJSON.coordinates.push([this.points[i].x, this.points[i].y, this.points[i].z]);\r\n        else\r\n            geoJSON.coordinates.push([this.points[i].x, this.points[i].y]);\r\n    }\r\n\r\n    return geoJSON;\r\n};\r\n","module.exports = MultiLineString;\r\n\r\nvar util = require('util');\r\n\r\nvar Types = require('./types');\r\nvar Geometry = require('./geometry');\r\nvar Point = require('./point');\r\nvar LineString = require('./linestring');\r\nvar BinaryWriter = require('./binarywriter');\r\n\r\nfunction MultiLineString(lineStrings, srid) {\r\n    Geometry.call(this);\r\n\r\n    this.lineStrings = lineStrings || [];\r\n\tthis.srid = srid;\r\n\r\n    if (this.lineStrings.length > 0) {\r\n        this.hasZ = this.lineStrings[0].hasZ;\r\n        this.hasM = this.lineStrings[0].hasM;\r\n    }\r\n}\r\n\r\nutil.inherits(MultiLineString, Geometry);\r\n\r\nMultiLineString.Z = function (lineStrings, srid) {\r\n    var multiLineString = new MultiLineString(lineStrings, srid);\r\n    multiLineString.hasZ = true;\r\n    return multiLineString;\r\n};\r\n\r\nMultiLineString.M = function (lineStrings, srid) {\r\n    var multiLineString = new MultiLineString(lineStrings, srid);\r\n    multiLineString.hasM = true;\r\n    return multiLineString;\r\n};\r\n\r\nMultiLineString.ZM = function (lineStrings, srid) {\r\n    var multiLineString = new MultiLineString(lineStrings, srid);\r\n    multiLineString.hasZ = true;\r\n    multiLineString.hasM = true;\r\n    return multiLineString;\r\n};\r\n\r\nMultiLineString._parseWkt = function (value, options) {\r\n    var multiLineString = new MultiLineString();\r\n    multiLineString.srid = options.srid;\r\n    multiLineString.hasZ = options.hasZ;\r\n    multiLineString.hasM = options.hasM;\r\n\r\n    if (value.isMatch(['EMPTY']))\r\n        return multiLineString;\r\n\r\n    value.expectGroupStart();\r\n\r\n    do {\r\n        value.expectGroupStart();\r\n        multiLineString.lineStrings.push(new LineString(value.matchCoordinates(options)));\r\n        value.expectGroupEnd();\r\n    } while (value.isMatch([',']));\r\n\r\n    value.expectGroupEnd();\r\n\r\n    return multiLineString;\r\n};\r\n\r\nMultiLineString._parseWkb = function (value, options) {\r\n    var multiLineString = new MultiLineString();\r\n    multiLineString.srid = options.srid;\r\n    multiLineString.hasZ = options.hasZ;\r\n    multiLineString.hasM = options.hasM;\r\n\r\n    var lineStringCount = value.readUInt32();\r\n\r\n    for (var i = 0; i < lineStringCount; i++)\r\n        multiLineString.lineStrings.push(Geometry.parse(value, options));\r\n\r\n    return multiLineString;\r\n};\r\n\r\nMultiLineString._parseTwkb = function (value, options) {\r\n    var multiLineString = new MultiLineString();\r\n    multiLineString.hasZ = options.hasZ;\r\n    multiLineString.hasM = options.hasM;\r\n\r\n    if (options.isEmpty)\r\n        return multiLineString;\r\n\r\n    var previousPoint = new Point(0, 0, options.hasZ ? 0 : undefined, options.hasM ? 0 : undefined);\r\n    var lineStringCount = value.readVarInt();\r\n\r\n    for (var i = 0; i < lineStringCount; i++) {\r\n        var lineString = new LineString();\r\n        lineString.hasZ = options.hasZ;\r\n        lineString.hasM = options.hasM;\r\n\r\n        var pointCount = value.readVarInt();\r\n\r\n        for (var j = 0; j < pointCount; j++)\r\n            lineString.points.push(Point._readTwkbPoint(value, options, previousPoint));\r\n\r\n        multiLineString.lineStrings.push(lineString);\r\n    }\r\n\r\n    return multiLineString;\r\n};\r\n\r\nMultiLineString._parseGeoJSON = function (value) {\r\n    var multiLineString = new MultiLineString();\r\n\r\n    if (value.coordinates.length > 0 && value.coordinates[0].length > 0)\r\n        multiLineString.hasZ = value.coordinates[0][0].length > 2;\r\n\r\n    for (var i = 0; i < value.coordinates.length; i++)\r\n        multiLineString.lineStrings.push(LineString._parseGeoJSON({ coordinates: value.coordinates[i] }));\r\n\r\n    return multiLineString;\r\n};\r\n\r\nMultiLineString.prototype.toWkt = function () {\r\n    if (this.lineStrings.length === 0)\r\n        return this._getWktType(Types.wkt.MultiLineString, true);\r\n\r\n    var wkt = this._getWktType(Types.wkt.MultiLineString, false) + '(';\r\n\r\n    for (var i = 0; i < this.lineStrings.length; i++)\r\n        wkt += this.lineStrings[i]._toInnerWkt() + ',';\r\n\r\n    wkt = wkt.slice(0, -1);\r\n    wkt += ')';\r\n\r\n    return wkt;\r\n};\r\n\r\nMultiLineString.prototype.toWkb = function () {\r\n    var wkb = new BinaryWriter(this._getWkbSize());\r\n\r\n    wkb.writeInt8(1);\r\n\r\n    this._writeWkbType(wkb, Types.wkb.MultiLineString);\r\n    wkb.writeUInt32LE(this.lineStrings.length);\r\n\r\n    for (var i = 0; i < this.lineStrings.length; i++)\r\n        wkb.writeBuffer(this.lineStrings[i].toWkb({ srid: this.srid }));\r\n\r\n    return wkb.buffer;\r\n};\r\n\r\nMultiLineString.prototype.toTwkb = function () {\r\n    var twkb = new BinaryWriter(0, true);\r\n\r\n    var precision = Geometry.getTwkbPrecision(5, 0, 0);\r\n    var isEmpty = this.lineStrings.length === 0;\r\n\r\n    this._writeTwkbHeader(twkb, Types.wkb.MultiLineString, precision, isEmpty);\r\n\r\n    if (this.lineStrings.length > 0) {\r\n        twkb.writeVarInt(this.lineStrings.length);\r\n\r\n        var previousPoint = new Point(0, 0, 0, 0);\r\n        for (var i = 0; i < this.lineStrings.length; i++) {\r\n            twkb.writeVarInt(this.lineStrings[i].points.length);\r\n\r\n            for (var j = 0; j < this.lineStrings[i].points.length; j++)\r\n                this.lineStrings[i].points[j]._writeTwkbPoint(twkb, precision, previousPoint);\r\n        }\r\n    }\r\n\r\n    return twkb.buffer;\r\n};\r\n\r\nMultiLineString.prototype._getWkbSize = function () {\r\n    var size = 1 + 4 + 4;\r\n\r\n    for (var i = 0; i < this.lineStrings.length; i++)\r\n        size += this.lineStrings[i]._getWkbSize();\r\n\r\n    return size;\r\n};\r\n\r\nMultiLineString.prototype.toGeoJSON = function (options) {\r\n    var geoJSON = Geometry.prototype.toGeoJSON.call(this, options);\r\n    geoJSON.type = Types.geoJSON.MultiLineString;\r\n    geoJSON.coordinates = [];\r\n\r\n    for (var i = 0; i < this.lineStrings.length; i++)\r\n        geoJSON.coordinates.push(this.lineStrings[i].toGeoJSON().coordinates);\r\n\r\n    return geoJSON;\r\n};\r\n","module.exports = MultiPoint;\r\n\r\nvar util = require('util');\r\n\r\nvar Types = require('./types');\r\nvar Geometry = require('./geometry');\r\nvar Point = require('./point');\r\nvar BinaryWriter = require('./binarywriter');\r\n\r\nfunction MultiPoint(points, srid) {\r\n    Geometry.call(this);\r\n\r\n    this.points = points || [];\r\n\tthis.srid = srid;\r\n\t\r\n    if (this.points.length > 0) {\r\n        this.hasZ = this.points[0].hasZ;\r\n        this.hasM = this.points[0].hasM;\r\n    }\r\n}\r\n\r\nutil.inherits(MultiPoint, Geometry);\r\n\r\nMultiPoint.Z = function (points, srid) {\r\n    var multiPoint = new MultiPoint(points, srid);\r\n    multiPoint.hasZ = true;\r\n    return multiPoint;\r\n};\r\n\r\nMultiPoint.M = function (points, srid) {\r\n    var multiPoint = new MultiPoint(points, srid);\r\n    multiPoint.hasM = true;\r\n    return multiPoint;\r\n};\r\n\r\nMultiPoint.ZM = function (points, srid) {\r\n    var multiPoint = new MultiPoint(points, srid);\r\n    multiPoint.hasZ = true;\r\n    multiPoint.hasM = true;\r\n    return multiPoint;\r\n};\r\n\r\nMultiPoint._parseWkt = function (value, options) {\r\n    var multiPoint = new MultiPoint();\r\n    multiPoint.srid = options.srid;\r\n    multiPoint.hasZ = options.hasZ;\r\n    multiPoint.hasM = options.hasM;\r\n\r\n    if (value.isMatch(['EMPTY']))\r\n        return multiPoint;\r\n\r\n    value.expectGroupStart();\r\n    multiPoint.points.push.apply(multiPoint.points, value.matchCoordinates(options));\r\n    value.expectGroupEnd();\r\n\r\n    return multiPoint;\r\n};\r\n\r\nMultiPoint._parseWkb = function (value, options) {\r\n    var multiPoint = new MultiPoint();\r\n    multiPoint.srid = options.srid;\r\n    multiPoint.hasZ = options.hasZ;\r\n    multiPoint.hasM = options.hasM;\r\n\r\n    var pointCount = value.readUInt32();\r\n\r\n    for (var i = 0; i < pointCount; i++)\r\n        multiPoint.points.push(Geometry.parse(value, options));\r\n\r\n    return multiPoint;\r\n};\r\n\r\nMultiPoint._parseTwkb = function (value, options) {\r\n    var multiPoint = new MultiPoint();\r\n    multiPoint.hasZ = options.hasZ;\r\n    multiPoint.hasM = options.hasM;\r\n\r\n    if (options.isEmpty)\r\n        return multiPoint;\r\n\r\n    var previousPoint = new Point(0, 0, options.hasZ ? 0 : undefined, options.hasM ? 0 : undefined);\r\n    var pointCount = value.readVarInt();\r\n\r\n    for (var i = 0; i < pointCount; i++)\r\n        multiPoint.points.push(Point._readTwkbPoint(value, options, previousPoint));\r\n\r\n    return multiPoint;\r\n};\r\n\r\nMultiPoint._parseGeoJSON = function (value) {\r\n    var multiPoint = new MultiPoint();\r\n\r\n    if (value.coordinates.length > 0)\r\n        multiPoint.hasZ = value.coordinates[0].length > 2;\r\n\r\n    for (var i = 0; i < value.coordinates.length; i++)\r\n        multiPoint.points.push(Point._parseGeoJSON({ coordinates: value.coordinates[i] }));\r\n\r\n    return multiPoint;\r\n};\r\n\r\nMultiPoint.prototype.toWkt = function () {\r\n    if (this.points.length === 0)\r\n        return this._getWktType(Types.wkt.MultiPoint, true);\r\n\r\n    var wkt = this._getWktType(Types.wkt.MultiPoint, false) + '(';\r\n\r\n    for (var i = 0; i < this.points.length; i++)\r\n        wkt += this._getWktCoordinate(this.points[i]) + ',';\r\n\r\n    wkt = wkt.slice(0, -1);\r\n    wkt += ')';\r\n\r\n    return wkt;\r\n};\r\n\r\nMultiPoint.prototype.toWkb = function () {\r\n    var wkb = new BinaryWriter(this._getWkbSize());\r\n\r\n    wkb.writeInt8(1);\r\n\r\n    this._writeWkbType(wkb, Types.wkb.MultiPoint);\r\n    wkb.writeUInt32LE(this.points.length);\r\n\r\n    for (var i = 0; i < this.points.length; i++)\r\n        wkb.writeBuffer(this.points[i].toWkb({ srid: this.srid }));\r\n\r\n    return wkb.buffer;\r\n};\r\n\r\nMultiPoint.prototype.toTwkb = function () {\r\n    var twkb = new BinaryWriter(0, true);\r\n\r\n    var precision = Geometry.getTwkbPrecision(5, 0, 0);\r\n    var isEmpty = this.points.length === 0;\r\n\r\n    this._writeTwkbHeader(twkb, Types.wkb.MultiPoint, precision, isEmpty);\r\n\r\n    if (this.points.length > 0) {\r\n        twkb.writeVarInt(this.points.length);\r\n\r\n        var previousPoint = new Point(0, 0, 0, 0);\r\n        for (var i = 0; i < this.points.length; i++)\r\n            this.points[i]._writeTwkbPoint(twkb, precision, previousPoint);\r\n    }\r\n\r\n    return twkb.buffer;\r\n};\r\n\r\nMultiPoint.prototype._getWkbSize = function () {\r\n    var coordinateSize = 16;\r\n\r\n    if (this.hasZ)\r\n        coordinateSize += 8;\r\n    if (this.hasM)\r\n        coordinateSize += 8;\r\n\r\n    coordinateSize += 5;\r\n\r\n    return 1 + 4 + 4 + (this.points.length * coordinateSize);\r\n};\r\n\r\nMultiPoint.prototype.toGeoJSON = function (options) {\r\n    var geoJSON = Geometry.prototype.toGeoJSON.call(this, options);\r\n    geoJSON.type = Types.geoJSON.MultiPoint;\r\n    geoJSON.coordinates = [];\r\n\r\n    for (var i = 0; i < this.points.length; i++)\r\n        geoJSON.coordinates.push(this.points[i].toGeoJSON().coordinates);\r\n\r\n    return geoJSON;\r\n};\r\n","module.exports = MultiPolygon;\r\n\r\nvar util = require('util');\r\n\r\nvar Types = require('./types');\r\nvar Geometry = require('./geometry');\r\nvar Point = require('./point');\r\nvar Polygon = require('./polygon');\r\nvar BinaryWriter = require('./binarywriter');\r\n\r\nfunction MultiPolygon(polygons, srid) {\r\n    Geometry.call(this);\r\n\r\n    this.polygons = polygons || [];\r\n\tthis.srid = srid;\r\n\r\n    if (this.polygons.length > 0) {\r\n        this.hasZ = this.polygons[0].hasZ;\r\n        this.hasM = this.polygons[0].hasM;\r\n    }\r\n}\r\n\r\nutil.inherits(MultiPolygon, Geometry);\r\n\r\nMultiPolygon.Z = function (polygons, srid) {\r\n    var multiPolygon = new MultiPolygon(polygons, srid);\r\n    multiPolygon.hasZ = true;\r\n    return multiPolygon;\r\n};\r\n\r\nMultiPolygon.M = function (polygons, srid) {\r\n    var multiPolygon = new MultiPolygon(polygons, srid);\r\n    multiPolygon.hasM = true;\r\n    return multiPolygon;\r\n};\r\n\r\nMultiPolygon.ZM = function (polygons, srid) {\r\n    var multiPolygon = new MultiPolygon(polygons, srid);\r\n    multiPolygon.hasZ = true;\r\n    multiPolygon.hasM = true;\r\n    return multiPolygon;\r\n};\r\n\r\nMultiPolygon._parseWkt = function (value, options) {\r\n    var multiPolygon = new MultiPolygon();\r\n    multiPolygon.srid = options.srid;\r\n    multiPolygon.hasZ = options.hasZ;\r\n    multiPolygon.hasM = options.hasM;\r\n\r\n    if (value.isMatch(['EMPTY']))\r\n        return multiPolygon;\r\n\r\n    value.expectGroupStart();\r\n\r\n    do {\r\n        value.expectGroupStart();\r\n\r\n        var exteriorRing = [];\r\n        var interiorRings = [];\r\n\r\n        value.expectGroupStart();\r\n        exteriorRing.push.apply(exteriorRing, value.matchCoordinates(options));\r\n        value.expectGroupEnd();\r\n\r\n        while (value.isMatch([','])) {\r\n            value.expectGroupStart();\r\n            interiorRings.push(value.matchCoordinates(options));\r\n            value.expectGroupEnd();\r\n        }\r\n\r\n        multiPolygon.polygons.push(new Polygon(exteriorRing, interiorRings));\r\n\r\n        value.expectGroupEnd();\r\n\r\n    } while (value.isMatch([',']));\r\n\r\n    value.expectGroupEnd();\r\n\r\n    return multiPolygon;\r\n};\r\n\r\nMultiPolygon._parseWkb = function (value, options) {\r\n    var multiPolygon = new MultiPolygon();\r\n    multiPolygon.srid = options.srid;\r\n    multiPolygon.hasZ = options.hasZ;\r\n    multiPolygon.hasM = options.hasM;\r\n\r\n    var polygonCount = value.readUInt32();\r\n\r\n    for (var i = 0; i < polygonCount; i++)\r\n        multiPolygon.polygons.push(Geometry.parse(value, options));\r\n\r\n    return multiPolygon;\r\n};\r\n\r\nMultiPolygon._parseTwkb = function (value, options) {\r\n    var multiPolygon = new MultiPolygon();\r\n    multiPolygon.hasZ = options.hasZ;\r\n    multiPolygon.hasM = options.hasM;\r\n\r\n    if (options.isEmpty)\r\n        return multiPolygon;\r\n\r\n    var previousPoint = new Point(0, 0, options.hasZ ? 0 : undefined, options.hasM ? 0 : undefined);\r\n    var polygonCount = value.readVarInt();\r\n\r\n    for (var i = 0; i < polygonCount; i++) {\r\n        var polygon = new Polygon();\r\n        polygon.hasZ = options.hasZ;\r\n        polygon.hasM = options.hasM;\r\n\r\n        var ringCount = value.readVarInt();\r\n        var exteriorRingCount = value.readVarInt();\r\n\r\n        for (var j = 0; j < exteriorRingCount; j++)\r\n            polygon.exteriorRing.push(Point._readTwkbPoint(value, options, previousPoint));\r\n\r\n        for (j = 1; j < ringCount; j++) {\r\n            var interiorRing = [];\r\n\r\n            var interiorRingCount = value.readVarInt();\r\n\r\n            for (var k = 0; k < interiorRingCount; k++)\r\n                interiorRing.push(Point._readTwkbPoint(value, options, previousPoint));\r\n\r\n            polygon.interiorRings.push(interiorRing);\r\n        }\r\n\r\n        multiPolygon.polygons.push(polygon);\r\n    }\r\n\r\n    return multiPolygon;\r\n};\r\n\r\nMultiPolygon._parseGeoJSON = function (value) {\r\n    var multiPolygon = new MultiPolygon();\r\n\r\n    if (value.coordinates.length > 0 && value.coordinates[0].length > 0 && value.coordinates[0][0].length > 0)\r\n        multiPolygon.hasZ = value.coordinates[0][0][0].length > 2;\r\n\r\n    for (var i = 0; i < value.coordinates.length; i++)\r\n        multiPolygon.polygons.push(Polygon._parseGeoJSON({ coordinates: value.coordinates[i] }));\r\n\r\n    return multiPolygon;\r\n};\r\n\r\nMultiPolygon.prototype.toWkt = function () {\r\n    if (this.polygons.length === 0)\r\n        return this._getWktType(Types.wkt.MultiPolygon, true);\r\n\r\n    var wkt = this._getWktType(Types.wkt.MultiPolygon, false) + '(';\r\n\r\n    for (var i = 0; i < this.polygons.length; i++)\r\n        wkt += this.polygons[i]._toInnerWkt() + ',';\r\n\r\n    wkt = wkt.slice(0, -1);\r\n    wkt += ')';\r\n\r\n    return wkt;\r\n};\r\n\r\nMultiPolygon.prototype.toWkb = function () {\r\n    var wkb = new BinaryWriter(this._getWkbSize());\r\n\r\n    wkb.writeInt8(1);\r\n\r\n    this._writeWkbType(wkb, Types.wkb.MultiPolygon);\r\n    wkb.writeUInt32LE(this.polygons.length);\r\n\r\n    for (var i = 0; i < this.polygons.length; i++)\r\n        wkb.writeBuffer(this.polygons[i].toWkb({ srid: this.srid }));\r\n\r\n    return wkb.buffer;\r\n};\r\n\r\nMultiPolygon.prototype.toTwkb = function () {\r\n    var twkb = new BinaryWriter(0, true);\r\n\r\n    var precision = Geometry.getTwkbPrecision(5, 0, 0);\r\n    var isEmpty = this.polygons.length === 0;\r\n\r\n    this._writeTwkbHeader(twkb, Types.wkb.MultiPolygon, precision, isEmpty);\r\n\r\n    if (this.polygons.length > 0) {\r\n        twkb.writeVarInt(this.polygons.length);\r\n\r\n        var previousPoint = new Point(0, 0, 0, 0);\r\n        for (var i = 0; i < this.polygons.length; i++) {\r\n            twkb.writeVarInt(1 + this.polygons[i].interiorRings.length);\r\n\r\n            twkb.writeVarInt(this.polygons[i].exteriorRing.length);\r\n\r\n            for (var j = 0; j < this.polygons[i].exteriorRing.length; j++)\r\n                this.polygons[i].exteriorRing[j]._writeTwkbPoint(twkb, precision, previousPoint);\r\n\r\n            for (j = 0; j < this.polygons[i].interiorRings.length; j++) {\r\n                twkb.writeVarInt(this.polygons[i].interiorRings[j].length);\r\n\r\n                for (var k = 0; k < this.polygons[i].interiorRings[j].length; k++)\r\n                    this.polygons[i].interiorRings[j][k]._writeTwkbPoint(twkb, precision, previousPoint);\r\n            }\r\n        }\r\n    }\r\n\r\n    return twkb.buffer;\r\n};\r\n\r\nMultiPolygon.prototype._getWkbSize = function () {\r\n    var size = 1 + 4 + 4;\r\n\r\n    for (var i = 0; i < this.polygons.length; i++)\r\n        size += this.polygons[i]._getWkbSize();\r\n\r\n    return size;\r\n};\r\n\r\nMultiPolygon.prototype.toGeoJSON = function (options) {\r\n    var geoJSON = Geometry.prototype.toGeoJSON.call(this, options);\r\n    geoJSON.type = Types.geoJSON.MultiPolygon;\r\n    geoJSON.coordinates = [];\r\n\r\n    for (var i = 0; i < this.polygons.length; i++)\r\n        geoJSON.coordinates.push(this.polygons[i].toGeoJSON().coordinates);\r\n\r\n    return geoJSON;\r\n};\r\n","module.exports = Point;\r\n\r\nvar util = require('util');\r\n\r\nvar Geometry = require('./geometry');\r\nvar Types = require('./types');\r\nvar BinaryWriter = require('./binarywriter');\r\nvar ZigZag = require('./zigzag.js');\r\n\r\nfunction Point(x, y, z, m, srid) {\r\n    Geometry.call(this);\r\n\r\n    this.x = x;\r\n    this.y = y;\r\n    this.z = z;\r\n    this.m = m;\r\n\tthis.srid = srid;\r\n\r\n    this.hasZ = typeof this.z !== 'undefined';\r\n    this.hasM = typeof this.m !== 'undefined';\r\n}\r\n\r\nutil.inherits(Point, Geometry);\r\n\r\nPoint.Z = function (x, y, z, srid) {\r\n    var point = new Point(x, y, z, undefined, srid);\r\n    point.hasZ = true;\r\n    return point;\r\n};\r\n\r\nPoint.M = function (x, y, m, srid) {\r\n    var point = new Point(x, y, undefined, m, srid);\r\n    point.hasM = true;\r\n    return point;\r\n};\r\n\r\nPoint.ZM = function (x, y, z, m, srid) {\r\n    var point = new Point(x, y, z, m, srid);\r\n    point.hasZ = true;\r\n    point.hasM = true;\r\n    return point;\r\n};\r\n\r\nPoint._parseWkt = function (value, options) {\r\n    var point = new Point();\r\n    point.srid = options.srid;\r\n    point.hasZ = options.hasZ;\r\n    point.hasM = options.hasM;\r\n\r\n    if (value.isMatch(['EMPTY']))\r\n        return point;\r\n\r\n    value.expectGroupStart();\r\n\r\n    var coordinate = value.matchCoordinate(options);\r\n\r\n    point.x = coordinate.x;\r\n    point.y = coordinate.y;\r\n    point.z = coordinate.z;\r\n    point.m = coordinate.m;\r\n\r\n    value.expectGroupEnd();\r\n\r\n    return point;\r\n};\r\n\r\nPoint._parseWkb = function (value, options) {\r\n    var point = Point._readWkbPoint(value, options);\r\n    point.srid = options.srid;\r\n    return point;\r\n};\r\n\r\nPoint._readWkbPoint = function (value, options) {\r\n    return new Point(value.readDouble(), value.readDouble(),\r\n        options.hasZ ? value.readDouble() : undefined,\r\n        options.hasM ? value.readDouble() : undefined);\r\n};\r\n\r\nPoint._parseTwkb = function (value, options) {\r\n    var point = new Point();\r\n    point.hasZ = options.hasZ;\r\n    point.hasM = options.hasM;\r\n\r\n    if (options.isEmpty)\r\n        return point;\r\n\r\n    point.x = ZigZag.decode(value.readVarInt()) / options.precisionFactor;\r\n    point.y = ZigZag.decode(value.readVarInt()) / options.precisionFactor;\r\n    point.z = options.hasZ ? ZigZag.decode(value.readVarInt()) / options.zPrecisionFactor : undefined;\r\n    point.m = options.hasM ? ZigZag.decode(value.readVarInt()) / options.mPrecisionFactor : undefined;\r\n\r\n    return point;\r\n};\r\n\r\nPoint._readTwkbPoint = function (value, options, previousPoint) {\r\n    previousPoint.x += ZigZag.decode(value.readVarInt()) / options.precisionFactor;\r\n    previousPoint.y += ZigZag.decode(value.readVarInt()) / options.precisionFactor;\r\n\r\n    if (options.hasZ)\r\n        previousPoint.z += ZigZag.decode(value.readVarInt()) / options.zPrecisionFactor;\r\n    if (options.hasM)\r\n        previousPoint.m += ZigZag.decode(value.readVarInt()) / options.mPrecisionFactor;\r\n\r\n    return new Point(previousPoint.x, previousPoint.y, previousPoint.z, previousPoint.m);\r\n};\r\n\r\nPoint._parseGeoJSON = function (value) {\r\n    return Point._readGeoJSONPoint(value.coordinates);\r\n};\r\n\r\nPoint._readGeoJSONPoint = function (coordinates) {\r\n    if (coordinates.length === 0)\r\n        return new Point();\r\n\r\n    if (coordinates.length > 2)\r\n        return new Point(coordinates[0], coordinates[1], coordinates[2]);\r\n\r\n    return new Point(coordinates[0], coordinates[1]);\r\n};\r\n\r\nPoint.prototype.toWkt = function () {\r\n    if (typeof this.x === 'undefined' && typeof this.y === 'undefined' &&\r\n        typeof this.z === 'undefined' && typeof this.m === 'undefined')\r\n        return this._getWktType(Types.wkt.Point, true);\r\n\r\n    return this._getWktType(Types.wkt.Point, false) + '(' + this._getWktCoordinate(this) + ')';\r\n};\r\n\r\nPoint.prototype.toWkb = function (parentOptions) {\r\n    var wkb = new BinaryWriter(this._getWkbSize());\r\n\r\n    wkb.writeInt8(1);\r\n    this._writeWkbType(wkb, Types.wkb.Point, parentOptions);\r\n\r\n    if (typeof this.x === 'undefined' && typeof this.y === 'undefined') {\r\n        wkb.writeDoubleLE(NaN);\r\n        wkb.writeDoubleLE(NaN);\r\n\r\n        if (this.hasZ)\r\n            wkb.writeDoubleLE(NaN);\r\n        if (this.hasM)\r\n            wkb.writeDoubleLE(NaN);\r\n    }\r\n    else {\r\n        this._writeWkbPoint(wkb);\r\n    }\r\n\r\n    return wkb.buffer;\r\n};\r\n\r\nPoint.prototype._writeWkbPoint = function (wkb) {\r\n    wkb.writeDoubleLE(this.x);\r\n    wkb.writeDoubleLE(this.y);\r\n\r\n    if (this.hasZ)\r\n        wkb.writeDoubleLE(this.z);\r\n    if (this.hasM)\r\n        wkb.writeDoubleLE(this.m);\r\n};\r\n\r\nPoint.prototype.toTwkb = function () {\r\n    var twkb = new BinaryWriter(0, true);\r\n\r\n    var precision = Geometry.getTwkbPrecision(5, 0, 0);\r\n    var isEmpty = typeof this.x === 'undefined' && typeof this.y === 'undefined';\r\n\r\n    this._writeTwkbHeader(twkb, Types.wkb.Point, precision, isEmpty);\r\n\r\n    if (!isEmpty)\r\n        this._writeTwkbPoint(twkb, precision, new Point(0, 0, 0, 0));\r\n\r\n    return twkb.buffer;\r\n};\r\n\r\nPoint.prototype._writeTwkbPoint = function (twkb, precision, previousPoint) {\r\n    var x = this.x * precision.xyFactor;\r\n    var y = this.y * precision.xyFactor;\r\n    var z = this.z * precision.zFactor;\r\n    var m = this.m * precision.mFactor;\r\n\r\n    twkb.writeVarInt(ZigZag.encode(x - previousPoint.x));\r\n    twkb.writeVarInt(ZigZag.encode(y - previousPoint.y));\r\n    if (this.hasZ)\r\n        twkb.writeVarInt(ZigZag.encode(z - previousPoint.z));\r\n    if (this.hasM)\r\n        twkb.writeVarInt(ZigZag.encode(m - previousPoint.m));\r\n\r\n    previousPoint.x = x;\r\n    previousPoint.y = y;\r\n    previousPoint.z = z;\r\n    previousPoint.m = m;\r\n};\r\n\r\nPoint.prototype._getWkbSize = function () {\r\n    var size = 1 + 4 + 8 + 8;\r\n\r\n    if (this.hasZ)\r\n        size += 8;\r\n    if (this.hasM)\r\n        size += 8;\r\n\r\n    return size;\r\n};\r\n\r\nPoint.prototype.toGeoJSON = function (options) {\r\n    var geoJSON = Geometry.prototype.toGeoJSON.call(this, options);\r\n    geoJSON.type = Types.geoJSON.Point;\r\n\r\n    if (typeof this.x === 'undefined' && typeof this.y === 'undefined')\r\n        geoJSON.coordinates = [];\r\n    else if (typeof this.z !== 'undefined')\r\n        geoJSON.coordinates = [this.x, this.y, this.z];\r\n    else\r\n        geoJSON.coordinates = [this.x, this.y];\r\n\r\n    return geoJSON;\r\n};\r\n","module.exports = Polygon;\r\n\r\nvar util = require('util');\r\n\r\nvar Geometry = require('./geometry');\r\nvar Types = require('./types');\r\nvar Point = require('./point');\r\nvar BinaryWriter = require('./binarywriter');\r\n\r\nfunction Polygon(exteriorRing, interiorRings, srid) {\r\n    Geometry.call(this);\r\n\r\n    this.exteriorRing = exteriorRing || [];\r\n    this.interiorRings = interiorRings || [];\r\n\tthis.srid = srid;\r\n\r\n    if (this.exteriorRing.length > 0) {\r\n        this.hasZ = this.exteriorRing[0].hasZ;\r\n        this.hasM = this.exteriorRing[0].hasM;\r\n    }\r\n}\r\n\r\nutil.inherits(Polygon, Geometry);\r\n\r\nPolygon.Z = function (exteriorRing, interiorRings, srid) {\r\n    var polygon = new Polygon(exteriorRing, interiorRings, srid);\r\n    polygon.hasZ = true;\r\n    return polygon;\r\n};\r\n\r\nPolygon.M = function (exteriorRing, interiorRings, srid) {\r\n    var polygon = new Polygon(exteriorRing, interiorRings, srid);\r\n    polygon.hasM = true;\r\n    return polygon;\r\n};\r\n\r\nPolygon.ZM = function (exteriorRing, interiorRings, srid) {\r\n    var polygon = new Polygon(exteriorRing, interiorRings, srid);\r\n    polygon.hasZ = true;\r\n    polygon.hasM = true;\r\n    return polygon;\r\n};\r\n\r\nPolygon._parseWkt = function (value, options) {\r\n    var polygon = new Polygon();\r\n    polygon.srid = options.srid;\r\n    polygon.hasZ = options.hasZ;\r\n    polygon.hasM = options.hasM;\r\n\r\n    if (value.isMatch(['EMPTY']))\r\n        return polygon;\r\n\r\n    value.expectGroupStart();\r\n\r\n    value.expectGroupStart();\r\n    polygon.exteriorRing.push.apply(polygon.exteriorRing, value.matchCoordinates(options));\r\n    value.expectGroupEnd();\r\n\r\n    while (value.isMatch([','])) {\r\n        value.expectGroupStart();\r\n        polygon.interiorRings.push(value.matchCoordinates(options));\r\n        value.expectGroupEnd();\r\n    }\r\n\r\n    value.expectGroupEnd();\r\n\r\n    return polygon;\r\n};\r\n\r\nPolygon._parseWkb = function (value, options) {\r\n    var polygon = new Polygon();\r\n    polygon.srid = options.srid;\r\n    polygon.hasZ = options.hasZ;\r\n    polygon.hasM = options.hasM;\r\n\r\n    var ringCount = value.readUInt32();\r\n\r\n    if (ringCount > 0) {\r\n        var exteriorRingCount = value.readUInt32();\r\n\r\n        for (var i = 0; i < exteriorRingCount; i++)\r\n            polygon.exteriorRing.push(Point._readWkbPoint(value, options));\r\n\r\n        for (i = 1; i < ringCount; i++) {\r\n            var interiorRing = [];\r\n\r\n            var interiorRingCount = value.readUInt32();\r\n\r\n            for (var j = 0; j < interiorRingCount; j++)\r\n                interiorRing.push(Point._readWkbPoint(value, options));\r\n\r\n            polygon.interiorRings.push(interiorRing);\r\n        }\r\n    }\r\n\r\n    return polygon;\r\n};\r\n\r\nPolygon._parseTwkb = function (value, options) {\r\n    var polygon = new Polygon();\r\n    polygon.hasZ = options.hasZ;\r\n    polygon.hasM = options.hasM;\r\n\r\n    if (options.isEmpty)\r\n        return polygon;\r\n\r\n    var previousPoint = new Point(0, 0, options.hasZ ? 0 : undefined, options.hasM ? 0 : undefined);\r\n    var ringCount = value.readVarInt();\r\n    var exteriorRingCount = value.readVarInt();\r\n\r\n    for (var i = 0; i < exteriorRingCount; i++)\r\n        polygon.exteriorRing.push(Point._readTwkbPoint(value, options, previousPoint));\r\n\r\n    for (i = 1; i < ringCount; i++) {\r\n        var interiorRing = [];\r\n\r\n        var interiorRingCount = value.readVarInt();\r\n\r\n        for (var j = 0; j < interiorRingCount; j++)\r\n            interiorRing.push(Point._readTwkbPoint(value, options, previousPoint));\r\n\r\n        polygon.interiorRings.push(interiorRing);\r\n    }\r\n\r\n    return polygon;\r\n};\r\n\r\nPolygon._parseGeoJSON = function (value) {\r\n    var polygon = new Polygon();\r\n\r\n    if (value.coordinates.length > 0 && value.coordinates[0].length > 0)\r\n        polygon.hasZ = value.coordinates[0][0].length > 2;\r\n\r\n    for (var i = 0; i < value.coordinates.length; i++) {\r\n        if (i > 0)\r\n            polygon.interiorRings.push([]);\r\n\r\n        for (var j = 0; j  < value.coordinates[i].length; j++) {\r\n            if (i === 0)\r\n                polygon.exteriorRing.push(Point._readGeoJSONPoint(value.coordinates[i][j]));\r\n            else\r\n                polygon.interiorRings[i - 1].push(Point._readGeoJSONPoint(value.coordinates[i][j]));\r\n        }\r\n    }\r\n\r\n    return polygon;\r\n};\r\n\r\nPolygon.prototype.toWkt = function () {\r\n    if (this.exteriorRing.length === 0)\r\n        return this._getWktType(Types.wkt.Polygon, true);\r\n\r\n    return this._getWktType(Types.wkt.Polygon, false) + this._toInnerWkt();\r\n};\r\n\r\nPolygon.prototype._toInnerWkt = function () {\r\n    var innerWkt = '((';\r\n\r\n    for (var i = 0; i < this.exteriorRing.length; i++)\r\n        innerWkt += this._getWktCoordinate(this.exteriorRing[i]) + ',';\r\n\r\n    innerWkt = innerWkt.slice(0, -1);\r\n    innerWkt += ')';\r\n\r\n    for (i = 0; i < this.interiorRings.length; i++) {\r\n        innerWkt += ',(';\r\n\r\n        for (var j = 0; j < this.interiorRings[i].length; j++) {\r\n            innerWkt += this._getWktCoordinate(this.interiorRings[i][j]) + ',';\r\n        }\r\n\r\n        innerWkt = innerWkt.slice(0, -1);\r\n        innerWkt += ')';\r\n    }\r\n\r\n    innerWkt += ')';\r\n\r\n    return innerWkt;\r\n};\r\n\r\nPolygon.prototype.toWkb = function (parentOptions) {\r\n    var wkb = new BinaryWriter(this._getWkbSize());\r\n\r\n    wkb.writeInt8(1);\r\n\r\n    this._writeWkbType(wkb, Types.wkb.Polygon, parentOptions);\r\n\r\n    if (this.exteriorRing.length > 0) {\r\n        wkb.writeUInt32LE(1 + this.interiorRings.length);\r\n        wkb.writeUInt32LE(this.exteriorRing.length);\r\n    }\r\n    else {\r\n        wkb.writeUInt32LE(0);\r\n    }\r\n\r\n    for (var i = 0; i < this.exteriorRing.length; i++)\r\n        this.exteriorRing[i]._writeWkbPoint(wkb);\r\n\r\n    for (i = 0; i < this.interiorRings.length; i++) {\r\n        wkb.writeUInt32LE(this.interiorRings[i].length);\r\n\r\n        for (var j = 0; j < this.interiorRings[i].length; j++)\r\n            this.interiorRings[i][j]._writeWkbPoint(wkb);\r\n    }\r\n\r\n    return wkb.buffer;\r\n};\r\n\r\nPolygon.prototype.toTwkb = function () {\r\n    var twkb = new BinaryWriter(0, true);\r\n\r\n    var precision = Geometry.getTwkbPrecision(5, 0, 0);\r\n    var isEmpty = this.exteriorRing.length === 0;\r\n\r\n    this._writeTwkbHeader(twkb, Types.wkb.Polygon, precision, isEmpty);\r\n\r\n    if (this.exteriorRing.length > 0) {\r\n        twkb.writeVarInt(1 + this.interiorRings.length);\r\n\r\n        twkb.writeVarInt(this.exteriorRing.length);\r\n\r\n        var previousPoint = new Point(0, 0, 0, 0);\r\n        for (var i = 0; i < this.exteriorRing.length; i++)\r\n            this.exteriorRing[i]._writeTwkbPoint(twkb, precision, previousPoint);\r\n\r\n        for (i = 0; i < this.interiorRings.length; i++) {\r\n            twkb.writeVarInt(this.interiorRings[i].length);\r\n\r\n            for (var j = 0; j < this.interiorRings[i].length; j++)\r\n                this.interiorRings[i][j]._writeTwkbPoint(twkb, precision, previousPoint);\r\n        }\r\n    }\r\n\r\n    return twkb.buffer;\r\n};\r\n\r\nPolygon.prototype._getWkbSize = function () {\r\n    var coordinateSize = 16;\r\n\r\n    if (this.hasZ)\r\n        coordinateSize += 8;\r\n    if (this.hasM)\r\n        coordinateSize += 8;\r\n\r\n    var size = 1 + 4 + 4;\r\n\r\n    if (this.exteriorRing.length > 0)\r\n        size += 4 + (this.exteriorRing.length * coordinateSize);\r\n\r\n    for (var i = 0; i < this.interiorRings.length; i++)\r\n        size += 4 + (this.interiorRings[i].length * coordinateSize);\r\n\r\n    return size;\r\n};\r\n\r\nPolygon.prototype.toGeoJSON = function (options) {\r\n    var geoJSON = Geometry.prototype.toGeoJSON.call(this, options);\r\n    geoJSON.type = Types.geoJSON.Polygon;\r\n    geoJSON.coordinates = [];\r\n\r\n    if (this.exteriorRing.length > 0) {\r\n        var exteriorRing = [];\r\n\r\n        for (var i = 0; i < this.exteriorRing.length; i++) {\r\n            if (this.hasZ)\r\n                exteriorRing.push([this.exteriorRing[i].x, this.exteriorRing[i].y, this.exteriorRing[i].z]);\r\n            else\r\n                exteriorRing.push([this.exteriorRing[i].x, this.exteriorRing[i].y]);\r\n        }\r\n\r\n        geoJSON.coordinates.push(exteriorRing);\r\n    }\r\n\r\n    for (var j = 0; j < this.interiorRings.length; j++) {\r\n        var interiorRing = [];\r\n\r\n        for (var k = 0; k < this.interiorRings[j].length; k++) {\r\n            if (this.hasZ)\r\n                interiorRing.push([this.interiorRings[j][k].x, this.interiorRings[j][k].y, this.interiorRings[j][k].z]);\r\n            else\r\n                interiorRing.push([this.interiorRings[j][k].x, this.interiorRings[j][k].y]);\r\n        }\r\n\r\n        geoJSON.coordinates.push(interiorRing);\r\n    }\r\n\r\n    return geoJSON;\r\n};\r\n","module.exports = {\r\n    wkt: {\r\n        Point: 'POINT',\r\n        LineString: 'LINESTRING',\r\n        Polygon: 'POLYGON',\r\n        MultiPoint: 'MULTIPOINT',\r\n        MultiLineString: 'MULTILINESTRING',\r\n        MultiPolygon: 'MULTIPOLYGON',\r\n        GeometryCollection: 'GEOMETRYCOLLECTION'\r\n    },\r\n    wkb: {\r\n        Point: 1,\r\n        LineString: 2,\r\n        Polygon: 3,\r\n        MultiPoint: 4,\r\n        MultiLineString: 5,\r\n        MultiPolygon: 6,\r\n        GeometryCollection: 7\r\n    },\r\n    geoJSON: {\r\n        Point: 'Point',\r\n        LineString: 'LineString',\r\n        Polygon: 'Polygon',\r\n        MultiPoint: 'MultiPoint',\r\n        MultiLineString: 'MultiLineString',\r\n        MultiPolygon: 'MultiPolygon',\r\n        GeometryCollection: 'GeometryCollection'\r\n    }\r\n};\r\n","module.exports = WktParser;\r\n\r\nvar Types = require('./types');\r\nvar Point = require('./point');\r\n\r\nfunction WktParser(value) {\r\n    this.value = value;\r\n    this.position = 0;\r\n}\r\n\r\nWktParser.prototype.match = function (tokens) {\r\n    this.skipWhitespaces();\r\n\r\n    for (var i = 0; i < tokens.length; i++) {\r\n        if (this.value.substring(this.position).indexOf(tokens[i]) === 0) {\r\n            this.position += tokens[i].length;\r\n            return tokens[i];\r\n        }\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\nWktParser.prototype.matchRegex = function (tokens) {\r\n    this.skipWhitespaces();\r\n\r\n    for (var i = 0; i < tokens.length; i++) {\r\n        var match = this.value.substring(this.position).match(tokens[i]);\r\n\r\n        if (match) {\r\n            this.position += match[0].length;\r\n            return match;\r\n        }\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\nWktParser.prototype.isMatch = function (tokens) {\r\n    this.skipWhitespaces();\r\n\r\n    for (var i = 0; i < tokens.length; i++) {\r\n        if (this.value.substring(this.position).indexOf(tokens[i]) === 0) {\r\n            this.position += tokens[i].length;\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\nWktParser.prototype.matchType = function () {\r\n    var geometryType = this.match([Types.wkt.Point, Types.wkt.LineString, Types.wkt.Polygon, Types.wkt.MultiPoint,\r\n    Types.wkt.MultiLineString, Types.wkt.MultiPolygon, Types.wkt.GeometryCollection]);\r\n\r\n    if (!geometryType)\r\n        throw new Error('Expected geometry type');\r\n\r\n    return geometryType;\r\n};\r\n\r\nWktParser.prototype.matchDimension = function () {\r\n    var dimension = this.match(['ZM', 'Z', 'M']);\r\n\r\n    switch (dimension) {\r\n        case 'ZM': return { hasZ: true, hasM: true };\r\n        case 'Z': return { hasZ: true, hasM: false };\r\n        case 'M': return { hasZ: false, hasM: true };\r\n        default: return { hasZ: false, hasM: false };\r\n    }\r\n};\r\n\r\nWktParser.prototype.expectGroupStart = function () {\r\n    if (!this.isMatch(['(']))\r\n        throw new Error('Expected group start');\r\n};\r\n\r\nWktParser.prototype.expectGroupEnd = function () {\r\n    if (!this.isMatch([')']))\r\n        throw new Error('Expected group end');\r\n};\r\n\r\nWktParser.prototype.matchCoordinate = function (options) {\r\n    var match;\r\n\r\n    if (options.hasZ && options.hasM)\r\n        match = this.matchRegex([/^(\\S*)\\s+(\\S*)\\s+(\\S*)\\s+([^\\s,)]*)/]);\r\n    else if (options.hasZ || options.hasM)\r\n        match = this.matchRegex([/^(\\S*)\\s+(\\S*)\\s+([^\\s,)]*)/]);\r\n    else\r\n        match = this.matchRegex([/^(\\S*)\\s+([^\\s,)]*)/]);\r\n\r\n    if (!match)\r\n        throw new Error('Expected coordinates');\r\n\r\n    if (options.hasZ && options.hasM)\r\n        return new Point(parseFloat(match[1]), parseFloat(match[2]), parseFloat(match[3]), parseFloat(match[4]));\r\n    else if (options.hasZ)\r\n        return new Point(parseFloat(match[1]), parseFloat(match[2]), parseFloat(match[3]));\r\n    else if (options.hasM)\r\n        return new Point(parseFloat(match[1]), parseFloat(match[2]), undefined, parseFloat(match[3]));\r\n    else\r\n        return new Point(parseFloat(match[1]), parseFloat(match[2]));\r\n};\r\n\r\nWktParser.prototype.matchCoordinates = function (options) {\r\n    var coordinates = [];\r\n\r\n    do {\r\n        var startsWithBracket = this.isMatch(['(']);\r\n\r\n        coordinates.push(this.matchCoordinate(options));\r\n\r\n        if (startsWithBracket)\r\n            this.expectGroupEnd();\r\n    } while (this.isMatch([',']));\r\n\r\n    return coordinates;\r\n};\r\n\r\nWktParser.prototype.skipWhitespaces = function () {\r\n    while (this.position < this.value.length && this.value[this.position] === ' ')\r\n        this.position++;\r\n};\r\n","exports.Types = require('./types');\r\nexports.Geometry = require('./geometry');\r\nexports.Point = require('./point');\r\nexports.LineString = require('./linestring');\r\nexports.Polygon = require('./polygon');\r\nexports.MultiPoint = require('./multipoint');\r\nexports.MultiLineString = require('./multilinestring');\r\nexports.MultiPolygon = require('./multipolygon');\r\nexports.GeometryCollection = require('./geometrycollection');","module.exports = {\r\n    encode: function (value) {\r\n        return (value << 1) ^ (value >> 31);\r\n    },\r\n    decode: function (value) {\r\n        return (value >> 1) ^ (-(value & 1));\r\n    }\r\n};\r\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","if(typeof __WEBPACK_EXTERNAL_MODULE__1498__ === 'undefined') { var e = new Error(\"Cannot find module 'better-sqlite3'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__1498__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","import { BoundingBox } from './lib/boundingBox';\nimport { ClosestFeature, GeoPackage } from './lib/geoPackage';\nimport { ContentsDao } from './lib/core/contents/contentsDao';\nimport { ContentsIdDao } from './lib/extension/contents/contentsIdDao';\nimport { Constraint } from './lib/db/table/constraint';\nimport { Constraints } from './lib/db/table/constraints';\nimport { ConstraintType } from './lib/db/table/constraintType';\nimport { CrsWktExtension } from './lib/extension/crsWkt';\nimport { DataColumnConstraints } from './lib/dataColumnConstraints/dataColumnConstraints';\nimport { DataColumnConstraintsDao } from './lib/dataColumnConstraints/dataColumnConstraintsDao';\nimport { DataColumns } from './lib/dataColumns/dataColumns';\nimport { GeoPackageDataType } from './lib/db/geoPackageDataType';\nimport { DataColumnsDao } from './lib/dataColumns/dataColumnsDao';\nimport { DublinCoreMetadata } from './lib/extension/relatedTables/dublinCoreMetadata';\nimport { DublinCoreType } from './lib/extension/relatedTables/dublinCoreType';\nimport { Extension } from './lib/extension/extension';\nimport { FeatureColumn } from './lib/features/user/featureColumn';\nimport { FeatureDrawType } from './lib/tiles/features/featureDrawType';\nimport { FeaturePaint } from './lib/tiles/features/featurePaint';\nimport { FeatureStyle } from './lib/extension/style/featureStyle';\nimport { FeatureStyleExtension } from './lib/extension/style';\nimport { FeatureStyles } from './lib/extension/style/featureStyles';\nimport { FeatureTable } from './lib/features/user/featureTable';\nimport { FeatureTableIndex } from './lib/extension/index/featureTableIndex';\nimport { FeatureTableReader } from './lib/features/user/featureTableReader';\nimport { FeatureTableStyles } from './lib/extension/style/featureTableStyles';\nimport { FeatureTiles } from './lib/tiles/features';\nimport { GeometryColumns } from './lib/features/columns/geometryColumns';\nimport { GeometryColumnsDao } from './lib/features/columns/geometryColumnsDao';\nimport { GeometryData } from './lib/geom/geometryData';\nimport { GeometryType } from './lib/features/user/geometryType';\nimport { GeoPackageAPI } from './lib/api';\nimport { GeoPackageConnection } from './lib/db/geoPackageConnection';\nimport { GeoPackageTileRetriever } from './lib/tiles/retriever';\nimport { GeoPackageValidate } from './lib/validate/geoPackageValidate';\nimport { IconCache } from './lib/extension/style/iconCache';\nimport { Icons } from './lib/extension/style/icons';\nimport { IconTable } from './lib/extension/style/iconTable';\nimport { ImageUtils } from './lib/tiles/imageUtils';\nimport { MediaTable } from './lib/extension/relatedTables/mediaTable';\nimport { Metadata } from './lib/metadata/metadata';\nimport { MetadataDao } from './lib/metadata/metadataDao';\nimport { MetadataExtension } from './lib/extension/metadata';\nimport { MetadataReference } from './lib/metadata/reference/metadataReference';\nimport { NumberFeaturesTile } from './lib/tiles/features/custom/numberFeaturesTile';\nimport { OptionBuilder } from './lib/optionBuilder';\nimport { Paint } from './lib/tiles/features/paint';\nimport { Projection } from './lib/projection/projection';\nimport { ProjectionConstants } from './lib/projection/projectionConstants';\nimport { RelatedTablesExtension } from './lib/extension/relatedTables';\nimport { RTreeIndex } from './lib/extension/rtree/rtreeIndex';\nimport { RTreeIndexDao } from './lib/extension/rtree/rtreeIndexDao';\nimport { SchemaExtension } from './lib/extension/schema';\nimport { ShadedFeaturesTile } from './lib/tiles/features/custom/shadedFeaturesTile';\nimport { SimpleAttributesTable } from './lib/extension/relatedTables/simpleAttributesTable';\nimport { SpatialReferenceSystem } from './lib/core/srs/spatialReferenceSystem';\nimport { SqliteQueryBuilder } from './lib/db/sqliteQueryBuilder';\nimport { StyleMappingTable } from './lib/extension/style/styleMappingTable';\nimport { Styles } from './lib/extension/style/styles';\nimport { StyleTable } from './lib/extension/style/styleTable';\nimport { TableCreator } from './lib/db/tableCreator';\nimport { TileBoundingBoxUtils } from './lib/tiles/tileBoundingBoxUtils';\nimport { TileColumn } from './lib/tiles/user/tileColumn';\nimport { TileMatrix } from './lib/tiles/matrix/tileMatrix';\nimport { TileMatrixSet } from './lib/tiles/matrixset/tileMatrixSet';\nimport { TileScaling } from './lib/extension/scale/tileScaling';\nimport { TileScalingType } from './lib/extension/scale/tileScalingType';\nimport { TileTable } from './lib/tiles/user/tileTable';\nimport { TileUtilities } from './lib/tiles/creator/tileUtilities';\nimport { UserColumn } from './lib/user/userColumn';\nimport { UserDao } from './lib/user/userDao';\nimport { UserMappingTable } from './lib/extension/relatedTables/userMappingTable';\nimport { UserRow } from './lib/user/userRow';\nimport { UserTable } from './lib/user/userTable';\nimport { UserTableReader } from './lib/user/userTableReader';\nimport { WebPExtension } from './lib/extension/webp';\nimport { WKB } from './lib/wkb';\nimport { DBAdapter } from './lib/db/dbAdapter';\nimport { SqliteAdapter } from './lib/db/sqliteAdapter';\nimport { SqljsAdapter } from './lib/db/sqljsAdapter';\nimport { TileCreator } from './lib/tiles/creator/tileCreator';\nimport { Canvas } from './lib/canvas/canvas';\nimport { CanvasAdapter } from './lib/canvas/canvasAdapter';\nimport { CanvasKitCanvasAdapter } from './lib/canvas/canvasKitCanvasAdapter';\nimport { OffscreenCanvasAdapter } from './lib/canvas/offscreenCanvasAdapter';\nimport { HtmlCanvasAdapter } from './lib/canvas/htmlCanvasAdapter';\nimport { Context } from './lib/context/context';\n\nContext.setupDefaultContext();\n\nconst setSqljsWasmLocateFile = SqljsAdapter.setSqljsWasmLocateFile;\nconst setCanvasKitWasmLocateFile = CanvasKitCanvasAdapter.setCanvasKitWasmLocateFile;\n\nexport {\n  BoundingBox,\n  Canvas,\n  CanvasAdapter,\n  CanvasKitCanvasAdapter,\n  ClosestFeature,\n  ContentsDao,\n  ContentsIdDao,\n  Constraint,\n  Constraints,\n  ConstraintType,\n  Context,\n  CrsWktExtension,\n  DataColumnConstraints,\n  DataColumnConstraintsDao,\n  DataColumns,\n  DataColumnsDao,\n  DBAdapter,\n  DublinCoreMetadata,\n  DublinCoreType,\n  Extension,\n  FeatureColumn,\n  FeatureDrawType,\n  FeaturePaint,\n  FeatureStyle,\n  FeatureStyleExtension,\n  FeatureStyles,\n  FeatureTable,\n  FeatureTableIndex,\n  FeatureTableReader,\n  FeatureTableStyles,\n  FeatureTiles,\n  GeometryType,\n  GeometryColumns,\n  GeometryColumnsDao,\n  GeometryData,\n  GeoPackage,\n  GeoPackageAPI,\n  GeoPackageConnection,\n  GeoPackageDataType,\n  GeoPackageTileRetriever,\n  GeoPackageValidate,\n  HtmlCanvasAdapter,\n  IconCache,\n  Icons,\n  IconTable,\n  ImageUtils,\n  MediaTable,\n  Metadata,\n  MetadataDao,\n  MetadataExtension,\n  MetadataReference,\n  NumberFeaturesTile,\n  OffscreenCanvasAdapter,\n  OptionBuilder,\n  Paint,\n  Projection,\n  ProjectionConstants,\n  RelatedTablesExtension,\n  RTreeIndex,\n  RTreeIndexDao,\n  setCanvasKitWasmLocateFile,\n  setSqljsWasmLocateFile,\n  SchemaExtension,\n  ShadedFeaturesTile,\n  SimpleAttributesTable,\n  SpatialReferenceSystem,\n  SqliteAdapter,\n  SqliteQueryBuilder,\n  StyleMappingTable,\n  SqljsAdapter,\n  Styles,\n  StyleTable,\n  TableCreator,\n  TileCreator,\n  TileBoundingBoxUtils,\n  TileColumn,\n  TileMatrix,\n  TileMatrixSet,\n  TileScaling,\n  TileScalingType,\n  TileTable,\n  TileUtilities,\n  UserColumn,\n  UserDao,\n  UserMappingTable,\n  UserRow,\n  UserTable,\n  UserTableReader,\n  WebPExtension,\n  WKB,\n};\n"],"names":["root","factory","exports","module","require","e","define","amd","self","__WEBPACK_EXTERNAL_MODULE__1498__","_scriptDir","CanvasKitInit","document","currentScript","src","undefined","t","aa","ba","a","ready","Promise","b","Qd","push","MakeSWCanvasSurface","c","tagName","getElementById","MakeSurface","width","height","Dd","MakeCanvasSurface","f","colorType","ColorType","RGBA_8888","alphaType","AlphaType","Unpremul","colorSpace","ColorSpace","SRGB","g","m","_malloc","Surface","_makeRasterDirect","uf","rf","tf","Ue","getCanvas","clear","TRANSPARENT","MakeRasterDirectSurface","byteOffset","prototype","flush","this","_flush","Uint8ClampedArray","HEAPU8","buffer","ImageData","getContext","putImageData","dispose","_free","delete","currentContext","setCurrentContext","hasOwnProperty","GetWebGLContext","alpha","depth","stencil","antialias","premultipliedAlpha","preserveDrawingBuffer","preferLowPowerToHighPerformance","failIfMajorPerformanceCaveat","enableExtensionsByDefault","explicitSwapControl","renderViaOffscreenBackBuffer","majorVersion","WebGL2RenderingContext","cf","WebGLRenderingContext","ud","ja","Jf","attributes","version","ze","canvas","df","zf","u","Lf","getExtension","vertexAttribDivisor","vertexAttribDivisorANGLE","drawArraysInstanced","drawArraysInstancedANGLE","drawElementsInstanced","q","drawElementsInstancedANGLE","cd","createVertexArray","createVertexArrayOES","deleteVertexArray","deleteVertexArrayOES","bindVertexArray","bindVertexArrayOES","isVertexArray","isVertexArrayOES","dd","drawBuffers","drawBuffersWEBGL","ed","hf","lf","jf","hg","getSupportedExtensions","forEach","includes","zd","yd","fa","ia","deleteContext","JSEvents","jg","MakeWebGLCanvasSurface","OffscreenCanvas","HTMLCanvasElement","MakeGrContext","MakeOnScreenGLSurface","de","grContext","openGLversion","cloneNode","parentNode","replaceChild","classList","add","d","h","l","r","z","length","Array","constructor","Float32Array","p","Math","floor","Uint32Array","slice","map","parseFloat","indexOf","round","max","min","x","_ck","v","da","BYTES_PER_ELEMENT","set","G","Ud","count","RGBA_F32","C","HEAPF32","J","Ha","vd","xb","toTypedArray","m11","m21","m41","m12","m22","m42","m14","m24","m44","y","K","db","Q","Ub","Z","X","ha","ma","Vb","eb","arguments","fb","H","Ac","Color","Color4f","ColorAsInt","of","Object","defineProperty","get","getColorComponents","parseColorString","toLowerCase","startsWith","parseInt","split","BLACK","multiplyByAlpha","Malloc","he","subarray","Free","Tb","xa","Bc","Cc","Dc","Ec","Fc","Gc","Ia","Qa","Wb","Xb","Yb","Hc","Zb","ie","ce","Jd","enumerable","build","Ae","Fe","HEAPU32","RectBuilder","RSXFormBuilder","ColorBuilder","wd","Function","onRuntimeInitialized","RGBA_F16","L","_readPixels","Uint8Array","Int32Array","_MakeSRGB","DISPLAY_P3","_MakeDisplayP3","ADOBE_RGB","_MakeAdobeRGB","Path","MakeFromCmds","_MakeFromCmds","MakeFromVerbsPointsWeights","_MakeFromVerbsPointsWeights","addArc","_addArc","addOval","_addOval","addPath","call","pop","_addPath","addPoly","_addPoly","addRect","_addRect","addRRect","_addRRect","addVerbsPointsWeights","_addVerbsPointsWeights","arc","LTRBRect","PI","arcToOval","_arcToOval","arcToRotated","_arcToRotated","arcToTangent","_arcToTangent","close","_close","conicTo","_conicTo","computeTightBounds","_computeTightBounds","cubicTo","_cubicTo","dash","_dash","getBounds","_getBounds","lineTo","_lineTo","moveTo","_moveTo","offset","_transform","quadTo","_quadTo","rArcTo","_rArcTo","rConicTo","_rConicTo","rCubicTo","_rCubicTo","rLineTo","_rLineTo","rMoveTo","_rMoveTo","rQuadTo","_rQuadTo","stroke","miter_limit","cap","StrokeCap","Butt","join","StrokeJoin","Miter","precision","_stroke","transform","trim","_trim","Image","makeShaderCubic","_makeShaderCubic","makeShaderOptions","_makeShaderOptions","readPixels","Canvas","_clear","clipRRect","_clipRRect","clipRect","_clipRect","concat","fill","m31","m32","m13","m23","m33","m43","m34","O","_concat","drawArc","_drawArc","drawAtlas","BlendMode","SrcOver","N","R","P","_drawAtlasCubic","B","ea","FilterMode","Linear","oa","MipmapMode","None","filter","mipmap","_drawAtlasOptions","drawColor","_drawColor","drawColorComponents","drawDRRect","_drawDRRect","drawImageNine","_drawImageNine","drawImageRect","_drawImageRect","drawImageRectCubic","_drawImageRectCubic","drawImageRectOptions","_drawImageRectOptions","drawOval","_drawOval","drawPoints","_drawPoints","drawRRect","_drawRRect","drawRect","_drawRect","drawShadow","_drawShadow","getShadowLocalBounds","_getShadowLocalBounds","getLocalToDevice","_getLocalToDevice","findMarkedCTM","_findMarkedCTM","getTotalMatrix","_getTotalMatrix","saveLayer","_saveLayer","writePixels","byteLength","_writePixels","ColorFilter","MakeBlend","_MakeBlend","MakeMatrix","_makeMatrix","ContourMeasure","getPosTan","_getPosTan","ImageFilter","MakeMatrixTransform","_MakeMatrixTransform","Paint","getColor","_getColor","setColor","_setColor","setColorComponents","getPoint","_getPoint","PictureRecorder","beginRecording","_beginRecording","makeImageSnapshot","_makeImageSnapshot","requestAnimationFrame","Be","bind","drawOnce","PathEffect","MakeDash","_MakeDash","Shader","MakeColor","_MakeColor","Blend","Lerp","MakeLerp","MakeLinearGradient","_MakeLinearGradient","MakeRadialGradient","_MakeRadialGradient","MakeSweepGradient","_MakeSweepGradient","MakeTwoPointConicalGradient","_MakeTwoPointConicalGradient","Vertices","bounds","_bounds","computeTonalColors","ambient","spot","_computeTonalColors","XYWHRect","LTRBiRect","XYWHiRect","RRectXY","MakeAnimatedImageFromEncoded","_decodeAnimatedImage","MakeImageFromEncoded","_decodeImage","gb","MakeImageFromCanvasImageSource","createElement","drawImage","getImageData","MakeImage","data","_MakeImage","MakeVertices","_VerticesBuilder","positions","texCoords","colors","indices","detach","Matrix","identity","invert","mapPoints","multiply","rotated","sin","cos","scaled","skewed","translated","Vector","dot","reduce","lengthSquared","sqrt","mulScalar","sub","dist","normalize","cross","M44","rotatedUnitSinCos","lookat","perspective","rc","Ca","Da","Ja","Ka","pa","E","k","n","w","A","D","I","U","na","ca","Infinity","every","ya","isNaN","transpose","mustInvert","setupCamera","eye","coa","up","near","far","angle","ColorMatrix","xd","postTranslate","op","_op","simplify","_simplify","drawText","ka","la","F","_drawSimpleText","Font","getGlyphBounds","_getGlyphWidthBounds","from","getGlyphIDs","_getGlyphIDs","Uint16Array","getGlyphWidths","FontMgr","FromData","isArray","_fromData","MakeTypefaceFromData","_makeTypefaceFromData","TextBlob","MakeOnPath","countPoints","MakeFromText","ContourMeasureIter","next","substring","MakeFromRSXform","_MakeFromRSXform","MakeFromRSXformGlyphs","_MakeFromRSXformGlyphs","MakeFromGlyphs","_MakeFromGlyphs","_MakeFromText","MallocGlyphIDs","Number","isFinite","toString","toFixed","exec","style","variant","weight","sizePx","family","Fd","setAntiAlias","setStrokeMiter","setStrokeCap","setStrokeJoin","Ke","le","setSubpixel","Sd","Xd","oe","De","qe","pe","Ee","$d","Ce","ne","Ed","setStrokeWidth","setBlendMode","Hd","Id","ef","ue","be","setTransform","me","typeface","setSize","setTypeface","DstOver","Src","Dst","Clear","SrcIn","DstIn","SrcOut","DstOut","SrcATop","DstATop","Xor","Plus","Multiply","Screen","Overlay","Darken","Lighten","ColorDodge","ColorBurn","HardLight","SoftLight","Difference","Exclusion","Hue","Saturation","Luminosity","getStrokeCap","Round","Square","getStrokeJoin","Bevel","getStrokeWidth","getStrokeMiter","arcTo","beginPath","bezierCurveTo","isEmpty","clearRect","setStyle","PaintStyle","Fill","clip","Te","Ld","copy","setFillType","FillType","EvenOdd","Winding","clipPath","ClipOp","Intersect","closePath","createImageData","createLinearGradient","createPattern","createRadialGradient","Je","ellipse","setShader","re","save","je","drawPath","restore","fillRect","fillText","drawTextBlob","getLineDash","ff","isPointInPath","contains","isPointInStroke","lineWidth","miterLimit","measureText","Error","abs","quadraticCurveTo","rect","resetTransform","wf","Pf","Nf","bg","ag","fs","Zf","$f","Tf","Yf","Cf","Df","Of","Bf","rotate","ke","scale","setLineDash","apply","MaskFilter","MakeBlur","BlurStyle","Normal","setMaskFilter","Ve","Stroke","setPathEffect","strokeRect","strokeText","translate","addHitRegion","clearHitRegions","drawFocusIfNeeded","removeHitRegion","scrollPathIntoView","value","writable","We","Le","qf","RefDefault","decodeImage","loadFont","makePath2D","toDataURL","ImageFormat","PNG","JPEG","encodeToBytes","Buffer","String","fromCharCode","btoa","Nd","Td","Pd","addColorStop","splice","TileMode","Clamp","MakeFromSVGString","sf","se","Repeat","te","Decal","_testing","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","parseColor","colorToString","RegExp","monospace","parseFontString","MakeCanvas","za","Aa","Ba","qa","assign","ra","sa","ta","window","ua","importScripts","va","process","versions","node","wa","Ea","dirname","__dirname","URL","readFileSync","readFile","argv","replace","on","Fa","match","noExitRuntime","exitCode","Ga","exit","inspect","location","href","substr","lastIndexOf","XMLHttpRequest","open","send","responseText","responseType","response","onload","status","onerror","Ma","La","print","console","log","printErr","warn","thisProgram","quit","wasmBinary","WebAssembly","Na","Oa","Ua","Va","Wa","M","Xa","S","Ya","Pa","Ra","TextDecoder","Sa","decode","Ta","charCodeAt","Za","HEAP8","Int8Array","HEAP16","Int16Array","HEAP32","HEAPU16","HEAPF64","Float64Array","$a","ab","bb","cb","hb","preRun","shift","unshift","mb","ib","jb","kb","onAbort","RuntimeError","lb","nb","locateFile","ob","name","message","qb","rb","sb","tb","fromWireType","ub","vb","wb","yb","zb","Ab","stack","create","Bb","Cb","Db","Eb","Fb","TypeError","Gb","Hb","Ib","T","Kf","Jb","Cd","Md","Gd","Kb","Lb","Mb","Rd","Wd","ae","Kd","Nb","Yd","yf","Ob","Pb","Qb","xe","Rb","Sb","ac","bc","FinalizationRegistry","unregister","register","cc","dc","Od","ve","ec","ig","fc","ye","Ef","Ie","Rf","gc","hc","Ye","ic","jc","Ne","Ze","Me","Xf","clone","Sf","kc","lc","mc","Qf","mf","toWireType","Vd","nc","oc","qc","pc","sc","tc","uc","vc","wc","xc","yc","zc","Ic","Jc","$e","Kc","Lc","Mc","Nc","Oc","Pc","Qc","Rc","Sc","Tc","Uc","Vc","Wc","Xc","bd","Yc","ad","hrtime","performance","now","fd","gd","hd","jd","kd","ld","md","nd","od","pd","qd","rd","sd","V","td","gg","W","Ad","Bd","getParameter","clz32","Y","xf","He","getUniformLocation","nf","USER","LOGNAME","PATH","PWD","HOME","LANG","navigator","languages","_","InternalError","BindingError","isAliasOf","Ge","getPrototypeOf","isDeleted","deleteLater","getInheritedInstanceCount","keys","getLiveInheritedInstances","flushPendingDeletes","setDelayFunction","Ff","gf","argPackAdvance","readValueFromPointer","deleteObject","$b","vf","pointerType","UnboundTypeError","count_emval_handles","get_first_emval","kf","If","Vf","Gf","Hf","Uf","Wf","Af","read","write","i","ee","Symbol","className","values","s","o","ArrayBuffer","Mf","$c","Zc","pb","activeTexture","attachShader","bindAttribLocation","Xe","we","bindBuffer","_b","bindFramebuffer","bindRenderbuffer","bindSampler","bindTexture","blendColor","blendEquation","blendFunc","blitFramebuffer","bufferData","bufferSubData","checkFramebufferStatus","$","clearColor","clearStencil","clientWaitSync","colorMask","compileShader","compressedTexImage2D","compressedTexSubImage2D","copyTexSubImage2D","ga","createProgram","Qe","Oe","Pe","bf","createShader","cullFace","deleteBuffer","deleteFramebuffer","deleteProgram","deleteRenderbuffer","deleteSampler","deleteShader","deleteSync","deleteTexture","depthMask","disable","disableVertexAttribArray","drawArrays","drawArraysInstancedBaseInstanceWEBGL","drawElements","drawElementsInstancedBaseVertexBaseInstanceWEBGL","enable","enableVertexAttribArray","fenceSync","finish","framebufferRenderbuffer","framebufferTexture2D","frontFace","generateMipmap","getBufferParameter","getError","getFramebufferAttachmentParameter","WebGLRenderbuffer","WebGLTexture","getProgramInfoLog","getProgramParameter","getActiveUniform","getActiveAttrib","getActiveUniformBlockName","getRenderbufferParameter","getShaderInfoLog","getShaderPrecisionFormat","rangeMin","rangeMax","getShaderSource","getShaderParameter","pf","size","invalidateFramebuffer","invalidateSubFramebuffer","isSync","isTexture","linkProgram","multiDrawArraysInstancedBaseInstanceWEBGL","multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL","pixelStorei","readBuffer","renderbufferStorage","renderbufferStorageMultisample","samplerParameteri","scissor","shaderSource","stencilFunc","stencilFuncSeparate","stencilMask","stencilMaskSeparate","stencilOp","stencilOpSeparate","texImage2D","texParameterf","texParameteri","texStorage2D","texSubImage2D","_a","uniform1f","uniform1fv","uniform1i","uniform1iv","uniform2f","uniform2fv","uniform2i","uniform2iv","uniform3f","uniform3fv","uniform3i","uniform3iv","uniform4f","uniform4fv","uniform4i","uniform4iv","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv","useProgram","vertexAttrib1f","vertexAttrib2f","vertexAttrib3f","vertexAttrib4f","vertexAttribIPointer","vertexAttribPointer","viewport","waitSync","grow","onExit","j","getFullYear","getMonth","getDate","getDay","Date","fe","ge","getTime","setDate","setMonth","setFullYear","eg","dg","Re","af","Se","Zd","kg","cg","fg","asm","_c","monitorRunDependencies","clearInterval","instance","fetch","credentials","then","ok","arrayBuffer","catch","resolve","instantiate","instantiateWasm","instantiateStreaming","___getTypeName","calledRun","postRun","setStatus","setTimeout","__embind_initialize_bindings","dynCall_viji","id","dynCall_vijiii","dynCall_viiiiij","dynCall_ji","dynCall_jii","dynCall_iiij","dynCall_iiiij","dynCall_viij","dynCall_viiij","dynCall_iij","dynCall_vij","dynCall_jiiii","dynCall_jiiiiii","dynCall_jiiiiji","dynCall_iijj","dynCall_jiji","dynCall_viijii","dynCall_iiiiij","dynCall_iiiiijj","dynCall_iiiiiijj","preInit","proj4","job","tilePieceBoundingBox","JSON","parse","tileBoundingBox","imageData","sourceImageData","conversion","latitude","defs","projectionTo","projectionToDefinition","projectionFrom","projectionFromDefinition","row","_maxLatitude","tileHeightUnitsPerPixel","column","longitude","_minLongitude","tileWidthUnitsPerPixel","projected","forward","projectedLongitude","projectedLatitude","xPixel","tile_width","_maxLongitude","pixel_x_size","yPixel","pixel_y_size","tile_height","sliceStart","color","TileUtilities","static","pixelXSize","pixelYSize","Projection","maxLatitude","minLatitude","minLongitude","maxLongitude","toUpperCase","ProjectionConstants","negative180","positive180","pieceBoundingBoxInTileProjectionSW","inverse","pieceBoundingBoxInTileProjectionNE","pieceBBProjected","startY","startX","endY","endX","ProjectTile","tileWorker","postMessage","onmessage","meta_1","bbox","geojson","result","coordEach","coord","invariant_1","line","prev","cur","ring","getCoords","sum","inRing","pt","ignoreBoundary","isInside","xi","yi","xj","yj","point","polygon","options","getCoord","geom","getGeom","type","polys","coordinates","inBBox","insidePoly","inHole","isPointOnLineSegment","lineSegmentStart","lineSegmentEnd","excludeBoundary","epsilon","x1","y1","x2","y2","dxl","dyl","ptCoords","lineCoords","ignoreEndVertices","__importDefault","mod","__esModule","bbox_1","boolean_point_on_line_1","boolean_point_in_polygon_1","doBBoxOverlap","bbox1","bbox2","compareCoords","pair1","pair2","feature1","feature2","geom1","geom2","type1","type2","multiPoint","output","isPointInMultiPoint","default","multiPoint1","multiPoint2","anyMatch","i2","isMultiPointInMultiPoint","lineString","foundInsidePoint","isMultiPointOnLine","isMultiPointInPoly","lineString1","lineString2","isLineOnLine","linestring","midpoint","isLineInPoly","geometry1","geometry2","poly1Bbox","isPolyInPoly","helpers_1","to","coordinates1","coordinates2","dLat","degreesToRadians","dLon","lat1","lat2","pow","radiansToLength","atan2","units","feature","properties","feat","geometry","isNumber","_i","coordinates_1","featureCollection","features","multiLineString","multiPolygon","radians","factor","factors","lengthToRadians","distance","radiansToDegrees","num","earthRadius","centimeters","centimetres","degrees","feet","inches","kilometers","kilometres","meters","metres","miles","millimeters","millimetres","nauticalmiles","yards","unitsFactors","areaFactors","acres","hectares","_options","points","coords","polygons","lineStrings","geometryCollection","geometries","multiplier","lengthToDegrees","bearingToAzimuth","bearing","convertLength","originalUnit","finalUnit","convertArea","area","startFactor","finalFactor","isObject","input","validateBBox","validateId","polygon_clipping_1","poly1","poly2","intersection","containsNumber","geojsonType","featureOf","collectionOf","getType","_name","line_segment_1","geojson_rbush_1","intersects","line1","line2","coords1","coords2","x3","y3","x4","y4","denom","uA","uB","unique","results","intersect","tree","load","featureEach","segment","search","key","flattenEach","segments","previousCoords","currentCoords","createSegments","lineSegmentFeature","helpers","callback","excludeWrapCoord","stopG","geometryMaybeCollection","isGeometryCollection","wrapShrink","coordIndex","isFeatureCollection","isFeature","stop","featureIndex","geomIndex","multiFeatureIndex","geometryIndex","geomType","propEach","geomEach","featureProperties","featureBBox","featureId","segmentEach","segmentIndex","previousFeatureIndex","previousMultiIndex","prevGeomIndex","currentCoord","featureIndexCoord","multiPartIndexCoord","currentSegment","lineEach","coordAll","coordReduce","initialValue","previousValue","featureReduce","currentFeature","findPoint","findSegment","flattenReduce","geomReduce","currentGeometry","lineReduce","currentLine","propReduce","currentProperties","segmentReduce","started","distance_1","rhumb_distance_1","calcDistance","method","c1","c2","b2","distanceToSegment","polygonToLine","poly","coordsToLine","multiPolygonToLine","multiPoly","lines","origin","destination","distanceInMeters","radius","phi1","phi2","DeltaPhi","DeltaLambda","DeltaPsi","calculateRhumbDistance","objectAssign","compare","len","isBuffer","_isBuffer","util","hasOwn","pSlice","functionsHaveNames","pToString","obj","isView","arrbuf","DataView","assert","regex","getName","func","isFunction","truncate","something","rawname","fail","actual","expected","operator","stackStartFunction","AssertionError","_deepEqual","strict","memos","isDate","isRegExp","source","global","multiline","lastIndex","ignoreCase","actualIndex","actualVisitedObjects","isPrimitive","aIsArgs","isArguments","bIsArgs","objectKeys","sort","objEquiv","object","expectedException","test","isPrototypeOf","_throws","shouldThrow","block","error","_tryBlock","userProvidedMessage","isUnexpectedException","isError","generatedMessage","getMessage","captureStackTrace","err","out","fn_name","idx","next_line","inherits","equal","notEqual","deepEqual","deepStrictEqual","notDeepEqual","notDeepStrictEqual","strictEqual","notStrictEqual","throws","doesNotThrow","ifError","ctor","superCtor","super_","configurable","TempCtor","arg","readUInt8","formatRegExp","format","isString","objects","args","str","stringify","isNull","deprecate","fn","msg","isUndefined","noDeprecation","warned","throwDeprecation","traceDeprecation","trace","debugEnviron","debugs","opts","ctx","seen","stylize","stylizeNoColor","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","styles","recurseTimes","ret","primitive","simple","formatPrimitive","visibleKeys","array","hash","val","arrayToHash","getOwnPropertyNames","formatError","base","braces","toUTCString","formatProperty","formatArray","reduceToSingleString","desc","getOwnPropertyDescriptor","ar","objectToString","pad","debuglog","env","NODE_DEBUG","pid","isNullOrUndefined","isSymbol","months","prop","time","getHours","getMinutes","getSeconds","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","arr","Arr","_byteLength","curByte","revLookup","fromByteArray","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","code","start","end","base64","ieee754","customInspectSymbol","SlowBuffer","alloc","INSPECT_MAX_BYTES","K_MAX_LENGTH","createBuffer","RangeError","buf","setPrototypeOf","encodingOrOffset","allocUnsafe","string","encoding","isEncoding","fromString","arrayView","isInstance","fromArrayBuffer","fromArrayLike","fromArrayView","SharedArrayBuffer","valueOf","checked","numberIsNaN","fromObject","toPrimitive","assertSize","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","base64Write","ucs2Write","hi","lo","utf16leToBytes","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","decodeCodePointsArray","kMaxLength","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","poolSize","allocUnsafeSlow","list","pos","swap16","swap32","swap64","toLocaleString","equals","target","thisStart","thisEnd","thisCopy","targetCopy","toJSON","_arr","hexSliceLookupTable","bytes","checkOffset","ext","checkInt","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeIntLE","limit","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","INVALID_BASE64_RE","leadSurrogate","base64clean","dst","alphabet","table","i16","times","functions","label","duration","expression","tuple","objectCreate","context","EventEmitter","_events","_eventsCount","_maxListeners","hasDefineProperty","defaultMaxListeners","$getMaxListeners","that","_addListener","listener","prepend","events","existing","newListener","emit","emitter","onceWrapper","fired","removeListener","wrapFn","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","setMaxListeners","getMaxListeners","er","handler","doError","isFn","listeners","emitNone","arg1","emitOne","arg2","emitTwo","arg3","emitThree","emitMany","addListener","prependListener","once","prependOnceListener","position","originalListener","index","spliceOne","removeAllListeners","rawListeners","eventNames","Reflect","ownKeys","Token","strtok3","supported","minimumBytes","async","fromStream","stream","tokenizer","fromTokenizer","fromBuffer","_check","headers","header","entries","mask","_fromTokenizer","EndOfStreamError","check","checkString","stringToBytes","fileInfo","MAX_SAFE_INTEGER","peekBuffer","mayBeLess","mime","ignore","id3HeaderLen","readToken","uint32SyncSafeToken","zipHeader","compressedSize","uncompressedSize","filenameLength","extraFieldLength","filename","StringType","endsWith","nextHeaderIndex","brandMajor","maxBufferSize","readField","msb","peekNumber","UINT8","readElement","lenField","nrLen","readChildren","level","children","readChunkHeader","INT32_BE","chunk","readHeader","guid","UINT64_LE","payload","typeId","jsonSize","files","tarHeaderChecksumMatches","readableStream","reject","eval","pass","PassThrough","outputStream","pipeline","pipe","fileType","Set","extensions","mimeTypes","core","fromFile","path","character","readSum","rbush","meta","turfBBox","geojsonRbush","maxEntries","insert","remove","toBBox","collides","all","fromJSON","json","minX","minY","maxX","maxY","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","LN2","types_1","typeHandlers","firstBytes","detector","byte","validate","find","FileHandle","stat","fstat","stats","filepath","flags","__awaiter","thisArg","_arguments","generator","fulfilled","step","rejected","done","queue_1","detector_1","MaxBufferSize","queue","concurrency","autostart","calculate","imageSize","descriptor","openSync","fstatSync","bufferSize","readSync","closeSync","syncFileToBuffer","handle","promises","asyncFileToBuffer","nextTick","setConcurrency","types","readUInt","bits","isBigEndian","bmp_1","cur_1","dds_1","gif_1","icns_1","ico_1","j2c_1","jp2_1","jpg_1","ktx_1","png_1","pnm_1","psd_1","svg_1","tiff_1","webp_1","bmp","BMP","CUR","dds","DDS","gif","GIF","icns","ICNS","ico","ICO","j2c","J2C","jp2","JP2","jpg","JPG","ktx","KTX","png","pnm","PNM","psd","PSD","svg","SVG","tiff","TIFF","webp","WEBP","gifRegexp","signature","ENTRY_LENGTH_OFFSET","ICON_TYPE_SIZE","ICON","icm4","icm8","ics4","ics8","is32","s8mk","icp4","icl4","icl8","il32","l8mk","icp5","ic11","ich4","ich8","ih32","h8mk","icp6","ic12","it32","t8mk","ic07","ic08","ic13","ic09","ic14","ic10","readImageHeader","imageOffset","imageLengthOffset","getImageSize","bufferLength","fileLength","imageHeader","images","SIZE_HEADER","SIZE_IMAGE_ENTRY","getSizeFromOffset","imageIndex","nbImages","imgs","parseIHDR","box","signatureLength","ftypeBoxStart","ftypBoxLength","unit","calculateRREQLength","readUInt_1","EXIF_MARKER","APP1_DATA_SIZE_BYTES","EXIF_HEADER_BYTES","TIFF_BYTE_ALIGN_BYTES","BIG_ENDIAN_BYTE_ALIGN","LITTLE_ENDIAN_BYTE_ALIGN","IDF_ENTRY_BYTES","NUM_DIRECTORY_ENTRIES_BYTES","isEXIF","extractSize","validateExifBlock","exifBlock","byteAlign","idfDirectoryEntries","directoryEntryNumber","extractOrientation","validateBuffer","orientation","pngFriedChunkName","chunkName","PNMTypes","P1","P2","P3","P4","P5","P6","P7","PF","Signatures","handlers","dimensions","pam","svgReg","extractorRegExps","viewbox","INCH_CM","cm","em","ex","mm","parseLength","parseViewbox","attrs","parseAttributes","calculateByDimensions","ratio","calculateByViewbox","readValue","low","nextTag","signatures","determineEndianness","ifdBuffer","ifdOffset","fileSize","statSync","endBuffer","readIFD","tags","temp","extractTags","riffHeader","webpHeader","vp8Header","chunkHeader","extendedHeader","calculateExtended","calculateLossy","calculateLossless","getNative","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","entry","has","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","Map","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","setCacheAdd","setCacheHas","SetCache","__data__","stackClear","stackDelete","stackGet","stackHas","stackSet","Stack","WeakMap","predicate","resIndex","baseTimes","isIndex","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","iteratee","eq","arrayPush","keysFunc","symbolsFunc","getRawTag","symToStringTag","toStringTag","baseGetTag","isObjectLike","baseIsEqualDeep","baseIsEqual","other","bitmask","customizer","equalArrays","equalByTag","equalObjects","getTag","argsTag","arrayTag","objectTag","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","isMasked","toSource","reIsHostCtor","funcProto","objectProto","funcToString","reIsNative","isLength","typedArrayTags","isPrototype","nativeKeys","baseSortedIndexBy","retHighest","high","MAX_ARRAY_LENGTH","mid","computed","nativeFloor","nativeMin","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","arrayMap","props","cache","coreJsData","arraySome","cacheHas","isPartial","othLength","arrStacked","othStacked","arrValue","othValue","compared","othIndex","mapToArray","setToArray","symbolProto","symbolValueOf","tag","convert","stacked","getAllKeys","objProps","objLength","objStacked","skipCtor","objValue","objCtor","othCtor","freeGlobal","baseGetAllKeys","getSymbols","isKeyable","baseIsNative","getValue","nativeObjectToString","isOwn","unmasked","arrayFilter","stubArray","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","symbol","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","Ctor","ctorString","nativeCreate","reIsUint","uid","maskSrcKey","IE_PROTO","assocIndexOf","getMapData","overArg","freeExports","nodeType","freeModule","freeProcess","nodeUtil","binding","freeSelf","pairs","LARGE_ARRAY_SIZE","baseIsArguments","stubFalse","baseIsTypedArray","baseUnary","nodeIsTypedArray","arrayLikeKeys","baseKeys","isArrayLike","baseSortedIndex","baseValues","wrtBigUInt64LE","checkIntBI","BigInt","wrtBigUInt64BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","last","boundsError","readBigUInt64BE","readBigInt64LE","readBigInt64BE","writeBigUInt64LE","writeBigUInt64BE","writeBigInt64LE","writeBigInt64BE","errors","sym","Base","super","addNumericalSeparator","range","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","received","isInteger","BufferBigIntNotDefined","assertPath","normalizeStringPosix","allowAboveRoot","lastSegmentLength","lastSlash","dots","lastSlashIndex","posix","cwd","resolvedPath","resolvedAbsolute","isAbsolute","trailingSeparator","joined","relative","fromStart","fromEnd","fromLen","toStart","toLen","lastCommonSep","fromCode","_makeLong","hasRoot","matchedSlash","basename","extIdx","firstNonSlashEnd","extname","startDot","startPart","preDotState","pathObject","sep","_format","delimiter","win32","propIsEnumerable","test1","test2","test3","letter","shouldUseNative","symbols","toObject","endianness","hostname","loadavg","uptime","freemem","MAX_VALUE","totalmem","cpus","release","appVersion","networkInterfaces","getNetworkInterfaces","arch","platform","tmpdir","tmpDir","EOL","homedir","Deferred","promise","defaultMessages","StreamReader","EndOfFileStream_1","Deferred_1","EndOfFileStream_2","deferred","endOfStream","peekQueue","uint8Array","bytesRead","peekData","lenCopy","reqLen","chunkLen","readFromStream","request","readDeferred","StreamReader_1","_classCallCheck","Constructor","_defineProperties","_createClass","protoProps","staticProps","Node","left","right","DEFAULT_COMPARE","splay","comparator","cmp","printRow","prefix","isTail","printNode","indent","Tree","_root","_size","_comparator","_remove","findStatic","current","visitor","minNode","maxNode","at","successor","predecessor","toList","head","presort","loadRecursive","mergedList","l1","l2","p1","p2","mergeLists","createList","sortedListToBST","update","newKey","newData","merge","middle","pivot","isInBbox","ll","ur","getBboxOverlap","b1","lowerX","upperX","EPSILON","EPSILON_SQ","PtRounder","reset","xRounder","CoordRounder","yRounder","prevNode","nextNode","rounder","crossProduct","dotProduct","compareVectorAngles","basePt","endPt1","endPt2","v1","v2","kross","cosineOfAngle","pShared","pBase","pAngle","vBase","vAngle","horizontalIntersection","verticalIntersection","SweepEvent","isLeft","ptCmp","comparePoints","link","Segment","aPt","bPt","otherEvents","iMax","evt","checkForConsuming","numEvents","evt1","consumedBy","evt2","otherSE","consume","ringOut","isInResult","baseEvent","_this","fillCache","linkedEvent","nextEvent","sine","cosine","_cache$get","asine","acosine","_cache$get2","bsine","bcosine","segmentId","leftSE","rightSE","rings","windings","alx","blx","arx","brx","aly","bly","ary","bry","aCmpBLeft","comparePoint","bCmpARight","bCmpALeft","aCmpBRight","_bCmpARight","_aCmpBRight","ay","ax","by","bx","newRightSE","isAnEndpoint","lPt","rPt","vector","yDist","xFromYDist","xDist","yFromXDist","tBbox","oBbox","bboxOverlap","tlp","trp","olp","orp","touchesOtherLSE","touchesThisLSE","touchesOtherRSE","touchesThisRSE","pt1","pt2","d1","d2","newEvents","alreadyLinked","newLeftSE","oldRightSE","replaceRightSE","newSeg","swapEvents","tmpEvt","consumer","consumee","_tmp","winding","_prevInResult","prevInResult","_beforeState","seg","afterState","multiPolys","_afterState","beforeState","ringsAfter","windingsAfter","mpsAfter","polysAfter","polysExclude","_iMax","_ring","isExterior","_index","_i2","_iMax2","mp","_isInResult","mpsBefore","operation","noBefores","noAfters","least","most","numMultiPolys","diff","isJustSubject","mps","isSubject","leftPt","rightPt","cmpPts","RingIn","geomRing","firstPoint","prevPoint","fromRing","sweepEvents","PolyIn","geomPoly","exteriorRing","interiorRings","getSweepEvents","ringSweepEvents","jMax","MultiPolyIn","POSITIVE_INFINITY","NEGATIVE_INFINITY","polySweepEvents","RingOut","allSegments","ringsOut","prevEvent","event","startingPoint","intersectionLEs","availableLEs","getAvailableLinkedEvents","firstPt","lastPt","indexLE","getLeftmostComparator","intersectionLE","ringEvents","reverse","prevPt","_pt","_nextPt","nextPt","isExteriorRing","iStart","iEnd","orderedPoints","_isExteriorRing","enclosing","enclosingRing","_enclosingRing","_calcEnclosingRing","leftMostEvt","prevSeg","prevPrevSeg","PolyOut","ringGeom","MultiPolyOut","_composePolys","polyGeom","addInterior","SweepLine","nextSeg","prevMySplitter","prevInter","getIntersection","newEventsFromSplit","_splitSafely","nextMySplitter","nextInter","_newEventsFromSplit","mySplitter","_newEventsFromSplit2","inter","_newEventsFromSplit3","_i3","_iMax3","_newEventsFromSplit4","_i4","_iMax4","POLYGON_CLIPPING_MAX_QUEUE_SIZE","POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS","Operation","moreGeoms","multipolys","subject","mpA","_j","_jMax","sweepLine","prevQueueSize","_evt","union","_len","_key","run","_len2","_key2","xor","_len3","_key3","difference","subjectGeom","_len4","clippingGeoms","_key4","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","marker","runClearTimeout","Item","noop","title","browser","off","chdir","umask","PJD_3PARAM","PJD_7PARAM","PJD_GRIDSHIFT","PJD_NODATUM","SRS_WGS84_SEMIMAJOR","SRS_WGS84_SEMIMINOR","SRS_WGS84_ESQUARED","SEC_TO_RAD","HALF_PI","SIXTH","RA4","RA6","EPSLN","D2R","R2D","FORTPI","TWO_PI","SPI","ft","to_meter","ignoredChar","testkey","lkey","defData","paramName","paramVal","paramOutname","paramObj","params","proj","datum","lat_0","lat0","lat_1","lat_2","lat_ts","lon_0","long0","lon_1","long1","lon_2","long2","gamma","rectified_grid_angle","lonc","longc","x_0","x0","y_0","y0","k_0","k0","r_a","R_A","zone","south","utmSouth","towgs84","datum_params","from_greenwich","pm","nadgrids","datumCode","axis","legalAxis","approx","txt","Parser","NEUTRAL","whitespace","latin","keyword","endThings","digets","text","place","currentObject","mapit","thing","newObj","item","sExpr","readCharicter","char","neutral","quoted","afterquote","number","word","afterItem","newObjects","d2r","wkt","lisp","parser","projName","local","PROJECTION","AXIS","axisOrder","ii","UNIT","DATUM","SPHEROID","geogcs","GEOGCS","toMeter","sphere","ellps","TOWGS84","outName","inName","rename","cleanWKT","def","charAt","EPSG","ESRI","IAU2000","WGS84","GOOGLE","codeWords","codes","testObj","testDef","some","testWKT","auth","checkMercator","maybeProjStr","checkProjStr","testProj","property","eccent","sinphi","cosphi","con","sign","phi","com","ts","dphi","eccnth","atan","init","es","msfnz","lon","lat","adjust_lon","tsfnz","exp","phi2z","names","projs","merc","longlat","projStore","ellipseName","datumName","ep2","datum_type","grids","loadedNadgrids","parseNadgridString","optional","mandatory","grid","secondsToRadians","seconds","decodeString","view","mapNodes","nodes","longitudeShift","latitudeShift","readGridHeader","isLittleEndian","parent","lowerLatitude","getFloat64","upperLatitude","lowerLongitude","upperLongitude","latitudeInterval","longitudeInterval","gridNodeCount","getInt32","readGridNodes","gridHeader","nodesOffset","gridShiftRecords","record","getFloat32","latitudeAccuracy","longitudeAccuracy","srsCode","parseCode","ourProj","projections","datumDef","a2","sphere_","ecc","getNadgrids","datumObj","extend","geodeticToGeocentric","Rn","Sin_Lat","Sin2_Lat","Cos_Lat","Longitude","Latitude","Height","geocentricToGeodetic","RR","CT","ST","RX","RK","RN","CPHI0","SPHI0","CPHI","SPHI","SDPHI","iter","checkParams","applyGridShift","attemptedGrids","subgrid","subgrids","del","lim","applySubgridShift","pin","ct","nadInterpolate","dif","inx","indx","frct","f00","cvs","f10","f11","f01","m10","m00","m01","crs","denorm","xin","yin","zin","checkCoord","dest","enforceAxis","wgs84","toPoint","checkSanity","checkNotWGS","adjust_axis","compareDatums","source_a","source_es","dest_a","dest_b","dest_es","Dx_BF","Dy_BF","Dz_BF","Rx_BF","Ry_BF","Rz_BF","M_BF","geocentricToWgs84","x_tmp","y_tmp","z_tmp","geocentricFromWgs84","datum_transform","transformer","transformedArray","checkProj","oProj","fromProj","toProj","single","NUM_100K_SETS","SET_ORIGIN_COLUMN_LETTERS","SET_ORIGIN_ROW_LETTERS","mgrs","UTMtoLL","bottom","top","accuracy","utm","colOrigin","rowOrigin","colInt","rowInt","rollover","easting","northing","setParm","seasting","snorthing","zoneNumber","zoneLetter","get100kSetForZone","encode","eccPrimeSquared","LongOriginRad","ZoneNumber","Lat","Long","eccSquared","LatRad","degToRad","LongRad","LetterDesignator","UTMEasting","UTMNorthing","LLtoUTM","deg","radToDeg","rad","N1","T1","C1","R1","LongOrigin","mu","phi1Rad","e1","topRight","mgrsString","testChar","hunK","east100k","curCol","eastingValue","rewindMarker","getEastingFromChar","north100k","curRow","northingValue","getNorthingFromChar","getMinNorthing","remainder","accuracyBonus","sepEastingString","sepNorthingString","sepEasting","sepNorthing","Point","fromMGRS","mgrsStr","toMGRS","C00","C02","C04","C06","C08","C22","C44","C46","C48","C66","C68","C88","en","sphi","cphi","MAX_ITER","pj_mlfn","pj_enfn","ml0","delta_lon","sin_phi","cos_phi","al","als","cs","tq","ml","acos","pj_inv_mlfn","tan_phi","ds","asin","pp","cos_2B","h1","h2","arg_r","arg_i","hr2","hi2","sin_arg_r","cos_arg_r","sinh_arg_i","sinh","cosh_arg_i","cosh","hr","hi1","hr1","tmerc","cgb","cbg","utg","gtu","np","Qn","gatg","clens","Cn","sin_Cn","cos_Cn","sin_Ce","cos_Ce","hypot","log1py","asinhy","clens_cmplx","adjust_zone","etmerc","dependsOn","esinp","phic0","ratexp","srat","gauss","sinc0","cosc0","R2","sinc","cosc","cosl","rho","coslat0","sinlat0","cons","ms1","X0","ssfn_","cosX0","sinX0","sinX","cosX","rh","sinlat","coslat","dlon","Chi","phit","eccen","phy0","lambda0","sinPhy0","semiMajorAxis","flattening","e2","b0","k1","k2","k3","Sa1","Sa2","rotI","rotB","lambda","phy","prevPhy","iteration","TOL","cosph0","sinph0","gamma0","projectionName","lamc","lam1","lam2","alpha_c","no_off","no_rot","alp","gam","one_es","lam0","pi","singam","cosgam","sinrot","cosrot","rB","ArB","BrA","u_0","v_pole_n","v_pole_s","Qp","Sp","Tp","Vp","Up","sin1","cos1","ts1","sin2","cos2","ms2","ts2","ts0","ns","f0","rh1","theta","s45","s90","fi0","alfa","uq","u0","n0","s0","ro0","gfi","deltav","eps","ro","czech","fi1","e0","e3","e0fn","e1fn","e2fn","e3fn","mlfn","lam","nl","gN","tl","asq","cl","imlfn","nl1","rl1","tl1","dl","dsq","adjust_lat","mode","S_POLE","N_POLE","EQUIT","OBLIQ","qp","qsfnz","mmf","apa","APA","authset","rq","xmf","ymf","sinb1","cosb1","coslam","sinlam","sinb","cosb","cCe","sCe","beta","cosz","sinz","sin_po","cos_po","t1","qs1","t2","qs2","t3","qs0","ns0","qs","phi1z","asinz","eccnts","sin_p14","cos_p14","infinity_dist","coslon","iqsfnz","dlat","el","bl","tanphi","mln","mlnp","B_re","B_im","C_re","C_im","delta_lat","d_phi","d_lambda","d_phi_n","d_psi","th_n_im1","th_re","th_im","th_n_re","th_n_im","z_re","z_im","z_n_im1","delta_x","z_n_re","z_n_im","iterations","num_re","num_im","den_re","den_im","den2","d_psi_n","C_y","C_x","delta_theta","ml1","ml2","sinth","costh","gsq","msq","xx","yy","xys","c3","a1","m1","th1","sin_p12","cos_p12","Mlp","Ml","Nl1","Nl","psi","Az","GH","Hs","kp","cos_c","s2","s3","s4","cosAz","sinpsi","FACE_ENUM","AREA_ENUM","AREA_0","AREA_1","AREA_2","AREA_3","qsc_fwd_equat_face_theta","qsc_shift_lon_origin","slon","face","one_minus_f","one_minus_f_squared","xy","sinlon","nu","cosmu","tannu","tantheta","invert_sign","lp","COEFS_X","COEFS_Y","FXC","FYC","RC1","NODES","poly3_val","coefs","f_df","max_err","iters","upd","newton_rapshon","poly3_der","azi","tilt","pn1","rp","pfact","omega","sg","cw","sw","yt","bm","bq","flip_axis","sweep","radius_g_1","radius_g","rone_es","radius_p","radius_p2","radius_p_inv2","shape","v_x","v_y","v_z","det","v_zp","Proj","nFields","detectLittleEndian","nSubgridFields","nSubgrids","shiftType","fromSemiMajorAxis","fromSemiMinorAxis","toSemiMajorAxis","toSemiMinorAxis","subHeader","lngColumnCount","latColumnCount","readSubgrids","nadgrid","sterea","stere","somerc","omerc","lcc","krovak","cass","laea","aea","gnom","cea","eqc","nzmg","mill","sinu","moll","eqdc","vandg","aeqd","ortho","qsc","robin","geocent","tpers","geos","regexp","maxKeys","kstr","vstr","decodeURIComponent","stringifyPrimitive","ks","encodeURIComponent","Queue","pending","session","running","jobs","timers","clearTimers","timeoutId","callOnErrorOrEnd","onend","begin","methodResult","didTimeout","resultIndex","_maxEntries","_minEntries","ceil","leaf","_all","_build","_splitRoot","_insert","_condense","compareMinX","compareMinY","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","_allDistMargin","traverseCoords","traverseGeoJson","geometryCb","nodeCb","attr","detectCrs","crsInfo","determineCrs","reproject","transformFunc","transformed","gj","_gj","calcBbox","toWgs84","initSqlJsPromise","initSqlJs","moduleConfig","resolveModule","Module","originalOnAbortFunction","errorThatCausedAbort","random","handleError","cwrap","getBlob","useBigInt","getColumnNames","getAsObject","getSQL","getNormalizedSQL","free","getRemainingSQL","iterator","prepare","columns","each","iterateStatements","getRowsModified","create_function","parameters","Instance","Database","preloadedImages","preloadedAudios","rdev","tty","seekable","timestamp","stdin","prompt","readline","createNode","unlink","rmdir","readdir","symlink","file","readlink","dev","ino","nlink","gid","atime","mtime","ctime","blocks","logReadFiles","defineProperties","crypto","getRandomValues","randomBytes","getTimezoneOffset","toTimeString","fsync","___wasm_call_ctors","_sqlite3_free","_sqlite3_value_double","_sqlite3_value_text","___errno_location","_sqlite3_prepare_v2","_sqlite3_step","_sqlite3_finalize","_sqlite3_reset","_sqlite3_value_int","_sqlite3_clear_bindings","_sqlite3_value_blob","_sqlite3_value_bytes","_sqlite3_value_type","_sqlite3_result_blob","_sqlite3_result_double","_sqlite3_result_error","_sqlite3_result_int","_sqlite3_result_int64","_sqlite3_result_null","_sqlite3_result_text","_sqlite3_sql","_sqlite3_column_count","_sqlite3_data_count","_sqlite3_column_blob","_sqlite3_column_bytes","_sqlite3_column_double","_sqlite3_column_text","_sqlite3_column_type","_sqlite3_column_name","_sqlite3_bind_blob","_sqlite3_bind_double","_sqlite3_bind_int","_sqlite3_bind_text","_sqlite3_bind_parameter_index","_sqlite3_normalized_sql","_sqlite3_errmsg","_sqlite3_exec","_sqlite3_changes","_sqlite3_close_v2","_sqlite3_create_function_v2","_sqlite3_open","_RegisterExtensionFunctions","_emscripten_builtin_memalign","stackSave","stackRestore","stackAlloc","noFSInit","stdout","stderr","UTF8ToString","copyProps","SafeBuffer","getSqSegDist","dx","dy","simplifyDPStep","sqTolerance","simplified","maxSqDist","sqDist","simplifyDouglasPeucker","tolerance","highestQuality","newPoints","simplifyRadialDist","ClientRequest","statusCodes","url","http","defaultProtocol","protocol","host","port","req","IncomingMessage","Agent","defaultMaxSockets","globalAgent","STATUS_CODES","METHODS","xhr","getXHR","XDomainRequest","checkTypeSupport","ReadableStream","writableStream","WritableStream","abortController","AbortController","arraybuffer","msstream","mozchunkedarraybuffer","overrideMimeType","capability","rStates","readyStates","preferBinary","Writable","_opts","_body","_headers","setHeader","useFetch","_mode","decideMode","_fetchTimer","_socketTimeout","_socketTimer","_onFinish","lowerName","unsafeHeaders","getHeader","removeHeader","_destroyed","headersObj","body","Blob","headersList","keyName","signal","controller","_fetchAbortController","requestTimeout","abort","withCredentials","_fetchResponse","_resetTimers","_connect","reason","_xhr","ontimeout","setRequestHeader","_response","onreadystatechange","readyState","LOADING","DONE","_onXHRProgress","onprogress","statusValid","_write","destroy","flushHeaders","setNoDelay","setSocketKeepAlive","UNSENT","OPENED","HEADERS_RECEIVED","resetTimers","Readable","rawHeaders","trailers","rawTrailers","statusCode","statusMessage","statusText","_resumeFetch","pipeTo","reader","getReader","_pos","responseURL","getAllResponseHeaders","matches","_charset","mimeType","charsetMatch","_read","MSStreamReader","readAsArrayBuffer","createErrorType","NodeError","_Base","subClass","superClass","__proto__","oneOf","determiner","this_len","Duplex","allowHalfOpen","readable","_writableState","ended","onEndNT","highWaterMark","getBuffer","_readableState","destroyed","Transform","ReadableState","EElistenerCount","Stream","OurUint8Array","debugUtil","debug","BufferList","destroyImpl","getHighWaterMark","_require$codes","ERR_STREAM_PUSH_AFTER_EOF","ERR_METHOD_NOT_IMPLEMENTED","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","StringDecoder","createReadableStreamAsyncIterator","errorOrDestroy","kProxyEvents","isDuplex","objectMode","readableObjectMode","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","paused","emitClose","autoDestroy","defaultEncoding","awaitDrain","readingMore","decoder","_destroy","readableAddChunk","addToFront","skipChunkCheck","emitReadable","emitReadable_","onEofChunk","chunkInvalid","_uint8ArrayToBuffer","addChunk","maybeReadMore","_undestroy","undestroy","isPaused","setEncoding","enc","content","MAX_HWM","howMuchToRead","computeNewHighWaterMark","flow","maybeReadMore_","updateReadableListening","resume","nReadingNextTick","resume_","fromList","endReadable","endReadableNT","wState","finished","xs","nOrig","doRead","pipeOpts","endFn","unpipe","onunpipe","unpipeInfo","hasUnpiped","onclose","onfinish","ondrain","ondata","cleanedUp","needDrain","pipeOnDrain","pause","dests","ev","wrap","asyncIterator","_fromList","iterable","ERR_MULTIPLE_CALLBACK","ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_WITH_LENGTH_0","afterTransform","_transformState","transforming","writecb","writechunk","rs","needTransform","writeencoding","prefinish","err2","CorkedRequest","corkReq","pendingcb","onCorkedFinish","corkedRequestsFree","WritableState","internalUtil","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_DESTROYED","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","nop","writableObjectMode","finalCalled","ending","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writelen","onwriteStateUpdate","finishMaybe","errorEmitted","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","realHasInstance","writev","_writev","final","_final","doWrite","onwriteDrain","holder","allBuffers","isBuf","callFinal","need","rState","hasInstance","writeAfterEnd","validChunk","newChunk","decodeChunk","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","kLastResolve","kLastReject","kError","kEnded","kLastPromise","kHandlePromise","kStream","createIterResult","readAndResolve","onReadable","AsyncIteratorPrototype","ReadableStreamAsyncIteratorPrototype","lastPromise","wrapForNext","return","enumerableOnly","_objectSpread","_defineProperty","getOwnPropertyDescriptors","hint","prim","_toPrimitive","_toPropertyKey","custom","tail","hasStrings","_getString","_getBuffer","emitErrorAndCloseNT","emitErrorNT","emitCloseNT","readableDestroyed","writableDestroyed","ERR_STREAM_PREMATURE_CLOSE","eos","called","onlegacyfinish","writableEnded","readableEnded","onrequest","isRequest","ERR_MISSING_ARGS","streams","popCallback","destroys","closed","destroyer","ERR_INVALID_OPT_VALUE","duplexKey","hwm","highWaterMarkFrom","nenc","retried","_normalizeEncoding","normalizeEncoding","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","utf8CheckExtraBytes","total","utf8CheckIncomplete","AbstractTokenizer","peek_readable_1","numBuffer","token","bytesLeft","normalizeOptions","BufferTokenizer","AbstractTokenizer_1","normOptions","bytes2read","FileTokenizer","sourceFilePath","isFile","writeFileSync","writeFile","createReadStream","pathExists","existsSync","_buffer","ReadStreamTokenizer","streamReader","skipBytes","skipBuffer","peek","bufSize","totBytesRead","ReadStreamTokenizer_1","BufferTokenizer_1","FileTokenizer_1","core_1","AnsiStringType","BufferType","Uint8ArrayType","IgnoreType","Float80_LE","Float80_BE","Float64_LE","Float64_BE","Float32_LE","Float32_BE","Float16_LE","Float16_BE","INT64_BE","UINT64_BE","INT64_LE","INT32_LE","INT24_BE","INT24_LE","INT16_LE","INT16_BE","INT8","UINT32_BE","UINT32_LE","UINT24_BE","UINT24_LE","UINT16_BE","UINT16_LE","dv","getUint8","put","setUint8","getUint16","setUint16","dataView","getUint32","setUint32","getInt8","setInt8","getInt16","setInt16","unsigned","setInt32","getBigUint64","setBigUint64","getBigInt64","setBigInt64","setFloat32","setFloat64","until","codePointToString","singleByteDecoder","cp","bite","inRange","windows1252","gppathOrByteArray","GeoPackageValidate","validateGeoPackageExtension","initializeAdapter","GeoPackageConnection","connect","connection","geoPackage","GeoPackage","gppath","mkdirSync","setApplicationId","createRequiredTables","createSupportedExtensions","GeoPackageAPI","dataType","notNull","defaultValue","primaryKey","autoincrement","createColumn","AttributesColumn","createPrimaryKeyColumn","UserTableDefaults","DEFAULT_AUTOINCREMENT","GeoPackageDataType","INTEGER","UserColumn","tableName","updateColumns","AttributesColumns","getTableName","getColumns","isCustom","UserColumns","contents","_table","newRow","columnTypes","AttributesRow","readTable","getAttributeDao","UserDao","AttributesDao","attributeTable","UserRow","setContents","data_type","ContentsDataType","ATTRIBUTES","UserTable","AttributesTable","table_name","readAttributeTable","database","createTable","tableColumn","UserTableReader","AttributesTableReader","minLongitudeOrBoundingBox","BoundingBox","_minLatitude","_width","_height","buildEnvelope","toGeoJSON","boundingBox","projectBoundingBox","isWebMercator","isWGS84","WEB_MERCATOR_MAX_LAT_RANGE","WEB_MERCATOR_MIN_LAT_RANGE","WEB_MERCATOR_MAX_LON_RANGE","WEB_MERCATOR_MIN_LON_RANGE","toConverter","isConverter","getConverter","fromConverter","convertersMatch","nw","registerCanvasAdapter","adapter","adapterInitialized","isInitialized","initialize","checkCanvasAdapter","createImage","contentType","disposeCanvas","fontFace","fontSize","fontColor","scaleImage","image","scaleImageToDimensions","scaledWidth","scaledHeight","disposeImage","setCanvasKitWasmLocateFile","CanvasKitCanvasAdapter","canvasKitWasmLocateFile","setCanvasKit","CanvasKit","initialized","CanvasUtils","base64toUInt8Array","font","ids","paint","fillStyle","textBaseline","textWidth","HtmlCanvasAdapter","createObjectURL","crossOrigin","textAlign","OffscreenCanvasAdapter","blob","createImageBitmap","transferToImageBitmap","convertToBlob","FileReader","addEventListener","readAsDataURL","initializeContext","registerSqliteAdapter","registerDbAdapter","SqliteAdapter","SqljsAdapter","setupNodeContext","Context","setupBrowserContext","setupWebWorkerContext","setupCustomContext","dbAdapter","canvasAdapter","setupDefaultContext","isNode","isBrowser","isWebWorker","Contents","identifier","description","min_x","max_x","min_y","max_y","srs_id","gpkgTableName","ContentsDao","TABLE_NAME","idColumns","COLUMN_PK","createObject","last_change","getTables","tableType","fieldValues","ColumnValues","addColumn","COLUMN_DATA_TYPE","queryForColumns","tableNames","getContentsForTableType","reprojectTo4326","queryForFieldValues","getProjection","EPSG_4326","srs","getSrs","spatialReferenceSystemDao","queryForId","getGeometryColumns","dao","geometryColumnsDao","queryForAllEq","GeometryColumnsDao","COLUMN_TABLE_NAME","getTileMatrixSet","tileMatrixSetDao","TileMatrixSetDao","getTileMatrix","tileMatrixDao","TileMatrixDao","tileMatrices","deleteCascadeContents","fromName","FEATURES","isTableExists","geometryColumns","deleteByMultiId","column_name","TILES","tileMatrixCollection","tileMatrix","zoom_level","tileMatrixSet","deleteById","dropTableWithTableName","deleteCascade","userTable","deleteByIdCascade","deleteTable","COLUMN_IDENTIFIER","COLUMN_DESCRIPTION","COLUMN_LAST_CHANGE","COLUMN_MIN_X","COLUMN_MIN_Y","COLUMN_MAX_X","COLUMN_MAX_Y","COLUMN_SRS_ID","Dao","nameFromType","organization","organization_coordsys_id","EPSG_CODE_4326","EPSG_CODE_3857","definition_12_063","definition","getEPSGConverter","SpatialReferenceSystem","SpatialReferenceSystemDao","srs_name","getAllSpatialReferenceSystems","spatialRefSystems","queryForAll","getByOrganizationAndCoordSysId","organizationCoordSysId","cv","buildWhere","buildWhereArgs","getBySrsId","srsId","projection","createWgs84","columnAndTableExists","createUndefinedCartesian","createUndefinedGeographic","createWebMercator","COLUMN_SRS_NAME","COLUMN_ID","COLUMN_ORGANIZATION","COLUMN_ORGANIZATION_COORDSYS_ID","COLUMN_DEFINITION","columnName","refresh","queryForSameId","whereString","buildPkWhere","whereArgs","buildPkWhereArgs","query","SqliteQueryBuilder","buildQuery","idArray","getMultiId","queryForMultiId","idValues","idValue","where","queryForLike","fieldName","buildWhereLike","queryForChunk","pageSize","page","queryForEach","field","groupBy","having","orderBy","buildWhereWithFieldAndValue","queryJoinWhereWithArgs","countJoinWhereWithArgs","queryWhereWithArgsDistinct","queryWhere","idValuesArray","idColumnValues","fields","_buildWhereArgsWithArray","_buildWhereArgsWithColumnValues","buildCount","countWhere","minOfColumn","maxOfColumn","getId","deleteWhere","deleteAll","sql","buildInsert","insertObject","buildUpdateOrInsertObject","updateWithValues","buildUpdate","updateValues","buildObjectUpdate","multiId","fixColumnName","createOrUpdate","changes","dropTable","CoreSQLUtils","newName","DataColumnConstraints","DataColumnConstraintsDao","COLUMN_CONSTRAINT_NAME","COLUMN_CONSTRAINT_TYPE","COLUMN_VALUE","dcc","constraint_name","constraint_type","min_is_inclusive","max_is_inclusive","queryByConstraintName","constraintName","queryUnique","constraintType","dataColumnConstraints","COLUMN_MIN","COLUMN_MIN_IS_INCLUSIVE","COLUMN_MAX","COLUMN_MAX_IS_INCLUSIVE","ENUM_TYPE","GLOB_TYPE","RANGE_TYPE","DataColumns","mime_type","DataColumnsDao","COLUMN_PK1","COLUMN_PK2","getContents","dataColumns","getDataColumns","dataColumn","COLUMN_COLUMN_NAME","deleteByTableName","COLUMN_NAME","COLUMN_TITLE","COLUMN_MIME_TYPE","alterTableSQL","StringUtils","quoteWrap","renameTable","newTableName","AlterTable","renameTableSQL","renameColumn","newColumnName","renameColumnSQL","columnDef","addColumnSQL","dropColumnForUserTable","dropColumnsForUserTable","columnNames","newTable","dropColumnWithName","tableMapping","TableMapping","getUserColumns","addDroppedColumn","alterTableWithTableMapping","dropColumn","dropColumns","UserCustomTableReader","alterColumnForTable","alterColumnsForTable","alterColumn","alterTable","alterColumns","copyTable","transferContent","copyTableWithName","clearConstraints","columnConstraint","updatedSql","modifySQL","buildSql","addConstraint","RawConstraint","ConstraintParser","tableConstraint","createTableSQL","alterTableWithSQLAndTableMapping","fromTable","isNewTable","enableForeignKeys","setForeignKeys","transaction","views","SQLiteMaster","queryViewsOnTable","SQLiteMasterColumn","NAME","SQL","viewName","dropView","indexesAndTriggers","TYPE","SQLiteMasterType","INDEX","TRIGGER","SQLiteMasterQuery","createForColumnValue","TBL_NAME","transferTable","toTable","tempTableName","isTransferContent","transferTableContentForTableMapping","RTreeIndexDao","PREFIX","tableSql","getSql","viewSql","foreignKeyCheck","violations","violationsMessage","violation","columnSQL","getConstraints","constraint","columnDefinition","hasMax","getMax","buildConstraintSql","foreignKeys","foreignKeysSQL","foreignKeyCheckSQL","foreignKeyCheckForTable","integrityCheckSQL","quickCheckSQL","dropTableSQL","dropViewSQL","transferTableContentSQL","selectColumns","hasWhere","toColumn","hasConstantValue","getConstantValueAsString","hasDefaultValue","fromColumn","getDefaultValueAsString","hasWhereValue","whereOperator","getWhereValueAsString","transferTableContent","newColumnValue","currentColumnValue","idColumnName","tableInfo","TableInfo","info","fromTableInfo","removeColumn","getColumn","constantValue","whereValue","baseName","nameNumber","tableExists","createName","updatedName","replaceName","updatedTable","modifySQLWithTableMapping","droppedColumns","updated","getMappedColumns","hasNewName","replacement","updatedSqlBuilder","beforePart","afterPart","numberPart","NUMBER_PATTERN","vacuum","adapterCreator","filePath","registeredFunctions","export","getDBConnection","setDBConnection","registerFunction","functionDefinition","minStatement","maxStatement","deleteStatement","applicationId","GeoPackageConstants","APPLICATION_ID","USER_VERSION","getApplicationId","application_id","connectWithDatabase","columnDefaultValue","BOOLEAN","booleanValue","TEXT","_toColumn","_fromColumn","_defaultValue","_dataType","_constantValue","_whereValue","setWhereValueAndOperator","_whereOperator","MappedColumn","_columns","_results","_count","cnt","getTypeString","getValueForRowAndColumn","getRootpage","ROOTPAGE","getRow","constraints","TableConstraints","TABLE","hasQuery","hasTypes","buildSQL","getArguments","VIEW","createTableViewQuery","countViewsOnTable","queryForConstraints","tableMaster","addTableConstraints","asArray","combineOperation","queries","validateAdd","addIsNull","addIsNotNull","createOr","createAnd","createForOperationAndColumnValue","createOrForColumnValue","createOrForOperationAndColumnValue","createAndForColumnValue","createAndForOperationAndColumnValue","tmpPath","writeStream","createWriteStream","pragma","getFunctionList","function","statement","iterate","lastInsertRowid","prepareStatement","bindAndInsert","closeStatement","distinct","tables","appendColumnsToString","appendClauseToString","buildInsertFromColumnNames","insertOrUpdate","toDatabaseValue","toISOString","clause","columnToAppend","setSqljsWasmLocateFile","sqljsWasmLocateFile","filebuffer","uInt8Array","rows","lastInsertedId","lastId","rowsModified","quoteName","quoteUnwrap","unquotedName","Constraints","addConstraints","getConstraint","numConstraints","addColumnConstraints","hasConstraints","ColumnConstraints","order","buildNameSql","Constraint","CONSTRAINT","compareTo","getOrder","definitions","openParentheses","sqlStart","constraintSql","getTableConstraint","addTableConstraint","columnConstraints","getColumnConstraints","constraintIndex","part","createConstraint","ConstraintType","getColumnType","startIndex","endIndex","nameAndDefinition","getNameAndDefinition","getTableType","isTableConstraint","isTableType","getColumnConstraint","isColumnConstraint","isColumnType","getTableOrColumnConstraint","isConstraint","NAME_PATTERN","NAME_PATTERN_NAME_GROUP","CONSTRAINT_PATTERN","CONSTRAINT_PATTERN_DEFINITION_GROUP","CONSTRAINT_PATTERN_NAME_GROUP","TABLE_CONSTRAINTS","PRIMARY_KEY","UNIQUE","CHECK","FOREIGN_KEY","COLUMN_CONSTRAINTS","NOT_NULL","DEFAULT","COLLATE","AUTOINCREMENT","tableLookup","addLookups","columnLookup","typedConstraints","insertLocation","addConstraintArray","hasType","getConstraintsForType","constraintsCopy","clearConstraintsByType","defaultValueString","getIndex","getDataType","isDataType","isNotNull","getDefaultValueString","getDefaultValue","isPrimaryKey","isAutoIncrement","TableColumn","getTableConstraints","numTableConstraints","addColumnConstraint","getOrCreateColumnConstraints","addColumnConstraintsMap","getColumnConstraintsMap","getColumnsWithConstraints","numColumnConstraints","addAllConstraints","hasTableConstraints","hasColumnConstraints","hasColumnConstraintsForColumn","namesToColumns","primaryKeys","numColumns","getColumnAtIndex","hasColumn","hasPrimaryKey","getPrimaryKeys","getPrimaryKey","pk","tableColumns","cid","notnull","dflt_value","maxStart","maxString","GeometryType","BLOB","CID","DFLT_VALUE","PK","DEFAULT_NULL","UniqueConstraint","geopackage","createRequired","createSpatialReferenceSystem","createContents","createGeometryColumns","createTileMatrixSet","createTileMatrix","createDataColumns","createDataColumnConstraints","createMetadata","createMetadataReference","createExtensions","createTableIndex","createGeometryIndex","createFeatureTileLink","createExtendedRelations","createContentsId","createTileScaling","creationScriptName","success","scripts","TableCreator","tableCreationScripts","createUserTable","spatial_reference_system","geometry_columns","tile_matrix_set","tile_matrix","data_columns","data_column_constraints","metadata","metadata_reference","table_index","geometry_index","feature_tile_link","extended_relations","contents_id","tile_scaling","fromTableName","toTableName","_transferContent","_droppedColumns","_fromTable","_toTable","addMappedColumn","addColumnWithName","removedColumn","removeDroppedColumn","isDroppedColumn","_where","extensionsDao","extensionDao","getOrCreate","extensionName","scopeType","extension","createExtension","queryByExtensionAndTableNameAndColumnName","hasExtension","hasExtensions","queryAllByExtension","Extension","extension_name","scope","BaseExtension","ContentsId","ContentsIdDao","getTableCreator","getTableNames","tableNameColumns","queryForTableName","contentsIds","contentsIdDao","getOrCreateExtension","ContentsIdExtension","EXTENSION_NAME","EXTENSION_DEFINITION","READ_WRITE","contentsId","getByTableName","getIdByTableName","createWithTableName","createId","createIdWithTableName","getOrCreateId","getOrCreateIdByTableName","contentId","deleteId","deleted","deleteIdByTableName","createIds","missing","getMissing","deleteIds","getIdsByType","contentIds","removeExtension","deleteByExtension","EXTENSION_AUTHOR","EXTENSION_NAME_NO_AUTHOR","CrsWktExtension","extensionDefinition","EXTENSION_CRS_WKT_DEFINITION","EXTENSION_CRS_WKT_AUTHOR","EXTENSION_CRS_WKT_NAME_NO_AUTHOR","setExtensionName","author","buildExtensionName","getAuthorWithExtensionName","getExtensionNameNoAuthor","EXTENSION_NAME_DIVIDER","setTableName","WRITE_ONLY","ExtensionDao","COLUMN_EXTENSION_NAME","queryByExtension","queryByExtensionAndTableName","deleteByExtensionAndTableName","deleteByExtensionAndTableNameAndColumnName","COLUMN_SCOPE","deleteTableExtensions","NGAExtensions","GeoPackageExtensions","deleteRTreeSpatialIndex","deleteRelatedTables","deleteSchema","deleteMetadata","deleteExtensionForTable","deleteExtensions","deleteRTreeSpatialIndexExtension","deleteRelatedTablesExtension","deleteSchemaExtension","deleteMetadataExtension","deleteCrsWktExtension","copyTableExtensions","copyRTreeSpatialIndex","copyRelatedTables","copySchema","copyMetadata","SQLe","rTreeIndexExtension","getRTreeIndexExtension","createWithParameters","RTreeIndex","relatedTablesExtension","getRelatedTableExtension","removeRelationships","extendedRelationsDao","extendedRelationDao","getBaseTableRelations","extendedRelation","mappingTableName","mapping_table_name","RelatedTablesExtension","EXTENSION_RELATED_TABLES_NAME_NO_AUTHOR","newMappingTableName","extendedRelationTableMapping","ExtendedRelationDao","ID","baseTableNameColumn","BASE_TABLE_NAME","mappingTableNameColumn","MAPPING_TABLE_NAME","dataColumnsDao","schemaExtension","SchemaExtension","isTable","dataColumnsTable","readUserCustomTable","nameColumn","getColumnWithColumnName","metadataReferenceDao","metadataExtension","MetadataExtension","MetadataReferenceDao","crsWktExtension","featureDao","FeatureTableIndex","EXTENSION_GEOMETRY_INDEX_DEFINITION","getGeometryColumnName","tableIndexDao","geometryIndexDao","getGeometryIndexDao","rtreeIndexDao","rtreeIndex","rtreeIndexed","progress","indexWithForce","force","indexed","isIndexed","tableIndex","getOrCreateTableIndex","createOrClearGeometryIndicies","indexTable","ngaIndexWithForce","checkOnlyNGA","getFeatureTableIndexExtension","contentsDao","lastChange","last_indexed","ti","TableIndex","clearGeometryIndicies","GeometryIndexDao","indexChunk","updateLastIndexed","fr","indexRow","geomId","geomData","envelope","EnvelopeBuilder","buildEnvelopeWithGeometry","populate","queryWithBoundingBox","queryWithGeometryEnvelope","countWithBoundingBox","countWithGeometryEnvelope","EXTENSION_GEOMETRY_INDEX_AUTHOR","EXTENSION_GEOMETRY_INDEX_NAME_NO_AUTHOR","GeometryIndex","gi","geom_id","min_z","max_z","min_m","max_m","getTableIndex","countByTableName","geometryId","hasZ","minZ","maxZ","hasM","minM","maxM","_generateGeometryEnvelopeQuery","minXLessThanMaxX","COLUMN_MIN_Z","COLUMN_MAX_Z","COLUMN_MIN_M","COLUMN_MAX_M","COLUMN_GEOM_ID","tableNameArr","COLUMN_TABLE_NAME_FIELD","TableIndexDao","COLUMN_LAST_INDEXED","EXTENSION_Metadata_DEFINITION","MetadataDao","EXTENSION_Metadata_AUTHOR","EXTENSION_Metadata_NAME_NO_AUTHOR","deleteGeometryIndex","deleteTileScaling","deleteFeatureStyle","deleteContentsId","deleteGeometryIndexExtension","deleteTileScalingExtension","deleteFeatureStyleExtension","deleteContentsIdExtension","copyContentsId","copyFeatureStyle","copyTileScaling","copyGeometryIndex","tileScalingDao","TileScalingExtension","tileTableScaling","TileScalingDao","featureStyleExtension","getFeatureStyleExtension","deleteRelationships","hasRelationship","contentsIdExtension","getContentsId","newContentsId","hasTableStyleRelationship","copyFeatureTableStyle","FeatureStyleExtension","TABLE_MAPPING_TABLE_STYLE","hasTableIconRelationship","TABLE_MAPPING_TABLE_ICON","mappingTablePrefix","getMappingTableName","mappingTableTableMapping","baseIdColumn","UserMappingTable","COLUMN_BASE_ID","synonyms","DublinCoreMetadata","getValueWithColumnName","setValue","setValueWithColumnName","DublinCoreType","DATE","DESCRIPTION","FORMAT","IDENTIFIER","SOURCE","TITLE","ExtendedRelation","base_table_name","base_primary_column","related_table_name","relation_name","related_primary_column","getBaseTables","baseTables","baseTableColumns","getRelatedTables","relatedTables","relatedTableColumns","baseTable","COLUMN_BASE_TABLE_NAME","relation","getRelatedTableRelations","relatedTable","COLUMN_RELATED_TABLE_NAME","getBaseTableRelationsWithName","COLUMN_RELATION_NAME","getTableRelations","getRelations","baseTableName","relatedTableName","COLUMN_MAPPING_TABLE_NAME","queryByMappingTableName","BASE_PRIMARY_COLUMN","COLUMN_BASE_PRIMARY_COLUMN","RELATED_TABLE_NAME","RELATED_PRIMARY_COLUMN","COLUMN_RELATED_PRIMARY_COLUMN","RELATION_NAME","EXTENSION_RELATED_TABLES_DEFINITION","getOrCreateMappingTable","userRelatedTable","getUserDao","UserCustomDao","getMappingDao","UserMappingDao","getRelationships","hasRelations","relations","getRelatedRows","baseId","relationships","mappingRows","getMappingRowsForBase","userDao","RelationType","MEDIA","MediaDao","FeatureDao","TileDao","SIMPLE_ATTRIBUTES","SimpleAttributesDao","mappingRow","relatedId","getRelationshipBuilder","RelationshipBuilder","addRelationship","relationship","userMappingTable","relationType","relationName","relationAuthor","buildRelationName","createRelatedTable","getPrimaryKeyColumnName","validateRelationship","createUserMappingTable","mappingTableRelations","getPkColumn","addFeaturesRelationship","addTilesRelationship","addAttributesRelationship","addSimpleAttributesRelationship","addMediaRelationship","removeRelationship","tablesToDelete","relationsToDelete","userMappingTableOrName","umt","tableCreator","refreshed","getMappingsForBase","mappingDao","queryByBaseId","relatedIds","getUserMappingRow","getMappingsForRelated","queryByRelatedId","baseIds","getMediaDao","MediaTable","requiredColumns","getSimpleAttributesDao","SimpleAttributesTable","TABLE_TYPE","OptionBuilder","removeRelationshipsWithMappingTable","mappingTable","EXTENSION_RELATED_TABLES_AUTHOR","MediaRow","mediaTable","ImageUtils","getImage","getScaledDataImage","getScaledImage","contentTypeColumn","RELATION_TYPE","COLUMN_DATA","COLUMN_CONTENT_TYPE","additionalColumns","createRequiredColumns","numRequiredColumns","startingIndex","createIdColumn","createDataColumn","createContentTypeColumn","UserRelatedTable","SimpleAttributesRow","getRows","simpleAttributesRows","simpleAttributesTable","validateColumns","isSimple","isSimpleDataType","userCustomDao","createMappingTable","UserMappingRow","COLUMN_RELATED_ID","queryByIds","uniqueRelatedIds","countByIds","deleteByBaseId","deleteByRelatedId","deleteByIds","whereParams","relatedIdColumn","allColumns","createBaseIdColumn","createRelatedIdColumn","UserCustomTable","EXTENSION_RTREE_INDEX_AUTHOR","EXTENSION_RTREE_INDEX_NAME_NO_AUTHOR","EXTENSION_RTREE_INDEX_DEFINITION","primaryKeyColumn","extensionExists","createAllFunctions","geometryColumnName","createRTreeIndex","loadRTreeIndex","createAllTriggers","safeProgress","totalCount","layer","insertTrigger","update1Trigger","update2Trigger","update3Trigger","update4Trigger","deleteTrigger","createMinXFunction","createMaxXFunction","createMinYFunction","createMaxYFunction","createIsEmptyFunction","GeometryData","empty","deleteTableAndColumn","dropTableAndColumn","dropByFeatureTable","featureTable","dropAllTriggers","dropRTreeIndex","dropRTreeIndexByFeatureTable","dropTriggersByFeatureTable","dropTriggers","dropped","dropAllTriggersByFeatureTable","dropInsertTrigger","dropUpdate1Trigger","dropUpdate2Trigger","dropUpdate3Trigger","dropUpdate4Trigger","dropDeleteTrigger","dropTrigger","TRIGGER_INSERT_NAME","TRIGGER_UPDATE1_NAME","TRIGGER_UPDATE2_NAME","TRIGGER_UPDATE3_NAME","TRIGGER_UPDATE4_NAME","TRIGGER_DELETE_NAME","triggerName","tileScaling","isZoomIn","zoom_in","scaling_type","TileScalingType","OUT","isZoomOut","zoom_out","IN","TileScaling","COLUMN_SCALING_TYPE","COLUMN_ZOOM_IN","COLUMN_ZOOM_OUT","EXTENSION_SCHEMA_DEFINITION","EXTENSION_SCHEMA_AUTHOR","EXTENSION_SCHEMA_NAME_NO_AUTHOR","styleRow","iconRow","hasStyle","hasIcon","useIcon","isTableIcon","isTableStyle","FeatureStyle","FeatureStyles","icons","tableNameOrTable","FeatureTable","cachedTableFeatureStyles","createRelationships","createStyleRelationship","hasStyleRelationship","createTableStyleRelationship","createIconRelationship","hasIconRelationship","createTableIconRelationship","deleteStyleRelationship","deleteTableStyleRelationship","deleteIconRelationship","deleteTableIconRelationship","getStyleMappingDao","getTableStyleMappingDao","getIconMappingDao","getTableIconMappingDao","getStyleDao","getIconDao","getTableFeatureStyles","getTableStyles","getCachedTableStyles","Styles","getTableStyle","geometryType","getTableStyleDefault","getTableIcons","getCachedTableIcons","Icons","getTableIcon","getTableIconDefault","getFeatureStylesForFeatureRow","featureRow","getFeatureStyles","getFeatureStyleForFeatureRow","getFeatureStyleForFeatureRowAndGeometryType","getFeatureStyle","getFeatureStyleDefaultForFeatureRow","featureStyle","getStyle","icon","getIcon","getFeatureStyleDefault","getStylesForFeatureRow","getStylesForFeatureId","getStyleForFeatureRow","getStyleForFeatureRowAndGeometryType","getStyleDefaultForFeatureRow","getStyleDefault","getIconsForFeatureRow","getIconsForFeatureId","getIconForFeatureRow","getIconForFeatureRowAndGeometryType","getIconDefaultForFeatureRow","getIconDefault","setTableFeatureStyles","featureStyles","clearCachedTableFeatureStyles","setTableStyles","clearCachedTableStyles","setTableStyleDefault","setTableStyle","setTableIcons","clearCachedTableIcons","setTableIconDefault","setTableIcon","setFeatureStylesForFeatureRow","setFeatureStyles","setFeatureStyleForFeatureRow","setFeatureStyleForFeatureRowAndGeometryType","setFeatureStyleDefaultForFeatureRow","setFeatureStyle","setFeatureStyleDefault","setStylesForFeatureRow","setStyles","setStyleForFeatureRow","setStyleForFeatureRowAndGeometryType","setStyleDefaultForFeatureRow","setStyleDefault","setIconsForFeatureRow","setIcons","setIconForFeatureRow","setIconForFeatureRowAndGeometryType","setIconDefaultForFeatureRow","setIcon","setIconDefault","deleteAllFeatureStyles","deleteAllStyles","deleteAllIcons","deleteTableFeatureStyles","deleteTableStyles","deleteTableStyleDefault","deleteTableStyle","deleteTableIcons","deleteTableIconDefault","deleteTableIcon","deleteFeatureStyles","deleteStyles","deleteStylesForFeatureRow","deleteStylesForFeatureId","deleteStyleDefaultForFeatureRow","deleteStyleDefault","deleteStyleForFeatureRow","deleteStyleForFeatureRowAndGeometryType","deleteStyle","deleteStyleAndMappingsByStyleRow","deleteStyleAndMappingsByStyleRowId","styleRowId","deleteIcons","deleteIconsForFeatureRow","deleteIconsForFeatureId","deleteIconDefaultForFeatureRow","deleteIconDefault","deleteIconForFeatureRow","deleteIconForFeatureRowAndGeometryType","deleteIcon","deleteIconAndMappingsByIconRow","deleteIconAndMappingsByIconRowId","iconRowId","getAllTableStyleIds","getAllTableIconIds","getAllStyleIds","getAllIconIds","FeatureTableStyles","cacheSize","IconCache","DEFAULT_CACHE_SIZE","iconCache","accessHistory","getIconForIconRow","putIconForIconRow","previous","iconId","iconToDelete","removeIconForIconRow","removed","resize","maxSize","numberToRemove","indexToRemove","createIcon","createAndCacheIcon","createScaledIcon","createAndCacheScaledIcon","createIconNoCache","createScaledIconNoCache","iconImage","dataWidth","dataHeight","iconWidth","iconHeight","IconRow","IconDao","iconTable","tableIcon","getNameColumn","getDescriptionColumn","descriptionColumn","getWidthColumn","widthColumn","derivedDimensions","getHeightColumn","heightColumn","getAnchorUColumn","anchorUColumn","anchorU","validateAnchor","getAnchorVColumn","anchorVColumn","anchorV","anchor","getNameColumnIndex","getColumnIndex","IconTable","getDescriptionColumnIndex","getWidthColumnIndex","COLUMN_WIDTH","getHeightColumnIndex","COLUMN_HEIGHT","getAnchorUColumnIndex","COLUMN_ANCHOR_U","getAnchorVColumnIndex","COLUMN_ANCHOR_V","createColumns","REAL","tableIcons","defaultIcon","setDefault","getDefault","getGeometryTypes","getFeatureTableName","styleRelationship","tableStyleRelationship","iconRelationship","tableIconRelationship","_createStyleRelationship","TABLE_MAPPING_STYLE","StyleTable","_hasStyleRelationship","TABLE_MAPPING_ICON","tablePrefix","_handleCreateStyleRelationship","setBaseTableName","setUserMappingTable","StyleMappingTable","setRelatedTable","deleteAllRelationships","styleRelationships","tableStyleRelationships","_deleteStyleRelationship","_getMappingDao","StyleMappingDao","styleDao","StyleTableReader","StyleDao","iconDao","getStyles","getIcons","styleMappingRows","styleMappingRow","getGeometryTypeName","tableStyles","tableStyle","styleIdList","styleDefault","featureContentsId","styleId","getOrInsertStyle","insertStyleMapping","iconDefault","iconIdList","getOrInsertIcon","deletedStyles","deletedIcons","styleIds","hasId","setGeometryTypeName","deleteTableMappings","deleteTableMapping","deleteByBaseIdAndGeometryType","deleteMappings","deleteMappingsForFeatureId","deleteMapping","rowsDeleted","styleMappingDao","tableStyleMappingDao","iconMappingDao","tableIconMappingDao","StyleRow","styleMappingTable","StyleMappingRow","COLUMN_GEOMETRY_TYPE_NAME","getGeometryTypeNameColumn","geometryTypeName","getGeometryTypeNameColumnIndex","styleTable","setName","getDescription","setDescription","getColorColumn","createColor","getHexColor","getOpacity","hasColor","_hasColor","opacity","setHexColor","setOpacity","validatedColor","validateColor","getOpacityColumn","getOpacityOrDefault","validateOpacity","getWidth","setWidth","getWidthOrDefault","getFillColorColumn","getFillColor","getFillHexColor","getFillOpacity","hasFillColor","setFillColor","setFillHexColor","setFillOpacity","getFillOpacityColumn","fillOpacity","getFillOpacityOrDefault","validated","colorPattern","hexColor","getColorColumnIndex","COLUMN_COLOR","getOpacityColumnIndex","COLUMN_OPACITY","getFillColorColumnIndex","COLUMN_FILL_COLOR","getFillOpacityColumnIndex","COLUMN_FILL_OPACITY","defaultStyle","WebPExtension","EXTENSION_WEBP_DEFINITION","EXTENSION_WEBP_AUTHOR","EXTENSION_WEBP_NAME_NO_AUTHOR","geometry_type_name","GEOMETRY_TYPE_NAME","SRS_ID","GeometryColumns","COLUMN_ID_1","COLUMN_ID_2","COLUMN_Z","COLUMN_M","getFeatureTables","projectionObject","getTypeName","FeatureColumn","createGeometryColumn","getGeometryTypeFromTableColumn","isGeometry","getGeometryType","geometryColumn","FeatureColumns","missingCheck","setGeometryColumnName","getGeometryIndex","setGeometryIndex","hasGeometryColumn","getGeometryColumn","getColumnForIndex","metadataDao","featureTableIndex","getFeatureTable","FeatureRow","countWebMercatorBoundingBox","countInBoundingBox","EPSG_3857","fastQueryWebMercatorBoundingBox","nextRow","queryIndexedFeaturesWithWebMercatorBoundingBox","thisGetRow","projectedBoundingBox","reporjectedGeometry","reprojectFeature","verifyFeature","fastQueryBoundingBox","thisgetRow","queryIndexedFeaturesWithBoundingBox","queryForGeoJSONIndexedFeaturesWithBoundingBox","skipVerification","columnMap","displayName","geoJson","getBoundingBox","verifyLineString","verifyPolygon","verifyMultiPoint","verifyGeometryCollection","multiPointIntersects","boundsGeometry","geometryCollectionIntersects","childGeometry","getFeatureDao","getGeometryColumnIndex","getValueWithIndex","geometryData","setValueWithIndex","toObjectValue","getColumnWithIndex","toData","getIdAndGeometryColumnNames","getPkColumnName","validateContents","tableNameOrGeometryColumns","readFeatureTable","gcd","FeatureTableReader","loadSpatialReferenceSystemsIntoProj4","spatialReferenceSystem","loadProjection","validateMinimumTables","_spatialReferenceSystemDao","_contentsDao","_tileMatrixSetDao","_tileMatrixDao","_dataColumnsDao","_extensionDao","_tableIndexDao","_geometryColumnsDao","_dataColumnConstraintsDao","_metadataReferenceDao","_metadataDao","_extendedRelationDao","_contentsIdDao","_tileScalingDao","_contentsIdExtension","_featureStyleExtension","getTileScalingExtension","_relatedTablesExtension","getTileDao","TileMatrixSet","tms","COLUMN_ZOOM_LEVEL","COLUMN_PIXEL_X_SIZE","COLUMN_PIXEL_Y_SIZE","tm","hasTiles","tileTable","TileTableReader","readTileTable","fullInformation","tiles","getTileTables","getAttributesTables","hasAttributeTable","attributeTableName","hasTileTable","tileTableName","hasFeatureTable","featureTableName","getTableContents","deleteTableQuietly","indexFeatureTable","fti","queryForGeoJSONFeaturesInTable","createGeometryColumnsTable","createAttributesTableFromProperties","attributeColumns","columnNumber","createAttributesTable","findIndex","NO_INDEX","createMediaTable","linkMedia","mediaTableName","mediaId","linkRelatedRows","mappingColumnValues","rte","setRelatedTableName","setRelationType","setMappingTableName","userMappingDao","userMappingRow","getLinkedMedia","mediaRelationships","addGeoJSONFeaturesToGeoPackage","batchSize","inserted","emptyPoint","Geometry","reprojectionNeeded","progressFunction","featuresAdded","insertSql","stepFunction","insertStatement","setSrsId","featureGeometry","propertyKey","setGeometry","parseGeoJSON","addGeoJSONFeatureToGeoPackage","addGeoJSONFeatureToGeoPackageWithFeatureDaoAndSrs","addAttributeRow","attributeDao","attributeRow","createSimpleAttributesTable","addMedia","dataBuffer","additionalProperties","mediaDao","createUserFeatureTable","createFeatureTableFromProperties","GEOMETRY","createFeatureTable","featureColumns","createTileMatrixSetTable","createTileMatrixTable","createTileTable","createTileTableWithTableName","contentsBoundingBox","contentsSrsId","tileMatrixSetBoundingBox","tileMatrixSetSrsId","TileTable","createStandardWGS84TileTable","minZoom","maxZoom","tileSize","wgs84SrsId","createStandardWGS84TileMatrix","wgs84BoundingBox","zoom","createWGS84TileMatrixRow","createStandardWebMercatorTileTable","webMercator","webMercatorSrsId","createStandardWebMercatorTileMatrix","createStandardWebMercatorTileTableWithZoomLevels","zoomLevels","createStandardWebMercatorTileMatrixWithZoomLevels","epsg3857TileBoundingBox","createTileMatrixRow","zoomLevel","epsg4326TileBoundingBox","TileBoundingBoxUtils","wgs84TileBox","matrixWidth","matrixHeight","TileMatrix","matrix_width","matrix_height","webMercatorTileBox","addTile","tileStream","tileRow","tileColumn","tileDao","tileData","getTileFromTable","queryForTile","getTilesInBoundingBox","west","east","north","getTileMatrixWithZoomLevel","mapBoundingBox","getTileGridWithTotalBoundingBox","queryByTileGrid","tile","tileBB","getTileBoundingBox","getTilesInBoundingBoxWebZoom","webZoom","minWebMapZoom","maxWebMapZoom","webZoomToGeoPackageZoom","getFeatureTileFromXYZ","FeatureTiles","drawTile","getClosestFeatureInXYZTile","tileCount","getFeatureCountXYZ","getWebMercatorBoundingBoxFromXYZ","feature_count","coverage","gp_table","gp_name","closest","closestDistance","centerPoint","determineDistance","determineDistanceFromLine","lineStringCoordinate","determineDistanceFromPolygon","createDataColumnConstraintsTable","dataColumnConstraintsDao","createMetadataTable","createMetadataReferenceTable","createExtensionTable","createTableIndexTable","createGeometryIndexTable","createStyleMappingTable","createDataColumnMap","dcd","iterateGeoJSONFeatures","getFeature","parseFeatureRowIntoGeoJSON","geoJsonGeom","getGeoJSONFeaturesInTile","webMercatorBoundingBox","getFeaturesInBoundingBox","xyzTile","retriever","GeoPackageTileRetriever","setScaling","drawTileIn","getTile","xyzTileScaled","zoomIn","zoomOut","CLOSEST_IN_OUT","projectedTile","minLat","minLon","maxLat","maxLon","getTileWithWgs84BoundsInProjection","getInfoForTable","tableDao","getCount","contentsSrs","addProjection","hasProjection","tableDataType","getTableDataType","copyTableAndExtensions","copyTableNoExtensions","copyTableAsEmpty","copyAttributeTable","copyFeatureTable","copyTileTable","copyUserTable","copyContents","GEOPACKAGE_EXTENSION","GEOPACKAGE_EXTENDED_EXTENSION","GEOPACKAGE_EXTENSION_AUTHOR","GEOMETRY_EXTENSION_PREFIX","GEOPACKAGE_GEOMETRY_MAGIC_NUMBER","GEOPACKAGE_GEOMETRY_VERSION_1","SQLITE_HEADER_PREFIX","Envelope","wkbGeometry","byteOrder","BIG_ENDIAN","fromData","setEnvelope","bufferOrArray","magicString","envelopeIndicator","readFlags","envelopeAndOffset","readEnvelope","wkbBuffer","geometryError","buildFlagsByte","concatArray","writeEnvelope","toWkb","writeDoubleMethod","envelopeBuffer","flag","extended","getIndicatorWithEnvelope","indicator","flagsInt","reserved7","reserved6","binaryType","emptyValue","byteOrderValue","readDoubleMethod","reads","LITTLE_ENDIAN","getScopeInformation","Metadata","UNDEFINED","FIELD_SESSION","COLLECTION_SESSION","SERIES","DATASET","FEATURE_TYPE","FEATURE","ATTRIBUTE_TYPE","ATTRIBUTE","TILE","MODEL","CATALOG","SCHEMA","TAXONOMY","SOFTWARE","SERVICE","COLLECTION_HARDWARE","NON_GEOGRAPHIC_DATASET","DIMENSION_GROUP","md_scope","md_standard_uri","COLUMN_MD_SCOPE","COLUMN_MD_STANDARD_URI","COLUMN_METADATA","setMetadata","md_file_id","setParentMetadata","md_parent_id","setReferenceScopeType","referenceScopeType","reference_scope","MetadataReference","GEOPACKAGE","row_id_value","ROW","COLUMN","ROW_COL","COLUMN_MD_FILE_ID","COLUMN_MD_PARENT_ID","mr","removeMetadataParent","parentId","queryByMetadataAndParent","fileId","columnValues","queryByMetadata","queryByMetadataParent","COLUMN_REFERENCE_SCOPE","COLUMN_ROW_ID","COLUMN_TIMESTAMP","optionList","optionBuilder","option","param","loadProjections","items","convertCoordinates","epsgId","EPSG_PREFIX","getWebMercatorToWGS84Converter","converterA","converterB","getConverterFromConverters","EPSG_CODE_900913","EPSG_CODE_102113","EPSG_900913","EPSG_102113","WEB_MERCATOR_HALF_WORLD_WIDTH","WGS84_HALF_WORLD_LON_WIDTH","WGS84_HALF_WORLD_LAT_HEIGHT","pixelsAdded","chunks","sameProjection","creator","TileCreator","tileCanvas","tileContext","addPixel","targetX","targetY","sourceX","sourceY","gridColumn","gridRow","projectTile","sx","sy","sWidth","sHeight","dWidth","dHeight","cutAndScale","determinePositionAndScale","xPositionInFinalTileStart","yPositionInFinalTileStart","Worker","getPiecePosition","worker","work","tileHeight","tileWidth","getCompleteTile","cleanup","CustomFeaturesTile","compressFormat","tileBorderStrokeWidth","tileBorderColor","tileFillColor","drawUnindexedTiles","textSize","textFont","textColor","circleStrokeWidth","circleBorderColor","circleFillColor","circlePaddingPercentage","defaultFontRegistered","getTextSize","setTextSize","getTextColor","setTextColor","getCircleStrokeWidth","setCircleStrokeWidth","getCircleColor","setCircleColor","getCircleFillColor","setCircleFillColor","getCirclePaddingPercentage","setCirclePaddingPercentage","getTileBorderStrokeWidth","setTileBorderStrokeWidth","getTileBorderColor","setTileBorderColor","getTileFillColor","setTileFillColor","isDrawUnindexedTiles","setDrawUnindexedTiles","getCompressFormat","setCompressFormat","drawUnindexedTile","strokeStyle","textHeight","centerX","centerY","diameter","NumberFeaturesTile","ShadedFeaturesTile","FeatureDrawType","CIRCLE","STROKE","FILL","featurePaints","getPaint","featureDrawType","setPaint","FeaturePaint","FeaturePaintCache","DEFAULT_STYLE_PAINT_CACHE_SIZE","paintCache","getFeaturePaintForStyleRow","getFeaturePaint","featurePaint","getPaintForStyleRow","setPaintForStyleRow","GeometryCache","DEFAULT_GEOMETRY_CACHE_SIZE","geometryCache","getGeometryForFeatureRow","getGeometry","featureRowId","webMercatorProjection","simplifyGeometries","simplifyToleranceInPixels","pointRadius","pointPaint","pointIcon","linePaint","_lineStrokeWidth","polygonPaint","_polygonStrokeWidth","fillPolygon","polygonFillPaint","featurePaintCache","cacheGeometries","_scale","maxFeaturesPerTile","maxFeaturesTileDraw","strokeWidth","featureTableStyles","calculateDrawOverlap","clearIconCache","pixels","widthDrawOverlap","heightDrawOverlap","widthOverlap","heightOverlap","ignoreFeatureTableStyles","clearCache","clearStylePaintCache","lineStrokeWidth","polygonStrokeWidth","getHeight","lineHalfStroke","polygonHalfStroke","tableStyleIds","styleHalfWidth","tableIconIds","iconIds","iconDimensions","getPointPaint","getFeatureStylePaint","getLinePaint","getPolygonPaint","getPolygonFillPaint","hasStyleColor","getStylePaint","drawType","stylePaint","pointColor","lineColor","polygonColor","polygonFillColor","expandBoundingBox","draw3857Tile","drawTileQueryIndex","drawTileQueryAll","draw4326Tile","tileProjection","getWGS84BoundingBoxFromXYZ","drawTileWithBoundingBox","getTransformFunction","targetProjection","coordinate","expandedBoundingBox","featureCount","drawGeometry","getIdColumn","drawPoint","getXPixel","getYPixel","iconX","anchorUOrDefault","iconY","anchorVOrDefault","getXOffset","getYOffset","circleX","circleY","colorRGBA","simplifyPoints","coordinatesArray","isPolygon","getPath","transformedCoordinate","simplifiedLineString","drawLine","drawPolygon","externalRing","internalRings","fillPaint","converted","getLongitudeFromPixel","getLatitudeFromPixel","_color","_strokeWidth","scaledImage","ZOOM_LEVEL","MATRIX_WIDTH","MATRIX_HEIGHT","TILE_WIDTH","TILE_HEIGHT","PIXEL_X_SIZE","PIXEL_Y_SIZE","COLUMN_MATRIX_WIDTH","COLUMN_MATRIX_HEIGHT","COLUMN_TILE_WIDTH","COLUMN_TILE_HEIGHT","TileColumn","MIN_X","MIN_Y","MAX_X","MAX_Y","columnToPropertyMap","adjustTileMatrixLengths","scaling","getWebMercatorBoundingBox","setWebMercatorBoundingBox","hasTile","tilesBoundingBox","hasTileForBoundingBox","getTileMatrices","tileGrid","countByTileGrid","getTileWithBounds","getWebMercatorTile","getTileWithWgs84Bounds","targetBoundingBox","targetProjectionDefinition","tileFound","retrieveTileResults","overlap","getFloatRoundedRectangle","isValid","tileMatrixProjectionBoundingBox","projectedRequestBoundingBox","requestZoomLevel","distanceWidth","distanceHeight","getApproximateZoomLevelForWidthAndHeight","getZoomLevelForWidthAndHeight","zoomInLevels","zoomOutLevels","IN_OUT","OUT_IN","CLOSEST_OUT_IN","firstLevels","secondLevels","maxLevels","tilesPerSide","tilesPerSideWithZoom","tileSizeWithTilesPerSide","minLonClip","maxLonClip","minLatClip","maxLatClip","tilesPerSideLat","tilesPerWGS84LatSide","tilesPerSideLon","tilesPerWGS84LonSide","tileSizeLat","tileSizeLatPerWGS84Side","tileSizeLon","tileSizeLonPerWGS84Side","geoPackageTileBoundingBox","totalBoundingBox","totalHeight","totalWidth","finalTileWidth","xpercentageMin","finalTileHeight","ypercentageMax","finalTilePixelsPerUnitWidth","widthInFinalTileUnits","finalTilePixelsPerUnitHeight","heightInFinalTileUnits","meterBuffer","pixelBuffer","tilesPerLat","tilesPerLon","boundingBoxA","boundingBoxB","minColumn","getTileColumnWithTotalBoundingBox","maxColumn","maxRow","getRowWithTotalBoundingBox","minRow","TileGrid","webMercatorTotalBox","tileMatrixWidth","tileMatrixHeight","matrixMinX","matrixMinY","matrixMaxY","getTileGridBoundingBox","matrixSetBoundingBox","pixel","zoomLevelOfTileSize","tileWidthDegrees","statictileHeightDegrees","tileSizeWithZoom","toleranceDistance","toleranceDistanceWidthAndHeight","pixelWidth","pixelHeight","boundingBoxSection","createZoomLevelColumn","createTileColumnColumn","COLUMN_TILE_COLUMN","createTileRowColumn","COLUMN_TILE_ROW","createTileDataColumn","COLUMN_TILE_DATA","zoomLevelIndex","tileColumnIndex","tileRowIndex","tileDataIndex","tileColumns","TileColumns","_tableName","_custom","typeCheck","TILE_COLUMN","TILE_ROW","TILE_DATA","getZoomLevelIndex","setZoomLevelIndex","hasZoomLevelColumn","getZoomLevelColumn","getTileColumnIndex","setTileColumnIndex","hasTileColumnColumn","getTileColumnColumn","getTileRowIndex","setTileRowIndex","hasTileRowColumn","getTileRowColumn","getTileDataIndex","setTileDataIndex","hasTileDataColumn","getTileDataColumn","zoomLevelToTileMatrix","widths","heights","proj4Projection","setWebMapZoomLevels","determineGeoPackageZoomLevel","webZoomToGeoPackageZooms","totalTileWidth","totalTileHeight","singleTileWidth","singleTileHeight","tileBox","log2","getBoundingBoxWithZoomLevel","queryForTileGridWithZoomLevel","getTileGridWithZoomLevel","TileRow","tempMatrixWidth","tempMatrixHeight","getZoomLevelForLength","TileDaoUtils","getClosestZoomLevelForLength","getClosestZoomLevelForWidthAndHeight","getApproximateZoomLevelForLength","getMaxLength","getMaxLengthForTileWidthsAndHeights","getMinLength","getMinLengthForTileWidthsAndHeights","rawRow","queryForTilesWithZoomLevel","queryForTilesDescending","queryForTilesInColumn","queryForTilesInRow","deleteTile","dropResult","oldName","tileMatrixUpdate","tileMatrixWhere","_getZoomLevelForLength","_getZoomLevelForWidthAndHeight","lengthChecks","widthIndex","heightIndex","closerToZoomIn","getTileMatrixAtLengthIndex","lengths","lengthIndex","widthZoomLevel","getApproximateZoomLevel","heightZoomLevel","lengthZoomLevel","minLength","maxLength","levelsIn","zoomAbove","zoomBelow","lengthAbove","lengthBelow","levelsOut","zoomDistance","zoomLevelAbove","maxWidth","maxHeight","getZoomLevelColumnIndex","zoomLevelColumn","zoomLevelColumnIndex","getTileColumnColumnIndex","tileColumnColumn","getTileRowColumnIndex","rowColumn","getTileDataColumnIndex","tileDataColumn","uniqueConstraint","createUserColumns","UserCustomColumn","UserCustomColumns","getRequiredColumns","setRequiredColumns","columnIndex","previousIndex","duplicateCheck","requiredColumn","validateMax","addDefaultConstraints","validateDataType","userColumnCopy","setIndex","hasIndex","resetIndex","isNamed","setMax","setNotNull","addNotNullConstraint","removeConstraintByType","setDefaultValue","addDefaultValueConstraint","setPrimaryKey","addPrimaryKeyConstraint","setAutoincrement","addAutoincrementConstraint","isAutoincrement","setUnique","addUniqueConstraint","isUnique","setDataType","setConstraintOrder","PRIMARY_KEY_CONSTRAINT_ORDER","UNIQUE_CONSTRAINT_ORDER","NOT_NULL_CONSTRAINT_ORDER","DEFAULT_VALUE_CONSTRAINT_ORDER","AUTOINCREMENT_CONSTRAINT_ORDER","addConstraintSql","DEFAULT_PK_NOT_NULL","_pkIndex","_nameToIndex","_columnNames","lowerCaseColumnName","getColumnIndexForColumnName","required","getColumnName","columnCount","setCustom","hasPkColumn","getPkColumnIndex","columnsOfType","renameColumnWithName","renameColumnWithIndex","dropColumnWithIndex","setValueInObject","setValueNoValidationWithIndex","getColumnCount","linkRelatedRow","userRow","relatedRow","linkFeatureRow","linkMediaRow","mediaRow","linkSimpleAttributesRow","simpleAttributesRow","mediaRelations","linkedMedia","mediaRelation","mappings","related_id","getLinkedSimpleAttributes","simpleRelations","simpleAttributesRelations","linkedSimpleAttributes","simpleRelation","simpleDao","getLinkedFeatures","featureRelations","linkedFeatures","featureRelation","getRelationsWithName","getColumnNameWithIndex","dropColumnNames","dropColumnIndexes","getColumnIndexWithColumnName","getRowColumnTypeWithColumnName","objectValue","getRowColumnTypeWithIndex","pkColumn","pkColumnIndex","DATETIME","hasIdColumn","resetId","userTableCopy","getIdColumnIndex","getConstraintsByType","renameColumnAtIndex","columnList","fatal","GeoPackageValidationError","hasGeoPackageExtension","srsExists","contentsExists","hasMinimumTables","WKB","typeMap","wkb","GeometryCollection","wktToEnum","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon","punycode","maxInt","tMin","tMax","skew","damp","initialBias","initialN","regexPunycode","regexNonASCII","regexSeparators","baseMinusTMin","stringFromCharCode","mapDomain","ucs2decode","extra","counter","ucs2encode","digitToBasic","digit","adapt","delta","numPoints","firstTime","basic","oldi","baseMinusT","inputLength","bias","handledCPCount","basicLength","currentValue","handledCPCountPlusOne","qMinusT","Url","slashes","pathname","urlParse","resolveObject","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","querystring","parseQueryString","slashesDenoteHost","queryIndex","splitter","uSplit","rest","simplePath","lowerProto","atSign","hostEnd","hec","parseHost","ipv6Hostname","hostparts","newpart","validParts","notHost","bit","toASCII","esc","escape","qm","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","authInHost","hasTrailingSlash","config","localStorage","bundleFn","sources","wkey","cacheKeys","wcache","skey","scache","workerSources","resolveSources","depPath","depKey","webkitURL","mozURL","msURL","bare","workerUrl","objectURL","BinaryReader","readLE","readBE","readUInt16","readUInt32","readInt16","readInt32","readFloat","readDouble","readVarInt","nextByte","BinaryWriter","allowResize","ensureSize","writeBuffer","writeVarInt","tempBuffer","Types","WktParser","ZigZag","srid","_parseWkt","_parseWkb","wktParser","matchRegex","matchType","dimension","matchDimension","parentOptions","binaryReader","wkbType","hasSrid","isEwkb","parseTwkb","metadataHeader","precisionFactor","hasBoundingBox","hasSizeAttribute","hasIdList","hasExtendedPrecision","extendedPrecision","zPrecision","zPrecisionFactor","mPrecision","mPrecisionFactor","_parseTwkb","_parseGeoJSON","isSubGeometry","geoJSON","toEwkt","toWkt","toEwkb","ewkb","_getWkbSize","_getWktType","wktType","_getWktCoordinate","_writeWkbType","dimensionType","getTwkbPrecision","xyPrecision","xyFactor","zFactor","mFactor","_writeTwkbHeader","twkb","shortCrs","longCrs","ZM","isMatch","expectGroupStart","expectGroupEnd","geometryCount","toTwkb","matchCoordinates","pointCount","_readWkbPoint","previousPoint","_readTwkbPoint","_readGeoJSONPoint","_toInnerWkt","innerWkt","_writeWkbPoint","_writeTwkbPoint","coordinateSize","lineStringCount","polygonCount","ringCount","exteriorRingCount","interiorRing","interiorRingCount","matchCoordinate","tokens","skipWhitespaces","startsWithBracket","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","getter","globalThis","nmd","paths"],"sourceRoot":""}